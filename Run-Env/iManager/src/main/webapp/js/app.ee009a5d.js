(function(){var t={68481:function(t,e,a){"use strict";a.d(e,{Z:function(){return f}});var i=function(){var t=this,e=t._self._c;return t.isDataLoaded?e("router-view"):t._e()},s=[],n=(a(57658),a(3032)),o=a(75682),r=a.n(o),l=a(31823),d=a.n(l),c=a(63822),p=a(37662),h={name:"App",data(){return{isDataLoaded:!1,userInfoReq:new p.p0("/api/page/portal"),messageReq:new p.p0("/api/page/messages"),setInfoReq:new p.p0("/api/page/config"),titleReq:new p.p0("/api/page/title")}},computed:{...(0,c.rn)(["constantsInfo","userInfo","regExpList","isTools","windowId","modalCloseKeyCode"])},beforeCreate(){n.ZP.config.productionTip=!1,n.ZP.config.devtools=!1,r().setLanguage("ko",{display:{noData:this.$t("igate.noData")}}),r().applyTheme("clean",{row:{hover:{background:"#f5f6fb"}}});const t=navigator.userAgent.toLowerCase();if(("Netscape"==navigator.appName&&-1!=t.indexOf("trident")||-1!=t.indexOf("msie"))&&(document.createTreeWalker=()=>({nextNode(){return!1}})),$.ajaxSetup({type:"POST",xhrFields:{withCredentials:!0},beforeSend:function(t){t.setRequestHeader("Authorization",localStorage.getItem("accessToken")),t.setRequestHeader("X-iManager-Method","GET")}}),"function"!==typeof window.CustomEvent){const t=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};const a=document.createEvent("CustomEvent");return a.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),a};t.prototype=window.Event.prototype,window.CustomEvent=t}window.validateOpenNewTabUrl=p.DZ,window.openNewTab=p.RB},async created(){this.isDataLoaded=!1;const t=await this.titleReq.read();if(document.title=(0,p.Xv)(t.data.object),(await(0,p.Rp)()).result)if(this.userInfo)localStorage.setItem("motionTime",Date.now()),this.initWindowEvt(),await this.initMessage(),await this.initSettingInfo(),this.isDataLoaded=!0,this.$router.push({name:sessionStorage.getItem("externalMenuUrl")?"layoutExternal":"layout"}).catch((()=>{}));else{const t=await this.userInfoReq.read({withPrivilege:!0});if("ok"===t.data.result){localStorage.setItem("motionTime",Date.now()),this.initWindowEvt(),await this.initMessage(),await this.initSettingInfo();const e=t.data.object.user,a=e.totalUserPrivileges;0<a.filter((t=>t.admin)).length&&(a.find((t=>"UserViewer"===t.privilegeId))||a.push({admin:!1,member:!0,privilegeDesc:"User Viewer",privilegeId:"UserViewer",privilegeType:"S",readOnly:!1,role:!1,roleType:"p",onlyFrontPrivilege:!0}),a.find((t=>"UserEditor"===t.privilegeId))||a.push({admin:!1,member:!0,privilegeDesc:"User Editor",privilegeId:"UserEditor",privilegeType:"S",readOnly:!1,role:!1,roleType:"p",onlyFrontPrivilege:!0})),this.setUserInfo(e),this.setMenuInfo(t.data.object.menu),this.setHomeMenu(t.data.object.home),this.isDataLoaded=!0,this.$router.push({name:sessionStorage.getItem("externalMenuUrl")?"layoutExternal":"layout"}).catch((()=>{}))}else(0,p.kS)(),this.isDataLoaded=!0}else localStorage.getItem("accessToken")?this.$alert({type:"warn",backdropMode:"full",message:this.isTools?this.$t("igate.itools.token.expired"):this.$t("head.validateToken"),callback:async()=>{this.isTools||(p.jF.$emit("ModalDelete"),(0,p.kS)(),this.isDataLoaded=!0)}}):((0,p.kS)(),this.isDataLoaded=!0)},methods:{...(0,c.OI)(["setUserInfo","setHomeMenu","setMenuInfo","setIsOnPopState","setRegExpList","setModalCloseKeyCode","setIsUseTheme","setDetailConstants","setConstantsInfo","setAutoLogoutInterval"]),initWindowEvt(){window.$t=this.$t,window.$t=window.$t.bind(this),window.onresize=t=>{p.dc.$emit("MainResize"),document.body.dispatchEvent(new CustomEvent("resize",{detail:{evt:t}}))},window.onpopstate=t=>{t.state&&t.state.menuId&&(this.setIsOnPopState(!0),document.getElementById(t.state.menuId).click())},window.modalCloseKeyUpEvt=t=>{this.modalCloseKeyCode[0]!==t.keyCode&&this.modalCloseKeyCode[1]!==t.keyCode||this.$nextTick((()=>{document.querySelectorAll(".modal-dialog-alert").forEach((t=>{if("block"!==t.parentElement.style.display)return;const e=t.querySelector("button.btn-primary");e&&(e.click(),p.S9.$emit("ModalKeyup"))}))}))},window!==window.parent&&(window.totalLogout=t=>{"TotalLogout"===t.data&&((0,p.B$)(localStorage,(t=>"ckSaveUserId"===t||"saveUserId"===t||-1<t.indexOf("detailLayoutInfo_"))),(0,p.B$)(sessionStorage))},window.removeEventListener("message",window.totalLogout),window.addEventListener("message",window.totalLogout)),document.body.removeEventListener("keyup",window.modalCloseKeyUpEvt),document.body.addEventListener("keyup",window.modalCloseKeyUpEvt)},async initMessage(){let t=navigator.language||navigator.userLanguage;t=t.toLowerCase(),t=t.substring(0,2),this.$i18n.locale=t;const e=await this.messageReq.read({locale:t});"ok"===e.data.result&&this.$i18n.setLocaleMessage(this.$i18n.locale,d()(this.$i18n.getLocaleMessage(t),e.data.object))},async initSettingInfo(){const t=await this.setInfoReq.read({menuUrl:"/constants"});if("ok"!==t.data.result)return;const e=new Function(`${t.data.object} return constants;`)();if(this.setRegExpList(e.regExpList),this.setModalCloseKeyCode(e.modalCloseKeyCode),this.setIsUseTheme(!!e.isUseTheme),this.setDetailConstants(e.detail),this.setConstantsInfo(e),!this.isTools&&0<e.motionDetectTime){const t=()=>{const t=localStorage.getItem("motionTime");return!(null===t||e.autoLogoutTime<Date.now()-t)||(p.jF.$emit("ModalDelete"),(0,p.kS)(),null!==t&&window.$alert({type:"warn",backdropMode:"full",message:this.$t("head.no.motion.logout.warn")}),!1)},a=localStorage.getItem("refreshToken"),i=()=>{if(Date.now()-s>=e.motionDetectTime){if(!t())return void cancelAnimationFrame(i);if(a!==localStorage.getItem("refreshToken"))return void cancelAnimationFrame(i);s=Date.now()}requestAnimationFrame(i)};let s=Date.now();requestAnimationFrame(i),window.checkMotionEventFunc=()=>{t()&&localStorage.setItem("motionTime",Date.now())},document.body.removeEventListener("keyup",window.checkMotionEventFunc),document.body.removeEventListener("mouseup",window.checkMotionEventFunc),document.body.removeEventListener("mousemove",window.checkMotionEventFunc),document.body.addEventListener("keyup",window.checkMotionEventFunc),document.body.addEventListener("mouseup",window.checkMotionEventFunc),document.body.addEventListener("mousemove",window.checkMotionEventFunc)}e.isUseTheme?localStorage.getItem("theme")&&"moon"===localStorage.getItem("theme")&&document.body.classList.add("moon"):(localStorage.removeItem("theme"),document.body.classList.remove("moon"))}}},u=h,m=a(43736),g=(0,m.Z)(u,i,s,!1,null,null,null),f=g.exports},19286:function(t,e,a){"use strict";a.d(e,{Z:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"sub-bar"},[null!==t.currentCnt&&t.currentCnt!==t.totalCnt&&t.viewer?e("span",{staticStyle:{"margin-right":"5px"}},[t._v(" "+t._s(t.$t("head.currentCount",{0:t.currentCnt}))+" / ")]):t._e(),null!==t.totalCnt&&t.viewer?e("span",[t._v(t._s(t.$t("head.totalCount",{0:t.totalCnt})))]):t._e(),e("div",{staticClass:"ml-auto form-inline m-full"},[t.newTabBtn&&t.viewer&&!t.isTools?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("common.open.new.tab")},on:{click:t.newTab}},[e("i",{staticClass:"icon-info"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("common.open.new.tab")))])]):t._e(),t.refreshBtn&&t.viewer?e("span",[t.isStartRefresh?e("span",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.displayTimerSeconds,expression:"displayTimerSeconds"}],staticClass:"form-control",staticStyle:{"min-width":"0px",width:"80px"},attrs:{type:"text",readonly:"readonly"},domProps:{value:t.displayTimerSeconds},on:{input:function(e){e.target.composing||(t.displayTimerSeconds=e.target.value)}}}),t._v(" "+t._s(t.$t("igate.seconds"))+" ")]):e("span",[e("select",{directives:[{name:"model",rawName:"v-model",value:t.timerSeconds,expression:"timerSeconds"}],staticClass:"form-control",staticStyle:{"min-width":"0px",width:"80px"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.timerSeconds=e.target.multiple?a:a[0]}}},t._l(t.timerSecondsList,(function(a){return e("option",{key:a,domProps:{value:a}},[t._v(t._s(a))])})),0),t._v(" "+t._s(t.$t("igate.seconds"))+" ")]),e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("igate.refresh")},on:{click:t.refresh}},[e("i",{class:{"icon-play":!t.isStartRefresh,"icon-pause":t.isStartRefresh}}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("igate.refresh")))])])]):t._e(),t.updateRetryBtn&&t.viewer?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.retry")},on:{click:function(e){return t.updateStatus("retry")}}},[e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.retry")))])]):t._e(),t.updateCancelBtn&&t.viewer?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.cancel")},on:{click:function(e){return t.updateStatus("cancel")}}},[e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.cancel")))])]):t._e(),t.fileMakeBtn&&t.editor?e("a",{staticClass:"viewGroup btn btn-m btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.make")},on:{click:t.fileMake}},[t._v(" "+t._s(t.$t("head.make"))+" ")]):t._e(),t.fileImportBtn&&t.editor?e("a",{staticClass:"btn btn-m btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.import")},on:{click:t.fileImport}},[t._v(" "+t._s(t.$t("head.import"))+" ")]):t._e(),t.startBtn&&t.editor?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.execute")},on:{click:function(e){return t.gridControl("start")}}},[e("i",{staticClass:"icon-play"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.execute")))])]):t._e(),t.stopBtn&&t.editor?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.stop")},on:{click:function(e){return t.gridControl("stop")}}},[e("i",{staticClass:"icon-pause"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.stop")))])]):t._e(),t.stopForceBtn&&t.editor?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.stop.force")},on:{click:function(e){return t.gridControl("stopForce")}}},[e("i",{staticClass:"icon-x"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.stop.force")))])]):t._e(),t.interruptBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.interrupt")},on:{click:function(e){return t.gridControl("interrupt")}}},[e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.interrupt")))])]):t._e(),t.blockBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.block")},on:{click:function(e){return t.gridControl("block")}}},[e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.block")))])]):t._e(),t.unblockBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.unblock")},on:{click:function(e){return t.gridControl("unblock")}}},[e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.unblock")))])]):t._e(),t.initializeBtn&&t.viewer?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.initialize")},on:{click:t.initialize}},[e("i",{staticClass:"icon-reset"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.initialize")))])]):t._e(),t.excelExportBtn&&t.viewer?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);"},on:{click:t.excelExport}},[e("i",{staticClass:"icon-result"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.excel.output")))])]):t._e(),t.excelImportBtn&&t.viewer?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.excel.upload")},on:{click:t.excelImport}},[e("i",{staticClass:"icon-result"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.excel.upload")))])]):t._e(),t.addBtn&&t.editor?e("a",{staticClass:"btn btn-m btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.insert")},on:{click:t.add}},[e("i",{staticClass:"icon-plus"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.insert")))])]):t._e(),t.reorderBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("igate.transactionRestriction.reOrder")},on:{click:t.reorder}},[e("span",{staticClass:"hide"},[t._v(t._s(t.$t("igate.transactionRestriction.reOrder")))])]):t._e()])])},s=[],n=a(63822),o={name:"btn",props:{list:Array,viewer:Boolean,editor:Boolean,totalCnt:String,currentCnt:String,gridInstanceInfo:Object},data(){return{addBtn:!1,initializeBtn:!1,newTabBtn:!1,excelImportBtn:!1,excelExportBtn:!1,refreshBtn:!1,timerSeconds:60,displayTimerSeconds:60,timerSecondsList:[10,20,30,40,50,60],isStartRefresh:!1,refreshIntervalId:null,updateRetryBtn:!1,updateCancelBtn:!1,startBtn:!1,stopBtn:!1,stopForceBtn:!1,interruptBtn:!1,blockBtn:!1,unblockBtn:!1,reorderBtn:!1,fileImportBtn:!1,fileMakeBtn:!1}},computed:{...(0,n.rn)(["isTools"])},created(){this.useBtn()},beforeDestroy(){clearInterval(this.refreshIntervalId)},watch:{list:{deep:!0,handler(){this.useBtn()}},gridInstanceInfo(){this.useBtn()}},methods:{initialize(){this.$emit("initialize")},add(){this.$emit("add")},newTab(){this.$emit("newTab")},excelExport(){this.$emit("excelExport")},excelImport(){this.$emit("excelImport")},useBtn(){this.list.forEach((t=>{this[`${t.id}Btn`]="function"===typeof t.isUse?t.isUse(this.gridInstanceInfo):t.isUse}))},refresh(){this.isStartRefresh=!this.isStartRefresh,this.isStartRefresh?(this.displayTimerSeconds=this.timerSeconds,this.refreshIntervalId=setInterval((()=>{0>=this.displayTimerSeconds?(this.displayTimerSeconds=this.timerSeconds,this.$emit("refresh")):--this.displayTimerSeconds}),1e3)):clearInterval(this.refreshIntervalId)},updateStatus(t){this.$emit("updateStatus",t)},gridControl(t){"stopForce"===t?this.$confirm({type:"warn",message:this.$t("igate.control.stopForce.alert"),callback:()=>{this.$emit("gridControl",t)}}):this.$emit("gridControl",t)},reorder(){this.$emit("reorder")},fileMake(){this.$emit("fileMake")},fileImport(){this.$emit("fileImport")}}},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,null,null),c=d.exports},54215:function(t,e,a){"use strict";a.d(e,{Z:function(){return C}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ct-content"},[e("Button",{attrs:{list:t.buttonList,viewer:t.viewer,editor:t.editor,totalCnt:t.totalCnt,currentCnt:t.currentCnt,gridInstanceInfo:t.gridInstanceInfo},on:{initialize:t.initialize,newTab:t.newTab,add:t.add,excelExport:t.excelExport,excelImport:t.excelImport,refresh:t.refresh,updateStatus:t.updateStatus,gridControl:t.gridControl,reorder:t.reorder,fileMake:t.fileMake,fileImport:t.fileImport}}),t.isGridView?t._e():e("NoData"),t.isGridView?e("Grid",{ref:"grid",attrs:{info:t.gridInfo,searchObj:t.gridSearchObj,type:t.gridType,resizeFunc:t.gridResizeFunc},on:{rowClicked:t.rowClicked,gridCount:t.gridCount,changeGridViewStatus:t.changeGridViewStatus}}):t._e()],1)},s=[],n=a(66281),o=a.n(n),r=a(19286),l=a(48578),d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-responsive"},[t.isGridView?e("TuiGrid",t._b({ref:"tuiGrid",on:{click:t.onClick}},"TuiGrid",t.options,!1)):t._e()],1)},c=[],p=(a(57658),a(37856)),h=a(37662),u=a(63822),m={name:"Grid",props:{type:String,info:Object,searchObj:Object,resizeFunc:Function},components:{TuiGrid:p.Grid},data(){return{gridInfo:null,isGridView:!1,totalCnt:0,pageNo:1,options:{},dataList:[],isServerPaging:!1,serverPagingDataArr:null,sortColumnName:null,checkedRowInfo:{}}},computed:{...(0,u.rn)(["constantsInfo"]),paging(){return this.gridInfo.paging},totalCntUrl(){return this.gridInfo.totalCntUrl},url(){return this.gridInfo.url}},created(){this.isServerPaging="serverPaging"===this.paging.side,h.dc.$on("MainResize",this.resize),h.Gk.$on("MainResize",this.resize),h.bB.$on("MainResize",this.resize),h.QK.$on("MainResize",this.resize)},async mounted(){const t=await this.getTotalCnt();t||(await this.initGridOptions(),await this.getDataList())},watch:{async searchObj(){this.pageNo=1,this.dataList=[];const t=await this.getTotalCnt();t||await this.getDataList()},info:{immediate:!0,deep:!0,handler(){if("mainBasic"===this.type){const t=o()(this.info);this.gridInfo=this.constantsInfo.grid.gridOptionFunc((0,h.cG)(),t.url,t)}else this.gridInfo=o()(this.info)}}},methods:{async initGridOptions(){let t=null;if(this.gridInfo.formatterDataUrlList){t={};const e=[];this.gridInfo.formatterDataUrlList.forEach((t=>{e.push(new Promise((e=>{(async()=>{const a=await new h.p0(t.url).read(t.param?t.param:null);e({key:t.key,data:a.data.object})})()})))}));const a=await Promise.all(e);a.forEach((({key:e,data:a})=>{t[e]=a}))}this.options=(0,h.d_)(this.gridInfo.options,t),this.paging.isUse&&(this.options.pageOptions={useClient:!0}),this.isGridView=!0,this.paging.isUse&&this.$nextTick((()=>{this.$refs.tuiGrid.gridInstance.on("beforePageMove",(async({page:t})=>{this.pageNo=Number(t),(this.isServerPaging||"server"===this.paging.side&&this.dataList.length<this.pageNo*this.searchObj._pageSize)&&await this.getDataList()}));let t=!1;this.options.rowHeaders&&this.options.rowHeaders.find((t=>"string"===typeof t&&"checkbox"===t||t.type&&"checkbox"===t.type))&&(t=!0),this.$refs.tuiGrid.gridInstance.on("afterPageMove",(e=>{this.resize(),t&&this.$nextTick((()=>{const t=Number(this.searchObj._pageSize),a=(e.page-1)*t,i=a+t;o()(this.$refs.tuiGrid.gridInstance.getData()).slice(a,a+i).forEach((t=>{this.checkedRowInfo[JSON.stringify(this.cleanRowData(t.rowKey))]&&setTimeout((()=>{this.$refs.tuiGrid.gridInstance.check(t.rowKey)}),0)}))}))})),t&&(this.$refs.tuiGrid.gridInstance.on("check",(t=>{this.checkedRowInfo[JSON.stringify(this.cleanRowData(t.rowKey))]=!0})),this.$refs.tuiGrid.gridInstance.on("uncheck",(t=>{delete this.checkedRowInfo[JSON.stringify(this.cleanRowData(t.rowKey))]})))})),this.$nextTick((()=>{this.$refs.tuiGrid.gridInstance.on("click",(async({columnName:t,targetType:e,instance:a})=>{if("columnHeader"!==e)return;const{sortable:i}=this.options.columns.find((e=>e.name===t));if(!i)return;const{columns:s}=a.getSortState();if(s&&0!==s.length)if(this.sortColumnName=s[0].columnName,this.paging.isUse&&this.isServerPaging)await this.getDataList();else{const{sortColumnNameList:t,sortColumnTypeList:e}=this.getSortColumnList();if(0===t.length)return;for(let a=1;a<t.length;a++)this.$refs.tuiGrid.invoke("sort",t[a],e[a],!0)}}))}))},async getTotalCnt(){if(!this.totalCntUrl)return;const t=await new h.p0(this.totalCntUrl).read(this.searchObj);if("ok"!==t.data.result)return!0;const e=(0,h.cG)(),a=this.constantsInfo.grid.maxListCount[e.replace("_bookmark","")];if(a&&Number(t.data.object)>a)return this.isGridView||this.$emit("changeGridViewStatus"),window.$alert({type:"warn",message:this.$t("igate.add.search.criteria",{0:a})}),!0;this.totalCnt=Number(t.data.object)},async getDataList(){const{sortColumnNameList:t,sortColumnTypeList:e}=this.getSortColumnList(),a={object:this.searchObj,limit:null,next:null,reverseOrder:!1},{side:i,isUse:s}=this.paging;if(s)if("client"===i)a.limit=this.totalCnt;else if("server"===i){const{pageOptionFunc:t}=this.constantsInfo.grid,{limit:e,ascending:i}=t((0,h.cG)(),this.url);a.limit=this.searchObj._pageSize>=e?this.searchObj._pageSize:e,a.reverseOrder=!i,0<this.dataList.length&&(a.next=this.dataList[this.dataList.length-1],this.dataList.length<this.pageNo*this.searchObj._pageSize&&(a.limit*=Math.ceil((this.pageNo*this.searchObj._pageSize-this.dataList.length)/a.limit)))}else"serverPaging"===i&&(delete a.next,delete a.reverseOrder,a.limit=this.searchObj._pageSize,a.pageNo=this.pageNo,a.sortColumnInfo={nameList:t,reverseList:e.map((t=>!t))},null!==this.serverPagingDataArr&&this.totalCnt===this.serverPagingDataArr.length||(this.serverPagingDataArr=Array.from({length:this.totalCnt},(()=>({})))));else"serverPaging"===i&&(delete a.next,delete a.reverseOrder,a.pageNo=this.pageNo,a.sortColumnInfo={nameList:[],typeList:[]});const n=await new h.p0(this.url).read(a,!0);if("ok"!==n.data.result)return;const r=s?{page:this.pageNo,perPage:Number(this.searchObj._pageSize)}:null;if(s&&this.isServerPaging){r.totalCount=this.totalCnt;const a=(this.pageNo-1)*Number(this.searchObj._pageSize);n.data.object.forEach(((t,e)=>{this.serverPagingDataArr[a+e]=(0,h.Np)(t)})),0<t.length?t.forEach(((t,a)=>{this.$refs.tuiGrid.invoke("resetData",this.serverPagingDataArr,{pageState:r,sortState:{columnName:t,ascending:e[a],multiple:!0}})})):this.$refs.tuiGrid.invoke("resetData",this.serverPagingDataArr,{pageState:r})}else this.dataList=this.dataList.concat(n.data.object.map((t=>(0,h.Np)(t)))),s&&(r.totalCount="server"===this.paging.side?this.totalCnt:this.dataList.length),this.$refs.tuiGrid.invoke("resetData",o()(this.dataList),{pageState:r}),t.forEach(((t,a)=>{this.$refs.tuiGrid.invoke("sort",t,e[a],!0)}));const l=this.$refs.tuiGrid.invoke("getData").length;let d=0,c=0;!s||"server"!==i&&"serverPaging"!==i?(d=l,c=l):(d=this.totalCnt<l?this.totalCnt:l,c=this.totalCnt),this.$emit("gridCount",{currentCnt:d,totalCnt:c}),this.resize()},getSortColumnList(){const{columns:[t]}=this.$refs.tuiGrid.invoke("getSortState"),e=[],a=[],i="sortKey"===t.columnName;if(i&&("undefined"===typeof this.options.sortColumn||null!==this.sortColumnName))return{sortColumnNameList:e,sortColumnTypeList:a};if(0<this.options.columns.filter((({sortable:t})=>t)).length){const{name:s,sortingType:n,sortWithColumn:o,sortWithColumnType:r}=this.options.columns.find((e=>i?this.options.sortColumn===e.name:e.name===t.columnName));e.push(s),a.push(i?!n||"asc"===n:t.ascending);const l=!i&&("undefined"===typeof n||"asc"===n)!==a[0];o&&o.forEach(((t,i)=>{e.push(t);let s=!r||!r[i]||"asc"===r[i];l&&(s=!s),a.push(s)}))}return{sortColumnNameList:e,sortColumnTypeList:a}},onClick(t){if("_checked"===t.columnName)return void setTimeout((()=>{this.$emit("rowClicked")}),0);if("undefined"===typeof t.rowKey||"rowHeader"===t.targetType)return;const e=t.instance;e.getData().forEach((a=>{a.rowKey!==t.rowKey&&e.removeRowClassName(a.rowKey,"row-selected")})),e.getCheckedRowKeys().includes(t.rowKey)?e.uncheck(t.rowKey):(e.addRowClassName(t.rowKey,"row-selected"),e.check(t.rowKey));const a=e.getRow(t.rowKey),i=["sortKey","rowKey","rowSpanMap","uniqueKey","_attributes","_disabledPriority","_relationListItemMap"],s={};for(const n in a)-1<i.indexOf(n)||(s[n]=a[n]);this.$emit("rowClicked",s)},resize(){this.resizeFunc?this.resizeFunc(this.$refs.tuiGrid):"mainBasic"===this.type?this.mainBasicResize():"modalBasic"===this.type&&this.modalResize()},mainBasicResize(){if(!this.$refs.tuiGrid)return;const t=document.getElementById("ct"),e=getComputedStyle(t),a=(0,h.tJ)(e.getPropertyValue("padding-left")),i=(0,h.tJ)(e.getPropertyValue("padding-right")),s=(0,h.tJ)(e.getPropertyValue("padding-top")),n=(0,h.tJ)(e.getPropertyValue("padding-bottom"));let o=window.innerWidth;if(o-=a+i,992<=window.innerWidth&&document.getElementById("sidebar")&&!document.body.classList.contains("sidebar-toggled")){const t=document.getElementById("sidebar"),e=getComputedStyle(t),a=(0,h.tJ)(e.getPropertyValue("margin-left")),i=(0,h.tJ)(e.getPropertyValue("margin-right"));o-=t.offsetWidth+a+i}document.querySelector(".horizon")&&"block"===document.querySelector("#panel").style.display&&(o-=(0,h.tJ)(getComputedStyle(document.querySelector(".horizon .panel-content")).width)),this.$el.style.width=`${o}px`,this.$refs.tuiGrid.invoke("setWidth",o);let r=window.innerHeight;r-=s+n;const l=t.getElementsByClassName("ct-header")[0],d=getComputedStyle(l),c=(0,h.tJ)(d.getPropertyValue("margin-top")),p=(0,h.tJ)(d.getPropertyValue("margin-bottom"));r-=l.offsetHeight+c+p;const u=t.getElementsByClassName("ct-content")[0];for(let g=0;g<u.children.length;g++){if(u.children[g].classList.contains("table-responsive"))continue;if(u.children[g].classList.contains("empty"))continue;const t=u.children[g],e=getComputedStyle(t),a=(0,h.tJ)(e.getPropertyValue("margin-top")),i=(0,h.tJ)(e.getPropertyValue("margin-bottom"));r-=t.offsetHeight+a+i}const m=this.$refs.tuiGrid.getRootElement().getElementsByClassName("tui-pagination");if(0<m.length){const t=m[0],e=getComputedStyle(t),a=(0,h.tJ)(e.getPropertyValue("margin-top")),i=(0,h.tJ)(e.getPropertyValue("margin-bottom"));r-=t.offsetHeight+a+i}if(!document.querySelector(".horizon")&&null!=document.getElementById("panel")&&"block"===document.getElementById("panel").style.display){const t=document.getElementById("panel"),e=t.getElementsByClassName("panel-content")[0],a=getComputedStyle(e),i=(0,h.tJ)(a.getPropertyValue("margin-top")),s=(0,h.tJ)(a.getPropertyValue("margin-bottom"));r-=e.offsetHeight+i+s}r-=20,this.$refs.tuiGrid.invoke("setHeight",r),this.$nextTick((()=>{setTimeout((()=>{const t=this.$refs.tuiGrid.$el.querySelector(".tui-grid-rside-area"),e=t.querySelector(".tui-grid-body-area").clientHeight,a=t.querySelector(".tui-grid-scrollbar-y-inner-border").clientHeight;e!==a&&(t.querySelector(".tui-grid-scrollbar-y-inner-border").style.height=`${e}px`)}),0)}))},modalResize(){this.$refs.tuiGrid&&this.$nextTick((()=>{const t=this.$el.closest(".modal-body");if(!t)return;const e=getComputedStyle(t),a=(0,h.tJ)(e.getPropertyValue("padding-left")),i=(0,h.tJ)(e.getPropertyValue("padding-right")),s=(0,h.tJ)(e.getPropertyValue("padding-top")),n=(0,h.tJ)(e.getPropertyValue("padding-bottom")),o=t.clientWidth-a-i;this.$refs.tuiGrid.invoke("setWidth",o);const r=t.querySelector(".ct-header").offsetHeight,l=t.querySelector(".sub-bar").offsetHeight,d=t.querySelector(".tui-grid-pagination"),c=getComputedStyle(d),p=(0,h.tJ)(c.getPropertyValue("margin-top")),u=(0,h.tJ)(c.getPropertyValue("margin-bottom")),m=d.offsetHeight,g=t.clientHeight-s-n-r-l-m-p-u;this.$refs.tuiGrid.invoke("setHeight",g)}))},getGrid(){return this.$refs.tuiGrid},getCheckedRowInfo(){return Object.keys(this.checkedRowInfo).map((t=>JSON.parse(t)))},cleanRowData(t){const e=o()(this.$refs.tuiGrid.gridInstance.getRow(t));for(const a in e)["rowKey","rowSpanMap","sortKey","uniqueKey","_attributes","_disabledPriority","_relationListItemMap"].find((t=>t===a))&&delete e[a];return e}}},g=m,f=a(43736),y=(0,f.Z)(g,d,c,!1,null,null,null),v=y.exports,b={name:"Main",props:{gridInfo:Object,gridSearchObj:Object,gridType:String,gridResizeFunc:Function,buttonList:Array,viewer:Boolean,editor:Boolean},data(){return{isGridView:!1,totalCnt:null,currentCnt:null,gridInstanceInfo:null}},components:{Button:r.Z,NoData:l.Z,Grid:v},watch:{gridSearchObj(){this.isGridView=!0}},methods:{changeGridViewStatus(){this.isGridView=!this.isGridView},initialize(){this.$emit("initialize")},add(){this.$emit("add")},newTab(){this.$emit("newTab")},excelExport(){this.$emit("excelExport")},excelImport(){this.$emit("excelImport")},rowClicked(t){this.gridInstanceInfo=o()(this.$refs.grid.getGrid().gridInstance),t&&this.$emit("rowClicked",t)},gridCount({currentCnt:t,totalCnt:e}){this.currentCnt=(0,h.Wb)(t),this.totalCnt=(0,h.Wb)(e)},refresh(){this.$emit("refresh")},updateStatus(t){this.$emit("updateStatus",{gridObj:this.$refs.grid?this.$refs.grid.getGrid():null,mod:t})},gridControl(t){this.$emit("gridControl",{gridObj:this.$refs.grid?this.$refs.grid.getGrid():null,mod:t})},reorder(){this.$emit("reorder")},fileMake(){this.$emit("fileMake",{gridObj:this.$refs.grid?this.$refs.grid.getGrid():null})},fileImport(){this.$emit("fileImport")}}},$=b,I=(0,f.Z)($,i,s,!1,null,null,null),C=I.exports},48578:function(t,e,a){"use strict";a.d(e,{Z:function(){return d}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"empty"},[e("p",[t._v(t._s(t.$t("layout.component.conditions")))]),e("img",{staticClass:"center-block",attrs:{src:a(87932)}})])},s=[],n={name:"NoData"},o=n,r=a(43736),l=(0,r.Z)(o,i,s,!1,null,null,null),d=l.exports},96434:function(t,e,a){"use strict";a.d(e,{Z:function(){return R}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ct-header"},[e("button",{staticClass:"btn-filter collapsed d-md-none",attrs:{type:"button","data-toggle":"collapse","data-target":".collapse-filter"},on:{click:function(e){return e.preventDefault(),t.collapseFilter.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("head.searchFilter"))+" "),e("i",{staticClass:"icon-down"})]),e("div",{staticClass:"collapse collapse-filter",attrs:{id:"collapse-filter"}},[e("div",{staticClass:"filter no-gutters"},[t._l(t.searchList.slice(0,t.startSearchExpandCnt),(function(a,i){return e("div",{key:i,staticClass:"col"},["text"===a.type?e("label",{staticClass:"form-control-label reset"},[e("b",{staticClass:"control-label"},[t._v(" "+t._s(a.label)+" "),e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt[a.vModel]}/${t.maxLengthCnt[a.vModel]})`)+" "),a.isRequired?e("b",{staticClass:"icon-star"}):t._e()])]),e("inputText",{ref:`inputText_${i}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":!0},placeholder:a.placeholder,readonly:a.readonly,regExpType:a.regExpType},on:{enter:t.search,setLengthCnt:t.setLengthCnt}}),a.readonly?t._e():e("i",{staticClass:"icon-close",on:{click:function(e){t.$refs[`inputText_${i}`][0].setData(null),t.curLengthCnt[a.vModel]=0}}})],1):"dateCalc"===a.type?e("label",{staticClass:"form-control-label label-select"},[e("b",{staticClass:"control-label"},[t._v(t._s(a.label))]),e("dateCalc",{ref:`dateCalc_${i}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":!0},optionInfo:a.optionInfo,unit:a.unit,dateVModel:a.dateVModel},on:{setDateRange:t.setDateRange}})],1):t._e(),"time"===a.type?e("label",{staticClass:"form-control-label"},[e("b",{staticClass:"control-label"},[t._v(t._s(a.label))]),e("timePicker",{ref:`timePicker_${i}`,refInFor:!0,attrs:{vModel:a.vModel,readonly:a.readonly,classObject:{"form-control":!0}}})],1):"select"===a.type?e("label",{staticClass:"form-control-label label-select"},[e("b",{staticClass:"control-label"},[t._v(t._s(a.label))]),e("dropDown",{ref:`dropDown_${i}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":!0},optionInfo:a.optionInfo}})],1):"singleDate"===a.type?e("label",{staticClass:"form-control-label daterange"},[e("b",{staticClass:"control-label"},[t._v(t._s(a.label))]),e("datePicker",{ref:`expandArea_datePicker_${i}`,refInFor:!0,attrs:{vModel:a.vModel,placeholder:a.placeholder,dateRangeType:a.dateRangeType,customOptions:a.options,dateFormat:a.dateFormat}})],1):"singleDaterange"===a.type?e("label",{staticClass:"form-control-label daterange"},[e("b",{staticClass:"control-label"},[t._v(t._s(a.label)+" ")]),e("dateRange",{ref:`dateRange_${i}`,refInFor:!0,attrs:{vModel:a.vModel,dateRangeType:a.dateRangeType,customOptions:a.options}})],1):"dataList"===a.type?e("label",{staticClass:"form-control-label"},[e("b",{staticClass:"control-label"},[t._v(" "+t._s(a.label)+" "),e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt[a.vModel]}/${t.maxLengthCnt[a.vModel]})`)+" "),a.isRequired?e("b",{staticClass:"icon-star"}):t._e()])]),e("dataList",{ref:`dataList_${i}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":!0},placeholder:a.placeholder,optionInfo:a.optionInfo,regExpType:a.regExpType},on:{setLengthCnt:t.setLengthCnt,enter:t.search,blur:t.blurEvt}})],1):"modal"===a.type?e("label",{staticClass:"form-control-label reset"},[e("b",{staticClass:"control-label"},[t._v(" "+t._s(a.label)+" "),e("i",{staticClass:"icon-srch",on:{click:function(e){return t.openModal(a.modalInfo,t.$refs[`inputText_${i}`])}}}),e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt[a.vModel]}/${t.maxLengthCnt[a.vModel]})`)+" "),a.isRequired?e("b",{staticClass:"icon-star"}):t._e()])]),e("inputText",{ref:`inputText_${i}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":!0},placeholder:a.placeholder,regExpType:a.regExpType},on:{enter:t.search,setLengthCnt:t.setLengthCnt}}),e("i",{staticClass:"icon-close",on:{click:function(e){t.$refs[`inputText_${i}`][0].setData(null),t.curLengthCnt[a.vModel]=0}}})],1):"groupModal"===a.type?e("label",{staticClass:"form-control-label reset"},[e("b",{staticClass:"control-label"},[t._v(" "+t._s(a.label)+" "),e("i",{staticClass:"icon-srch",on:{click:function(e){return t.openGroupModal(a,t.$refs[`inputText_${i}`])}}}),e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt[a.vModel]}/${t.maxLengthCnt[a.vModel]})`)+" "),a.isRequired?e("b",{staticClass:"icon-star"}):t._e()])]),e("inputText",{ref:`inputText_${i}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":!0},placeholder:a.placeholder,regExpType:a.regExpType,readonly:a.readonly},on:{enter:t.search,setLengthCnt:t.setLengthCnt}}),e("i",{staticClass:"icon-close",on:{click:function(e){t.$refs[`inputText_${i}`][0].setData(null),t.curLengthCnt[a.vModel]=0}}})],1):t._e()])})),e("div",{staticClass:"col-auto"},[e("button",{staticClass:"btn btn-primary",staticStyle:{"z-index":"1"},attrs:{type:"button"},on:{click:t.search}},[e("i",{staticClass:"icon-srch"}),t._v(" "+t._s(t.$t("head.search"))+" ")])])],2),e("div",{directives:[{name:"show",rawName:"v-show",value:t.startSearchExpandCnt<t.searchList.length,expression:"startSearchExpandCnt < searchList.length"}],staticClass:"toggleSearchExpandBtn collapsed",attrs:{"data-toggle":"collapse","data-target":`#${t.expandDataTarget}`},on:{click:t.collapseFilter}},[e("i",{staticClass:"icon-down"})]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.startSearchExpandCnt<t.searchList.length,expression:"startSearchExpandCnt < searchList.length"}],class:"collapse toggleSearchExpandArea",attrs:{id:t.expandDataTarget}},[e("div",{staticClass:"filter no-gutters"},[t._l(t.searchList.slice(t.startSearchExpandCnt),(function(a,i){return e("div",{key:`expandArea${i}`,staticClass:"col"},["text"===a.type?e("label",{staticClass:"form-control-label reset"},[e("b",{staticClass:"control-label"},[t._v(t._s(a.label)+" "),e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt[a.vModel]}/${t.maxLengthCnt[a.vModel]})`)+" "),a.isRequired?e("b",{staticClass:"icon-star"}):t._e()])]),e("inputText",{ref:`expandArea_inputText_${i}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":!0},placeholder:a.placeholder,regExpType:a.regExpType},on:{enter:t.search,setLengthCnt:t.setLengthCnt}}),e("i",{staticClass:"icon-close",on:{click:function(e){t.$refs[`expandArea_inputText_${i}`][0].setData(null),t.curLengthCnt[a.vModel]=0}}})],1):"dateCalc"===a.type?e("label",{staticClass:"form-control-label label-select"},[e("b",{staticClass:"control-label"},[t._v(t._s(a.label))]),e("dateCalc",{ref:`expandArea_dateCalc_${i}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":!0},optionInfo:a.optionInfo,unit:a.unit,dateVModel:a.dateVModel},on:{setDateRange:t.setDateRange}})],1):t._e(),"time"===a.type?e("label",{staticClass:"form-control-label reset"},[e("b",{staticClass:"control-label"},[t._v(t._s(a.label))]),e("timePicker",{ref:`expandArea_timePicker_${i}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":!0},placeholder:a.placeholder,readonly:a.readonly},on:{enter:t.search}})],1):"select"===a.type?e("label",{staticClass:"form-control-label label-select"},[e("b",{staticClass:"control-label"},[t._v(t._s(a.label))]),e("dropDown",{ref:`expandArea_dropDown_${i}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":!0},optionInfo:a.optionInfo}})],1):"singleDate"===a.type?e("label",{staticClass:"form-control-label daterange"},[e("b",{staticClass:"control-label"},[t._v(t._s(a.label))]),e("datePicker",{ref:`expandArea_datePicker_${i}`,refInFor:!0,attrs:{vModel:a.vModel,dateRangeType:a.dateRangeType,customOptions:a.options,dateFormat:a.dateFormat}})],1):"singleDaterange"===a.type?e("label",{staticClass:"form-control-label"},[e("b",{staticClass:"control-label"},[t._v(t._s(a.label))]),e("dateRange",{ref:`expandArea_dateRange_${i}`,refInFor:!0,attrs:{vModel:a.vModel,dateRangeType:a.dateRangeType,customOptions:a.options}})],1):"dataList"===a.type?e("label",{staticClass:"form-control-label"},[e("b",{staticClass:"control-label"},[t._v(" "+t._s(a.label)+" "),e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt[a.vModel]}/${t.maxLengthCnt[a.vModel]})`)+" "),a.isRequired?e("b",{staticClass:"icon-star"}):t._e()])]),e("dataList",{ref:`expandArea_dataList_${i}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":!0},placeholder:a.placeholder,optionInfo:a.optionInfo,regExpType:a.regExpType},on:{setLengthCnt:t.setLengthCnt,enter:t.search,blur:t.blurEvt}})],1):"modal"===a.type?e("label",{staticClass:"form-control-label reset"},[e("b",{staticClass:"control-label"},[t._v(" "+t._s(a.label)+" "),e("i",{staticClass:"icon-srch",on:{click:function(e){return t.openModal(a.modalInfo,t.$refs[`expandArea_inputText_${i}`])}}}),e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt[a.vModel]}/${t.maxLengthCnt[a.vModel]})`)+" "),a.isRequired?e("b",{staticClass:"icon-star"}):t._e()])]),e("inputText",{ref:`expandArea_inputText_${i}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":!0},placeholder:a.placeholder,regExpType:a.regExpType},on:{enter:t.search,setLengthCnt:t.setLengthCnt}}),e("i",{staticClass:"icon-close",on:{click:function(e){t.$refs[`expandArea_inputText_${i}`][0].setData(null),t.curLengthCnt[a.vModel]=0}}})],1):"groupModal"===a.type?e("label",{staticClass:"form-control-label reset"},[e("b",{staticClass:"control-label"},[t._v(" "+t._s(a.label)+" "),e("i",{staticClass:"icon-srch",on:{click:function(e){return t.openGroupModal(a,t.$refs[`expandArea_inputText_${i}`])}}}),e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt[a.vModel]}/${t.maxLengthCnt[a.vModel]})`)+" "),a.isRequired?e("b",{staticClass:"icon-star"}):t._e()])]),e("inputText",{ref:`expandArea_inputText_${i}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":!0},placeholder:a.placeholder,regExpType:a.regExpType,readonly:a.readonly},on:{enter:t.search,setLengthCnt:t.setLengthCnt}}),e("i",{staticClass:"icon-close",on:{click:function(e){t.$refs[`expandArea_inputText_${i}`][0].setData(null),t.curLengthCnt[a.vModel]=0}}})],1):t._e()])})),e("div",{staticClass:"col-auto"},[e("button",{staticClass:"btn btn-primary",staticStyle:{"z-index":"1"},attrs:{type:"button"},on:{click:t.search}},[e("i",{staticClass:"icon-srch"}),t._v(" "+t._s(t.$t("head.search"))+" ")])])],2)])])])},s=[],n=(a(57658),a(31823)),o=a.n(n),r=a(77285),l=a.n(r),d=a(63822),c=a(37662),p=a(53308),h=function(){var t=this,e=t._self._c;return e("span",[e("input",{class:t.classObject,attrs:{placeholder:t.$t(t.placeholder),readonly:""},domProps:{value:t.selectedName},on:{click:t.toggleDropdownItem}}),e(t.optionElement,{ref:"component",tag:"component",attrs:{readonly:t.readonly},on:{selectedItem:t.selectedItem}})],1)},u=[],m={name:"dropDown",props:{vModel:String,classObject:Object,readonly:{type:Boolean,default:!1},placeholder:String,optionInfo:Object,val:{type:String,default:null}},data(){return{selectedName:null,optionElement:{template:`<ul :class="dropdownMenuClass" style="max-height: 310px; overflow-x: hidden;">\n                               <li>\n\t\t\t\t\t\t\t   \t   <a\n\t\t\t\t\t\t\t\t\t  :class="{ \n\t\t\t\t\t\t\t\t\t      'dropdown-item': true, \n\t\t\t\t\t\t\t\t\t\t   active: ${(()=>this.optionInfo.optionEntireValue?`String(obj['${this.vModel}']) === '${this.optionInfo.optionEntireValue}'`:`null === obj['${this.vModel}'] || 0 === String(obj['${this.vModel}']).trim().length`)()}\n\t\t\t\t\t\t\t\t\t  }"\n\t\t\t\t\t\t\t\t\t  href="javascript:void(0)"\n\t\t\t\t\t\t\t\t\t  v-text="$t('head.all')"\n\t\t\t\t\t\t\t\t\t  @click="selectedItem('${this.optionInfo.optionEntireValue?this.optionInfo.optionEntireValue:""}', $t('head.all'))"\n\t\t\t\t\t\t\t\t\t  v-if="${"undefined"===typeof this.optionInfo.isViewAll||this.optionInfo.isViewAll}"\n\t\t\t\t\t\t\t\t\t  >\n\t\t\t\t\t\t\t\t   </a>\n                                   <a\n                                      :class="{\n\t\t\t\t\t\t\t\t\t\t  'dropdown-item': true, \n\t\t\t\t\t\t\t\t\t\t  active: String(obj['${this.vModel}']) === String(${this.optionInfo.optionValue})\n\t\t\t\t\t\t\t\t\t  }"\n                                      href="javascript:void(0)"\n                                      v-for="${this.optionInfo.optionFor}"\n                                      :key="${this.optionInfo.optionValue}"\n\t\t\t\t\t\t\t          v-text="${this.optionInfo.optionText}"\n                                      @click="selectedItem(${this.optionInfo.optionValue}, ${this.optionInfo.optionText})"\n\t\t\t\t\t\t\t\t\t  v-if="${"undefined"===typeof this.optionInfo.optionIf||this.optionInfo.optionIf}" >\n                                   </a>\n                                </li>\n                           </ul>\n                `,props:{readonly:Boolean},data:(()=>{const t={vModelName:this.vModel,optionListName:this.optionInfo.optionListName,obj:{[this.vModel]:this.val},[this.optionInfo.optionListName]:[],url:this.optionInfo.url,params:this.optionInfo.params?this.optionInfo.params:null,dropdownMenuClass:{"dropdown-menu":!0,show:!1},HttpReq:null};return function(){return t}})(),async created(){if(this.url){this.HttpReq=new c.p0(this.url);const t=await this.HttpReq.read(this.params);if("ok"!==t.data.result)return;this[this.optionListName]=t.data.object}this.setData(this.obj[this.vModelName])},methods:{toggleDropdownItem(){this.dropdownMenuClass.show=!this.dropdownMenuClass.show},selectedItem(t,e){this.obj[this.vModelName]=t,this.dropdownMenuClass.show=!1,this.$emit("selectedItem",e)},setData(t){this.obj[this.vModelName]=t,this.$nextTick((()=>{setTimeout((()=>{const t=this.$el.getElementsByTagName("a");for(let e=0;e<t.length;e++)if(t[e].classList.contains("active")){t[e].click();break}}),0)}))},getData(){return{[this.vModelName]:this.obj[this.vModelName]?this.obj[this.vModelName]:" "}}}}}},watch:{val(){this.setData(this.val)}},methods:{toggleDropdownItem(){this.$refs.component.toggleDropdownItem()},selectedItem(t){this.selectedName=t},setData(t){this.$refs.component.setData(t)},getData(){return this.$refs.component.getData()}}},g=m,f=a(43736),y=(0,f.Z)(g,h,u,!1,null,null,null),v=y.exports,b=a(1171),$=a(13671),I=a(12907),C=function(){var t=this,e=t._self._c;return e("span",[e("input",{class:t.classObject,attrs:{placeholder:t.$t(t.placeholder),readonly:""},domProps:{value:t.selectedName},on:{click:t.toggleDropdownItem}}),e(t.optionElement,{ref:"component",tag:"component",attrs:{readonly:t.readonly},on:{selectedItem:t.selectedItem,setDateRange:t.setDateRange}})],1)},x=[],w={name:"dateCalc",props:{vModel:String,classObject:Object,readonly:{type:Boolean,default:!1},placeholder:String,optionInfo:Object,dateVModel:Array,val:{type:String,default:null},unit:String},data(){return{selectedName:null,optionElement:{template:`<ul :class="dropdownMenuClass">\n                               <li>\n\t\t\t\t\t\t\t   \t   <a\n\t\t\t\t\t\t\t\t\t  :class="{ 'dropdown-item': true, active: null === obj['${this.vModel}'] || 0 === String(obj['${this.vModel}']).trim().length }"\n\t\t\t\t\t\t\t\t\t  href="javascript:void(0)"\n\t\t\t\t\t\t\t\t\t  v-text="$t('head.unchecked')"\n\t\t\t\t\t\t\t\t\t  @click="selectedItem('', $t('head.unchecked'))"\n\t\t\t\t\t\t\t\t\t  v-if="${"undefined"===typeof this.optionInfo.isViewAll||this.optionInfo.isViewAll}"\n\t\t\t\t\t\t\t\t\t  >\n\t\t\t\t\t\t\t\t   </a>\n                                   <a\n                                      :class="{\n\t\t\t\t\t\t\t\t\t\t  'dropdown-item': true, active: String(obj['${this.vModel}']) === String(${this.optionInfo.optionValue})\n\t\t\t\t\t\t\t\t\t  }"\n                                      href="javascript:void(0)"\n                                      v-for="${this.optionInfo.optionFor}"\n                                      :key="${this.optionInfo.optionValue}"\n                                      @click="selectedItem(${this.optionInfo.optionValue}, ${this.optionInfo.optionText})"\n\t\t\t\t\t\t\t\t\t  v-if="${"undefined"===typeof this.optionInfo.optionIf||this.optionInfo.optionIf}" >\n\t\t\t\t\t\t\t\t\t\t{{ ${this.optionInfo.optionText} }}{{\n\t\t\t\t\t\t\t\t\t\t\t$t('igate.${"h"===this.unit?"hours":"m"===this.unit?"minutes":"s"===this.unit?"seconds":""}.before')\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t   </a>\n                                </li>\n                           </ul>\n                `,props:{readonly:Boolean},data:(()=>{const t={vModelName:this.vModel,optionListName:this.optionInfo.optionListName,obj:{[this.vModel]:this.val},[this.optionInfo.optionListName]:[],url:this.optionInfo.url,params:this.optionInfo.params?this.optionInfo.params:null,dropdownMenuClass:{"dropdown-menu":!0,show:!1},unit:this.unit,dateRangeVModel:this.dateVModel,HttpReq:null};return function(){return t}})(),async created(){if(this.url){this.HttpReq=new c.p0(this.url);const t=await this.HttpReq.read(this.params);if("ok"!==t.data.result)return;this[this.optionListName]=t.data.object}this.setData(this.obj[this.vModelName])},methods:{toggleDropdownItem(){this.dropdownMenuClass.show=!this.dropdownMenuClass.show},selectedItem(t,e){this.obj[this.vModelName]=t,this.dropdownMenuClass.show=!1,this.setDate(t);const a="h"===this.unit?"hours":"m"===this.unit?"minutes":"s"===this.unit?"seconds":"";this.$emit("selectedItem",t?`${e}${this.$t(`igate.${a}.before`)}`:e)},setDate(t){if(!t)return;const e=new Date;e.setDate(e.getDate()),e.setHours(e.getHours()),e.setMinutes(e.getMinutes()),e.setSeconds(e.getSeconds());const a=new Date;switch(a.setHours(a.getHours()),a.setMinutes(a.getMinutes()),a.setSeconds(a.getSeconds()),this.unit){case"h":e.setHours(e.getHours()-t);break;case"m":e.setMinutes(e.getMinutes()-t);break;case"s":e.setSeconds(e.getSeconds()-t);break}this.$emit("setDateRange",{startDate:e,endDate:a,dateRange:this.dateRangeVModel})},setData(t){this.obj[this.vModelName]=t,this.$nextTick((()=>{setTimeout((()=>{const t=this.$el.getElementsByTagName("a");for(let e=0;e<t.length;e++)if(t[e].classList.contains("active")){t[e].click();break}}),0)}))},getData(){return{[this.vModelName]:this.obj[this.vModelName]?this.obj[this.vModelName]:" "}}}}}},watch:{val(){this.setData(this.val)}},methods:{setDateRange(t){this.$emit("setDateRange",t)},toggleDropdownItem(){this.$refs.component.toggleDropdownItem()},selectedItem(t){this.selectedName=t},setData(t){this.$refs.component.setData(t)},getData(){return this.$refs.component.getData()}}},k=w,A=(0,f.Z)(k,C,x,!1,null,null,null),T=A.exports,L=a(78103),D=a(66281),M=a.n(D),_={name:"Search",props:{list:Array,searchType:String},components:{inputText:p.Z,dropDown:v,dataList:I.Z,datePicker:b.Z,dateRange:$.Z,dateCalc:T,timePicker:L.Z},computed:{...(0,d.rn)(["listCounts","regExpList","minPageSize","constantsInfo"])},data(){return{searchList:[],startSearchExpandCnt:5,curLengthCnt:{},maxLengthCnt:{},expandDataTarget:"toggle"+(0,c.Fs)()}},watch:{list:{immediate:!0,deep:!0,handler(){"mainBasic"===this.searchType&&0<this.list.length?this.searchList=this.constantsInfo.search.searchListFunc((0,c.cG)(),M()(this.list)):this.searchList=M()(this.list);for(const t of this.searchList)"pageSize"===t.vModel&&(t.regExpType="pageSize"),this.setLengthCnt({[t.vModel]:0}),this.maxLengthCnt[t.vModel]=(0,c.oo)(t.regExpType?t.regExpType:"default").maxLength;this.$nextTick(this.setSearchListVal)}}},methods:{setSearchListVal(t){for(const e in this.$refs){const a=this.$refs[e][0]._props;let i=null;"pageSize"===a.vModel?i=t?this.listCounts[0]:this.searchList.find((t=>t.vModel===a.vModel)).val:(i=this.searchList.find((t=>t.vModel===a.vModel)).val,i="undefined"===typeof i?null:i),this.$refs[e][0].setData(i),t&&(["inputText","password","textArea"].find((t=>t===this.$refs[e][0].$options.name))&&this.setLengthCnt({[a.vModel]:null===i?0:i.length}))}},setDateRange(t){for(const e in this.$refs){const a=t.dateRange.filter((t=>t.vModel===this.$refs[e][0]._props.vModel));l()(a)||this.$refs[e][0].setData("from"===a[0].dateRangeType?t.startDate:t.endDate)}},setLengthCnt(t){this.curLengthCnt={...this.curLengthCnt,...t}},collapseFilter(){setTimeout((()=>{c.QK.$emit("MainResize")}),0)},openModal(t,e){const i=this.$openModal({...t,modalWidth:"800px",contentList:[{template:'<div>\n\t\t\t\t\t\t       <Search :list="searchList" @search="search" ref="search"/>\n\t\t\t\t\t\t\t   <Main\n\t\t\t\t\t\t\t   \t   :buttonList="buttonList"\n\t\t\t\t\t\t\t\t   :gridInfo="gridInfo"\n\t\t\t\t\t\t\t\t   :gridSearchObj="gridSearchObj"\n\t\t\t\t\t\t\t\t   :gridType="\'modalBasic\'"\n\t\t\t\t\t\t\t\t   :viewer="true"\n\t\t\t\t\t\t\t\t   @rowClicked="rowClicked"\n\t\t\t\t\t\t\t\t   @initialize="initialize"\n\t\t\t\t\t\t\t   />\n\t\t\t\t\t\t   </div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:[],buttonList:[],gridInfo:{},gridSearchObj:{}}},created(){const{search:e,button:a,grid:i}=t;this.searchList=e.list,this.buttonList=a.list,this.gridInfo=i},methods:{search(t){this.gridSearchObj=t},rowClicked(a){e[0].setData(t.rowClickedCallback(a)),i.hideModal()},initialize(){this.$refs.search.initialize()}}}]})},openGroupModal(t,e){const{modalInfo:i,vModel:s}=t,n=this.$openModal({...i,modalWidth:"450px",modalHeight:"580px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t\t\t<Search :list="searchList" @search="search" ref="search"/>\n\t\t\t\t\t\t\t\t\t<div class="ct-content">\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t:list="buttonList"\n\t\t\t\t\t\t\t\t\t\t\t:viewer="true"\n\t\t\t\t\t\t\t\t\t\t\t:totalCnt="null"\n\t\t\t\t\t\t\t\t\t\t\t:currentCnt="null"\n\t\t\t\t\t\t\t\t\t\t\t@initialize="initialize"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<NoData v-if="!isGridView" />\n\t\t\t\t\t\t\t\t\t\t<div class="table-responsive" style="height: 300px" v-else>\n\t\t\t\t\t\t\t\t\t\t\t<TuiGrid ref="tuiGrid" v-bind="options" @click="rowClicked" />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>',components:{Search:a(96434).Z,Button:a(19286).Z,NoData:a(48578).Z,TuiGrid:a(37856).Grid},data(){return{searchList:[],buttonList:[{id:"initialize",isUse:!0}],totalCnt:null,isGridView:!1,dataList:[],gridInfo:{}}},async created(){const{search:t,grid:e}=i;this.searchList=t.list,this.gridInfo=e,this.options=(0,c.d_)(this.gridInfo.options);const a=await new c.p0(this.gridInfo.url).read();"ok"===a.data.result&&(this.dataList=M()(a.data.object))},methods:{search(t){this.isGridView=!0,this.$nextTick((()=>{let e=[];e=l()(t[s])?this.dataList:this.dataList.filter((e=>e.includes(t[s])));const a=this.initTreeData(e,s);this.$refs.tuiGrid.invoke("resetData",a)}))},initTreeData(t,e){const a=[];for(const i of t){const[t,...s]=i.split("."),n=a.find((a=>a[e]===t));let o={};n?o=n:(o={[e]:t,key:t},a.push(o));let r=o;for(const a of s){r._children||(r._children=[]);const t=r._children.find((t=>t[e]===a));t?r=t:(r._children.push({[e]:a,key:`${r.key}.${a}`}),r=r._children.at(-1))}}return a},rowClicked(t){if("undefined"===typeof t.rowKey||"rowHeader"===t.targetType)return;const a=this.$refs.tuiGrid.invoke("getRow",t.rowKey);e[0].setData(i.rowClickedCallback(a)),n.hideModal()},initialize(){this.$refs.search.initialize()}}}]})},initialize(){this.setSearchListVal(!0)},getSearchObj(){let t={};for(let e in this.$refs){let a=this.$refs[e][0].vModel,i=this.$refs[e][0].getData();0!==this.$refs[e].length&&(!i[a]&&Object.keys(t).includes(a)||(t=o()(t,i)))}return t._pageSize=t.pageSize,delete t.pageSize,t},search(){this.$emit("search",this.getSearchObj())},blurEvt(){for(let t in this.$refs){const e=this.$refs[t][0];"pageSize"===e._props.vModel&&((0===e.getData().pageSize.length||Number(e.getData().pageSize)<Number(this.minPageSize))&&e.setData(this.minPageSize))}}}},S=_,E=(0,f.Z)(S,i,s,!1,null,null,null),R=E.exports},44062:function(t,e,a){"use strict";a.d(e,{Z:function(){return A}});var i=function(){var t=this,e=t._self._c;return e("div",{ref:"panel",class:t.panelClass,attrs:{id:"panel"}},[e("div",{staticClass:"panel-dialog"},[e("div",{staticClass:"panel-content",style:t.panelContentStyle},[e("div",{staticClass:"resize-bar"}),e("header",{staticClass:"panel-header sub-bar",attrs:{id:"panel-header"}},["modify"===t.panelMode?e("a",{staticClass:"btn btn-icon backBtn",attrs:{href:"javascript:void(0);",title:t.$t("head.goBackward")},on:{click:t.goPreviousPanel}},[e("i",{staticClass:"icon-left"})]):t._e(),e("h2",{staticClass:"sub-bar-tit",style:{width:`calc(100% - ${"modify"===t.panelMode?170:125}px )`}},[t._v(" "+t._s(t.subBarTitle)+" "),e("span",{staticClass:"sub-bar-selected-tit ellipsis",style:{width:`calc(100% - ${"modify"===t.panelMode?80:65}px )`},attrs:{title:t.selectedInfoTitle?t.selectedInfoTitle.substr(3):""}},[t._v(" "+t._s(t.selectedInfoTitle)+" ")])]),e("div",{staticClass:"ml-auto"},[e("button",{staticClass:"btn-change-layout-horizon btn-icon",attrs:{type:"button",title:t.$t("common.detail.horizontal.view")},on:{click:function(e){return t.changeLayout("vertical")}}},[e("img",{staticClass:"center-block",attrs:{src:t.getMenuIconUrl("horizontal")}})]),e("button",{staticClass:"btn-change-layout-vertical btn-icon",attrs:{type:"button",title:t.$t("common.detail.vertical.view")},on:{click:function(e){return t.changeLayout("horizon")}}},[e("img",{staticClass:"center-block",attrs:{src:t.getMenuIconUrl("vertical")}})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.expand")},on:{click:t.expandCollapsePanel}},[e("i",{staticClass:"icon-expand"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.close")},on:{click:t.closePanel}},[e("i",{staticClass:"icon-close"})])])]),e("ul",{staticClass:"nav nav-tabs flex-shrink-0"},[t._l(t.tabList,(function(a,i){return e("li",{key:a.id,staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:t.selectedIdx===i},attrs:{href:"javascript:void(0);"},domProps:{textContent:t._s(a.label)},on:{click:function(e){return t.changeTab(i)}}})])})),t.toShowResult?e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:t.selectedIdx===t.tabList.length},attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.changeTab(t.tabList.length)}}},[t._v(" "+t._s(t.$t("head.executionResult"))+" ")])]):t._e()],2),e("div",{staticClass:"panel-body tab-content"},[t._l(t.tabList,(function(i,s){return e("div",{key:s,class:{[t.panelMode]:!0,"tab-pane":!0,active:t.selectedIdx===s}},["basic"===i.type?e("DetailBasic",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"property"===i.type?e("DetailProperty",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"grid"===i.type?e("DetailGrid",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"custom"===i.type?e("DetailCustom",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"bundle"===i.type?e(a(14605)(`./detail${i.url}.vue`).default,{ref:"component",refInFor:!0,tag:"component",attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):t._e()],1)})),t.toShowResult?e("DetailResult",{class:{"tab-pane":!0,active:t.selectedIdx===t.tabList.length&&t.showResultTab},attrs:{httpReqResult:t.httpReqResult}}):t._e()],2),e("footer",{staticClass:"panel-footer sub-bar",attrs:{id:"panel-footer"}},["detail"===t.panelMode||"done"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.metaHistoryBtn&&t.metaHistoryPrivilege.viewer?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);"},on:{click:t.goMetaHistoryModal}},[e("i",{staticClass:"icon-eye"}),t._v(t._s(t.$t("common.metaHistory"))+" ")]):t._e(),t.referenceBtn&&t.viewer?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.referenceTreeInfo")},on:{click:t.goReferenceModal}},[e("i",{staticClass:"icon-result"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.referenceTreeInfo")))])]):t._e(),t.excelExportBtn&&t.viewer?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.excel.output")},on:{click:t.excelExport}},[e("i",{staticClass:"icon-result"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.excel.output")))])]):t._e(),t.guideBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("igate.connector.guide")},on:{click:t.guide}},[t._v(" "+t._s(t.$t("igate.connector.guide"))+" ")]):t._e(),t.loadBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.load")},on:{click:function(e){return t.control("load")}}},[t._v(" "+t._s(t.$t("head.load"))+" ")]):t._e(),t.dumpBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.dump")},on:{click:t.dump}},[t._v(" "+t._s(t.$t("head.dump"))+" ")]):t._e(),t.executeBtn&&t.editor?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.execute")},on:{click:function(e){return t.control("execute")}}},[e("i",{staticClass:"icon-play"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.execute")))])]):t._e(),t.startBtn&&t.editor?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.execute")},on:{click:function(e){return t.control("start")}}},[e("i",{staticClass:"icon-play"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.execute")))])]):t._e(),t.stopBtn&&t.editor?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.stop")},on:{click:function(e){return t.control("stop")}}},[e("i",{staticClass:"icon-pause"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.stop")))])]):t._e(),t.stopBtn&&t.editor?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.stop")},on:{click:function(e){return t.control("stop")}}},[e("i",{staticClass:"icon-pause"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.stop")))])]):t._e(),t.stopForceBtn&&t.editor?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.stop.force")},on:{click:function(e){return t.control("stopForce")}}},[e("i",{staticClass:"icon-x"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.stop.force")))])]):t._e(),t.interruptBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.interrupt")},on:{click:function(e){return t.control("interrupt")}}},[e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.interrupt")))])]):t._e(),t.blockBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.block")},on:{click:function(e){return t.control("block")}}},[e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.block")))])]):t._e(),t.unblockBtn&&t.editor?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.unblock")},on:{click:function(e){return t.control("unblock")}}},[e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.unblock")))])]):t._e(),t.deleteBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.delete")},on:{click:t.removeInfo}},[e("i",{staticClass:"icon-delete"}),t._v(t._s(t.$t("head.delete"))+" ")]):t._e(),t.updateBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.update")},on:{click:t.goModifyPanel}},[e("i",{staticClass:"icon-edit"}),t._v(t._s(t.$t("head.update"))+" ")]):t._e(),t.insertBtn&&t.editor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:`${t.$t("head.insert")} (${t.$t("head.copy")})`},on:{click:t.goAddInfo}},[e("i",{staticClass:"icon-plus"}),t._v(t._s(`${t.$t("head.insert")} (${t.$t("head.copy")})`)+" ")]):t._e(),t.restoreBtn&&t.editor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.restore")},on:{click:t.restoreMeta}},[e("i",{staticClass:"icon-edit"}),t._v(t._s(t.$t("head.restore"))+" ")]):t._e()]):"add"===t.panelMode||"clone"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.insertBtn&&t.editor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.insert")},on:{click:t.saveInfo}},[e("i",{staticClass:"icon-plus"}),t._v(t._s(t.$t("head.insert"))+" ")]):t._e()]):"modify"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.updateBtn&&t.editor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.update")},on:{click:t.updateInfo}},[e("i",{staticClass:"icon-edit"}),t._v(t._s(t.$t("head.update"))+" ")]):t._e()]):t._e()])])])])},s=[],n=(a(57658),a(66281)),o=a.n(n),r=a(31823),l=a.n(r),d=a(63822),c=a(37662),p=a(63516),h=a(21783),u=a(25983),m=a(46342),g=function(){var t=this,e=t._self._c;return e("div",{ref:"detailCustom",staticClass:"customLayout"})},f=[],y={name:"DetailCustom",props:{mode:String,detailInfo:Object,detailData:Object},watch:{detailData(){this.$refs.detailCustom.querySelector("[data-ready]")&&this.$refs.detailCustom.querySelector("[data-ready]").dispatchEvent(new CustomEvent("getDetailData",{detail:{mode:this.mode,detailData:this.detailData}}))}},computed:{src(){return(0,c.u5)(`/api/page/customPage${this.detailInfo.url}`)}},mounted(){$(this.$refs.detailCustom).load(this.src)},methods:{getData(){this.$refs.detailCustom.querySelector("[data-ready]").dispatchEvent(new CustomEvent("getCustomData"))}},beforeDestroy(){this.$refs.detailCustom.querySelector("[data-ready]").dispatchEvent(new CustomEvent("destroy"))}},v=y,b=a(43736),I=(0,b.Z)(v,g,f,!1,null,null,null),C=I.exports,x={name:"Detail",props:{mode:{type:String,default:"detail"},pk:Array,buttonList:Array,detailTabList:{type:Array,default:()=>[]},info:Object,cudUrl:String,controlUrl:String,controlParams:Function,viewer:Boolean,editor:Boolean},computed:{...(0,d.rn)(["detailConstants","constantsInfo"]),toShowResult(){return(this.insertBtn||this.updateBtn||this.deleteBtn||this.dumpBtn||this.restoreBtn)&&this.editor}},components:{DetailBasic:p.Z,DetailProperty:h.Z,DetailGrid:m.Z,DetailCustom:C,DetailResult:u.Z},data(){return{panelMode:this.mode,selectedIdx:0,subBarTitle:"",tabList:[],tabAllData:{},insertBtn:!1,updateBtn:!1,deleteBtn:!1,restoreBtn:!1,excelExportBtn:!1,dumpBtn:!1,loadBtn:!1,executeBtn:!1,guideBtn:!1,startBtn:!1,stopBtn:!1,interruptBtn:!1,stopForceBtn:!1,blockBtn:!1,unblockBtn:!1,reorderBtn:!1,referenceBtn:!1,metaHistoryBtn:!1,metaHistoryPrivilege:{},httpReq:null,httpReqResult:{},showResultTab:!1,detailData:{},cloneInfo:{},panelClass:{panel:!0,"panel-bottom":!0,horizon:!1,vertical:!1,expand:!1},panelContentStyle:{width:null,height:null,"margin-left":null},beforeDragEvt:null,screenType:null,menuId:null,selectedInfoTitle:null}},watch:{cudUrl:{immediate:!0,handler(){this.httpReq=new c.p0(this.cudUrl)}},detailTabList:{immediate:!0,handler(){0!==this.detailTabList.length&&(this.tabList=this.constantsInfo.detail.tabListFunc((0,c.cG)(),o()(this.detailTabList)))}},buttonList:{immediate:!0,handler(){this.setButtonList()}},mode(){this.panelMode=this.mode},panelMode(){this.$nextTick((()=>{null===this.$el.querySelector(".nav-link.active")&&this.changeTab(0),this.$el.querySelectorAll(".panel-footer .btn").forEach((t=>{t.blur()})),this.getTargetObj()}))},info(){this.info&&(this.cloneInfo=(0,c.Np)(this.info),this.info.isNewTab&&(this.expandCollapsePanel(),delete this.cloneInfo.isNewTab),this.info.isExpandDetailView&&delete this.cloneInfo.isExpandDetailView)}},mounted(){this.menuId=(0,c.cG)(),this.metaHistoryPrivilege=(0,c.fc)("MetaHistory"),document.body.addEventListener("mousedown",this.mousedown),document.body.addEventListener("resize",this.bodyResize)},destroyed(){document.body.removeEventListener("mousedown",this.mousedown),document.body.removeEventListener("resize",this.bodyResize)},methods:{async getTargetObj(){if(null!==this.panelMode){if("done"!==this.panelMode&&(this.detailData={},"add"!==this.panelMode)){const t={};for(const a in this.cloneInfo)-1!==this.pk.indexOf(a)&&l()(t,(0,c.Fh)({[a]:this.cloneInfo[a]}));const e=await this.httpReq.read(t);if("ok"!==e.data.result)return;this.detailData=(0,c.Np)(e.data.object)}this.setSelectedInfoTitle(),this.setButtonList(),this.openPanel()}},changeTab(t){this.selectedIdx=t,this.$nextTick((()=>{c.bB.$emit("MainResize")}))},setButtonList(){this.buttonList.forEach((t=>{this[`${t.id}Btn`]="function"===typeof t.isUse?t.isUse(this.detailData):t.isUse}))},initDefaultDetailLayoutInfo(){this.panelClass.vertical=!0,this.panelClass.horizon=!1,this.panelClass.expand=this.constantsInfo.isDetailExpand,this.panelContentStyle.width=null,this.panelContentStyle.height=null,this.panelContentStyle["margin-left"]=null,localStorage.setItem(`detailLayoutInfo_${this.menuId}`,JSON.stringify({panelLayoutDirection:"vertical",panelContentStyle:this.panelContentStyle,screenType:this.screenType,expand:this.panelClass.expand}))},openPanel(){const t={detail:"Detail",done:"Detail",add:"Insert",clone:"Insert",modify:"Update"};if(this.subBarTitle=t[this.panelMode],"done"!==this.panelMode&&this.showResultTab&&(this.selectedIdx=0,this.showResultTab=!1),document.body.classList.contains("fixed")&&(document.body.classList.remove("panel-open-detail","panel-open-add","panel-open-modify","panel-open-done","panel-open-clone","fixed"),this.$refs.panel.style.display="none"),document.body.classList.add("fixed"),this.$refs.panel.style.display="block",document.body.classList.add(`panel-open-${this.panelMode}`),this.screenType=991<window.innerWidth?"pc":767<window.innerWidth?"tablet":"mobile",localStorage.getItem(`detailLayoutInfo_${this.menuId}`)){const{panelLayoutDirection:t,panelContentStyle:e,screenType:a,expand:i}=JSON.parse(localStorage.getItem(`detailLayoutInfo_${this.menuId}`));a!==this.screenType?this.initDefaultDetailLayoutInfo():(this.panelClass.horizon="horizon"===t,this.panelClass.vertical="vertical"===t,this.panelClass.expand=i,this.panelContentStyle=e)}else this.initDefaultDetailLayoutInfo();this.$nextTick((()=>{c.bB.$emit("MainResize"),this.panelClass.horizon&&this.$emit("detailHorizonResize",{detailWidth:document.querySelector("#panel .panel-content").clientWidth}),this.info&&this.info.isExpandDetailView&&(this.panelClass.expand=!0)}))},closePanel(){document.body.classList.remove(`panel-open-${this.panelMode}`),this.$refs.panel.style.display="none",document.body.classList.remove("fixed"),this.$refs.panel.removeAttribute("style"),c.bB.$emit("MainResize"),this.$nextTick((()=>{this.panelClass.horizon&&this.$emit("detailHorizonResize",{detailWidth:null})}))},expandCollapsePanel(t){this.beforeDragEvt=null,this.panelContentStyle.width=null,this.panelContentStyle["margin-left"]=null,this.panelContentStyle.height=null,this.panelClass.expand=!this.panelClass.expand,localStorage.setItem(`detailLayoutInfo_${this.menuId}`,JSON.stringify({panelLayoutDirection:this.panelClass.horizon?"horizon":"vertical",panelContentStyle:this.panelContentStyle,screenType:this.screenType,expand:this.panelClass.expand})),this.$nextTick((()=>{c.bB.$emit("MainResize"),document.body.dispatchEvent(new CustomEvent("resize",{detail:{evt:t}}))}))},goPreviousPanel(){this.panelMode="detail"},goAddInfo(){this.panelMode="clone"},goModifyPanel(){this.panelMode="modify"},removeInfo(){this.$confirm({type:"warn",message:this.$t("head.delete.conform"),callback:()=>{this.loadData((async()=>{this.pk.forEach((t=>{"undefined"===typeof this.tabAllData[t]&&(this.tabAllData[t]=this.cloneInfo[t])}));const t={};for(const a in this.tabAllData)-1!==this.pk.indexOf(a)&&l()(t,(0,c.Fh)({[a]:this.cloneInfo[a]}));const e=await this.httpReq.delete(t,!0);this.setData(e,"head.delete.notice",this.closePanel,"delete")}))}})},saveInfo(){this.loadData((async()=>{this.pk.forEach((t=>{"undefined"===typeof this.tabAllData[t]&&l()(this.tabAllData,(0,c.Fh)({[t]:""}))}));const t=await this.httpReq.create(this.tabAllData,!0);this.setData(t,"head.insert.notice")}))},updateInfo(){this.loadData((async()=>{this.pk.forEach((t=>{"undefined"===typeof this.tabAllData[t]&&l()(this.tabAllData,(0,c.Fh)({[t]:this.cloneInfo[t]}))}));const t=await this.httpReq.update(this.tabAllData,!0);this.setData(t,"head.update.notice")}))},async loadData(t){if(this.$refs.component.forEach(((t,e)=>{"custom"!==this.tabList[e].type&&t.getData&&(this.tabAllData=l()(this.tabAllData,t.getData()))})),-1===this.tabList.findIndex((t=>"custom"===t.type)))return void(t&&t());this.$startSpinner();const e=[];this.$refs.component.forEach(((t,a)=>{"custom"===this.tabList[a].type&&e.push(new Promise((e=>{const i=t.$el.querySelector("[data-ready]"),s=t=>{this.tabAllData=l()(this.tabAllData,t.detail),i.removeEventListener("setCustomData",s),e(a)};i.addEventListener("setCustomData",s),t.getData()})))}));try{await Promise.all(e),t&&t()}catch(a){this.$alert({type:"warn",message:this.$t("dashboard.noMatch.criteria")})}finally{this.$stopSpinner()}},async setData(t,e,a,i=null,s=!0){const n="ok"===t.data.result;if(this.httpReqResult={state:n,content:n?t.data.response:t.data.error},this.selectedIdx=this.tabList.length,this.showResultTab=!0,n){if("delete"!==i){let e=null;if(t.data.object)e=t;else{const t={};for(const e in this.tabAllData)-1!==this.pk.indexOf(e)&&l()(t,(0,c.Fh)({[e]:this.tabAllData[e]}));if(0===Object.keys(t).length)for(const e in this.detailData)-1!==this.pk.indexOf(e)&&l()(t,(0,c.Fh)({[e]:this.detailData[e]}));e=await this.httpReq.read(t)}this.tabAllData={},"ok"===e.data.result&&(this.detailData=(0,c.Np)(o()(e.data.object)),"add"!==this.panelMode&&"clone"!==this.panelMode||(this.cloneInfo=(0,c.Np)(o()(e.data.object)))),this.panelMode="done"}e&&this.$alert({type:"normal",message:this.$t(e)}),s&&this.$emit("search"),a&&a()}else this.tabAllData={}},async excelExport(){const t=this.buttonList.find((t=>"excelExport"===t.id));if(!t)return;const e=await(0,c.Rp)();if(!e.result)return void this.$alert({type:"warn",backdropMode:"full",message:this.isTools?this.$t("igate.itools.token.expired"):this.$t("head.validateToken"),callback:()=>{this.isTools||(0,c.kS)()}});this.$startSpinner();const a=new XMLHttpRequest;a.open("POST",(0,c.u5)(t.exportUrl),!0),a.setRequestHeader("Authorization",localStorage.getItem("accessToken")),a.setRequestHeader("X-iManager-Method","GET"),a.withCredentials=!0,a.responseType="blob";const i={};for(const s of this.pk)i[s]=this.cloneInfo[s];a.send(JSON.stringify(i)),a.onload=e=>{this.$stopSpinner();const i=a.response,s=t.fileName?`${t.fileName}_${Date.now()}.xlsx`:`ExcelExport_${Date.now()}.xlsx`;if(i.size<=0||"200"!=e.target.status)this.$alert({type:"warn",message:this.$t("head.fail.notice")});else if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(i,s);else{const t=document.createElement("a");t.href=window.URL.createObjectURL(i),t.download=s,t.click(),URL.revokeObjectURL(t.href),t.remove()}}},restoreMeta(){this.loadData((async()=>{const t=await new c.p0("/api/entity/metaHistory/restore").create(this.detailData,!0);this.setData(t,"head.restore.notice")}))},async control(t){const e=this.controlParams((0,c.Fh)(this.detailData));this.setData(await new c.p0(`${this.controlUrl}?command=${t}`).create(e,!0),null,null,null,!1)},async dump(){const t=this.buttonList.find((t=>"dump"===t.id)),e=this.controlParams((0,c.Fh)(this.detailData));this.setData(await new c.p0(t.dumpUrl).read(e,!0),null,null,null,!1)},guide(){const t=this.buttonList.find((t=>"guide"===t.id));t&&window.open((0,c.u5)(t.url),"_blank","height=886, width=785,resizable=yes, toolbar=no, menubar=no, location=no, scrollbars=yes, status=no")},bodyResize(){let t=!1;991<window.innerWidth?"pc"!==this.screenType?t=!0:this.panelClass.horizon&&(this.beforeDragEvt=null,this.panelContentStyle.width&&document.body.clientWidth-240<=(0,c.tJ)(this.panelContentStyle.width)&&(this.panelContentStyle.width=document.body.clientWidth-240+"px",this.panelContentStyle["margin-left"]=`calc(100% - ${this.panelContentStyle.width})`,localStorage.setItem(`detailLayoutInfo_${this.menuId}`,JSON.stringify({panelLayoutDirection:"horizon",panelContentStyle:this.panelContentStyle,screenType:this.screenType,expand:this.panelClass.expand}))),this.$emit("detailHorizonResize",{detailWidth:document.querySelector("#panel .panel-content").clientWidth})):this.panelClass.horizon?t=!0:767<window.innerWidth?t="tablet"!==this.screenType:767>=window.innerWidth&&(t="mobile"!==this.screenType),this.screenType=991<window.innerWidth?"pc":767<window.innerWidth?"tablet":"mobile",t&&this.changeLayout("vertical"),this.panelClass.vertical&&document.body.clientHeight<document.querySelector("#panel .panel-content").clientHeight&&this.changeLayout("vertical")},mousedown(t){if(!t.target.classList.contains("resize-bar"))return;const e=()=>{document.body.removeEventListener("mousemove",a),document.body.removeEventListener("mouseup",e),document.body.removeEventListener("mouseleave",i)},a=t=>{this.detailResize(t),t.preventDefault()},i=()=>{document.body.removeEventListener("mousemove",a),document.body.removeEventListener("mouseup",e),document.body.removeEventListener("mouseleave",i)};document.body.addEventListener("mousemove",a),document.body.addEventListener("mouseup",e),document.body.addEventListener("mouseleave",i)},detailResize(t){if(this.panelClass.vertical){if(0===t.clientY)return;if(null!==this.panelContentStyle.width&&(this.panelContentStyle.width=null),null!==this.panelContentStyle["margin-left"]&&(this.panelContentStyle["margin-left"]=null),this.beforeDragEvt?t.clientY<this.beforeDragEvt.clientY?this.panelContentStyle.height=`${(0,c.tJ)(this.panelContentStyle.height)+(this.beforeDragEvt.clientY-t.clientY)}px`:this.panelContentStyle.height=(0,c.tJ)(this.panelContentStyle.height)-(t.clientY-this.beforeDragEvt.clientY)+"px":(this.beforeDragEvt=t,this.panelContentStyle.height=`${document.querySelector("#panel .panel-content").clientHeight}px`),document.body.clientHeight-(992<=window.innerWidth?72:50)<=(0,c.tJ)(this.panelContentStyle.height))return void(this.panelContentStyle.height=document.body.clientHeight-(992<=window.innerWidth?72:50)+"px");if((0,c.tJ)(this.panelContentStyle.height)<100)return void(this.panelContentStyle.height="100px")}else{if(0===t.clientX)return;if(null!==this.panelContentStyle.height&&(this.panelContentStyle.height=null),this.beforeDragEvt?t.clientX<this.beforeDragEvt.clientX?this.panelContentStyle.width=`${(0,c.tJ)(this.panelContentStyle.width)+(this.beforeDragEvt.clientX-t.clientX)}px`:this.panelContentStyle.width=(0,c.tJ)(this.panelContentStyle.width)-(t.clientX-this.beforeDragEvt.clientX)+"px":(this.beforeDragEvt=t,this.panelContentStyle.width=`${document.querySelector("#panel .panel-content").clientWidth}px`),992<=window.innerWidth&&document.getElementById("sidebar")&&!document.body.classList.contains("sidebar-toggled")){if(document.body.clientWidth-240<=(0,c.tJ)(this.panelContentStyle.width))return void(this.panelContentStyle.width=document.body.clientWidth-240+"px");if((0,c.tJ)(this.panelContentStyle.width)<240)return void(this.panelContentStyle.width="240px")}this.panelContentStyle["margin-left"]=`calc(100% - ${this.panelContentStyle.width})`,this.$emit("detailHorizonResize",{detailWidth:(0,c.tJ)(this.panelContentStyle.width)})}this.beforeDragEvt=t,c.dc.$emit("MainResize"),this.panelClass.expand=!1,localStorage.setItem(`detailLayoutInfo_${this.menuId}`,JSON.stringify({panelLayoutDirection:this.panelClass.horizon?"horizon":"vertical",panelContentStyle:this.panelContentStyle,screenType:this.screenType,expand:this.panelClass.expand}))},changeLayout(t){this.panelClass.horizon="horizon"===t,this.panelClass.vertical="vertical"===t,this.panelClass.expand=this.constantsInfo.isDetailExpand,this.panelContentStyle.width=null,this.panelContentStyle.height=null,this.panelContentStyle["margin-left"]=null,localStorage.setItem(`detailLayoutInfo_${this.menuId}`,JSON.stringify({panelLayoutDirection:this.panelClass.horizon?"horizon":"vertical",panelContentStyle:this.panelContentStyle,screenType:this.screenType,expand:this.panelClass.expand})),this.beforeDragEvt=null,this.$nextTick((()=>{this.$emit("detailHorizonResize",{detailWidth:this.panelClass.horizon?document.querySelector("#panel .panel-content").clientWidth:null})}))},getMenuIconUrl(t){return(0,c.u5)(`/custom/img/${t}.svg`)},setSelectedInfoTitle(){if(["modify","detail","done"].find((t=>t===this.panelMode))){const t=this.detailConstants.selectedInfoTitleKey,e=t&&t[this.menuId]?t[this.menuId]:this.pk;if(this.selectedInfoTitle="",e.forEach((t=>{"undefined"!==typeof this.detailData[t]&&0!==String(this.detailData[t]).trim().length&&(this.selectedInfoTitle+=String(this.detailData[t]),1<e.length&&(this.selectedInfoTitle+=", "))})),0<this.selectedInfoTitle.length){let t=this.selectedInfoTitle.trim();t.endsWith(",")&&(t=t.substring(0,t.length-1)),this.selectedInfoTitle=" - "+t}}else this.selectedInfoTitle=""},goMetaHistoryModal(){const t=this,{className:e,entityIdKey:i}=this.buttonList.find((t=>"metaHistory"===t.id));let s="";Array.isArray(i)?i.forEach((t=>{s+=`[${this.detailData[t]}]`})):s+=this.detailData[i];const n=this.$openModal({title:this.$t("common.metaHistory"),modalWidth:"1280px",modalHeight:"800px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t\t       <Search :list="searchList" @search="search" ref="search"/>\n\t\t\t\t\t\t\t\t\t   <Main\n\t\t\t\t\t\t\t\t\t\t :buttonList="buttonList"\n\t\t\t\t\t\t\t\t\t\t :gridInfo="gridInfo"\n\t\t\t\t\t\t\t\t\t\t :gridSearchObj="gridSearchObj"\n\t\t\t\t\t\t\t\t\t\t :gridType="\'modalBasic\'"\n\t\t\t\t\t\t\t\t\t\t :gridResizeFunc="resize"\n\t\t\t\t\t\t\t\t\t\t :viewer="true"\n\t\t\t\t\t\t\t\t\t\t @rowClicked="rowClicked"\n\t\t\t\t\t\t\t\t\t\t @initialize="initialize"\n\t\t\t\t\t\t\t\t\t   />\n\t\t\t\t\t\t\t\t   </div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:[{type:"singleDaterange",vModel:"modifyDateTimeFrom",label:this.$t("head.from"),dateRangeType:"from"},{type:"singleDaterange",vModel:"modifyDateTimeTo",label:this.$t("head.to"),dateRangeType:"to"},{type:"text",vModel:"entityId",label:this.$t("common.metaHistory.entityId"),placeholder:this.$t("head.searchId"),val:s,readonly:!0},{type:"select",vModel:"modifyType",label:this.$t("common.metaHistory.modifyType"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.MetaHistory.Type"},orderByKey:!0},optionListName:"metaHistoryTypes",optionFor:"option in metaHistoryTypes",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0}],gridInfo:{url:"/api/entity/metaHistory/search",totalCntUrl:"/api/entity/metaHistory/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.update.timestamp"),name:"pk.modifyDateTime",width:"35%",align:"center",formatter:t=>t.value.substring(0,19)},{header:"Entity Version",name:"entityVersion",width:"10%",align:"right"},{header:this.$t("common.metaHistory.modifyType"),name:"modifyType",width:"20%",align:"center",formatter:t=>{const e=t.row.modifyType;return"D"==e?this.$t("head.delete"):"I"==e?this.$t("head.insert"):"R"==e?this.$t("common.metaHistory.restore"):"U"==e?this.$t("head.update"):""}},{header:this.$t("head.update.userId"),name:"updateUserId",width:"35%"}]}},gridSearchObj:{}}},mounted(){this.$nextTick((()=>{this.search(this.$refs.search.getSearchObj())}))},methods:{search(t){t.equalSearch=!0,t.entityName=e,this.gridSearchObj=t},initialize(){this.$refs.search.initialize()},resize(t){t&&this.$nextTick((()=>{const e=n.$el.querySelector(".modal-body"),a=getComputedStyle(e),i=(0,c.tJ)(a.getPropertyValue("padding-left")),s=(0,c.tJ)(a.getPropertyValue("padding-right")),o=(0,c.tJ)(a.getPropertyValue("padding-top")),r=(0,c.tJ)(a.getPropertyValue("padding-bottom")),l=e.clientWidth-i-s;t.invoke("setWidth",l);const d=e.querySelector(".ct-header").offsetHeight,p=e.querySelector(".sub-bar").offsetHeight,h=e.querySelector(".tui-grid-pagination"),u=getComputedStyle(h),m=(0,c.tJ)(u.getPropertyValue("margin-top")),g=(0,c.tJ)(u.getPropertyValue("margin-bottom")),f=h.offsetHeight,y=e.clientHeight-o-r-d-p-f-m-g;t.invoke("setHeight",y)}))},async rowClicked(e){const{data:{object:i}}=await new c.p0("/api/entity/metaHistory/object").read(e),s=this.$openModal({title:"Modified Contents",modalWidth:"1280px",modalHeight:"1000px",contentList:[{template:'<div><Modified :detailData="detailData"/></div>',components:{Modified:a(27489)["default"]},data(){return{detailData:null}},mounted(){this.detailData={beforeDataString:i.beforeDataString,afterDataString:i.afterDataString}}}],buttonList:t.metaHistoryPrivilege.editor&&i.beforeDataString?[{template:'<button type="button" @click="restore" class="btn btn-primary">{{ $t(\'common.metaHistory.restore\') }}</button>',methods:{async restore(){const e=await new c.p0("/api/entity/metaHistory/restore").create(i,!0);"ok"===e.data.result?(this.$alert({type:"normal",message:this.$t("head.restore.notice")}),t.setData({data:{result:"ok"}},"head.update.notice"),n.hideModal(),s.hideModal()):this.$alert({type:"warn",message:this.$t("head.fail.notice")})}}}]:[]})}}}]})},goReferenceModal(){const{className:t}=this.buttonList.find((t=>"reference"===t.id)),e={params:{className:t}},i=this.detailData,s=this.$openModal({title:this.$t("head.referenceTreeInfo"),modalWidth:"1000px",modalHeight:"700px",contentList:[{template:'<div>\n\t\t\t\t\t\t       \t       <DetailPublishGrid :detailData="detailData" :detailInfo="detailInfo" type="modal" />\n\t\t\t\t\t\t   \t\t   </div>',components:{DetailPublishGrid:a(91881).Z},data(){return{detailInfo:e,detailData:i}}}],buttonList:[{template:'<button type="button" @click="download" class="btn btn-primary">{{ $t(\'head.excel.output\') }}</button>',methods:{download(){s.$refs.content[0].$children[0].exportExcel(),s.hideModal()}}}]})}}},w=x,k=(0,b.Z)(w,i,s,!1,null,null,null),A=k.exports},63516:function(t,e,a){"use strict";a.d(e,{Z:function(){return G}});var i=function(){var t=this,e=t._self._c;return e("div",t._l(t.detailInfo.content,(function(a,i){return e("div",{key:i,staticClass:"row frm-row"},t._l(a,(function(s,n){return e("div",{key:n,class:"col-lg-"+12/a.length},t._l(s,(function(a,s){return e("div",{key:s,staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(a.label)+" "),"textEvt"===a.type||t.regExpTypeList.includes(a.type)&&!t.getReadonly(a)?e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt[a.vModel]}/${t.maxLengthCnt[a.vModel]})`)+" ")]):t._e()]),a.isPK||a.isRequired?e("b",{staticClass:"icon-star"}):t._e()]),a.warning&&!t.readonly?e("label",{staticClass:"control-label warningLabel"},[e("span",[t._v(t._s(a.warningLabel))])]):t._e(),e("div",{class:"detail-content-"+(t.regExpTypeList.includes(a.type)&&!t.getReadonly(a)?"regExp":"common"),style:{"padding-left":""+(t.regExpTypeList.includes(a.type)&&!t.getReadonly(a)?"8px":"0px")}},["text"===a.type?e("div",{staticClass:"input-group"},[e("inputText",{ref:`inputText_${i}_${n}_${s}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":t.getReadonly(a),[`regExp-${a.type}`]:!t.getReadonly(a),"view-disabled":!0,dataKey:a.isPK},readonly:t.readonly||t.getReadonly(a),regExpType:a.regExpType,changeEvt:a.changeEvt},on:{setLengthCnt:t.setLengthCnt}}),t.readonly&&a.clickEvt&&!t.isTools?e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.open")},on:{click:function(e){return a.clickEvt(t.$refs[`inputText_${i}_${n}_${s}`][0])}}},[e("i",{staticClass:"icon-link"})]):t._e()],1):"select"===a.type?e("selectBox",{ref:`selectBox_${i}_${n}_${s}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":!0,"view-disabled":!0},readonly:t.readonly||t.getReadonly(a),optionInfo:a.optionInfo}}):"dataList"===a.type?e("dataList",{ref:`dataList_${i}_${n}_${s}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":t.getReadonly(a),[`regExp-${a.type}`]:!t.getReadonly(a),"view-disabled":!0},readonly:t.readonly||t.getReadonly(a),optionInfo:a.optionInfo,regExpType:a.regExpType,changeEvt:a.changeEvt},on:{setLengthCnt:t.setLengthCnt}}):"textarea"===a.type?e("textArea",{ref:`textArea_${i}_${n}_${s}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":t.getReadonly(a),[`regExp-${a.type}`]:!t.getReadonly(a),"view-disabled":!0},readonly:t.readonly||t.getReadonly(a),height:a.height,regExpType:a.regExpType},on:{setLengthCnt:t.setLengthCnt}}):"radio"===a.type?e("radioGroup",{ref:`radioGroup_${i}_${n}_${s}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"custom-control":!0,"custom-radio single":!0,"view-disabled":!0},readonly:t.readonly||t.getReadonly(a),radioInfo:a.radioInfo}}):"checkBox"===a.type?e("checkBoxGroup",{ref:`checkBoxGroup_${i}_${n}_${s}`,refInFor:!0,attrs:{vModel:a.vModel,checkboxInfo:a.checkboxInfo,optionListData:this.transactionList,classObject:{"custom-control":!0,"custom-checkbox single":!0,"view-disabled":!0}}}):"singleDaterange"===a.type?e("dateRange",{ref:`dateRange_${i}_${n}_${s}`,refInFor:!0,attrs:{vModel:a.vModel,readonly:t.readonly||t.getReadonly(a),customOptions:a.options}}):t._e(),"time"===a.type?e("timePicker",{ref:`timePicker_${i}_${n}_${s}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":!0},readonly:t.readonly||t.getReadonly(a)}}):"password"===a.type?e("div",{staticClass:"input-group",staticStyle:{"flex-wrap":"nowrap"}},[e("passWord",{ref:`passWord_${i}_${n}_${s}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":t.getReadonly(a),[`regExp-${a.type}`]:!t.getReadonly(a),"view-disabled":!0},readonly:t.readonly||t.getReadonly(a),regExpType:a.regExpType},on:{setLengthCnt:t.setLengthCnt}}),t.readonly?t._e():e("i",{staticClass:"icon-eye password-eye",on:{click:function(e){t.$refs[`passWord_${i}_${n}_${s}`][0].changeType()}}})],1):"modal"===a.type?e("div",{staticClass:"input-group"},[e("inputText",{ref:`inputText_${i}_${n}_${s}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":!0,"view-disabled":!0,dataKey:a.isPK},readonly:!0}}),t.readonly&&a.clickEvt&&!t.isTools?e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.open")},on:{click:function(e){return a.clickEvt(t.$refs[`inputText_${i}_${n}_${s}`][0])}}},[e("i",{staticClass:"icon-link"})]):t._e(),t.readonly||t.getReadonly(a)?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button"},on:{click:function(e){return t.openModal(a.modalInfo,t.$refs[`inputText_${i}_${n}_${s}`])}}},[e("i",{staticClass:"icon-srch"}),t._v(t._s(t.$t("head.search"))+" ")]),t.readonly||t.getReadonly(a)?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button",title:t.$t("head.initialize")},on:{click:function(e){t.$refs[`inputText_${i}_${n}_${s}`][0].setData(null)}}},[e("i",{staticClass:"icon-reset",staticStyle:{"margin-right":"0px"}})])],1):"textEvt"===a.type?e("div",{staticClass:"input-group"},[e("inputText",{ref:`inputText_${i}_${n}_${s}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":!0,"view-disabled":!0,dataKey:a.isPK},readonly:t.readonly||t.getReadonly(a)},on:{setLengthCnt:t.setLengthCnt}}),t.readonly||t.getReadonly(a)?t._e():e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{type:"button",title:a.btnInfo&&a.btnInfo.title?a.btnInfo.title:""},on:{click:function(e){a.btnInfo&&a.btnInfo.clickEvt&&a.btnInfo.clickEvt(t.$refs[`inputText_${i}_${n}_${s}`][0])}}},[e("i",{class:a.btnInfo&&a.btnInfo.iconClass?a.btnInfo.iconClass:"icon-srch"})])],1):"groupModal"===a.type?e("div",{staticClass:"input-group"},[e("inputText",{ref:`inputText_${i}_${n}_${s}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":!0,"view-disabled":!0,dataKey:a.isPK},readonly:t.readonly||t.getReadonly(a)}}),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button",disabled:a.readonly},on:{click:function(e){return t.openGroupModal(a,t.$refs[`inputText_${i}_${n}_${s}`])}}},[e("i",{staticClass:"icon-srch",staticStyle:{"margin-right":"0px"}})]),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button",disabled:a.readonly,title:t.$t("head.initialize")},on:{click:function(e){t.$refs[`inputText_${i}_${n}_${s}`][0].setData(null)}}},[e("i",{staticClass:"icon-reset",staticStyle:{"margin-right":"0px"}})])],1):t._e()],1)])})),0)})),0)})),0)},s=[],n=(a(57658),a(31823)),o=a.n(n),r=a(63822),l=a(37662),d=a(53308),c=a(3441),p=a(12907),h=a(30129),u=function(){var t=this,e=t._self._c;return e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.obj[t.vModel],expression:"obj[vModel]"}],class:t.classObject,style:{"min-height":t.height},attrs:{readonly:t.readonly,maxlength:t.maxLength},domProps:{value:t.obj[t.vModel]},on:{input:[function(e){e.target.composing||t.$set(t.obj,t.vModel,e.target.value)},t.input]}})},m=[],g={name:"textArea",props:{vModel:String,classObject:Object,readonly:{type:Boolean,default:!1},val:{type:String,default:null},regExpType:{type:String,default:"default"},height:{type:String,default:"100px"}},data(){return{obj:{},maxLength:null,regExp:null}},created(){for(let t in this.$data.obj)this.$delete(this.$data.obj,t);this.$set(this.obj,this.vModel,null),this.maxLength=(0,l.oo)(this.regExpType).maxLength,this.regExp=(0,l.oo)(this.regExpType).regExp,this.setData(this.val)},watch:{val(){this.setData(this.val)}},methods:{setData(t){this.obj[this.vModel]=t,this.setLengthCnt()},getData(){return{[this.vModel]:this.obj[this.vModel]?this.obj[this.vModel]:"num"===this.regExpType?null:this.obj[this.vModel]}},input(t){this.obj[this.vModel]=t.target.value,this.setLengthCnt()},setLengthCnt(){if("string"!==typeof this.obj[this.vModel])return;this.obj[this.vModel]=this.obj[this.vModel].replace(new RegExp(this.regExp,"g"),"");const t=this.obj[this.vModel].length;t>this.maxLength||this.$emit("setLengthCnt",{[this.vModel]:t})}}},f=g,y=a(43736),v=(0,y.Z)(f,u,m,!1,null,null,null),b=v.exports,$=a(13671),I=a(78103),C=function(){var t=this,e=t._self._c;return e(t.optionElement,{ref:"component",tag:"component",attrs:{classObject:t.classObject,readonly:t.readonly,optionListData:t.optionListData}})},x=[],w={name:"selectBox",props:{vModel:String,classObject:Object,readonly:{type:Boolean,default:!1},radioInfo:Object,val:{type:String,default:null},optionListData:Array},watch:{val(){this.setData(this.val)}},methods:{setData(t){this.$refs.component.setData(t)},getData(){return this.$refs.component.getData()}},data(){return{optionElement:{template:`\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label v-for="${this.radioInfo.optionFor}" :key="${this.radioInfo.optionText}"  style="padding-right: 30px;">\n\t\t\t\t\t\t\t<input type="radio" class="custom-control-input" \n\t\t\t\t\t\t\t\tv-model="obj['${this.vModel}']"\n\t\t\t\t\t\t\t\t:value="${this.radioInfo.optionText}"\n\t\t\t\t\t\t\t\t:disabled="readonly" \n\t\t\t\t\t\t\t\t${this.isEvent&&this._events.changeEvt?'@change="changeEvt"':""} />\n\t\t\t\t\t\t\t<span class="custom-control-label" v-text="${this.radioInfo.optionValue}" style="padding-left: 5px;"/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t`,props:{classObject:Object,readonly:Boolean,optionListData:Array},data:(()=>{const t={vModelName:this.vModel,optionListName:this.radioInfo.optionListName,obj:{[this.vModel]:this.val},[this.radioInfo.optionListName]:[],url:this.radioInfo.url,params:this.radioInfo.params?this.radioInfo.params:null,HttpReq:null};return function(){return t}})(),watch:{optionListData:{immediate:!0,handler(){this[this.optionListName]=this.optionListData}}},async created(){if(!this.url)return;this.HttpReq=new l.p0(this.url);const t=await this.HttpReq.read(this.params);"ok"===t.data.result&&(this[this.optionListName]=t.data.object)},methods:{setData(t){this.obj[this.vModelName]=t},getData(){return{[this.vModelName]:this.obj[this.vModelName]?this.obj[this.vModelName]:" "}},changeEvt(){this.$emit("changeEvt",{key:this.vModelName,value:this.obj[this.vModelName]})}}}}}},k=w,A=(0,y.Z)(k,C,x,!1,null,null,null),T=A.exports,L=function(){var t=this,e=t._self._c;return e(t.checkboxElement,{ref:"component",tag:"component",staticStyle:{"padding-left":"0"},attrs:{classObject:t.classObject,readonly:t.readonly,optionListData:t.optionListData},on:{changeEvt:t.changeEvt}})},D=[],M={name:"selectBox",props:{vModel:String,classObject:Object,readonly:{type:Boolean,default:!1},checkboxInfo:Object,val:{type:Array,default:()=>[]},isEvent:{type:Boolean,default:!0},optionListData:Array},watch:{val(){this.setData(this.val)}},methods:{setData(t){this.$refs.component.setData(t)},getData(){return this.$refs.component.getData()},changeEvt(t){this.$emit("changeEvt",t)}},data(){return{checkboxElement:{template:`\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label v-for="${this.checkboxInfo.optionFor}" :key="${this.checkboxInfo.optionText}" style="padding-right: 10px;">\n\t\t\t\t\t\t\t<input type="checkbox" class="custom-control-input" \n\t\t\t\t\t\t\t\tv-model="obj['${this.vModel}']"\n\t\t\t\t\t\t\t\t:value="${this.checkboxInfo.optionText}"\n\t\t\t\t\t\t\t\t:disabled="readonly"\n\t\t\t\t\t\t\t\t${this.isEvent&&this._events.changeEvt?'@change="changeEvt"':""} \n\t\t\t\t\t\t\t\tstyle="position: relative; width: 0.75rem; height: 1.05rem;" />\n\t\t\t\t\t\t\t<span class="custom-control-label" v-text="${this.checkboxInfo.optionValue}" style="padding-left: 5px;" />\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t`,props:{classObject:Object,readonly:Boolean,optionListData:Array},data:(()=>{const t={vModelName:this.vModel,optionListName:this.checkboxInfo.optionListName,obj:{[this.vModel]:this.val},[this.checkboxInfo.optionListName]:[],url:this.checkboxInfo.url,params:this.checkboxInfo.params?this.checkboxInfo.params:null,HttpReq:null};return function(){return t}})(),watch:{optionListData:{immediate:!0,handler(){this[this.optionListName]=this.optionListData}}},async created(){if(!this.url)return;this.HttpReq=new l.p0(this.url);const t=await this.HttpReq.read(this.params);"ok"===t.data.result&&(this[this.optionListName]=t.data.object)},methods:{setData(t){this.obj[this.vModelName]=t},getData(){return{[this.vModelName]:this.obj[this.vModelName]?this.obj[this.vModelName]:[]}},changeEvt(){this.$emit("changeEvt",{key:this.vModelName,value:this.obj[this.vModelName]})}}}}}},_=M,S=(0,y.Z)(_,L,D,!1,null,null,null),E=S.exports,R=a(66281),j=a.n(R),O=a(77285),N=a.n(O),P={name:"DetailBasic",props:{mode:{type:String,default:null},detailInfo:Object,detailData:Object},components:{inputText:d.Z,selectBox:c.Z,dataList:p.Z,passWord:h.Z,textArea:b,dateRange:$.Z,timePicker:I.Z,radioGroup:T,checkBoxGroup:E},data(){return{curLengthCnt:{},maxLengthCnt:{}}},computed:{...(0,r.rn)(["regExpTypeList","isTools"]),readonly(){return"detail"===this.mode||"done"===this.mode}},watch:{detailData:{deep:!0,handler(){this.initData()}}},methods:{initData(){const t={};this.detailInfo.content.forEach((e=>{e.forEach((e=>{e.forEach((e=>{let a="undefined"!==typeof this.detailData[e.vModel]&&null!==this.detailData[e.vModel]?String(this.detailData[e.vModel]):"undefined"!==typeof e.val?e.val:null;e.formatter&&(a=e.formatter(a)),t[e.vModel]=a,this.setLengthCnt({[e.vModel]:0}),this.maxLengthCnt[e.vModel]=(0,l.oo)(e.regExpType?e.regExpType:"default").maxLength}))}))}));for(const e in this.$refs)this.$refs[e][0].setData(t[this.$refs[e][0]._props.vModel])},getData(){let t={};for(let e in this.$refs)0!==this.$refs[e].length&&(t=o()(t,this.$refs[e][0].getData()));return t},getReadonly(t){const e="function"===typeof t.readonly?t.readonly(this.detailData?this.detailData:{}):t.readonly;return this.readonly||e||t.isPK&&"modify"===this.mode},setLengthCnt(t){this.curLengthCnt={...this.curLengthCnt,...t}},openModal(t,e){const i=this.$openModal({...t,modalWidth:"800px",contentList:[{template:'<div>\n\t\t\t\t\t\t       <Search :list="searchList" @search="search" ref="search"/>\n\t\t\t\t\t\t\t     <Main\n\t\t\t\t\t\t\t   \t   :buttonList="buttonList"\n\t\t\t\t\t\t\t\t   :gridInfo="gridInfo"\n\t\t\t\t\t\t\t\t   :gridSearchObj="gridSearchObj"\n\t\t\t\t\t\t\t\t   :gridType="\'modalBasic\'"\n\t\t\t\t\t\t\t\t   :viewer="true"\n\t\t\t\t\t\t\t\t   @rowClicked="rowClicked"\n\t\t\t\t\t\t\t\t   @initialize="initialize"\n\t\t\t\t\t\t\t   />\n\t\t\t\t\t\t   </div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:[],buttonList:[],gridInfo:{},gridSearchObj:{}}},created(){const{search:e,button:a,grid:i}=t;this.searchList=e.list,this.buttonList=a.list,this.gridInfo=i},methods:{search(t){this.gridSearchObj=t},rowClicked(a){e[0].setData(t.rowClickedCallback(a)),i.hideModal()},initialize(){this.$refs.search.initialize()}}}]})},openGroupModal(t,e){const{modalInfo:i,vModel:s}=t,n=this.$openModal({...i,contentList:[{template:'<div>\n\t\t\t\t\t\t\t\t\t<Search :list="searchList" @search="search" ref="search"/>\n\t\t\t\t\t\t\t\t\t<div class="ct-content">\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t:list="buttonList"\n\t\t\t\t\t\t\t\t\t\t\t:viewer="true"\n\t\t\t\t\t\t\t\t\t\t\t:totalCnt="null"\n\t\t\t\t\t\t\t\t\t\t\t:currentCnt="null"\n\t\t\t\t\t\t\t\t\t\t\t@initialize="initialize"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<NoData v-if="!isGridView" />\n\t\t\t\t\t\t\t\t\t\t<div class="table-responsive" style="height: 300px" v-else>\n\t\t\t\t\t\t\t\t\t\t\t<TuiGrid ref="tuiGrid" v-bind="options" @click="rowClicked" />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>',components:{Search:a(96434).Z,Button:a(19286).Z,NoData:a(48578).Z,TuiGrid:a(37856).Grid},data(){return{searchList:[],buttonList:[{id:"initialize",isUse:!0}],totalCnt:null,isGridView:!1,dataList:[],gridInfo:{}}},async created(){const{search:t,grid:e}=i;this.searchList=t.list,this.gridInfo=e,this.options=(0,l.d_)(this.gridInfo.options);const a=await new l.p0(this.gridInfo.url).read();"ok"===a.data.result&&(this.dataList=j()(a.data.object))},methods:{search(t){this.isGridView=!0,this.$nextTick((()=>{let e=[];e=N()(t[s])?this.dataList:this.dataList.filter((e=>e.includes(t[s])));const a=this.initTreeData(e,s);this.$refs.tuiGrid.invoke("resetData",a)}))},initTreeData(t,e){const a=[];for(const i of t){const[t,...s]=i.split("."),n=a.find((a=>a[e]===t));let o={};n?o=n:(o={[e]:t,key:t},a.push(o));let r=o;for(const a of s){r._children||(r._children=[]);const t=r._children.find((t=>t[e]===a));t?r=t:(r._children.push({[e]:a,key:`${r.key}.${a}`}),r=r._children.at(-1))}}return a},rowClicked(t){if("undefined"===typeof t.rowKey||"rowHeader"===t.targetType)return;const a=this.$refs.tuiGrid.invoke("getRow",t.rowKey);e[0].setData(i.rowClickedCallback(a)),n.hideModal()},initialize(){this.$refs.search.initialize()}}}]})}}},B=P,V=(0,y.Z)(B,i,s,!1,null,null,null),G=V.exports},46342:function(t,e,a){"use strict";a.d(e,{Z:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-responsive"},[e("TuiGrid",t._b({ref:"tuiGrid"},"TuiGrid",t.options,!1))],1)},s=[],n=a(37856),o=a(37662),r={name:"DetailGrid",components:{TuiGrid:n.Grid},props:{mode:String,detailInfo:Object,detailData:Object},data(){return{options:{}}},watch:{detailData(){this.detailData[this.detailInfo.dataKey]&&(this.$refs.tuiGrid.invoke("resetData",this.detailData[this.detailInfo.dataKey].map((t=>(0,o.Np)(t)))),this.resize())}},created(){o.dc.$on("MainResize",this.resize),o.Gk.$on("MainResize",this.resize),o.bB.$on("MainResize",this.resize),o.QK.$on("MainResize",this.resize),this.options=(0,o.d_)(this.detailInfo.options),this.resize()},methods:{resize(){if(!this.$refs.tuiGrid)return;const t=document.getElementById("panel"),e=t.getElementsByClassName("panel-body")[0],a=getComputedStyle(e),i=(0,o.tJ)(a.getPropertyValue("padding-left")),s=(0,o.tJ)(a.getPropertyValue("padding-right")),n=(0,o.tJ)(a.getPropertyValue("padding-top")),r=(0,o.tJ)(a.getPropertyValue("padding-bottom"));this.$refs.tuiGrid.invoke("setWidth",e.clientWidth-i-s),this.$refs.tuiGrid.invoke("setHeight",e.clientHeight-n-r)}}},l=r,d=a(43736),c=(0,d.Z)(l,i,s,!1,null,null,null),p=c.exports},21783:function(t,e,a){"use strict";a.d(e,{Z:function(){return C}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"propertyTab"},[e("div",{staticClass:"form-table form-table-responsive"},[e("div",{staticClass:"form-table-head"},[t.readonly?t._e():e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.insert")},on:{click:t.addProperty}},[e("i",{staticClass:"icon-plus-circle"})]),t._l(t.detailInfo.content,(function(a,i){return e("label",{key:i,staticClass:"col"},[t._v(t._s(a.label))])}))],2),e("div",{staticClass:"form-table-wrap"},t._l(t.propertyList,(function(a,i){return e("div",{key:`${a.idx}`,staticClass:"form-table-body"},[t.readonly?t._e():e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.delete")},on:{click:function(e){return t.removeProperty(i)}}},[e("i",{staticClass:"icon-minus-circle"})]),t._l(t.detailInfo.content,(function(s,n){return e("div",{key:`${a.idx}_${n}`,staticClass:"col"},[e("div",{class:"detail-content-"+(t.regExpTypeList.includes(s.type)&&!t.getReadonly(s)?"regExp":"common")},["text"===s.type?e("inputText",{ref:`component_${i}_${n}`,refInFor:!0,attrs:{vModel:s.vModel,classObject:{"form-control":t.getReadonly(s),[`regExp-${s.type}`]:!t.getReadonly(s),"view-disabled":!0,dataKey:s.isRequired},val:a[s.vModel],regExpType:s.regExpType,clickEvt:s.clickEvt,readonly:t.readonly||s.readonly,changeEvt:s.changeEvt},on:{setLengthCnt:e=>t.setLengthCnt({[`${s.vModel}_${i}`]:e[s.vModel]})}}):"dataList"===s.type?e("dataList",{ref:`component_${i}_${n}`,refInFor:!0,attrs:{vModel:s.vModel,classObject:{"form-control":t.getReadonly(s),[`regExp-${s.type}`]:!t.getReadonly(s),"view-disabled":!0,dataKey:s.isRequired},val:a[s.vModel],readonly:t.readonly||s.readonly,optionInfo:s.optionInfo,regExpType:s.regExpType},on:{setLengthCnt:e=>t.setLengthCnt({[`${s.vModel}_${i}`]:e[s.vModel]})}}):"select"===s.type?e("selectBox",{ref:`component_${i}_${n}`,refInFor:!0,attrs:{vModel:s.vModel,classObject:{"form-control":!0,"view-disabled":!0},val:a[s.vModel],readonly:t.readonly||s.readonly,optionInfo:s.optionInfo}}):"singleDaterange"===s.type?e("dateRange",{ref:`component_${i}_${n}`,refInFor:!0,attrs:{vModel:s.vModel,val:a[s.vModel],readonly:t.readonly||s.readonly}}):"password"===s.type?e("passWord",{ref:`component_${i}_${n}`,refInFor:!0,attrs:{vModel:s.vModel,classObject:{"form-control":!0,"view-disabled":!0},readonly:t.readonly||s.readonly}}):"modal"===s.type?e("div",{staticClass:"input-group"},[e("inputText",{ref:`component_${i}_${n}`,refInFor:!0,staticStyle:{width:"calc(100% - 110px)"},attrs:{vModel:s.vModel,classObject:{"form-control":!0,"view-disabled":!0,dataKey:s.isRequired},val:a[s.vModel],readonly:!0}}),t.readonly&&s.clickEvt&&!t.isTools?e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.open")},on:{click:function(e){return s.clickEvt(t.$refs[`component_${i}_${n}`][0])}}},[e("i",{staticClass:"icon-link"})]):t._e(),t.readonly||s.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"3px","min-width":"0px"},attrs:{type:"button"},on:{click:function(e){return t.openModal(s.modalInfo,t.$refs[`component_${i}_${n}`])}}},[e("i",{staticClass:"icon-srch"}),t._v(t._s(t.$t("head.search"))+" ")]),t.readonly||s.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"3px","min-width":"0px","padding-left":"0.5rem"},attrs:{type:"button",title:t.$t("head.initialize")},on:{click:function(e){t.$refs[`component_${i}_${n}`][0].setData(null)}}},[e("i",{staticClass:"icon-reset",staticStyle:{"margin-right":"0px"}})])],1):t._e(),t.regExpTypeList.includes(s.type)&&!t.getReadonly(s)?e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt[`${s.vModel}_${i}`]} /${t.maxLengthCnt[`${s.vModel}_${i}`]})`)+" ")]):t._e()],1)])}))],2)})),0)])])},s=[],n=(a(57658),a(63822)),o=a(31823),r=a.n(o),l=a(77285),d=a.n(l),c=a(66997),p=a.n(c),h=a(37662),u=a(53308),m=a(3441),g=a(12907),f=a(13671),y=a(30129),v={name:"DetailProperty",data(){return{propertyList:[],httpReq:null,curLengthCnt:{},maxLengthCnt:{},regexpElmList:[]}},props:{mode:String,detailInfo:Object,detailData:Object},components:{inputText:u.Z,dataList:g.Z,selectBox:m.Z,dateRange:f.Z,passWord:y.Z},computed:{...(0,n.rn)(["regExpTypeList","isTools"]),readonly(){return"detail"===this.mode||"done"===this.mode}},created(){this.detailInfo.mergeUrl&&(this.httpReq=new h.p0(this.detailInfo.mergeUrl))},watch:{detailData:{deep:!0,handler(){this.setPropertyList()}}},methods:{getData(){const t=this.detailInfo.dataKey,e=[];return this.propertyList.forEach(((t,a)=>{let i={};this.detailInfo.content.forEach(((t,e)=>{i=r()(i,this.$refs[`component_${a}_${e}`][0].getData())})),e.push((0,h.Fh)(i))})),t?{[t]:e}:e},addProperty(){const t=this.detailInfo.addRowInfo?this.detailInfo.addRowInfo.type:"common";if("modal"==t)this.openModal(this.detailInfo.addRowInfo.modalInfo);else{const t={idx:(0,h.Fs)()};this.detailInfo.content.forEach((e=>{const a=`${e.vModel}_${this.propertyList.length}`;this.setLengthCnt({[a]:0}),this.maxLengthCnt[a]=(0,h.oo)(e.regExpType?e.regExpType:"default").maxLength,t[e.vModel]=e.val?e.val:null})),this.propertyList.push(t)}},removeProperty(t){this.propertyList.splice(t,1),this.curLengthCnt={},this.maxLengthCnt={},this.$nextTick((()=>{this.propertyList.forEach(((t,e)=>{this.detailInfo.content.forEach(((t,a)=>{const i=`${t.vModel}_${e}`,s=this.$refs[`component_${e}_${a}`][0].getData();this.setLengthCnt({[i]:p()(s[t.vModel])?0:String(s[t.vModel]).length}),this.maxLengthCnt[i]=(0,h.oo)(t.regExpType?t.regExpType:"default").maxLength}))}))}))},async setPropertyList(){if(d()(this.detailData))this.propertyList=[];else{if("undefined"!==typeof this.detailData[this.detailInfo.dataKey]){this.propertyList=[...this.detailData[this.detailInfo.dataKey]];let t=null;if(this.httpReq&&(t=await this.httpReq.read(r()(this.detailInfo.params,this.detailData)),"ok"!==t.data.result))return void this.$alert({type:"warn",message:`${t.data.error[0].message}`});this.detailInfo.setPropertyCallBack&&(this.propertyList=this.detailInfo.setPropertyCallBack(this.propertyList,t?t.data.object:null)),this.regexpElmList=this.detailInfo.content.filter((t=>this.regExpTypeList.includes(t.type))),this.propertyList.forEach(((t,e)=>{t.idx=(0,h.Fs)(),this.regexpElmList.forEach((a=>{const i=`${a.vModel}_${e}`;this.setLengthCnt({[i]:t[a.vModel]?t[a.vModel].length:0}),this.maxLengthCnt[i]=(0,h.oo)(a.regExpType?a.regExpType:"default").maxLength}))}))}else this.propertyList=[];this.propertyList=this.propertyList.map((t=>(0,h.Np)(t)))}},setLengthCnt(t){this.curLengthCnt={...this.curLengthCnt,...t}},getReadonly(t){return this.readonly||t.readonly},openModal(t,e){const i=this.$openModal({...t,modalWidth:"800px",contentList:[{template:'<div>\n\t\t\t\t\t\t       \t<Search :list="searchList" @search="search" ref="search"/>\n\t\t\t\t\t\t\t\t<Main\n\t\t\t\t\t\t\t   \t   :buttonList="buttonList"\n\t\t\t\t\t\t\t\t   :gridInfo="gridInfo"\n\t\t\t\t\t\t\t\t   :gridSearchObj="gridSearchObj"\n\t\t\t\t\t\t\t\t   :gridType="\'modalBasic\'"\n\t\t\t\t\t\t\t\t   :viewer="true"\n\t\t\t\t\t\t\t\t   @rowClicked="rowClicked"\n\t\t\t\t\t\t\t\t   @initialize="initialize"\n\t\t\t\t\t\t\t   \t/>\n\t\t\t\t\t\t   </div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:[],buttonList:[],gridInfo:{},gridSearchObj:{},rowInfo:{}}},created(){const{search:e,button:a,grid:i}=t;this.searchList=e.list,this.buttonList=a.list,this.gridInfo=i},methods:{search(t){this.gridSearchObj=t},rowClicked:async a=>{const s=await t.rowClickedCallback(a,this.propertyList);if(e)e[0].setData(s);else if(t.addMultiRow)s.propertyInfo.forEach((t=>{this.propertyList.push({...t,idx:(0,h.Fs)()})}));else{if(s.duplicate)return void this.$alert({type:"warn",message:this.$t("head.overlap.data.warn")});this.propertyList.push({...s.propertyInfo,idx:(0,h.Fs)()})}i.hideModal()},initialize(){this.$refs.search.initialize()}}}]})}}},b=v,$=a(43736),I=(0,$.Z)(b,i,s,!1,null,null,null),C=I.exports},91881:function(t,e,a){"use strict";a.d(e,{Z:function(){return b}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"table-responsive"},[e("TuiGrid",t._b({ref:"tuiGrid"},"TuiGrid",t.options,!1))],1)])},s=[],n=(a(57658),a(63822)),o=a(79325),r=a(46342),l=a(77285),d=a.n(l),c=a(66281),p=a.n(c),h=a(36797),u=a.n(h),m=a(37662),g={name:"DetailPublishGrid",extends:r.Z,props:{mode:String,detailData:Object,type:String},data(){return{options:{},params:{},HttpReq:null,resourceTypeList:{"com.inzent.igate.repository.meta.FieldMeta":{label:"igate.fieldMeta",dataId:"fieldId"},"com.inzent.igate.repository.meta.Adapter":{label:"igate.adapter",dataId:"adapterId",menuId:"202030",searchData:"adapterId"},"com.inzent.igate.repository.meta.Interface":{label:"igate.interface",dataId:"interfaceId",menuId:"101050",searchData:"interfaceId"},"com.inzent.igate.repository.meta.InterfacePolicy":{label:"igate.interfacePolicy",isPkData:!0,dataId:"adapterId",menuId:"202030",searchData:"adapterId"},"com.inzent.igate.repository.meta.InterfaceRecognize":{label:"igate.interfaceRecognize",isPkData:!0,dataId:"adapterId",menuId:"101060",searchData:"pk.adapterId"},"com.inzent.igate.repository.meta.Job":{label:"igate.job",dataId:"jobId",menuId:"204010",searchData:"jobId"},"com.inzent.igate.repository.meta.Mapping":{label:"igate.mapping",dataId:"mappingId",menuId:"101020",searchData:"mappingId"},"com.inzent.igate.repository.meta.OnlineHeaderMappingPolicy":{label:"igate.onlineHeaderMappingPolicy",isPkData:!0,dataId:["interfaceAdapterId","serviceAdapterId"],menuId:"203010",searchData:["pk.interfaceAdapterId","pk.serviceAdapterId"],searchLabel:["igate.interface","igate.service"]},"com.inzent.igate.repository.meta.Operation":{label:"igate.operation",dataId:"operationId",menuId:"102070",searchData:"operationId"},"com.inzent.igate.repository.meta.Query":{label:"igate.query",dataId:"queryId",menuId:"101070",searchData:"queryId"},"com.inzent.igate.repository.meta.Record":{label:"igate.modelRecord",dataId:"recordId",menuId:"101010",searchData:"recordId"},"com.inzent.igate.repository.log.ReplyEmulate":{label:"igate.service.replyemulate",isPkData:!0,dataId:"replyId"},"com.inzent.igate.repository.meta.Service":{label:"igate.service",dataId:"serviceId",menuId:"101030",searchData:"serviceId"},"com.inzent.igate.repository.meta.ServicePolicy":{label:"igate.servicePolicy",isPkData:!0,dataId:"adapterId",menuId:"202030",searchData:"adapterId"},"com.inzent.igate.repository.meta.ServiceRecognize":{label:"igate.serviceRecognize",isPkData:!0,dataId:"adapterId",menuId:"101040",searchData:"adapterId"},"com.inzent.igate.repository.log.TestCase":{label:"igate.testcase",isPkData:!0,dataId:"testCaseId"},"com.inzent.igate.repository.log.TestSuite":{label:"igate.testsuite",dataId:"testSuiteId"},"com.inzent.igate.repository.meta.Activity":{label:"igate.activity",dataId:"activityId",menuId:"102060",searchData:"activityId"}}}},computed:{...(0,n.rn)(["menuList"])},watch:{detailData(){this.initData()}},created(){m.dc.$on("MainResize",this.resize),m.Gk.$on("MainResize",this.resize),m.bB.$on("MainResize",this.resize),m.QK.$on("MainResize",this.resize),this.HttpReq=new m.p0("/api/reference/entity"),this.params=this.detailInfo.params,this.options=(0,m.d_)({rowHeight:30,minRowHeight:30,treeColumnOptions:{name:"className"},data:[],columns:[{name:"resourceObject",hidden:!0},{name:"className",header:this.$t("head.publishLog.resource.type"),width:"25%",formatter:({row:t})=>this.$t(this.resourceTypeList[t.className].label)},{name:"resourceName",header:this.$t("head.name"),width:"35%",formatter:({row:t})=>{let e="";return this.resourceTypeList[t.className].searchLabel?this.resourceTypeList[t.className].searchLabel.forEach(((a,i)=>{e+=`<span ${0===t.rowKey?"":'class="link-new-tab"'} >\n\t\t\t\t\t\t\t\t\t${this.$t(a)} ${this.$t("igate.adapter")} ${(0,m.Xv)(t.resourceName.split(",")[i].trim())}\n\t\t\t\t\t\t\t\t</span>`})):e=`<span ${0===t.rowKey||t.className.startsWith("com.inzent.igate.repository.log")?"":'class="link-new-tab"'} >${(0,m.Xv)(t.resourceName)}</span>`,e}},{name:"updateTimestamp",header:this.$t("igate.notice.created.date"),width:"20%",align:"center"},{name:"updateUserId",header:this.$t("igate.notice.writer"),width:"20%"}],onGridUpdated:t=>{t.instance.expand(0,!1)},onGridMounted:t=>{t.instance.on("click",(t=>{if(!t.nativeEvent.target.classList.contains("link-new-tab"))return;const e=t.instance.getRow(t.rowKey),a=this.resourceTypeList[e.className],i=this.menuList.filter((t=>a.menuId===t.menuId)).pop();let s={_pageSize:"10"};-1!==e.resourceName.indexOf(",")?e.resourceName.split(",").forEach(((t,e)=>{s[a.searchData[e]]=t.trim()})):s[a.searchData]=e.resourceName,(0,m.RB)(i.menuId,(()=>{localStorage.removeItem("searchObj"),localStorage.removeItem("detailObj"),localStorage.setItem("searchObj",JSON.stringify(s)),localStorage.setItem("detailObj",JSON.stringify(e.resourceObject))}))})),t.instance.on("expand",(()=>{this.$nextTick(this.resize)})),t.instance.on("collapse",(()=>{this.$nextTick(this.resize)}))}})},mounted(){this.initData()},methods:{async initData(){if(this.$refs.tuiGrid.invoke("clear"),d()(this.detailData))return;const t=await this.HttpReq.read({object:this.detailData,className:this.params.className},!0);"ok"!==t.data.result?this.$alert({type:"warn",message:`${t.data.error[0].message}`}):(this.$refs.tuiGrid.invoke("resetData",[this.initTreeData(t.data.object)]),setTimeout(this.resize,0))},setResourceName(t,e){const a=this.resourceTypeList[t.className];return"object"===typeof a.dataId?Object.values(t.object.pk).join(","):t.className.startsWith("com.inzent.igate.repository.log")?`${e}@${t.object.pk[a.dataId]}`:a.isPkData?t.object.pk[a.dataId]:t.object[a.dataId]},initTreeData(t,e){const a={resourceObject:t.object,className:t.className,resourceName:this.setResourceName(t,e),updateUserId:t.object.updateUserId?t.object.updateUserId:"-",updateTimestamp:t.object.updateTimestamp?(0,m.GD)(t.object.updateTimestamp):"-"};return t.referencing&&0<t.referencing.length&&(a._children=[],t.referencing.forEach((t=>{const e={resourceObject:t.object,className:t.className,resourceName:this.setResourceName(t,a.resourceName),updateUserId:t.object.updateUserId?t.object.updateUserId:"-",updateTimestamp:t.object.updateTimestamp?(0,m.GD)(t.object.updateTimestamp):"-"};t.referencing&&0<t.referencing.length&&(e._children||(e._children=[]),t.referencing.forEach((t=>{e._children.push(this.initTreeData(t,e.resourceName))}))),a._children.push(e)}))),a},exportExcel(){const t={};this.$refs.tuiGrid.invoke("getColumns").forEach((({name:e,header:a,hidden:i})=>{i||(t[e]=a)}));const e=o.utils.book_new(),a=o.utils.json_to_sheet([t,...p()(this.$refs.tuiGrid.invoke("getData")).map((({className:t,resourceName:e,updateUserId:a,updateTimestamp:i})=>({className:this.$t(this.resourceTypeList[t].label),resourceName:e,updateUserId:a,updateTimestamp:i})))],{header:Object.keys(t),skipHeader:!0});a["!cols"]=[{wpx:120},{wpx:250},{wpx:150},{wpx:150}],o.utils.book_append_sheet(e,a,this.$t("head.referenceTreeInfo")),o.writeFile(e,`Reference_${u()(new Date).format("YYYYMMDD_HHmmss")}.xlsx`)},resize(){if(this.$refs.tuiGrid)if("modal"===this.type){const t=document.querySelector(".modal-body"),e=getComputedStyle(t),a=(0,m.tJ)(e.getPropertyValue("padding-left")),i=(0,m.tJ)(e.getPropertyValue("padding-right")),s=(0,m.tJ)(e.getPropertyValue("padding-top")),n=(0,m.tJ)(e.getPropertyValue("padding-bottom"));this.$refs.tuiGrid.invoke("setWidth",t.clientWidth-a-i),this.$refs.tuiGrid.invoke("setHeight",t.clientHeight-s-n-1)}else{const t=document.getElementById("panel"),e=t.getElementsByClassName("panel-body")[0],a=getComputedStyle(e),i=(0,m.tJ)(a.getPropertyValue("padding-left")),s=(0,m.tJ)(a.getPropertyValue("padding-right")),n=(0,m.tJ)(a.getPropertyValue("padding-top")),o=(0,m.tJ)(a.getPropertyValue("padding-bottom"));this.$refs.tuiGrid.invoke("setWidth",e.clientWidth-i-s),this.$refs.tuiGrid.invoke("setHeight",e.clientHeight-n-o)}}}},f=g,y=a(43736),v=(0,y.Z)(f,i,s,!1,null,null,null),b=v.exports},25983:function(t,e,a){"use strict";a.d(e,{Z:function(){return d}});var i=function(){var t=this,e=t._self._c;return e("div",{class:t.classObject},[e("ul",{staticClass:"collapse-list collapse-list-result m-0",attrs:{id:"accordionResult"}},[t.httpReqResult.content?t._e():e("li",[t._m(0),e("div",{staticClass:"collapse",attrs:{id:"collapseResult","data-parent":"#accordionResult"}})]),t._l(t.httpReqResult.content,(function(a,i){return e("li",{key:i,staticClass:"collapse-item"},[e("button",{staticClass:"collapse-link collapsed",attrs:{type:"button","data-toggle":"collapse","data-target":`#collapseResult${i}`}},[e("i",{class:a.success?"iconb-compt mr-2":"iconb-danger mr-2"}),t.httpReqResult.state?e("span",{staticClass:"txt",domProps:{textContent:t._s(`${a.instanceId} was ${a.success?"succeed.":"failed."}`)}}):e("span",{staticClass:"txt",domProps:{textContent:t._s(a.className?a.className:`${a.field?`Field(${a.field}) : `:""} ${a.message?`${a.message}`:""}`)}})]),e("div",{staticClass:"collapse",attrs:{id:`collapseResult${i}`,"data-parent":"#accordionResult"}},[a.className?e("div",{staticClass:"collapse-content"},[e("pre",[t._v(t._s(a.message?a.message:""))])]):a.response||a.stackTrace?e("div",{staticClass:"collapse-content"},[e("pre",[t._v(t._s(t.httpReqResult.state?a.response:a.stackTrace))])]):t._e()])])}))],2)])},s=[function(){var t=this,e=t._self._c;return e("button",{staticClass:"collapse-link collapsed",attrs:{type:"button","data-toggle":"collapse","data-target":"#collapseResult"}},[e("i",{staticClass:"iconb-compt mr-2"}),e("span",{staticClass:"txt"},[t._v("Successfully done.")])])}],n={name:"DetailResult",props:{classObject:Object,httpReqResult:{type:Object,default:()=>({content:[]})}}},o=n,r=a(43736),l=(0,r.Z)(o,i,s,!1,null,null,null),d=l.exports},12907:function(t,e,a){"use strict";a.d(e,{Z:function(){return c}});var i=function(){var t=this,e=t._self._c;return e(t.optionElement,{ref:"component",tag:"component",attrs:{classObject:t.classObject,readonly:t.readonly,placeholder:t.placeholder,regExpType:t.regExpType},on:{changeEvt:t.changeEvt,setLengthCnt:t.setLengthCnt,enter:t.enter,blur:t.blur}})},s=[],n=a(37662),o={name:"dataList",props:{vModel:String,classObject:Object,readonly:{type:Boolean,default:!1},optionInfo:Object,placeholder:String,isEvent:{type:Boolean,default:!0},regExpType:{type:String,default:"default"},val:{type:String,default:null}},data(){return{optionElement:{template:`\n                    <span style="line-height: 0.9rem;">\n                        <input\n                            type="text"\n                            :list="uuid"\n                            :class="classObject"\n\t\t\t\t\t\t\t:readonly="readonly"\n\t\t\t\t\t\t\t:placeholder="placeholder"\n\t\t\t\t\t\t\t:maxlength="maxLength"\n                            v-model="obj['${this.vModel}']"\n\t\t\t\t\t\t\t@input="input"\n\t\t\t\t\t\t\t@keyup.enter="enter"\n\t\t\t\t\t\t\t@blur="blur"\n\t\t\t\t\t\t\t${this.isEvent&&this._events.changeEvt?'@change="changeEvt"':""}\n                        />\n                        <datalist :id="uuid">\n                            <option\n                                v-for="${this.optionInfo.optionFor}"\n                                :key="${this.optionInfo.optionValue}"\n                                :value="${this.optionInfo.optionValue}"\n                                v-text="${this.optionInfo.optionText}" >\n                            </option>\n                        </datalist>\n                    </span>\n\t\t\t\t`,props:{classObject:Object,readonly:Boolean,placeholder:String,regExpType:String},data:(()=>{const t={vModelName:this.vModel,optionListName:this.optionInfo.optionListName,obj:{[this.vModel]:this.val},[this.optionInfo.optionListName]:[],url:this.optionInfo.url,params:this.optionInfo.params?this.optionInfo.params:null,uuid:(0,n.Fs)(),HttpReq:null,maxLength:null,regExp:null};return function(){return t}})(),async created(){if(this.maxLength=(0,n.oo)(this.regExpType).maxLength,this.regExp=(0,n.oo)(this.regExpType).regExp,!this.url)return;this.HttpReq=new n.p0(this.url);const t=await this.HttpReq.read(this.params);"ok"===t.data.result&&(this[this.optionListName]=t.data.object)},methods:{changeEvt(){this.$emit("changeEvt",{key:this.vModelName,value:this.obj[this.vModelName]})},setData(t){this.obj[this.vModelName]=t,this.setLengthCnt()},getData(){return{[this.vModelName]:this.obj[this.vModelName]?this.obj[this.vModelName]:"num"===this.regExpType?null:this.obj[this.vModelName]}},input(t){this.obj[this.vModel]=t.target.value,this.setLengthCnt()},setLengthCnt(){if("string"!==typeof this.obj[this.vModelName])return;this.obj[this.vModelName]=this.obj[this.vModelName].replace(new RegExp(this.regExp,"g"),"");const t=this.obj[this.vModelName].length;t>this.maxLength||this.$emit("setLengthCnt",{[this.vModelName]:t})},enter(){this.$emit("enter")},blur(){"pageSize"===this.vModelName&&this.$emit("blur")}}}}},watch:{val(){this.setData(this.val)}},methods:{changeEvt(t){this.$emit("changeEvt",t)},setLengthCnt(t){this.$emit("setLengthCnt",t)},setData(t){this.$refs.component.setData(t)},getData(){return this.$refs.component.getData()},enter(){this.$emit("enter")},blur(){this.$emit("blur")}}},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,null,null),c=d.exports},1171:function(t,e,a){"use strict";a.d(e,{Z:function(){return f}});var i=function(){var t=this,e=t._self._c;return t.isShow?e("date-range-picker",t._b({class:t.dateClass,on:{update:t.update},scopedSlots:t._u([{key:"input",fn:function(e){return[t._v(" "+t._s(t.getDisplayDate(e.startDate))+" ")]}}],null,!1,893616745),model:{value:t.obj[t.vModel],callback:function(e){t.$set(t.obj,t.vModel,e)},expression:"obj[vModel]"}},"date-range-picker",t.options,!1)):t._e()},s=[],n=a(63822),o=a(11937),r=a.n(o),l=a(36797),d=a.n(l),c=a(31823),p=a.n(c),h={name:"datePicker",components:{DateRangePicker:r()},props:{vModel:String,readonly:{type:Boolean,default:!1},val:{type:String,default:null},dateRangeType:String,customOptions:Object,isEmptyPlaceholder:Boolean,dateFormat:String},data(){return{obj:{},isShow:!1,options:{},fixDateFormat:"YYYY-MM-DD",isValueInit:!1,dateClass:{"input-daterange":!0,"no-timepicker":!0,placeholder:!0}}},created(){for(const t in this.$data.obj)this.$delete(this.$data.obj,t);this.$set(this.obj,this.vModel,{startDate:null,endDate:null}),this.options={"locale-data":this.dateLocaleData,opens:"right",singleDatePicker:!0,showDropdowns:!1,autoApply:!1,timePicker:!0,timePickerSeconds:!0,appendToBody:!1,disabled:this.readonly},this.customOptions&&(this.options=p()(this.options,this.customOptions)),this.val&&this.setData(this.val),this.isShow=!1,this.$nextTick((()=>{this.isShow=!0}))},watch:{val(){this.setData(this.val)}},computed:{...(0,n.rn)(["dateLocaleData"])},methods:{update(){this.isValueInit=!0,this.dateClass["placeholder"]=!1},getDate(t){if(t instanceof Date)return t;if(t){let e=t.match(/[0-9]{4}-[0-9]{2}-[0-9]{2}/);return e=null!==e?e[0].replace(/-/g,"/"):`${t.substring(0,4)}/${t.substring(4,6)}/${t.substring(6,8)}`,new Date(e)}{const t=new Date,e="to"===this.dateRangeType?59:0;return t.setHours("to"===this.dateRangeType?23:0),t.setMinutes(e),t.setSeconds(e),t.setMilliseconds(e),t}},getDisplayDate(t){return this.isValueInit||this.isEmptyPlaceholder?this.obj[this.vModel].startDate?d()(t).format(this.dateFormat?this.dateFormat:this.fixDateFormat):"":this.$t("head.searchFileStamp")},setData(t){this.isValueInit=!!t,this.dateClass["placeholder"]=!t,this.isShow=!1,this.obj[this.vModel].startDate=this.getDate(t),this.obj[this.vModel].endDate=this.getDate(t),this.$nextTick((()=>{this.isShow=!0}))},getData(){return{[this.vModel]:this.isValueInit?d()(this.obj[this.vModel].startDate).format(this.dateFormat?this.dateFormat:this.fixDateFormat):null}}}},u=h,m=a(43736),g=(0,m.Z)(u,i,s,!1,null,null,null),f=g.exports},13671:function(t,e,a){"use strict";a.d(e,{Z:function(){return f}});var i=function(){var t=this,e=t._self._c;return t.isShow?e("date-range-picker",t._b({staticClass:"input-daterange",scopedSlots:t._u([{key:"input",fn:function(e){return[t._v(" "+t._s(t.getDisplayDate(e.startDate))+" ")]}}],null,!1,893616745),model:{value:t.obj[t.vModel],callback:function(e){t.$set(t.obj,t.vModel,e)},expression:"obj[vModel]"}},"date-range-picker",t.options,!1)):t._e()},s=[],n=a(63822),o=a(11937),r=a.n(o),l=a(36797),d=a.n(l),c=a(31823),p=a.n(c),h={name:"dateRange",components:{DateRangePicker:r()},props:{vModel:String,readonly:{type:Boolean,default:!1},val:{type:String,default:null},dateRangeType:String,customOptions:Object},data(){return{obj:{},isShow:!1,options:{},fixDateFormat:"YYYY-MM-DD HH:mm:ss"}},created(){for(const t in this.$data.obj)this.$delete(this.$data.obj,t);this.$set(this.obj,this.vModel,{startDate:null,endDate:null}),this.setData(this.val),this.options={"locale-data":this.dateLocaleData,opens:"right",singleDatePicker:!0,"show-dropdowns":!1,"auto-apply":!1,"time-picker":!0,"time-picker-seconds":!0,appendToBody:!1,disabled:this.readonly},this.customOptions&&(this.options=p()(this.options,this.customOptions))},watch:{val(){this.setData(this.val)}},computed:{...(0,n.rn)(["dateLocaleData"])},methods:{getDate(t){if(t instanceof Date)return t;if(t){let e=t.match(/[0-9]{4}-[0-9]{2}-[0-9]{2}\s[0-9]{2}:[0-9]{2}:[0-9]{2}/)[0];return e=e.replace(/-/g,"/"),new Date(e)}{const t=new Date,e="to"===this.dateRangeType?59:0;return t.setHours("to"===this.dateRangeType?23:0),t.setMinutes(e),t.setSeconds(e),t.setMilliseconds(e),t}},getDisplayDate(t){return d()(t).format(this.fixDateFormat)},setData(t){this.isShow=!1,this.obj[this.vModel].startDate=this.getDate(t),this.obj[this.vModel].endDate=this.getDate(t),this.$nextTick((()=>{this.isShow=!0}))},getData(){return{[this.vModel]:d()(this.obj[this.vModel].startDate).format(this.fixDateFormat)}}}},u=h,m=a(43736),g=(0,m.Z)(u,i,s,!1,null,null,null),f=g.exports},53308:function(t,e,a){"use strict";a.d(e,{Z:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("span",{style:{cursor:""+(t.execClickEvt&&t.obj[t.vModel]?"pointer":"auto")},attrs:{title:t.obj[t.vModel]},on:{click:t.click}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.obj[t.vModel],expression:"obj[vModel]"}],class:t.classObject,style:t.style,attrs:{type:"text",placeholder:t.placeholder,readonly:t.readonly,maxlength:t.maxLength},domProps:{value:t.obj[t.vModel]},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enter.apply(null,arguments)},input:[function(e){e.target.composing||t.$set(t.obj,t.vModel,e.target.value)},t.input],change:t.change,focus:t.focus}})])},s=[],n=a(37662),o=a(63822),r=a(66281),l=a.n(r),d={name:"inputText",props:{vModel:String,classObject:Object,readonly:{type:Boolean,default:!1},placeholder:String,val:{type:String,default:null},regExpType:{type:String,default:"default"},clickEvtType:{type:String,default:"newTab"},clickEvt:{type:Function,default:null},changeEvt:{type:Function,default:null}},data(){return{obj:{},oldObj:{},maxLength:null,regExp:null}},computed:{...(0,o.rn)(["isTools"]),style(){return this.execClickEvt?{"text-decoration":"underline",color:"#007bff"}:null},execClickEvt(){return this.isTools?null!==this.clickEvt&&"modal"===this.clickEvtType:null!==this.clickEvt}},created(){for(const t in this.$data.obj)this.$delete(this.$data.obj,t),this.$delete(this.$data.oldObj,t);this.$set(this.obj,this.vModel,null),this.$set(this.oldObj,this.vModel,null),this.maxLength=(0,n.oo)(this.regExpType).maxLength,this.regExp=(0,n.oo)(this.regExpType).regExp,this.setData(this.val)},watch:{val(){this.setData(this.val)}},methods:{setData(t){this.obj[this.vModel]=t,this.setLengthCnt()},getData(){return{[this.vModel]:this.obj[this.vModel]?this.obj[this.vModel]:"num"===this.regExpType?null:this.obj[this.vModel]}},getOldData(){const t=this.oldObj[this.vModel];return{[this.vModel]:t||("num"===this.regExpType?null:t)}},clearValue(){this.obj[this.vModel]=null},enter(){this.$emit("enter")},focus(){this.oldObj=l()(this.obj)},change(){null!==this.changeEvt&&this.changeEvt(this)},click(){this.execClickEvt&&null!==this.obj[this.vModel]&&this.clickEvt(this)},input(t){this.obj[this.vModel]=t.target.value,this.setLengthCnt()},setLengthCnt(){if("string"!==typeof this.obj[this.vModel])return;this.obj[this.vModel]=this.obj[this.vModel].replace(new RegExp(this.regExp,"g"),"");const t=this.obj[this.vModel].length;t>this.maxLength||this.$emit("setLengthCnt",{[this.vModel]:t})}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,"f16afb56",null),u=h.exports},30129:function(t,e,a){"use strict";a.d(e,{Z:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("form",{staticStyle:{width:"100%",display:"inline"},attrs:{onsubmit:"return false;"}},["checkbox"===t.type?e("input",{directives:[{name:"model",rawName:"v-model",value:t.obj[t.vModel],expression:"obj[vModel]"}],class:t.classObject,attrs:{maxlength:t.maxLength,readonly:t.readonly,autocomplete:"off",type:"checkbox"},domProps:{checked:Array.isArray(t.obj[t.vModel])?t._i(t.obj[t.vModel],null)>-1:t.obj[t.vModel]},on:{input:t.input,change:function(e){var a=t.obj[t.vModel],i=e.target,s=!!i.checked;if(Array.isArray(a)){var n=null,o=t._i(a,n);i.checked?o<0&&t.$set(t.obj,t.vModel,a.concat([n])):o>-1&&t.$set(t.obj,t.vModel,a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.obj,t.vModel,s)}}}):"radio"===t.type?e("input",{directives:[{name:"model",rawName:"v-model",value:t.obj[t.vModel],expression:"obj[vModel]"}],class:t.classObject,attrs:{maxlength:t.maxLength,readonly:t.readonly,autocomplete:"off",type:"radio"},domProps:{checked:t._q(t.obj[t.vModel],null)},on:{input:t.input,change:function(e){return t.$set(t.obj,t.vModel,null)}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:t.obj[t.vModel],expression:"obj[vModel]"}],class:t.classObject,attrs:{maxlength:t.maxLength,readonly:t.readonly,autocomplete:"off",type:t.type},domProps:{value:t.obj[t.vModel]},on:{input:[function(e){e.target.composing||t.$set(t.obj,t.vModel,e.target.value)},t.input]}})])},s=[],n=a(37662),o={name:"password",props:{vModel:String,classObject:Object,regExpType:{type:String,default:"default"},readonly:{type:Boolean,default:!1},val:{type:String,default:null}},data(){return{obj:{},maxLength:null,regExp:null,type:"password"}},created(){for(const t in this.$data.obj)this.$delete(this.$data.obj,t);this.$set(this.obj,this.vModel,null),this.maxLength=(0,n.oo)(this.regExpType).maxLength,this.regExp=(0,n.oo)(this.regExpType).regExp,this.setData(this.val)},watch:{val(){this.setData(this.val)}},methods:{setData(t){this.obj[this.vModel]=t,this.setLengthCnt()},getData(){return{[this.vModel]:this.obj[this.vModel]?this.obj[this.vModel]:"num"===this.regExpType?null:this.obj[this.vModel]}},input(t){this.obj[this.vModel]=t.target.value,this.setLengthCnt()},setLengthCnt(){if("string"!==typeof this.obj[this.vModel])return;this.obj[this.vModel]=this.obj[this.vModel].replace(new RegExp(this.regExp,"g"),"");const t=this.obj[this.vModel].length;t>this.maxLength||this.$emit("setLengthCnt",{[this.vModel]:t})},changeType(){this.type="password"===this.type?"text":"password"}}},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,null,null),c=d.exports},3441:function(t,e,a){"use strict";a.d(e,{Z:function(){return c}});var i=function(){var t=this,e=t._self._c;return e(t.optionElement,{ref:"component",tag:"component",attrs:{classObject:t.classObject,readonly:t.readonly,optionListData:t.optionListData},on:{changeEvt:t.changeEvt}})},s=[],n=a(37662),o={name:"selectBox",props:{vModel:String,classObject:Object,readonly:{type:Boolean,default:!1},optionInfo:Object,isEvent:{type:Boolean,default:!0},val:{type:String,default:null},optionListData:Array},watch:{val(){this.setData(this.val)}},methods:{changeEvt(t){this.$emit("changeEvt",t)},setData(t){this.$refs.component.setData(t)},getData(){return this.$refs.component.getData()}},data(){return{optionElement:{template:`\n\t\t\t\t\t<select v-model="obj['${this.vModel}']" :class="classObject" :readonly="readonly" \n\t\t\t\t\t${this.isEvent&&this._events.changeEvt?'@change="changeEvt"':""}>\n\t\t\t\t\t\t<option\n\t\t\t\t\t\t\tvalue=" "\n\t\t\t\t\t\t\tv-text=""\n\t\t\t\t\t\t\tv-if="${"undefined"!==typeof this.optionInfo.isViewEmpty&&this.optionInfo.isViewEmpty}"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option\n\t\t\t\t\t\t\tv-for="${this.optionInfo.optionFor}"\n\t\t\t\t\t\t\t:key="${this.optionInfo.optionValue}"\n\t\t\t\t\t\t\t:value="${this.optionInfo.optionValue}"\n\t\t\t\t\t\t\tv-text="${this.optionInfo.optionText}"\n\t\t\t\t\t\t\tv-if="${"undefined"===typeof this.optionInfo.optionIf||this.optionInfo.optionIf}" >\n\t\t\t\t\t\t\t:disabled="${"undefined"!==typeof this.optionInfo.optionDisabled&&this.optionInfo.optionDisabled}" >\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</select>\n\t\t\t\t`,props:{classObject:Object,readonly:Boolean,optionListData:Array},data:(()=>{const t={vModelName:this.vModel,optionListName:this.optionInfo.optionListName,obj:{[this.vModel]:this.val},[this.optionInfo.optionListName]:[],url:this.optionInfo.url,params:this.optionInfo.params?this.optionInfo.params:null,HttpReq:null};return function(){return t}})(),async created(){if(!this.url)return;this.HttpReq=new n.p0(this.url);const t=await this.HttpReq.read(this.params);"ok"===t.data.result&&(this[this.optionListName]=t.data.object)},watch:{optionListData:{immediate:!0,handler(){this[this.optionListName]=this.optionListData}}},methods:{changeEvt(){this.$emit("changeEvt",{key:this.vModelName,value:this.obj[this.vModelName]})},setData(t){this.obj[this.vModelName]=t},getData(){return{[this.vModelName]:this.obj[this.vModelName]?this.obj[this.vModelName]:" "}}}}}}},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,null,null),c=d.exports},78103:function(t,e,a){"use strict";a.d(e,{Z:function(){return d}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row frm-row",staticStyle:{width:"100%"}},t._l(t.timeUnit,(function(a,i){return e("div",{key:i,staticClass:"col-lg-4"},[e("input",{class:t.classObject,attrs:{disabled:t.readonly},domProps:{value:`${t.obj[a]} ${t.timeMsg(a)}`},on:{click:function(e){return t.toggleDropdownItem(a)}}}),e("ul",{class:t.dropdownMenuClass[a]},[e("li",{staticStyle:{height:"200px","overflow-y":"auto"}},t._l(t.getTimeList(a),(function(i){return e("a",{key:i,staticClass:"dropdown-item",attrs:{href:"javascript:void(0)",value:i},domProps:{textContent:t._s(i)},on:{click:function(e){return t.selectedItem(a,i)}}})})),0)])])})),0)},s=[],n=(a(57658),{name:"TimePicker",props:{vModel:String,classObject:{type:Object,default:()=>{}},readonly:{type:Boolean,default:!1},val:{type:String,default:null},customOptions:Object},data(){return{obj:{},timeUnit:["hour","minute","second"],dropdownMenuClass:{hour:{"dropdown-menu":!0,show:!1},minute:{"dropdown-menu":!0,show:!1},second:{"dropdown-menu":!0,show:!1}}}},created(){for(const t in this.$data.obj)this.$delete(this.$data.obj,t);for(const t of this.timeUnit)this.$set(this.obj,t,null);this.setData()},watch:{val(){this.setData(this.val)},readonly(){if(this.readonly)for(const t in this.dropdownMenuClass)this.dropdownMenuClass[t].show=!1}},methods:{timeMsg(t){return"hour"===t?this.$t("igate.job.hour"):"minute"===t?this.$t("igate.minutes"):this.$t("igate.seconds")},getTimeList(t){const e=[],a="hour"===t?24:60;for(let i=0;i<a;i++)e.push(i<10?`0${i}`:i);return e},getDisplayTime(t,e){let a="00";if(e)switch(e=e.replace(/[^.0-9]/g,""),t){case"hour":a=e.slice(0,2);break;case"minute":a=e.slice(2,4);break;case"second":a=e.slice(4,6);break}return a},toggleDropdownItem(t){for(const e in this.dropdownMenuClass)this.dropdownMenuClass[e].show=e===t&&!this.dropdownMenuClass[e].show},selectedItem(t,e){this.dropdownMenuClass[t].show=!1,this.obj[t]=e},setData(t){for(const e of this.timeUnit)this.obj[e]=this.getDisplayTime(e,t)},getData(){return{[this.vModel]:Object.values(this.obj).join("")}}}}),o=n,r=a(43736),l=(0,r.Z)(o,i,s,!1,null,null,null),d=l.exports},30650:function(t,e,a){"use strict";a.d(e,{Z:function(){return v}});var i=function(){var t=this,e=t._self._c;return e("div",{class:t.classObj,style:t.styleObj},[e("Search",{ref:"search",attrs:{list:t.searchList,searchType:"mainBasic"},on:{search:e=>{t.$refs.detail.closePanel(),t.search(e)}}}),e("Main",{ref:"main",attrs:{buttonList:t.buttonList,gridInfo:t.gridInfo,gridSearchObj:t.gridSearchObj,gridType:t.gridType,viewer:t.viewer,editor:t.editor},on:{rowClicked:t.rowClicked,initialize:t.initialize,add:t.add,newTab:t.newTab,excelExport:t.excelExport,excelImport:t.excelImport,refresh:t.refresh,updateStatus:t.updateStatus,gridControl:t.gridControl,reorder:t.reorder}}),e("Detail",{directives:[{name:"show",rawName:"v-show",value:t.isDetailView&&0<t.detailTabList.length,expression:"isDetailView && 0 < detailTabList.length"}],ref:"detail",attrs:{mode:t.detailMode,pk:t.detailPk,buttonList:t.detailButtonList,detailTabList:t.detailTabList,info:t.detailInfo,cudUrl:t.cudUrl,controlUrl:t.controlUrl,controlParams:t.controlParams,viewer:t.viewer,editor:t.editor},on:{search:()=>{t.search(t.$refs.search.getSearchObj())},detailHorizonResize:t.detailHorizonResize}})],1)},s=[],n=(a(57658),a(63822)),o=a(31823),r=a.n(o),l=a(66281),d=a.n(l),c=a(96434),p=a(54215),h=a(44062),u=a(37662),m={name:"Basic",components:{Search:c.Z,Main:p.Z,Detail:h.Z},props:{pageInfo:{type:Object,default:()=>({})}},data(){return{cudUrl:null,viewer:!1,editor:!1,searchList:[],buttonList:[],updateStatusFunc:null,gridInfo:{},gridSearchObj:{},gridType:"mainBasic",detailPk:[],detailButtonList:[],detailTabList:[],detailInfo:{},isDetailView:!1,detailMode:null,controlUrl:null,controlParams:()=>{},classObj:{basic:!0,horizon:!1},styleObj:{width:null}}},mounted(){this.initBasicInfo()},computed:{...(0,n.rn)(["minPageSize"])},methods:{initBasicInfo(){if("basic"!==this.pageInfo.type)return;this.cudUrl=null,this.viewer=!1,this.editor=!1,this.searchList=[],this.buttonList=[],this.gridInfo={},this.detailPk=[],this.detailButtonList=[],this.detailTabList=[],this.controlUrl=null,this.controlParams=()=>{},this.isDetailView=!1,this.$refs.main.isGridView=!1;const{cudUrl:t,search:e,button:a,grid:i,detail:s,viewer:n,editor:o,updateStatusFunc:r}=this.pageInfo;this.cudUrl=t,this.viewer=n,this.editor=o,this.searchList=e.list,this.buttonList=a.list,this.updateStatusFunc=r,this.gridInfo=i,s&&(this.detailPk=s.pk?s.pk:[],this.detailButtonList=s.button?s.button.list:[],this.detailTabList=s.tabList?s.tabList:[],this.controlUrl=s.controlUrl,this.controlParams=s.controlParams),localStorage.getItem("searchObj")?this.initNewTabSearchObj():e.load&&this.$nextTick((()=>{this.search(this.$refs.search.getSearchObj())})),localStorage.getItem("detailObj")&&this.$nextTick((()=>{const t=JSON.parse(localStorage.getItem("detailObj"));t.isExpandDetailView=!0,localStorage.removeItem("detailObj"),this.initDetail("detail",t)}))},add(){this.initDetail("add")},initialize(){this.$refs.search.initialize()},newTab(){(0,u.RB)((()=>{const t=JSON.parse(sessionStorage.getItem("selectedMenuPathIdList")),e=t[t.length-1];return e})(),(()=>{localStorage.removeItem("searchObj"),localStorage.setItem("searchObj",JSON.stringify(this.$refs.search.getSearchObj()))}))},async excelImport(){const t=this.buttonList.find((t=>"excelImport"===t.id)).importUrl,e=this.$refs.search.search,a=this.$openModal({title:this.$t("head.excel.upload"),modalWidth:"600px",modalHeight:"180px",contentList:[{template:`<div class="input-group">\n\t\t\t\t\t\t\t\t<input class="form-control" type="text" v-model="fileName" placeholder="${this.$t("igate.migration.fileSelectError")}" readonly/>\n\t\t\t\t\t\t\t\t<button type="button" class="btn" @click="selectFile" style="margin-left: 5px; margin-right: 5px;">\n\t\t\t\t\t\t\t\t\t${this.$t("head.file")} ${this.$t("head.choice")}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button type="button" class="btn btn-primary" @click="uploadFile">\n\t\t\t\t\t\t\t\t\t${this.$t("head.upload")}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t   </div>`,data(){return{fileInfo:null,fileName:null}},methods:{selectFile(){const t=document.createElement("input");t.setAttribute("type","file"),t.addEventListener("change",(t=>{const e=t.target.files[0].name;"xlsx"==e.substring(e.length-4)?(this.fileInfo=t.target.files[0],this.fileName=e):this.$alert({type:"warn",message:this.$t("head.xlsx.file.format.only.warn")})})),t.click()},async uploadFile(){if(!this.fileName)return void this.$alert({type:"warn",message:this.$t("igate.migration.fileSelectError")});const i=await(0,u.Rp)();if(!i.result)return this.$alert({type:"warn",backdropMode:"full",message:this.isTools?this.$t("igate.itools.token.expired"):this.$t("head.validateToken"),callback:()=>{this.isTools||(0,u.kS)()}}),void a.hideModal();this.$startSpinner();const s=new XMLHttpRequest;s.open("POST",(0,u.u5)(t),!0),s.setRequestHeader("Authorization",localStorage.getItem("accessToken")),s.setRequestHeader("X-iManager-Method","POST"),s.withCredentials=!0;const n=new FormData;n.enctype="multipart/form-data",n.append("uploadFile",this.fileInfo),s.send(n),s.onload=t=>{this.$stopSpinner(),"200"==t.target.status?(this.$alert({type:"normal",message:this.$t("head.success.notice")}),e(),a.hideModal()):this.$alert({type:"warn",message:this.$t("head.fail.notice")})}},getData(){return this.fileInfo}}}]})},async excelExport(){const t=this.buttonList.filter((t=>"excelExport"===t.id))[0];if(!t)return;const e=await(0,u.Rp)();if(!e.result)return void this.$alert({type:"warn",backdropMode:"full",message:this.isTools?this.$t("igate.itools.token.expired"):this.$t("head.validateToken"),callback:()=>{this.isTools||(0,u.kS)()}});this.$startSpinner();const a=new XMLHttpRequest;a.open("POST",(0,u.u5)(t.exportUrl),!0),a.setRequestHeader("Authorization",localStorage.getItem("accessToken")),a.setRequestHeader("X-iManager-Method","GET"),a.withCredentials=!0,a.responseType="blob",a.send(JSON.stringify({object:d()(this.$refs.search.getSearchObj()),limit:null,next:null,reverseOrder:!1})),a.onload=e=>{this.$stopSpinner();const i=a.response,s=t.fileName?`${t.fileName}_${Date.now()}.xlsx`:`ExcelExport_${Date.now()}.xlsx`;if(i.size<=0||"200"!=e.target.status)this.$alert({type:"warn",message:this.$t("head.fail.notice")});else if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(i,s);else{let t=document.createElement("a");t.href=window.URL.createObjectURL(i),t.download=s,t.click(),URL.revokeObjectURL(t.href),t.remove()}}},search(t){this.gridSearchObj=t},refresh(){this.search(d()(this.gridSearchObj))},rowClicked(t){this.initDetail("detail",t)},initDetail(t,e){0!==this.detailTabList.length&&(this.isDetailView||(this.isDetailView=!0),this.detailInfo=e,this.detailMode=t,this.detailMode=null,this.$nextTick((()=>{this.detailMode=t})))},initNewTabSearchObj(){if(!localStorage.getItem("searchObj"))return;const t=JSON.parse(localStorage.getItem("searchObj"));localStorage.removeItem("searchObj"),this.gridSearchObj=r()(this.$refs.search.getSearchObj(),t||{}),this.searchList.forEach((t=>{const e="pageSize"===t.vModel?`_${t.vModel}`:t.vModel;"undefined"!==typeof this.gridSearchObj[e]&&("pageSize"===t.vModel&&null===this.gridSearchObj[e]&&(this.gridSearchObj[e]=this.minPageSize),this.$set(t,"val",this.gridSearchObj[e]))}))},async updateStatus({gridObj:t,mod:e}){if(!t)return;const a=t.invoke("getCheckedRows");0!==a.length?this.$confirm({type:"warn",message:"retry"===e?this.$t("common.redo.it"):this.$t("common.cancel.it"),callback:async()=>{const i=[];a.forEach((async a=>{const{url:s,params:n,columnName:o}=this.updateStatusFunc(a,e);this.detailPk.forEach((t=>{n[t]=a[t]}));const r=await new Promise(((e,i)=>{(async()=>{const r=await new u.p0(s).create(n,!0);if("ok"===r.data.result){const i=await new u.p0(this.cudUrl).read(n);Array.isArray(o)?o.forEach((e=>{t.invoke("setValue",a.rowKey,e,i.data.object[o])})):t.invoke("setValue",a.rowKey,o,i.data.object[o]),e(i)}else i()})()}));i.push(r)}));try{await Promise.all(i)}catch(s){console.log(s)}}}):this.$alert({type:"warn",message:this.$t("common.no.target.selected")})},async gridControl({gridObj:t,mod:e}){try{if(!t)return;const a=t.invoke("getCheckedRows");if(0===a.length)return void this.$alert({type:"warn",message:this.$t("head.selectError")});this.$startSpinner();for await(const i of a){t.invoke("setValue",i.rowKey,"processResult",this.$t("common.running"));let a=this.controlParams((0,u.Fh)(i)),s=`${this.controlUrl}?command=${e}`;a.instanceId&&(s+=`&instance=${a.instanceId}`);const n=await new u.p0(s).create(a);if("ok"===n.data.result)if(n.data.response[0].success){if(this.controlObjectUrl){const t=await new u.p0(this.controlObjectUrl).read(a);a=t.data.object}const s=await new u.p0(this.gridInfo.url).read({limit:null,next:null,object:a,reverseOrder:!1});s.data.object?(t.invoke("setValue",i.rowKey,"processResult",`${e} was successed`),t.invoke("setValue",i.rowKey,"status",s.data.object[0].status)):t.invoke("setValue",i.rowKey,"processResult",this.$t("head.error.load.data.warn"))}else t.invoke("setValue",i.rowKey,"processResult",n.data.response[0].response);else t.invoke("setValue",i.rowKey,"processResult",`${e} was failed`)}}catch(a){}finally{this.$stopSpinner()}},async reorder(){try{const t=this.buttonList.find((t=>"reorder"===t.id));if(!t)return;this.$startSpinner();const e=await new u.p0(t.reorderUrl).update();if("ok"!==e.data.result)return;this.$refs.search.search()}catch(t){this.$alert({type:"warn",message:this.$t("head.fail.notice")})}finally{this.$stopSpinner()}},detailHorizonResize({detailWidth:t}){if(null===t)this.classObj.horizon=!1,this.styleObj.width=null;else{let t=window.innerWidth;if(992<=window.innerWidth&&document.getElementById("sidebar")&&!document.body.classList.contains("sidebar-toggled")){const e=document.getElementById("sidebar"),a=getComputedStyle(e),i=(0,u.tJ)(a.getPropertyValue("margin-left")),s=(0,u.tJ)(a.getPropertyValue("margin-right"));t-=e.offsetWidth+i+s}document.querySelector(".horizon")&&"block"===document.querySelector("#panel").style.display&&(t-=(0,u.tJ)(getComputedStyle(document.querySelector(".horizon .panel-content")).width)),this.classObj.horizon=!0,this.styleObj.width=t-48+"px"}this.$nextTick((()=>{u.dc.$emit("MainResize")}))}}},g=m,f=a(43736),y=(0,f.Z)(g,i,s,!1,null,null,null),v=y.exports},33310:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var i=function(){var t=this,e=t._self._c;return e("div",{ref:"panel",class:t.panelClass,attrs:{id:"panel"}},[e("div",{staticClass:"panel-dialog"},[e("div",{staticClass:"panel-content",style:t.panelContentStyle},[t.isTools?t._e():e("div",{staticClass:"resize-bar"}),e("header",{staticClass:"panel-header sub-bar",attrs:{id:"panel-header"}},["modify"===t.panelMode?e("a",{staticClass:"btn btn-icon backBtn",attrs:{href:"javascript:void(0);",title:t.$t("head.goBackward")},on:{click:t.goPreviousPanel}},[e("i",{staticClass:"icon-left"})]):t._e(),e("h2",{staticClass:"sub-bar-tit",style:{width:`calc(100% - ${"modify"===t.panelMode?170:125}px)`}},[t._v(" "+t._s(t.subBarTitle)+" "),e("span",{staticClass:"sub-bar-selected-tit ellipsis",style:{width:`calc(100% - ${"modify"===t.panelMode?80:65}px)`},attrs:{title:t.selectedInfoTitle?t.selectedInfoTitle.substr(3):""}},[t._v(" "+t._s(t.selectedInfoTitle)+" ")])]),e("div",{staticClass:"activity-detail-top-btn ml-auto"},[e("button",{staticClass:"btn-change-layout-horizon btn-icon",attrs:{type:"button",title:t.$t("common.detail.horizontal.view")},on:{click:function(e){return t.changeLayout("vertical")}}},[e("img",{staticClass:"center-block",attrs:{src:t.getMenuIconUrl("horizontal")}})]),e("button",{staticClass:"btn-change-layout-vertical btn-icon",attrs:{type:"button",title:t.$t("common.detail.vertical.view")},on:{click:function(e){return t.changeLayout("horizon")}}},[e("img",{staticClass:"center-block",attrs:{src:t.getMenuIconUrl("vertical")}})]),t.isTools?t._e():e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.expand")},on:{click:t.expandCollapsePanel}},[e("i",{staticClass:"icon-expand"})]),t.isTools?t._e():e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.close")},on:{click:t.closePanel}},[e("i",{staticClass:"icon-close"})])])]),e("ul",{staticClass:"nav nav-tabs flex-shrink-0"},[t._l(t.tabList,(function(a,i){return e("li",{key:a.id,staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:t.selectedIdx===i},attrs:{href:"javascript:void(0);"},domProps:{textContent:t._s(a.label)},on:{click:function(e){return t.changeTab(i)}}})])})),t.noEdit?t._e():e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:t.selectedIdx===t.tabList.length},attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.changeTab(t.tabList.length)}}},[t._v(" "+t._s(t.$t("head.executionResult"))+" ")])])],2),e("div",{staticClass:"panel-body tab-content",style:{height:"F"!==t.detailData.activityType?"calc(55vh - 57px)":"55vh"}},[t._l(t.tabList,(function(i,s){return e("div",{key:s,class:{[t.panelMode]:!0,"tab-pane":!0,active:t.selectedIdx===s}},["basic"===i.type?e("DetailBasic",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"property"===i.type?e("DetailProperty",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"grid"===i.type?e("DetailGrid",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"custom"===i.type?e("DetailCustom",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"bundle"===i.type?e(a(14605)(`./detail${i.url}.vue`).default,{ref:"component",refInFor:!0,tag:"component",attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):t._e()],1)})),t.noEdit?t._e():e("DetailResult",{class:{"tab-pane":!0,active:t.selectedIdx===t.tabList.length&&t.showResultTab},attrs:{httpReqResult:t.httpReqResult}})],2),t.noEdit?t._e():e("footer",{staticClass:"panel-footer sub-bar",attrs:{id:"panel-footer"}},["detail"===t.panelMode||"done"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.referenceBtn&&t.viewer?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.referenceTreeInfo")},on:{click:t.goReferenceModal}},[e("i",{staticClass:"icon-result"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.referenceTreeInfo")))])]):t._e(),t.loadBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.load")},on:{click:function(e){return t.control("load")}}},[t._v(" "+t._s(t.$t("head.load"))+" ")]):t._e(),t.dumpBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.dump")},on:{click:t.dump}},[t._v(" "+t._s(t.$t("head.dump"))+" ")]):t._e(),t.excelExportBtn&&t.viewer?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.excel.output")},on:{click:t.excelExport}},[e("i",{staticClass:"icon-result"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.excel.output")))])]):t._e(),!t.isTools&&(t.deleteBtn&&t.editor)?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.delete")},on:{click:t.removeInfo}},[e("i",{staticClass:"icon-delete"}),t._v(t._s(t.$t("head.delete"))+" ")]):t._e(),t.updateBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.update")},on:{click:t.goModifyPanel}},[e("i",{staticClass:"icon-edit"}),t._v(t._s(t.$t("head.update"))+" ")]):t._e(),!t.isTools&&(t.insertBtn&&t.editor)?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:`${t.$t("head.insert")} (${t.$t("head.copy")})`},on:{click:t.goAddInfo}},[e("i",{staticClass:"icon-plus"}),t._v(t._s(`${t.$t("head.insert")} (${t.$t("head.copy")})`)+" ")]):t._e(),t.restoreBtn&&t.editor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.restore")},on:{click:t.restoreMeta}},[e("i",{staticClass:"icon-edit"}),t._v(t._s(t.$t("head.restore"))+" ")]):t._e()]):"add"===t.panelMode||"clone"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.insertBtn&&t.editor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.insert")},on:{click:t.saveInfo}},[e("i",{staticClass:"icon-plus"}),t._v(t._s(t.$t("head.insert"))+" ")]):t._e()]):"modify"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.updateBtn&&t.editor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.update")},on:{click:t.updateInfo}},[e("i",{staticClass:"icon-edit"}),t._v(t._s(t.$t("head.update"))+" ")]):t._e()]):t._e()])])])])},s=[],n=a(63822),o=a(44062),r=a(37662),l={name:"Detail",extends:o.Z,props:{mode:{type:String,default:"detail"},pk:Array,buttonList:Array,info:Object,cudUrl:String,viewer:Boolean,editor:Boolean},data(){return{noEdit:!1}},computed:{...(0,n.rn)(["isTools"])},watch:{detailData(){this.isTools&&!this.$refs.panel.classList.contains("expand")&&this.$refs.panel.classList.add("expand"),this.detailData.activityType&&("detail"===this.panelMode||"done"===this.panelMode?this.noEdit="F"===this.detailData.activityType:this.noEdit=!1)},panelMode(){this.isTools&&!this.$refs.panel.classList.contains("expand")&&this.expandCollapsePanel()}},methods:{async setButtonList(){let t={};if(this.detailData.activityId){const e=await new r.p0(this.cudUrl).read({activityId:this.detailData.activityId});t=e.data.object}this.buttonList.forEach((e=>{this[`${e.id}Btn`]="function"===typeof e.isUse?e.isUse(t):e.isUse}))}}},d=l,c=a(43736),p=(0,c.Z)(d,i,s,!1,null,null,null),h=p.exports},63587:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return g}});var i=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"margin-bottom":"30px"}},[e("div",{staticClass:"row frm-row"},[e("div",{class:"col-lg-"+(t.isOnline||t.isOnlineExternal?"4":"6")},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(t.$t("igate.adapter"))+" "+t._s(t.$t("head.type"))+" ")]),t._v("   "),e("label",{staticClass:"control-label warningLabel",staticStyle:{"padding-bottom":"0px"}},[e("span",[t._v(t._s(t.$t("igate.adapterwizard.adapterType.chagneWarn"))+" ")])]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"detail-content-common"},[e("selectBox",{ref:"adapterType",attrs:{vModel:"adapterType",classObject:{"form-control":!0,"view-disabled":!0},readonly:t.readonly,optionInfo:{optionListName:"adapterWizardTypeList",optionFor:"option in adapterWizardTypeList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"},optionListData:t.adapterWizardTypeList},on:{changeEvt:t.changeAdapterType}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(t.$t("igate.message"))+" "+t._s(t.$t("head.type"))+" ")]),t._v("   "),e("label",{staticClass:"control-label warningLabel",staticStyle:{"padding-bottom":"0px"}},[e("span",[t._v(t._s(t.$t("igate.adapterwizard.messageType.chagneWarn")))])]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"detail-content-common"},[e("selectBox",{ref:"messageType",attrs:{vModel:"messageType",classObject:{"form-control":!0,"view-disabled":!0},readonly:t.readonly||t.messageTypeReadOnly,optionInfo:{optionListName:"messageTypeList",optionFor:"option in messageTypeList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"},optionListData:t.messageTypeList,val:1===t.messageTypeList.length?t.messageTypeList[0].pk.propertyKey:""},on:{changeEvt:t.changeMessageType}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(t.$t("igate.adapterwizard.requestDirection"))+" ")]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"detail-content-common"},[e("selectBox",{ref:"requestDirection",attrs:{vModel:"requestDirection",classObject:{"form-control":!0,"view-disabled":!0},readonly:t.readonly||t.requestDirectionReadOnly,optionInfo:{optionListName:"requestDirectionList",optionFor:"option in requestDirectionList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"},optionListData:t.requestDirectionList,val:1===t.requestDirectionList.length?t.requestDirectionList[0].pk.propertyKey:""},on:{changeEvt:t.changeRequestDirection}})],1)]),e("div",{staticClass:"form-group",staticStyle:{"margin-top":"1rem"}},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(t.$t("igate.adapterwizard.transaction"))+" ")]),e("b",{staticClass:"icon-star"})]),t.isFileExternal?e("checkBoxGroup",{ref:"transactions",class:{"custom-control":!0,"custom-checkbox single":!0},attrs:{vModel:"transactions",readonly:t.readonly||t.transactionReadOnly,checkboxInfo:{optionListName:"transactionList",optionFor:"option in transactionList",optionValue:"option.propertyValue",optionText:"option.pk.propertyKey"},optionListData:t.transactionList},on:{changeEvt:t.changeTransaction}}):e("radioGroup",{ref:"transactions",class:{"custom-control":!0,"custom-radio single":!0},attrs:{vModel:"transactions",readonly:t.readonly||t.transactionReadOnly,radioInfo:{optionListName:"transactionList",optionFor:"option in transactionList",optionValue:"option.propertyValue",optionText:"option.pk.propertyKey"},optionListData:t.transactionList,val:1===t.transactionList.length?t.transactionList[0].pk.propertyKey:""}})],1)]),e("div",{class:"col-lg-"+(t.isOnline||t.isOnlineExternal?"4":"6")},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(this.$t("head.id"))+" "),t.getReadonly(t.regExpInfo["adapterId"])?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt["adapterId"]}/${t.maxLengthCnt["adapterId"]})`)+" ")])]),t.readonly||t.inputReadonly||!t.isDuplicateFail?t._e():e("label",{staticClass:"alert alert-warning",style:{margin:"0px",padding:"0px"}},[e("span",[t._v(t._s(t.$t("igate.duplicate.check.id.fail"))+" ")])]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"detail-content-common"},[e("div",{staticClass:"input-group"},[e("inputText",{ref:"adapterId",attrs:{vModel:"adapterId",classObject:{"form-control":!0,"view-disabled":!0,dataKey:!0},readonly:t.readonly||t.inputReadonly,regExpType:"id"},on:{setLengthCnt:t.setLengthCnt}})],1)])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(this.$t("head.name"))+" "),t.getReadonly(t.regExpInfo["adapterName"])?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt["adapterName"]}/${t.maxLengthCnt["adapterName"]})`)+" ")])])]),e("div",{class:"detail-content-"+(t.getReadonly(t.regExpInfo["adapterName"])?"common":"regExp"),style:{"padding-left":""+(t.getReadonly(t.regExpInfo["adapterName"])?"0px":"8px")}},[e("inputText",{ref:"adapterName",attrs:{vModel:"adapterName",classObject:{"form-control":t.getReadonly(t.regExpInfo["adapterName"]),"regExp-text":!t.getReadonly(t.regExpInfo["adapterName"]),"view-disabled":!0},readonly:t.readonly||t.inputReadonly,regExpType:"name"},on:{setLengthCnt:t.setLengthCnt}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(this.$t("igate.adapter.charset"))+" "),t.getReadonly(t.regExpInfo["adapterCharset"])?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt["adapterCharset"]}/${t.maxLengthCnt["adapterCharset"]})`)+" ")])]),e("b",{staticClass:"icon-star"})]),e("div",{class:"detail-content-"+(t.getReadonly(t.regExpInfo["adapterCharset"])?"common":"regExp"),style:{"padding-left":""+(t.getReadonly(t.regExpInfo["adapterCharset"])?"0px":"8px")}},[e("dataList",{ref:"adapterCharset",attrs:{vModel:"adapterCharset",classObject:{"form-control":t.getReadonly(t.regExpInfo["adapterCharset"]),"regExp-text":!t.getReadonly(t.regExpInfo["adapterCharset"]),"view-disabled":!0,dataKey:!0},optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"Property.Adapter.Chartset"},orderByKey:!0},optionListName:"adapterChartsetList",optionFor:"option in adapterChartsetList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"},readonly:t.readonly||t.inputReadonly},on:{setLengthCnt:t.setLengthCnt}})],1)])]),t.isOnline||t.isOnlineExternal?e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.adapter.telegramHandler")))])]),e("div",{staticClass:"input-group"},[e("inputText",{ref:"telegramHandler",attrs:{vModel:"telegramHandler",classObject:{"form-control":!0,"view-disabled":!0,dataKey:!0},readonly:!0}}),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button",disabled:t.inputReadonly},on:{click:t.openActivityModal}},[e("i",{staticClass:"icon-srch"}),t._v(t._s(t.$t("head.search"))+" ")]),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button",disabled:t.inputReadonly,title:t.$t("head.initialize")},on:{click:function(e){t.$refs["telegramHandler"].setData(null)}}},[e("i",{staticClass:"icon-reset",staticStyle:{"margin-right":"0px"}})])],1)]),t.isOnline?e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.adapter.structure.request")))])]),e("div",{staticClass:"input-group"},[e("inputText",{ref:"requestStructure",attrs:{vModel:"requestStructure",classObject:{"form-control":!0,"view-disabled":!0,dataKey:!0},readonly:!0}}),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button",disabled:t.inputReadonly},on:{click:function(e){return t.openRecordModal("I")}}},[e("i",{staticClass:"icon-srch"}),t._v(t._s(t.$t("head.search"))+" ")]),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button",disabled:t.inputReadonly,title:t.$t("head.initialize")},on:{click:function(e){t.$refs["requestStructure"].setData(null)}}},[e("i",{staticClass:"icon-reset",staticStyle:{"margin-right":"0px"}})])],1)]):t._e(),t.isOnline?e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.adapter.structure.response")))])]),e("div",{staticClass:"input-group"},[e("inputText",{ref:"responseStructure",attrs:{vModel:"responseStructure",classObject:{"form-control":!0,"view-disabled":!0,dataKey:!0},readonly:!0}}),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button",disabled:t.inputReadonly},on:{click:function(e){return t.openRecordModal("O")}}},[e("i",{staticClass:"icon-srch"}),t._v(t._s(t.$t("head.search"))+" ")]),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button",disabled:t.inputReadonly,title:t.$t("head.initialize")},on:{click:function(e){t.$refs["responseStructure"].setData(null)}}},[e("i",{staticClass:"icon-reset",staticStyle:{"margin-right":"0px"}})])],1)]):t._e()]):t._e()])])},s=[],n=a(63516),o=a(37662),r=a(31823),l=a.n(r),d=a(77285),c=a.n(d),p={name:"AdapterInfo",extends:n.Z,data(){return{httpReq:null,adapterType:null,adapterWizardTypeList:[],adapterTypeList:[],messageTypeList:[],requestDirectionList:[],transactionList:[],messageTypeReadOnly:!0,requestDirectionReadOnly:!0,transactionReadOnly:!0,inputReadonly:!0,isDuplicateFail:!1,keyArr:["adapterType","messageType","requestDirection","transactions","adapterId","adapterName","adapterCharset","telegramHandler","requestStructure","responseStructure"],requiredKeyArr:["adapterType","messageType","requestDirection","transactions","adapterId","adapterCharset"],regExpInfo:{adapterId:{regExpType:"id",isPK:!0,readonly:!1},adapterName:{regExpType:"name",isPK:!1,readonly:!1},adapterDesc:{regExpType:"desc",isPK:!1,readonly:!1},adapterCharset:{regExpType:"default",isPK:!1,readonly:!1}}}},computed:{isOnline(){return!!this.adapterType&&"Online"===this.adapterType},isTable(){return!!this.adapterType&&"DB"===this.adapterType},isOnlineExternal(){return!!this.adapterType&&"Online.External"===this.adapterType},isFileExternal(){return!!this.adapterType&&"File.External"===this.adapterType}},async created(){try{this.httpReq=new o.p0("/api/page/properties");const t=[{param:{pk:{propertyId:"List.AdapterWizard.Type"},orderByKey:!0,convert:!1},itemName:"adapterWizardTypeList"},{param:{pk:{propertyId:"List.Adapter.Type"},orderByKey:!0},itemName:"adapterTypeList"}];for await(const e of t){const t=await this.httpReq.read(e.param?e.param:null);if("ok"!==t.data.result)throw t.data;this[e.itemName]=t.data.object}this.adapterWizardTypeList=this.getSortedPropertyList(this.adapterWizardTypeList),this.initData()}catch(t){this.$alert({type:"warn",message:this.$t("head.fail.notice")})}},methods:{getData(){let t={};for(let e in this.$refs){if(c()(this.$refs[e]))continue;const a=this.$refs[e].getData();if(this.requiredKeyArr.includes(e)&&(" "===a[e]||c()(a[e])))return{};if(this.isFileExternal||"transactions"!==e)t=l()(t,a);else{const i=Object.values(a).filter((t=>0<t.trim().length));t=l()(t,{[e]:i})}}return t},initData(){const t={};this.keyArr.forEach((e=>{t[e]="undefined"!==typeof this.detailData[e]&&null!==this.detailData[e]?String(this.detailData[e]):null;const a=Object.keys(this.regExpInfo).includes(e)?this.regExpInfo[e].regExpType:"default";this.setLengthCnt({[e]:0}),this.maxLengthCnt[e]=(0,o.oo)(a).maxLength}));for(const e in this.$refs)this.$refs[e]&&this.$refs[e].setData&&this.$refs[e].setData(t[this.$refs[e]._props.vModel]);this.messageTypeList=[],this.requestDirectionList=[],this.transactionList=[],this.messageTypeReadOnly=!0,this.requestDirectionReadOnly=!0,this.transactionReadOnly=!0,this.inputReadonly=!0,this.isDuplicateFail=!1},async changeAdapterType(t){this.initData(),this.adapterType=t.value,this.$refs.adapterType.setData(this.adapterType),this.messageTypeReadOnly=!1,this.transactionReadOnly=!0;let e=this.adapterTypeList.filter((t=>t.pk.propertyKey.includes(this.adapterType)));this.adapterType.includes("External")||(e=e.filter((t=>!t.pk.propertyKey.includes("External")))),this.messageTypeList=e,1===this.messageTypeList.length&&this.changeMessageType({key:"messageType",value:this.$refs.messageType.getData().messageType});let a=await this.httpReq.read({pk:{propertyId:`List.AdapterWizard.RequestDirection.${this.adapterType}`},orderByKey:!0,convert:!1});if("ok"!==a.data.result)throw a.data;if(this.requestDirectionList=this.getSortedPropertyList(a.data.object),this.isTable)this.transactionList=[];else{if(a=await this.httpReq.read({pk:{propertyId:`List.AdapterWizard.Transaction.${this.adapterType}`},orderByKey:!0,convert:!1}),"ok"!==a.data.result)throw a.data;this.transactionList=this.getSortedPropertyList(a.data.object)}this.$emit("changeAdapterInfo",t)},async changeMessageType(t){if(!c()(t.value)){if(this.requestDirectionReadOnly=!1,this.transactionReadOnly=!1,1===this.requestDirectionList.length&&this.changeRequestDirection({key:"requestDirection",value:this.$refs.requestDirection.getData().requestDirection}),!this.isTable&&1<this.transactionList.length){const e=await this.httpReq.read({pk:{propertyId:`Select.AdapterWizard.Transaction.${t.value}`},orderByKey:!0});if("ok"!==e.data.result)throw e.data;const a=0<e.data.object.length?e.data.object.filter((t=>"Y"===t.propertyValue)).map((t=>t.pk.propertyKey)):[];this.$refs.transactions.setData(this.isFileExternal?a:a[0])}if(this.$refs.telegramHandler){const e=await this.httpReq.read({pk:{propertyId:`Telegram.Adapter.${t.value}`},orderByKey:!0});if("ok"!==e.data.result)throw e.data;this.$refs.telegramHandler.setData(0<e.data.object.length?e.data.object[0].propertyValue:null)}if(this.$refs.adapterCharset){const e=await this.httpReq.read({pk:{propertyId:`Charset.Adapter.${t.value}`},orderByKey:!0});if("ok"!==e.data.result)throw e.data;this.$refs.adapterCharset.setData(0<e.data.object.length?e.data.object[0].propertyValue:"")}this.$emit("changeAdapterInfo",t),this.isFileExternal&&this.$emit("changeAdapterInfo",{key:"transactions",value:this.$refs.transactions.getData().transactions})}},async changeRequestDirection(t){if(c()(t.value))return;if(this.inputReadonly=!1,!this.isTable)return;let e=await this.httpReq.read({pk:{propertyId:`List.AdapterWizard.Transaction.${this.adapterType}.${t.value}`},orderByKey:!0,convert:!1});if("ok"!==e.data.result)throw e.data;if(this.transactionList=this.getSortedPropertyList(e.data.object),e=await this.httpReq.read({pk:{propertyId:`Select.AdapterWizard.Transaction.${t.value}`},orderByKey:!0}),"ok"!==e.data.result)throw e.data;if(1<this.transactionList.length){const e=await this.httpReq.read({pk:{propertyId:`Select.AdapterWizard.Transaction.${t.value}`},orderByKey:!0});if("ok"!==e.data.result)throw e.data;const a=0<e.data.object.length?e.data.object.filter((t=>"Y"===t.propertyValue)).map((t=>t.pk.propertyKey)):[];this.$refs.transactions.setData(this.isFileExternal?a:a[0])}},changeTransaction(t){this.$emit("changeAdapterInfo",t)},getSortedPropertyList(t){return t=t.sort(((t,e)=>t.propertyValue<e.propertyValue?-1:t.propertyValue>e.propertyValue?1:0)),t.forEach((t=>{t.propertyValue=this.$t(t.propertyValue)})),t},async checkDuplicate(){const t=this.$refs.adapterId.getData();if(t.adapterId){const t=await new o.p0("/api/entity/adapter/object").read(this.$refs.adapterId.getData(),!1,(()=>{}));this.isDuplicateFail="ok"===t.data.result}else this.isDuplicateFail=!1;return this.isDuplicateFail},getReadonly(t){const e="function"===typeof t.readonly?t.readonly(this.detailData?this.detailData:{}):t.readonly;return this.readonly||e||t.isPK&&"modify"===this.mode||this.inputReadonly},openActivityModal(){const t=this,e=this.$openModal({title:this.$t("igate.activity"),modalWidth:"1000px",contentList:[{template:'<div>\n                                <Search :list="searchList" @search="search" ref="search"/>\n                                    <Main\n                                    :buttonList="buttonList"\n                                    :gridInfo="gridInfo"\n                                    :gridSearchObj="gridSearchObj"\n                                    :gridType="\'modalBasic\'"\n                                    :viewer="true"\n                                    @rowClicked="rowClicked"\n                                    @initialize="initialize"\n                                />\n                            </div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:[{type:"text",vModel:"activityId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"select",vModel:"activityType",label:this.$t("common.type"),val:"H",readonly:!0,optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Activity.ActivityType"},orderByKey:!0},optionListName:"activityTypes",optionFor:"option in activityTypes",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"text",vModel:"activityDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0}],gridInfo:{url:"/api/entity/activity/search",totalCntUrl:"/api/entity/activity/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"activityId",header:this.$t("head.id")},{name:"activityName",header:this.$t("head.name")},{name:"activityType",header:this.$t("common.type"),val:"H",formatter:({row:t})=>{const e={F:"igate.activity.type.control",A:"igate.activity.type.activity",S:"igate.activity.type.service",C:"igate.activity.type.codec",T:"igate.activity.type.transform",I:"igate.activity.type.internal",H:"igate.activity.type.telegram.handler"};return this.$t(e[t.activityType])}},{name:"activityDesc",header:this.$t("head.description")}]}},gridSearchObj:{}}},methods:{search(t){this.gridSearchObj=t},rowClicked(a){t.$refs.telegramHandler.setData(a.activityId),e.hideModal()},initialize(){this.$refs.search.initialize()}}}]})},openRecordModal(t){const e=this,i=this.$openModal({title:this.$t("igate.record"),modalWidth:"1000px",contentList:[{template:'<div>\n                                <Search :list="searchList" @search="search" ref="search"/>\n                                    <Main\n                                    :buttonList="buttonList"\n                                    :gridInfo="gridInfo"\n                                    :gridSearchObj="gridSearchObj"\n                                    :gridType="\'modalBasic\'"\n                                    :viewer="true"\n                                    @rowClicked="rowClicked"\n                                    @initialize="initialize"\n                                />\n                            </div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:[{type:"text",vModel:"recordId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"text",vModel:"recordName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0}],gridInfo:{url:"/api/entity/record/search",totalCntUrl:"/api/entity/record/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"recordId",width:"40%"},{header:this.$t("head.name"),name:"recordName",width:"40%"},{header:`${this.$t("common.privilege")}`,name:"privilegeId",width:"20%"}]}},gridSearchObj:{}}},methods:{search(t){this.gridSearchObj=t},rowClicked(a){e.$refs["I"===t?"requestStructure":"responseStructure"].setData(a.recordId),i.hideModal()},initialize(){this.$refs.search.initialize()}}}]})}}},h=p,u=a(43736),m=(0,u.Z)(h,i,s,!1,null,"2e84f7d0",null),g=m.exports},23034:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return g}});var i=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"margin-bottom":"30px"}},t._l(t.connectorLabelList,(function(a,i){return e("div",{key:i,staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(`${t.$t("igate.connector")} ${t.$t("head.type")}${t.connectorLabelList[i]}`)+" ")]),t._v("   "),e("label",{staticClass:"control-label warningLabel",staticStyle:{"padding-bottom":"0px"}},[e("span",[t._v(t._s(t.$t("igate.adapterwizard.connectorType.chagneWarn")))])]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"detail-content-common"},[e("selectBox",{ref:`connectorType_${i}`,refInFor:!0,attrs:{vModel:"connectorType",classObject:{"form-control":!0,"view-disabled":!0},readonly:t.readonly||!t.adapterType||t.isFileExternal&&t.connectorTypeReadOnly[i],optionInfo:{optionListName:"connectorTypeList",optionFor:"option in connectorTypeList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"},optionListData:t.connectorTypeFilterList},on:{changeEvt:e=>t.changeConnectorType(e,i)}})],1)])]),e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(t.$t("head.id"))+" "),t.getReadonly("connectorId",i)?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt[`connectorId_${i}`]}/${t.maxLengthCnt[`connectorId_${i}`]})`)+" ")])]),t.readonly||t.inputReadonly[i]||!t.isDuplicateFail[i]?t._e():e("label",{staticClass:"alert alert-warning",style:{margin:"0px",padding:"0px"}},[e("span",[t._v(t._s(t.$t("igate.duplicate.check.id.fail"))+" ")])]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"detail-content-common"},[e("div",{staticClass:"input-group"},[e("inputText",{ref:`connectorId_${i}`,refInFor:!0,attrs:{vModel:"connectorId",classObject:{"form-control":!0,"view-disabled":!0,dataKey:!0},readonly:t.readonly||t.inputReadonly[i],regExpType:"id"},on:{setLengthCnt:e=>t.setLengthCnt({[`connectorId_${i}`]:e.connectorId})}})],1)])])]),e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(t.$t("head.name"))+" "),t.getReadonly("connectorName",i)?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt[`connectorName_${i}`]}/${t.maxLengthCnt[`connectorName_${i}`]})`)+" ")])])]),e("div",{class:"detail-content-"+(t.getReadonly("connectorName",i)?"common":"regExp"),style:{"padding-left":""+(t.getReadonly("connectorName",i)?"0px":"8px")}},[e("inputText",{ref:`connectorName_${i}`,refInFor:!0,attrs:{vModel:"connectorName",classObject:{"form-control":t.getReadonly("connectorName",i),"regExp-text":!t.getReadonly("connectorName",i),"view-disabled":!0},readonly:t.readonly||t.inputReadonly[i],regExpType:"name"},on:{setLengthCnt:e=>t.setLengthCnt({[`connectorName_${i}`]:e.connectorName})}})],1)])])])})),0)},s=[],n=(a(57658),a(63516)),o=a(37662),r=a(31823),l=a.n(r),d=a(77285),c=a.n(d),p={name:"ConnectorInfo",extends:n.Z,props:{adapterType:String,transactions:Array},data(){return{connectorLabelList:[""],connectorLabelObj:[],connectorTypeList:[],transactionList:[],filterFileExternalList:[],filterOnlineExternalList:[],connectorTypeReadOnly:[],inputReadonly:[],isDuplicateFail:[],keyArr:["connectorType","connectorId","connectorName"],requiredKeyArr:["connectorType","connectorId"],regExpInfo:{connectorId:{regExpType:"id",isPK:!0,readonly:!1},connectorName:{regExpType:"name",isPK:!1,readonly:!1}}}},computed:{connectorTypeFilterList(){return this.adapterType?this.adapterType.includes("External")?this.isFileExternal?this.filterFileExternalList:this.filterOnlineExternalList:this.connectorTypeList.filter((t=>t.pk.propertyKey.includes(this.adapterType))):[]},isFileExternal(){return!!this.adapterType&&this.adapterType.includes("File.External")}},watch:{adapterType(){this.connectorLabelList=this.isFileExternal?Object.values(this.connectorLabelObj):[""],this.initData()},transactions(){if(!this.isFileExternal)return;let t=[];if(0===this.transactions.length)this.initData(),t=Object.keys(this.connectorLabelObj);else{const e=Object.keys(this.connectorLabelObj),a=[...new Set(this.transactions.map((t=>t.charAt(0))))];for(let i=0;i<e.length;i++){const s=-1===a.indexOf(e[i]);this.connectorTypeReadOnly.splice(i,1,s),this.connectorTypeReadOnly[i]&&(this.inputReadonly.splice(i,1,!0),this.keyArr.forEach((t=>{const e=`${t}_${i}`;this.setLengthCnt({[e]:0}),this.$refs[e][0].setData&&this.$refs[e][0].setData(null)})),t.push(e[i]))}}for(const e of t)setTimeout((()=>{this.$emit("changeConnectorInfo",{key:"connectorInfo",value:{connectorType:null,transaction:e}})}),0)}},async created(){try{const t=[{param:{pk:{propertyId:"List.Connector.Type"},orderByKey:!0},itemName:"connectorTypeList"},{param:{pk:{propertyId:"List.AdapterWizard.Transaction.File.External"},orderByKey:!0},itemName:"transactionList"},{param:{pk:{propertyId:"List.AdapterWizard.Connector.File.External"},orderByKey:!0},itemName:"filterFileExternalList"},{param:{pk:{propertyId:"List.AdapterWizard.Connector.Online.External"},orderByKey:!0},itemName:"filterOnlineExternalList"}];for await(const i of t){const t=await new o.p0("/api/page/properties").read(i.param?i.param:null);if("ok"!==t.data.result)throw t.data;this[i.itemName]=t.data.object}const e=this.transactionList.filter((t=>"S"===t.pk.propertyKey.charAt(0))),a=e.map((t=>t.propertyValue)).join("/");for(const i of this.transactionList){const t=i.pk.propertyKey.charAt(0),e="S"===t?a:i.propertyValue;this.connectorLabelObj[t]=`(${e})`}this.initData()}catch(t){this.$alert({type:"warn",message:this.$t("head.fail.notice")})}},methods:{getData(){let t={};for(let e=0;e<this.connectorLabelList.length;e++){let a={};const i=Object.keys(this.connectorLabelObj)[e];for(const t of this.keyArr){const s=this.$refs[`${t}_${e}`][0].getData();if(this.requiredKeyArr.includes(t)){if(this.isFileExternal&&this.connectorTypeReadOnly[e])continue;if(" "===s[t]||c()(s[t]))return{}}if(this.isFileExternal&&"S"!==i.charAt(0)){const e="connector";s[`${t.slice(0,e.length)}2nd${t.slice(e.length)}`]=s[t],delete s[t]}a=l()(a,s)}t=l()(t,a)}return t},initData(){const t={};this.keyArr.forEach((e=>{if(t[e]="undefined"!==typeof this.detailData[e]&&null!==this.detailData[e]?String(this.detailData[e]):null,!Object.keys(this.regExpInfo).includes(e))return;const a=Object.keys(this.regExpInfo).includes(e)?this.regExpInfo[e].regExpType:"default";for(let t=0;t<2;t++){const i=`${e}_${t}`;this.setLengthCnt({[i]:0}),this.maxLengthCnt[i]=(0,o.oo)(a).maxLength}}));for(const e in this.$refs)0!==this.$refs[e].length&&this.$refs[e][0].setData&&this.$refs[e][0].setData(t[this.$refs[e][0]._props.vModel]);this.isDuplicateFail=new Array(2).fill(!1),this.connectorTypeReadOnly=new Array(2).fill(!0),this.inputReadonly=new Array(2).fill(!0)},changeConnectorType(t,e){c()(t.value)||(this.inputReadonly.splice(e,1,!1),this.$emit("changeConnectorInfo",{key:"connectorInfo",value:{[t.key]:t.value,transaction:Object.keys(this.connectorLabelObj)[e]}}))},async checkDuplicate(){const t=[];for(const e in this.connectorLabelList){const a=this.$refs[`connectorId_${e}`][0].getData();if(!a.connectorId){t[e]=!1;continue}const i=await new o.p0("/api/entity/connector/object").read(a,!1,(()=>{}));t[e]="ok"===i.data.result}return this.isDuplicateFail=[...t],this.isDuplicateFail.some((t=>t))},getReadonly(t,e){const a=this.regExpInfo[t],i="function"===typeof a.readonly?a.readonly(this.detailData?this.detailData:{}):a.readonly;return this.readonly||i||a.isPK&&"modify"===this.mode||this.inputReadonly[e]}}},h=p,u=a(43736),m=(0,u.Z)(h,i,s,!1,null,null,null),g=m.exports},52945:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"list-group",staticStyle:{width:"100%"}},t._l(t.instanceList,(function(a,i){return e("li",{key:i,staticClass:"list-group-item"},[e("label",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.check,expression:"instance.check"}],staticClass:"custom-control-input view-disabled",attrs:{type:"checkbox",disabled:t.readonly},domProps:{checked:Array.isArray(a.check)?t._i(a.check,null)>-1:a.check},on:{click:function(e){return t.checkInstanceId(i)},change:function(e){var i=a.check,s=e.target,n=!!s.checked;if(Array.isArray(i)){var o=null,r=t._i(i,o);s.checked?r<0&&t.$set(a,"check",i.concat([o])):r>-1&&t.$set(a,"check",i.slice(0,r).concat(i.slice(r+1)))}else t.$set(a,"check",n)}}}),e("span",{staticClass:"custom-control-label"},[t._v(" "+t._s(a.instanceId))])])])})),0)},s=[],n=(a(57658),a(37662)),o=a(21783),r=a(66281),l=a.n(r),d={name:"DeploiesInfo",extends:o.Z,props:{adapterType:String},data(){return{instanceList:[],singleCheck:!1}},computed:{readonly(){return"detail"===this.mode||"done"===this.mode||!this.adapterType}},watch:{adapterType(){this.adapterType&&(this.singleCheck=this.adapterType.includes("File")||this.adapterType.includes("DB"),this.initData())}},async created(){const t=new n.p0("/api/entity/instance/search"),e=await t.read({object:{},next:null,limit:null,reverseOrder:!1});"ok"===e.data.result&&(this.instanceList=e.data.object.filter((t=>"T"==t.instanceType)).map((t=>({instanceId:t.instanceId}))))},methods:{getData(){const t=this.instanceList.filter((t=>t.check)),e=[];for(let a of t)e.push(a.instanceId);return{instanceDeploies:e}},initData(){this.instanceList.forEach((t=>{delete t.check}))},checkInstanceId(t){if(!this.singleCheck)return;const e=l()(this.instanceList);this.instanceList=[],e.forEach(((e,a)=>{this.instanceList.push({instanceId:e.instanceId,check:a===t})}))}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},75521:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return y}});var i=function(){var t=this,e=t._self._c;return e("div",{ref:"panel",attrs:{id:"panel"}},[t._m(0),e("ul",{staticClass:"nav nav-tabs flex-shrink-0"},[e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:0===t.selectedIdx},attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.changeTab(0)}}},[t._v(" "+t._s(t.$t("igate.adapterwizard"))+" ")])]),e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:1===t.selectedIdx},attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.changeTab(1)}}},[t._v(" "+t._s(t.$t("head.executionResult"))+" ")])])]),e("div",{staticClass:"panel-body tab-content"},[e("div",{class:{[t.panelMode]:!0,"tab-pane":!0,active:0===t.selectedIdx}},[e("section",{staticClass:"tab-section"},[e("header",{staticClass:"sub-bar"},[e("h3",{staticClass:"sub-bar-text"},[t._v(" "+t._s(`${this.$t("igate.adapter")} ${this.$t("head.info")}`)+" ")]),e("div",{staticClass:"alert alert-warning",attrs:{role:"alert"}},[e("span",{staticStyle:{"font-size":"0.875rem"}},[t._v(t._s(t.$t("igate.adapterwizard.adapter.inputWarn")))])])]),e(a(63587)["default"],{ref:"AdapterInfo",tag:"component",attrs:{detailInfo:{},detailData:t.detailData,mode:t.panelMode},on:{changeAdapterInfo:t.changeAdapterWizardInfo}}),e("PropertyInfo",{ref:"AdapterPropertyInfo",attrs:{detailInfo:t.propertyInfo,detailData:t.detailData,mode:t.panelMode,adapterType:t.adapterType,messageType:t.messageType}})],1),e("hr",{staticStyle:{background:"#8a8b92"}}),e("section",{staticClass:"tab-section"},[e("header",{staticClass:"sub-bar",staticStyle:{"padding-top":"0px"}},[e("h3",{staticClass:"sub-bar-text"},[t._v(" "+t._s(`${this.$t("igate.connector")} ${this.$t("head.info")}`)+" ")]),e("div",{staticClass:"alert alert-warning",attrs:{role:"alert"}},[e("span",{staticStyle:{"font-size":"0.875rem"}},[t._v(t._s(t.$t("igate.adapterwizard.connector.inputWarn")))])])]),e(a(23034)["default"],{ref:"ConnectorInfo",tag:"component",attrs:{detailInfo:{},detailData:t.detailData,mode:t.panelMode,adapterType:t.adapterType,transactions:t.transactions},on:{changeConnectorInfo:t.changeAdapterWizardInfo}}),e("PropertyInfo",{ref:"ConnectorPropertyInfo",attrs:{detailInfo:t.propertyInfo,detailData:t.detailData,mode:t.panelMode,adapterType:t.adapterType,connectorInfo:t.connectorInfo}})],1),e("hr",{staticStyle:{background:"#8a8b92"}}),e("section",{staticClass:"tab-section",staticStyle:{"padding-top":"0px"}},[e("header",{staticClass:"sub-bar"},[e("h3",{staticClass:"sub-bar-text"},[t._v(t._s(`${this.$t("igate.instance")} ${this.$t("head.id")}`))])]),e(a(52945)["default"],{ref:"DeploiesInfo",tag:"component",attrs:{detailInfo:{},detailData:t.detailData,mode:t.panelMode,adapterType:t.adapterType}})],1)]),t.toShowResult?e("DetailResult",{class:{"tab-pane":!0,active:1===t.selectedIdx&&t.showResultTab},attrs:{httpReqResult:t.httpReqResult}}):t._e()],1),e("footer",{staticClass:"panel-footer sub-bar",attrs:{id:"panel-footer"}},[e("div",{staticClass:"ml-auto"},[t.newTabBtn&&t.viewer&&!t.isTools?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("common.open.new.tab")},on:{click:t.newTab}},[e("i",{staticClass:"icon-info"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("common.open.new.tab")))])]):t._e(),t.initializeBtn&&t.editor?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.initialize")},on:{click:t.initialize}},[e("i",{staticClass:"icon-reset"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.initialize")))])]):t._e(),t.insertBtn&&t.editor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.insert")},on:{click:t.saveInfo}},[e("i",{staticClass:"icon-plus"}),t._v(t._s(t.$t("head.insert"))+" ")]):t._e()])])])},s=[function(){var t=this,e=t._self._c;return e("header",{staticClass:"panel-header sub-bar",attrs:{id:"panel-header"}},[e("h2",{staticClass:"sub-bar-tit"},[t._v("Insert")])])}],n=(a(57658),a(63822)),o=a(44062),r=a(61272),l=a(37662),d=a(31823),c=a.n(d),p=a(77285),h=a.n(p),u={name:"Detail",extends:o.Z,components:{PropertyInfo:r["default"]},data(){return{panelMode:"add",panelBodyHeight:null,addPossible:!0,adapterType:null,messageType:null,transactions:null,connectorInfo:null,propertyInfo:{content:[{type:"text",vModel:"pk.propertyKey",label:this.$t("common.property.key"),regExpType:"id",readonly:!0},{type:"text",vModel:"propertyValue",label:this.$t("common.property.value"),regExpType:"value"},{type:"text",vModel:"propertyDesc",label:this.$t("head.description"),regExpType:"desc",readonly:!0}]}}},computed:{...(0,n.rn)(["isTools"])},watch:{cudUrl:{immediate:!0,handler(){this.httpReq=new l.p0(`${this.cudUrl}`)}}},mounted(){l.dc.$on("MainResize",this.resize),l.Gk.$on("MainResize",this.resize),l.QK.$on("MainResize",this.resize),this.resize()},methods:{changeAdapterWizardInfo(t){this[t.key]=t.value},newTab(){(0,l.RB)((0,l.cG)())},initialize(){this.panelMode="add",this.addPossible=!0,this.adapterType=null,this.messageType=null,this.transactions=null,this.connectorInfo=null,this.$refs.AdapterInfo.initData(),this.$refs.DeploiesInfo.initData(),this.tabAllData={}},async saveInfo(){if(!this.addPossible)return void this.$alert({type:"warn",isXSSMode:!0,message:this.$t("igate.adapterwizard.already.insertWarn")});const t=["AdapterInfo","ConnectorInfo"],e={AdapterInfo:this.$t("igate.duplicate.adapter.label"),ConnectorInfo:this.$t("igate.duplicate.connector.label")};let a=[];for await(const s of t){const t=this.$refs[s].getData();if(h()(t))return void this.$alert({type:"warn",isXSSMode:!0,message:this.$t("head.required.info.warn")});const i=await this.$refs[s].checkDuplicate();i&&a.push(e[s]),this.tabAllData=c()(this.tabAllData,t)}if(!h()(a))return void this.$alert({type:"warn",message:this.$t("igate.duplicate.check",{0:a.join(",")})});this.tabAllData=c()(this.tabAllData,this.$refs.AdapterPropertyInfo.getData("adapter")),this.tabAllData=c()(this.tabAllData,this.$refs.ConnectorPropertyInfo.getData("connector")),this.tabAllData=c()(this.tabAllData,this.$refs.DeploiesInfo.getData());const i=await this.httpReq.create(this.tabAllData,!0);this.setData(i)},setData(t){const e="ok"===t.data.result;this.httpReqResult={state:e,content:e?t.data.response:t.data.error},this.selectedIdx=1,this.showResultTab=!0,e?(this.addPossible=!1,this.$alert({type:"normal",message:this.$t("head.insert.notice")})):this.tabAllData={}},resize(){const t=document.getElementById("ct"),e=getComputedStyle(t),a=(0,l.tJ)(e.getPropertyValue("padding-top")),i=(0,l.tJ)(e.getPropertyValue("padding-bottom")),s=document.querySelector(".panel-header").offsetHeight,n=document.querySelector("#panel").querySelector(".nav").offsetHeight,o=document.querySelector(".panel-footer").offsetHeight;this.panelBodyHeight=window.innerHeight-a-i-s-n-o+"px"}}},m=u,g=a(43736),f=(0,g.Z)(m,i,s,!1,null,null,null),y=f.exports},61272:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return y}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"propertyTab"},[e("div",{staticClass:"form-table form-table-responsive"},[e("div",{staticClass:"form-table-head"},t._l(t.detailInfo.content,(function(a,i){return e("label",{key:i,staticClass:"col"},[t._v(t._s(a.label))])})),0),e("div",{staticClass:"form-table-wrap"},t._l(t.propertyList,(function(a,i){return e("div",{key:`${a.idx}`,staticClass:"form-table-body"},t._l(t.detailInfo.content,(function(s,n){return e("div",{key:`${a.idx}_${n}`,staticClass:"col"},[e("div",{class:"detail-content-"+(t.regExpTypeList.includes(s.type)&&!t.getReadonly(s)?"regExp":"common")},["text"===s.type?e("inputText",{ref:`component_${i}_${n}`,refInFor:!0,attrs:{vModel:s.vModel,classObject:{"form-control":t.getReadonly(s),[`regExp-${s.type}`]:!t.getReadonly(s),"view-disabled":!0,dataKey:s.isRequired},val:a[s.vModel],regExpType:s.regExpType,readonly:t.readonly||s.readonly},on:{setLengthCnt:e=>t.setLengthCnt({[`${s.vModel}_${i}`]:e[s.vModel]})}}):t._e(),t.regExpTypeList.includes(s.type)&&!t.getReadonly(s)?e("span",{staticClass:"letterLength",staticStyle:{margin:"0px"}},[t._v(" "+t._s(`(${t.curLengthCnt[`${s.vModel}_${i}`]} /${t.maxLengthCnt[`${s.vModel}_${i}`]})`)+" ")]):t._e()],1)])})),0)})),0)])])},s=[],n=(a(57658),a(21783)),o=a(37662),r=a(31823),l=a.n(r),d=a(66281),c=a.n(d),p=a(77285),h=a.n(p),u={name:"PropertyInfo",extends:n.Z,props:{adapterType:String,messageType:String,connectorInfo:Object},data(){return{propertyList:[],mergePropertyList:{}}},watch:{adapterType(){this.setPropertyList()},messageType(){this.messageType&&this.setPropertyList(`Property.Adapter.${this.messageType}`)},connectorInfo:{deep:!0,handler(){h()(this.connectorInfo)||(this.connectorInfo.connectorType?this.setPropertyList(`Property.Connector.${this.connectorInfo.connectorType}`,!0):(this.mergePropertyList[this.connectorInfo.transaction]=[],this.propertyList=c()([].concat(...Object.values(this.mergePropertyList))),this.propertyList=this.propertyList.map((t=>(0,o.Np)(t)))))}}},methods:{getData(t){const e=[];for(let a in this.propertyList){let t={};for(let e in this.detailInfo.content)t=l()(t,(0,o.Fh)(this.$refs[`component_${a}_${e}`][0].getData()));e.push(t)}return{[`${t}Properties`]:e}},async setPropertyList(t,e){if(!t)return void(this.propertyList=[]);const a=new o.p0("/api/page/properties"),i=await a.read({pk:{propertyId:t},orderByKey:!0});if("ok"!==i.data.result)return void this.$alert({type:"warn",message:`${i.data.error[0].message}`});this.regexpElmList=this.detailInfo.content.filter((t=>this.regExpTypeList.includes(t.type)));let s=i.data.object.filter((t=>"-"===t.propertyValue&&"Y"===t.requireYn));if(h()(this.connectorInfo)||(s=s.filter((t=>!t.pk.propertyKey.includes("timeout")))),s.forEach(((t,e)=>{t.idx=(0,o.Fs)(),this.regexpElmList.forEach((a=>{const i=`${a.vModel}_${this.propertyList.length+e}`;this.setLengthCnt({[i]:t[a.vModel]?t[a.vModel].length:0}),this.maxLengthCnt[i]=(0,o.oo)(a.regExpType?a.regExpType:"default").maxLength}))})),e){this.mergePropertyList[this.connectorInfo.transaction]=c()(s);let t=[].concat(...Object.values(this.mergePropertyList));this.propertyList=t.filter(((e,a)=>t.findIndex((t=>e.pk.propertyKey===t.pk.propertyKey))===a))}else this.propertyList=s;this.propertyList=this.propertyList.map((t=>(0,o.Np)(t)))}}},m=u,g=a(43736),f=(0,g.Z)(m,i,s,!1,null,null,null),y=f.exports},5643:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(this.$t("head.id"))+" "),t.getReadonly(t.regExpInfo["adapterId"])?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt["adapterId"]}/${t.maxLengthCnt["adapterId"]})`)+" ")])]),e("b",{staticClass:"icon-star"})]),e("div",{class:"detail-content-"+(t.getReadonly(t.regExpInfo["adapterId"])?"common":"regExp"),style:{"padding-left":""+(t.getReadonly(t.regExpInfo["adapterId"])?"0px":"8px")}},[e("inputText",{ref:"adapterId",attrs:{vModel:"adapterId",classObject:{"form-control":t.getReadonly(t.regExpInfo["adapterId"]),"regExp-text":!t.getReadonly(t.regExpInfo["adapterId"]),"view-disabled":!0,dataKey:!0},readonly:t.readonly||t.getReadonly(t.regExpInfo["adapterId"]),regExpType:"id"},on:{setLengthCnt:t.setLengthCnt}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(this.$t("head.name"))+" "),t.getReadonly(t.regExpInfo["adapterName"])?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt["adapterName"]}/${t.maxLengthCnt["adapterName"]})`)+" ")])])]),e("div",{class:"detail-content-"+(t.getReadonly(t.regExpInfo["adapterName"])?"common":"regExp"),style:{"padding-left":""+(t.getReadonly(t.regExpInfo["adapterName"])?"0px":"8px")}},[e("inputText",{ref:"adapterName",attrs:{vModel:"adapterName",classObject:{"form-control":t.getReadonly(t.regExpInfo["adapterName"]),"regExp-text":!t.getReadonly(t.regExpInfo["adapterName"]),"view-disabled":!0},readonly:t.readonly,regExpType:"name"},on:{setLengthCnt:t.setLengthCnt}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(this.$t("common.type")))])]),t.readonly?t._e():e("label",{staticClass:"control-label warningLabel"},[e("span",[t._v(t._s(t.$t("igate.adapter.alert.type.empty")))])]),e("selectBox",{ref:"adapterType",attrs:{vModel:"adapterType",classObject:{"form-control":!0,"view-disabled":!0},readonly:t.readonly||t.getReadonly({isPK:!1,readonly:!1}),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Adapter.Type"},orderByKey:!0},optionListName:"adapterTypeList",optionFor:"option in adapterTypeList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},on:{changeEvt:t.changeEvt}})],1),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(this.$t("igate.adapter.charset"))+" "),t.getReadonly(t.regExpInfo["charset"])?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt["charset"]}/${t.maxLengthCnt["charset"]})`)+" ")])]),e("b",{staticClass:"icon-star"})]),e("div",{class:"detail-content-"+(t.getReadonly(t.regExpInfo["charset"])?"common":"regExp"),style:{"padding-left":""+(t.getReadonly(t.regExpInfo["charset"])?"0px":"8px")}},[e("dataList",{ref:"charset",attrs:{vModel:"charset",classObject:{"form-control":t.getReadonly(t.regExpInfo["charset"]),"regExp-text":!t.getReadonly(t.regExpInfo["charset"]),"view-disabled":!0},readonly:t.readonly,optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"Property.Adapter.Chartset"},orderByKey:!0},optionListName:"adapterChartsetList",optionFor:"option in adapterChartsetList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},on:{setLengthCnt:t.setLengthCnt}})],1)])]),e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.adapter.endian")))]),e("b",{staticClass:"icon-star"})]),e("selectBox",{ref:"endian",attrs:{vModel:"endian",classObject:{"form-control":!0,"view-disabled":!0},readonly:t.readonly||t.getReadonly({isPK:!1,readonly:!1}),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Adapter.Endian"},orderByKey:!0},optionListName:"adapterEndianList",optionFor:"option in adapterEndianList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}}})],1),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.adapter.queue.mode")))]),e("b",{staticClass:"icon-star"})]),e("selectBox",{ref:"queueMode",attrs:{vModel:"queueMode",classObject:{"form-control":!0,"view-disabled":!0},readonly:t.readonly||t.getReadonly({isPK:!1,readonly:!1}),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Adapter.Queuemode"},orderByKey:!0},optionListName:"adapterQueueModeList",optionFor:"option in adapterQueueModeList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}}})],1),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(`${t.$t("head.queue")} ${t.$t("head.log.level")}`))]),e("b",{staticClass:"icon-star"})]),e("selectBox",{ref:"queueLogLevel",attrs:{vModel:"queueLogLevel",classObject:{"form-control":!0,"view-disabled":!0},readonly:t.readonly||t.getReadonly({isPK:!1,readonly:!1}),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.LogLevel"},orderByKey:!1},optionListName:"queueLogLevelList",optionFor:"option in queueLogLevelList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}}})],1)]),e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.adapter.telegramHandler")))])]),e("div",{staticClass:"input-group"},[e("inputText",{ref:"telegramHandler",attrs:{vModel:"telegramHandler",classObject:{"form-control":!0,"view-disabled":!0,dataKey:!0},readonly:!0}}),t.readonly&&!t.isTools?e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.open")},on:{click:function(e){return t.clickEvt("telegramHandler")}}},[e("i",{staticClass:"icon-link"})]):t._e(),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button"},on:{click:t.openActivityModal}},[e("i",{staticClass:"icon-srch"}),t._v(t._s(t.$t("head.search"))+" ")]),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button",title:t.$t("head.initialize")},on:{click:function(e){t.$refs["telegramHandler"].setData(null)}}},[e("i",{staticClass:"icon-reset",staticStyle:{"margin-right":"0px"}})])],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.adapter.structure.request")))])]),e("div",{staticClass:"input-group"},[e("inputText",{ref:"requestStructure",attrs:{vModel:"requestStructure",classObject:{"form-control":!0,"view-disabled":!0,dataKey:!0},readonly:!0}}),t.readonly&&!t.isTools?e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.open")},on:{click:function(e){return t.clickEvt("requestStructure")}}},[e("i",{staticClass:"icon-link"})]):t._e(),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button"},on:{click:function(e){return t.openRecordModal("I")}}},[e("i",{staticClass:"icon-srch"}),t._v(t._s(t.$t("head.search"))+" ")]),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button",title:t.$t("head.initialize")},on:{click:function(e){t.$refs["requestStructure"].setData(null)}}},[e("i",{staticClass:"icon-reset",staticStyle:{"margin-right":"0px"}})])],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.adapter.structure.response")))])]),e("div",{staticClass:"input-group"},[e("inputText",{ref:"responseStructure",attrs:{vModel:"responseStructure",classObject:{"form-control":!0,"view-disabled":!0,dataKey:!0},readonly:!0}}),t.readonly&&!t.isTools?e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.open")},on:{click:function(e){return t.clickEvt("responseStructure")}}},[e("i",{staticClass:"icon-link"})]):t._e(),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button"},on:{click:function(e){return t.openRecordModal("O")}}},[e("i",{staticClass:"icon-srch"}),t._v(t._s(t.$t("head.search"))+" ")]),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button",title:t.$t("head.initialize")},on:{click:function(e){t.$refs["responseStructure"].setData(null)}}},[e("i",{staticClass:"icon-reset",staticStyle:{"margin-right":"0px"}})])],1)])])]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(t.$t("head.description"))+" "),t.getReadonly(t.regExpInfo["adapterDesc"])?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt["adapterDesc"]}/${t.maxLengthCnt["adapterDesc"]})`)+" ")])])]),e("div",{class:"detail-content-"+(t.getReadonly(t.regExpInfo["adapterDesc"])?"common":"regExp")},[e("textArea",{ref:"adapterDesc",attrs:{vModel:"adapterDesc",classObject:{"form-control":t.getReadonly(t.regExpInfo["adapterDesc"]),"regExp-textarea":!t.getReadonly(t.regExpInfo["adapterDesc"]),"view-disabled":!0},readonly:t.readonly,regExpType:"desc",height:"200px"},on:{setLengthCnt:t.setLengthCnt}})],1)])])])])},s=[],n=a(63516),o=a(37662),r=a(31823),l=a.n(r),d={name:"BasicInfo",props:{detailData:Object,mode:String},extends:n.Z,data(){return{keyArr:["adapterId","adapterName","adapterType","charset","endian","queueMode","queueLogLevel","requestStructure","responseStructure","telegramHandler","adapterId","adapterDesc"],regExpInfo:{adapterId:{regExpType:"id",isPK:!0,readonly:!1},adapterName:{regExpType:"name",isPK:!1,readonly:!1},adapterDesc:{regExpType:"desc",isPK:!1,readonly:!1},charset:{regExpType:"default",isPK:!1,readonly:!1}}}},methods:{getReadonly(t){return this.readonly||t.isPK&&"modify"===this.mode},getData(){let t={};for(let e in this.$refs)0!==this.$refs[e].length&&(t=l()(t,this.$refs[e].getData()));return t},initData(){const t={};this.keyArr.forEach((e=>{t[e]="undefined"!==typeof this.detailData[e]&&null!==this.detailData[e]?String(this.detailData[e]):null;const a=Object.keys(this.regExpInfo).includes(e)?this.regExpInfo[e].regExpType:"default";this.setLengthCnt({[e]:0}),this.maxLengthCnt[e]=(0,o.oo)(a).maxLength}));for(const e in this.$refs)this.$refs[e].setData&&("queueMode"===e?this.$refs[e].setData(t[this.$refs[e]._props.vModel]?t[this.$refs[e]._props.vModel]:"X"):"queueLogLevel"===e?this.$refs[e].setData(t[this.$refs[e]._props.vModel]?t[this.$refs[e]._props.vModel]:"N/A"):this.$refs[e].setData(t[this.$refs[e]._props.vModel]))},async changeEvt(t){let e=await new o.p0("/api/page/properties").read({pk:{propertyId:`Telegram.Adapter.${t.value}`},orderByKey:!0});if("ok"!==e.data.result)throw e.data;if(this.$refs.telegramHandler.setData(0<e.data.object.length?e.data.object[0].propertyValue:""),e=await new o.p0("/api/page/properties").read({pk:{propertyId:`Charset.Adapter.${t.value}`},orderByKey:!0}),"ok"!==e.data.result)throw e.data;this.$refs.charset.setData(0<e.data.object.length?e.data.object[0].propertyValue:""),this.$emit("changeProperties",t.value)},openRecordModal(t){const e=this,i=this.$openModal({title:this.$t("igate.record"),modalWidth:"1000px",contentList:[{template:'<div>\n                                <Search :list="searchList" @search="search" ref="search"/>\n                                    <Main\n                                    :buttonList="buttonList"\n                                    :gridInfo="gridInfo"\n                                    :gridSearchObj="gridSearchObj"\n                                    :gridType="\'modalBasic\'"\n                                    :viewer="true"\n                                    @rowClicked="rowClicked"\n                                    @initialize="initialize"\n                                />\n                            </div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:[{type:"text",vModel:"recordId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"text",vModel:"recordName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0}],gridInfo:{url:"/api/entity/record/search",totalCntUrl:"/api/entity/record/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"recordId",width:"40%"},{header:this.$t("head.name"),name:"recordName",width:"40%"},{header:`${this.$t("common.privilege")}`,name:"privilegeId",width:"20%"}]}},gridSearchObj:{}}},methods:{search(t){this.gridSearchObj=t},rowClicked(a){e.$refs["I"===t?"requestStructure":"responseStructure"].setData(a.recordId),i.hideModal()},initialize(){this.$refs.search.initialize()}}}]})},openActivityModal(){const t=this,e=this.$openModal({title:this.$t("igate.activity"),modalWidth:"1000px",contentList:[{template:'<div>\n                                <Search :list="searchList" @search="search" ref="search"/>\n                                    <Main\n                                    :buttonList="buttonList"\n                                    :gridInfo="gridInfo"\n                                    :gridSearchObj="gridSearchObj"\n                                    :gridType="\'modalBasic\'"\n                                    :viewer="true"\n                                    @rowClicked="rowClicked"\n                                    @initialize="initialize"\n                                />\n                            </div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:[{type:"text",vModel:"activityId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"select",vModel:"activityType",label:this.$t("common.type"),val:"H",readonly:!0,optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Activity.ActivityType"},orderByKey:!0},optionListName:"activityTypes",optionFor:"option in activityTypes",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"text",vModel:"activityDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0}],gridInfo:{url:"/api/entity/activity/search",totalCntUrl:"/api/entity/activity/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"activityId",header:this.$t("head.id"),width:"25%"},{name:"activityName",header:this.$t("head.name"),width:"25%"},{name:"activityType",header:this.$t("common.type"),val:"H",width:"25%",formatter:({row:t})=>{const e={F:"igate.activity.type.control",A:"igate.activity.type.activity",S:"igate.activity.type.service",C:"igate.activity.type.codec",T:"igate.activity.type.transform",I:"igate.activity.type.internal",H:"igate.activity.type.telegram.handler"};return this.$t(e[t.activityType])}},{name:"activityDesc",header:this.$t("head.description"),width:"25%"}]}},gridSearchObj:{}}},methods:{search(t){this.gridSearchObj=t},rowClicked(a){t.$refs.telegramHandler.setData(a.activityId),e.hideModal()},initialize(){this.$refs.search.initialize()}}}]})},clickEvt(t){const e=this.detailData[t];if(!e)return void this.$alert({type:"warn",message:this.$t("head.no.data.warn")});let a="",i={};"telegramHandler"===t?(a="102060",i={activityId:e}):(a="101010",i={recordId:e}),(0,o.RB)(a,(()=>{localStorage.removeItem("searchObj"),localStorage.setItem("searchObj",JSON.stringify(i))}))}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},82139:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(`${this.$t("igate.connector")} ID`)+" ")])])]),t._l(t.connectorList,(function(t,a){return e("div",{key:a,staticClass:"form-group"},[e("div",{staticClass:"input-group"},[e("input",{staticClass:"form-control view-disabled readonly disabled",attrs:{type:"text",disabled:"",readonly:""},domProps:{value:t}})])])}))],2)},s=[],n=a(21783),o=a(77285),r=a.n(o),l={name:"ConnectorInfo",extends:n.Z,data(){return{connectorList:[]}},methods:{setPropertyList(){this.connectorList=r()(this.detailData)||r()(this.detailData.connectors)?[]:this.detailData.connectors},getData(){return{connectors:this.connectorList?this.connectorList:[]}}}},d=l,c=a(43736),p=(0,c.Z)(d,i,s,!1,null,null,null),h=p.exports},34317:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"list-group",staticStyle:{width:"100%"}},t._l(t.propertyList,(function(a,i){return e("li",{key:i,staticClass:"list-group-item"},[e("label",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.check,expression:"property.check"}],staticClass:"custom-control-input view-disabled",attrs:{type:"checkbox",disabled:t.readonly},domProps:{checked:Array.isArray(a.check)?t._i(a.check,null)>-1:a.check},on:{change:function(e){var i=a.check,s=e.target,n=!!s.checked;if(Array.isArray(i)){var o=null,r=t._i(i,o);s.checked?r<0&&t.$set(a,"check",i.concat([o])):r>-1&&t.$set(a,"check",i.slice(0,r).concat(i.slice(r+1)))}else t.$set(a,"check",n)}}}),e("span",{staticClass:"custom-control-label"},[t._v(t._s(a.instanceId))])])])})),0)},s=[],n=(a(57658),a(37662)),o=a(21783),r=a(77285),l=a.n(r),d={name:"DeploiesInfo",extends:o.Z,data(){return{instanceList:[],propertyList:[]}},async created(){const t=new n.p0("/api/entity/instance/search"),e=await t.read({object:{},limit:null,next:null,reverseOrder:!1});"ok"===e.data.result&&(this.instanceList=e.data.object.filter((t=>"T"==t.instanceType)))},methods:{getData(){const t=this.propertyList.filter((t=>t.check)),e=[];for(let a of t)e.push({pk:{instanceId:a.instanceId}});return{adapterQueueDeploies:e}},async setPropertyList(){const t=this.instanceList.map((t=>t.instanceId)),e=l()(this.detailData.adapterQueueDeploies)?[]:this.detailData.adapterQueueDeploies.map((t=>t.pk.instanceId));this.propertyList=[];for(const a of t)this.propertyList.push({instanceId:a,check:e.includes(a)});this.propertyList=this.propertyList.map((t=>(0,n.Np)(t)))}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},25990:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return m}});var i=function(){var t=this,e=t._self._c;return e("div",{ref:"panel",class:t.panelClass,attrs:{id:"panel"}},[e("div",{staticClass:"panel-dialog"},[e("div",{staticClass:"panel-content",style:t.panelContentStyle},[e("div",{staticClass:"resize-bar"}),e("header",{staticClass:"panel-header sub-bar",attrs:{id:"panel-header"}},["modify"===t.panelMode?e("a",{staticClass:"btn btn-icon backBtn",attrs:{href:"javascript:void(0);",title:t.$t("head.goBackward")},on:{click:t.goPreviousPanel}},[e("i",{staticClass:"icon-left"})]):t._e(),e("h2",{staticClass:"sub-bar-tit",style:{width:`calc(100% - ${"modify"===t.panelMode?170:125}px)`}},[t._v(" "+t._s(t.subBarTitle)+" "),e("span",{staticClass:"sub-bar-selected-tit ellipsis",style:{width:`calc(100% - ${"modify"===t.panelMode?80:65}px)`},attrs:{title:t.selectedInfoTitle?t.selectedInfoTitle.substr(3):""}},[t._v(" "+t._s(t.selectedInfoTitle)+" ")])]),e("div",{staticClass:"ml-auto"},[e("button",{staticClass:"btn-change-layout-horizon btn-icon",attrs:{type:"button",title:t.$t("common.detail.horizontal.view")},on:{click:function(e){return t.changeLayout("vertical")}}},[e("img",{staticClass:"center-block",attrs:{src:t.getMenuIconUrl("horizontal")}})]),e("button",{staticClass:"btn-change-layout-vertical btn-icon",attrs:{type:"button",title:t.$t("common.detail.vertical.view")},on:{click:function(e){return t.changeLayout("horizon")}}},[e("img",{staticClass:"center-block",attrs:{src:t.getMenuIconUrl("vertical")}})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.expand")},on:{click:t.expandCollapsePanel}},[e("i",{staticClass:"icon-expand"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.close")},on:{click:t.closePanel}},[e("i",{staticClass:"icon-close"})])])]),e("ul",{staticClass:"nav nav-tabs flex-shrink-0"},[t._l(t.tabList,(function(a,i){return e("li",{key:a.id,staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:t.selectedIdx===i},attrs:{href:"javascript:void(0);"},domProps:{textContent:t._s(a.label)},on:{click:function(e){return t.changeTab(i)}}})])})),t.toShowResult?e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:t.selectedIdx===t.tabList.length},attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.changeTab(t.tabList.length)}}},[t._v(" "+t._s(t.$t("head.executionResult"))+" ")])]):t._e()],2),e("div",{staticClass:"panel-body tab-content"},[e("div",{class:{[t.panelMode]:!0,"tab-pane":!0,active:0===t.selectedIdx}},[e(a(14605)(`./detail${t.tabList[0].url}.vue`).default,{ref:"BasicInfo",tag:"component",attrs:{detailInfo:t.tabList[0],detailData:t.detailData,mode:t.panelMode,isTools:t.isTools},on:{changeProperties:t.changeProperties}})],1),e("div",{class:{[t.panelMode]:!0,"tab-pane":!0,active:1===t.selectedIdx}},[e(a(14605)(`./detail${t.tabList[1].url}.vue`).default,{ref:"OperationInfo",tag:"component",attrs:{detailInfo:t.tabList[1],detailData:t.detailData,mode:t.panelMode,isTools:t.isTools},on:{changeProperties:t.changeProperties}})],1),e("div",{class:{[t.panelMode]:!0,"tab-pane":!0,active:2===t.selectedIdx}},[e(a(14605)(`./detail${t.tabList[2].url}.vue`).default,{ref:"PropertyInfo",tag:"component",attrs:{detailInfo:t.tabList[2],detailData:t.detailData,adapterType:t.adapterType,mode:t.panelMode}})],1),e("div",{class:{[t.panelMode]:!0,"tab-pane":!0,active:3===t.selectedIdx}},[e(a(14605)(`./detail${t.tabList[3].url}.vue`).default,{ref:"ConnectorInfo",tag:"component",attrs:{detailInfo:t.tabList[3],detailData:t.detailData,mode:t.panelMode}})],1),e("div",{class:{[t.panelMode]:!0,"tab-pane":!0,active:4===t.selectedIdx}},[e(a(14605)(`./detail${t.tabList[4].url}.vue`).default,{ref:"DeploiesInfo",tag:"component",attrs:{detailInfo:t.tabList[4],detailData:t.detailData,mode:t.panelMode}})],1),t.toShowResult?e("DetailResult",{class:{"tab-pane":!0,active:t.selectedIdx===t.tabList.length&&t.showResultTab},attrs:{httpReqResult:t.httpReqResult}}):t._e()],1),e("footer",{staticClass:"panel-footer sub-bar",attrs:{id:"panel-footer"}},["detail"===t.panelMode||"done"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.referenceBtn&&t.viewer?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.referenceTreeInfo")},on:{click:t.goReferenceModal}},[e("i",{staticClass:"icon-result"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.referenceTreeInfo")))])]):t._e(),t.guideBtn&&t.editor&&t.showGuideBtn?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("igate.connector.guide")},on:{click:t.guide}},[t._v(" "+t._s(t.$t("igate.connector.guide"))+" ")]):t._e(),t.externalGuideBtn&&t.editor&&t.showExternalGuidBtn?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("igate.external.guide")},on:{click:t.externalGuide}},[t._v(" "+t._s(t.$t("igate.external.guide"))+" ")]):t._e(),t.dumpBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.dump")},on:{click:t.dump}},[t._v(" "+t._s(t.$t("head.dump"))+" ")]):t._e(),t.excelExportBtn&&t.viewer?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.excel.output")},on:{click:t.excelExport}},[e("i",{staticClass:"icon-result"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.excel.output")))])]):t._e(),t.startBtn&&t.editor?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.execute")},on:{click:function(e){return t.control("start")}}},[e("i",{staticClass:"icon-play"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.execute")))])]):t._e(),t.stopBtn&&t.editor?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.stop")},on:{click:function(e){return t.control("stop")}}},[e("i",{staticClass:"icon-pause"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.stop")))])]):t._e(),t.stopForceBtn&&t.editor?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.stop.force")},on:{click:function(e){return t.control("stopForce")}}},[e("i",{staticClass:"icon-x"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.stop.force")))])]):t._e(),t.interruptBtn&&t.editor?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.interrupt")},on:{click:function(e){return t.control("interrupt")}}},[e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.interrupt")))])]):t._e(),t.blockBtn&&t.editor?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.block")},on:{click:function(e){return t.control("block")}}},[e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.block")))])]):t._e(),t.unblockBtn&&t.editor?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.unblock")},on:{click:function(e){return t.control("unblock")}}},[e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.unblock")))])]):t._e(),t.deleteBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.delete")},on:{click:t.removeInfo}},[e("i",{staticClass:"icon-delete"}),t._v(t._s(t.$t("head.delete"))+" ")]):t._e(),t.updateBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.update")},on:{click:t.goModifyPanel}},[e("i",{staticClass:"icon-edit"}),t._v(t._s(t.$t("head.update"))+" ")]):t._e(),t.insertBtn&&t.editor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:`${t.$t("head.insert")} (${t.$t("head.copy")})`},on:{click:t.goAddInfo}},[e("i",{staticClass:"icon-plus"}),t._v(t._s(`${t.$t("head.insert")} (${t.$t("head.copy")})`)+" ")]):t._e(),t.restoreBtn&&t.editor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.restore")},on:{click:t.restoreMeta}},[e("i",{staticClass:"icon-edit"}),t._v(t._s(t.$t("head.restore"))+" ")]):t._e()]):"add"===t.panelMode||"clone"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.guideBtn&&t.editor&&t.showGuideBtn?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("igate.connector.guide")},on:{click:t.guide}},[t._v(" "+t._s(t.$t("igate.connector.guide"))+" ")]):t._e(),t.externalGuideBtn&&t.editor&&t.showExternalGuidBtn?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("igate.external.guide")},on:{click:t.externalGuide}},[t._v(" "+t._s(t.$t("igate.external.guide"))+" ")]):t._e(),t.insertBtn&&t.editor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.insert")},on:{click:t.saveInfo}},[e("i",{staticClass:"icon-plus"}),t._v(t._s(t.$t("head.insert"))+" ")]):t._e()]):"modify"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.guideBtn&&t.editor&&t.showGuideBtn?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("igate.connector.guide")},on:{click:t.guide}},[t._v(" "+t._s(t.$t("igate.connector.guide"))+" ")]):t._e(),t.externalGuideBtn&&t.editor&&t.showExternalGuidBtn?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("igate.external.guide")},on:{click:t.externalGuide}},[t._v(" "+t._s(t.$t("igate.external.guide"))+" ")]):t._e(),t.updateBtn&&t.editor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.update")},on:{click:t.updateInfo}},[e("i",{staticClass:"icon-edit"}),t._v(t._s(t.$t("head.update"))+" ")]):t._e()]):t._e()])])])])},s=[],n=a(63822),o=a(44062),r=a(37662),l=a(31823),d=a.n(l),c={name:"Detail",extends:o.Z,data(){return{adapterType:null,newEditor:!1,externalGuideBtn:!1,showGuideBtn:!1,showExternalGuidBtn:!1}},async created(){switch(this.constantsInfo.guideBtnType){case"both":this.showGuideBtn=!0,this.showExternalGuidBtn=!0;break;case"basic":this.showGuideBtn=!0,this.showExternalGuidBtn=!1;break;case"external":this.showGuideBtn=!1,this.showExternalGuidBtn=!0;break;case"none":this.showGuideBtn=!1,this.showExternalGuidBtn=!1;break}},watch:{cudUrl:{immediate:!0,handler(){this.httpReq=new r.p0(`${this.cudUrl}`)}}},computed:{...(0,n.rn)(["constantsInfo","isTools"])},methods:{async changeProperties(t){this.adapterType=t;const e=await new r.p0("/api/entity/property/search").read({object:{pk:{propertyId:`Property.Adapter.${this.adapterType}`},requireYn:"Y"},limit:null,next:null,reverseOrder:!1});"ok"===e.data.result&&this.$refs.PropertyInfo.setPropertyList(e.data.object.map((t=>(t.cipher="Y"===t.cipherYn,t.require="Y"===t.requireYn,t))))},loadData(t){this.tabAllData=d()(this.tabAllData,this.$refs.BasicInfo.getData()),this.tabAllData=d()(this.tabAllData,this.$refs.OperationInfo.getData()),this.tabAllData=d()(this.tabAllData,this.$refs.PropertyInfo.getData()),this.tabAllData=d()(this.tabAllData,this.$refs.ConnectorInfo.getData()),this.tabAllData=d()(this.tabAllData,this.$refs.DeploiesInfo.getData()),t&&t()},externalGuide(){const t=this.buttonList.find((t=>"externalGuide"===t.id));t&&window.open((0,r.u5)(t.url),"_blank","height=886, width=785,resizable=yes, toolbar=no, menubar=no, location=no, scrollbars=yes, status=no")}}},p=c,h=a(43736),u=(0,h.Z)(p,i,s,!1,null,null,null),m=u.exports},50763:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return y}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"propertyTab"},[e("div",{staticClass:"form-table form-table-responsive"},[e("div",{staticClass:"form-table-head"},[t.readonly?t._e():e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.insert")},on:{click:t.addProperty}},[e("i",{staticClass:"icon-plus-circle"})]),e("label",{staticClass:"col"},[t._v(t._s(t.$t("igate.adapter.event")))]),e("label",{staticClass:"col"},[t._v(t._s(`${t.$t("igate.operation")} ${t.$t("head.id")}`))]),e("label",{staticClass:"col"},[t._v(t._s(t.$t("igate.adapter.cronExpression")))]),e("label",{staticClass:"col"},[t._v(t._s(`${t.$t("igate.calendar")} ${t.$t("head.id")}`))]),e("label",{staticClass:"col"},[t._v(t._s(t.$t("igate.adapter.disabledYn")))])]),e("div",{staticClass:"form-table-wrap"},t._l(t.propertyList,(function(a,i){return e("div",{key:a.idx,staticClass:"form-table-body"},[!t.readonly&&a.require?e("button",{staticClass:"btn-icon",attrs:{type:"button"}},[e("i",{staticClass:"icon-star"})]):t._e(),t.readonly||a.require?t._e():e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.delete")},on:{click:function(e){return t.removeProperty(i)}}},[e("i",{staticClass:"icon-minus-circle"})]),e("div",{staticClass:"col"},[e("div",{staticClass:"detail-content-common"},[e("selectBox",{ref:`pk.adapterEvent_${i}`,refInFor:!0,attrs:{vModel:"pk.adapterEvent",val:a["pk.adapterEvent"],classObject:{"form-control":!0,"view-disabled":!0},optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Adapter.Event"},orderByKey:!0},optionListName:"adapterEventList",optionFor:"option in adapterEventList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"},readonly:t.readonly},on:{changeEvt:t.changeEvt}})],1)]),e("div",{staticClass:"col"},[e("div",{staticClass:"detail-content-common"},[e("div",{staticClass:"input-group"},[e("inputText",{ref:`operationId_${i}`,refInFor:!0,staticStyle:{width:"calc(100% - 110px)"},attrs:{vModel:"operationId",val:a["operationId"],classObject:{"form-control":!0,"view-disabled":!0,dataKey:!1},readonly:!0}}),t.readonly?e("button",{staticClass:"btn",staticStyle:{"margin-left":"3px","min-width":"0px","padding-left":"0.5rem"},attrs:{type:"button",title:t.$t("head.open")},on:{click:function(e){return t.openOperationModal(t.$refs[`operationId_${i}`])}}},[e("i",{staticClass:"icon-link",staticStyle:{"margin-right":"0px"}})]):e("button",{staticClass:"btn",staticStyle:{"margin-left":"3px","min-width":"0px","padding-left":"0.5rem"},attrs:{type:"button"},on:{click:function(e){return t.openModalAccordingToType("operationModalInfo",t.$refs[`operationId_${i}`])}}},[e("i",{staticClass:"icon-srch",staticStyle:{"margin-right":"0px"}})]),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"3px","min-width":"0px","padding-left":"0.5rem"},attrs:{type:"button",title:t.$t("head.initialize")},on:{click:function(e){t.$refs[`operationId_${i}`][0].setData(null)}}},[e("i",{staticClass:"icon-reset",staticStyle:{"margin-right":"0px"}})])],1)])]),e("div",{staticClass:"col"},[e("div",{class:"detail-content-"+(t.readonly||a["isDisabled"]?"common":"regExp"),style:{width:t.readonly||a["isDisabled"]?"100%":"calc(100% - 70px)"}},[e("div",{staticClass:"input-group"},[e("inputText",{ref:`cronExpression_${i}`,refInFor:!0,style:{width:t.readonly||a["isDisabled"]?"100%":"calc(100% - 170px)"},attrs:{vModel:"cronExpression",val:a["cronExpression"],classObject:{"form-control":t.readonly||a["isDisabled"],"regExp-text":!t.readonly&&!a["isDisabled"],"view-disabled":!0,dataKey:!1},readonly:t.readonly||a["isDisabled"]},on:{setLengthCnt:e=>t.setLengthCnt({[`cronExpression_${i}`]:e.cronExpression})}}),t.readonly||a["isDisabled"]?t._e():e("span",{staticClass:"letterLength",staticStyle:{margin:"0px"}},[t._v(" "+t._s(`(${t.curLengthCnt[`cronExpression_${i}`]}/${t.maxLengthCnt[`cronExpression_${i}`]})`)+" ")])],1)]),t.readonly||a["isDisabled"]?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"3px","min-width":"0px","padding-left":"0.5rem"},attrs:{type:"button"},on:{click:function(e){return t.openCronModal(t.$refs[`cronExpression_${i}`])}}},[e("i",{staticClass:"icon-srch",staticStyle:{"margin-right":"0px"}})]),t.readonly||a["isDisabled"]?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"3px","min-width":"0px","padding-left":"0.5rem"},attrs:{type:"button",title:t.$t("head.initialize")},on:{click:()=>{t.$refs[`cronExpression_${i}`][0].setData(null),t.curLengthCnt[`cronExpression_${i}`]=0}}},[e("i",{staticClass:"icon-reset",staticStyle:{"margin-right":"0px"}})])]),e("div",{staticClass:"col"},[e("div",{staticClass:"detail-content-common"},[e("div",{staticClass:"input-group"},[e("inputText",{ref:`calendarId_${i}`,refInFor:!0,staticStyle:{width:"calc(100% - 110px)"},attrs:{vModel:"calendarId",val:a["calendarId"],classObject:{"form-control":!0,"view-disabled":!0,dataKey:!1},readonly:!0}}),t.readonly&&!t.isTools?e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.open")},on:{click:function(e){return t.clickEvt(a["calendarId"])}}},[e("i",{staticClass:"icon-link"})]):t._e(),t.readonly||a["isDisabled"]?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"3px","min-width":"0px","padding-left":"0.5rem"},attrs:{type:"button"},on:{click:function(e){return t.openModalAccordingToType("calendarModalInfo",t.$refs[`calendarId_${i}`])}}},[e("i",{staticClass:"icon-srch",staticStyle:{"margin-right":"0px"}})]),t.readonly||a["isDisabled"]?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"3px","min-width":"0px","padding-left":"0.5rem"},attrs:{type:"button",title:t.$t("head.initialize")},on:{click:function(e){t.$refs[`calendarId_${i}`][0].setData(null)}}},[e("i",{staticClass:"icon-reset",staticStyle:{"margin-right":"0px"}})])],1)])]),e("div",{staticClass:"col"},[e("div",{staticClass:"detail-content-common"},[e("selectBox",{ref:`disabledYn_${i}`,refInFor:!0,attrs:{vModel:"disabledYn",val:a["disabledYn"],classObject:{"form-control":!0,"view-disabled":!0},optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Yn"},orderByKey:!0},optionListName:"adapterDisabledYnList",optionFor:"option in adapterDisabledYnList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"},readonly:t.readonly||a["isDisabled"]}})],1)])])})),0)])])},s=[],n=(a(57658),a(21783)),o=a(37662),r=a(77285),l=a.n(r),d=a(31823),c=a.n(d),p=a(66997),h=a.n(p),u={name:"PropertyInfo",extends:n.Z,props:{adapterType:String},data(){return{keyArr:["pk.adapterEvent","operationId","cronExpression","calendarId","disabledYn"],evtNameArr:["request.extract","process.open","process.close","process.pause","process.resume"],operationModalInfo:{title:this.$t("igate.operation"),search:{list:[{type:"text",vModel:"operationId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"operationName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"select",vModel:"operationType",label:this.$t("common.type"),val:"A",optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Operation.OperationType"},orderByKey:!0},optionListName:"operationTypeList",optionFor:"option in operationTypeList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue",optionIf:"option.pk.propertyKey === 'A'",isViewAll:!1}},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/operation/search",totalCntUrl:"/api/entity/operation/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"operationId"},{header:this.$t("head.name"),name:"operationName"}]}},rowClickedCallback:function(t){return t.operationId}},calendarModalInfo:{title:this.$t("igate.calendar"),search:{list:[{type:"text",vModel:"calendarId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"text",vModel:"calendarName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"text",vModel:"calendarDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/calendar/search",totalCntUrl:"/api/entity/calendar/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"calendarId"},{header:this.$t("head.name"),name:"calendarName"},{header:this.$t("head.description"),name:"calendarDesc"},{header:this.$t("igate.calendar.saturday"),name:"saturdayYn"},{header:this.$t("igate.calendar.sunday"),name:"sundayYn"}]}},rowClickedCallback:function(t){return t.calendarId}}}},methods:{getData(){const t=[];for(let e=0;e<this.propertyList.length;e++){let a={};this.keyArr.forEach((t=>{a=c()(a,this.$refs[`${t}_${e}`][0].getData())})),t.push((0,o.Fh)(a))}return{adapterOperations:t}},addProperty(){const t=`cronExpression_${this.propertyList.length}`;this.setLengthCnt({[t]:0}),this.maxLengthCnt[t]=(0,o.oo)("cron").maxLength,this.propertyList.push({idx:(0,o.Fs)(),disabledYn:"N",isDisabled:!0})},removeProperty(t){this.propertyList.splice(t,1),this.curLengthCnt={},this.maxLengthCnt={},this.$nextTick((()=>{this.propertyList.forEach(((t,e)=>{const a=`cronExpression_${e}`,i=this.$refs[a][0].getData();this.setLengthCnt({[a]:h()(i.cronExpression)?0:String(i.cronExpression).length}),this.maxLengthCnt[a]=(0,o.oo)("cron").maxLength}))}))},async setPropertyList(){l()(this.detailData)?this.propertyList=[]:("undefined"!==typeof this.detailData["adapterOperations"]?(this.propertyList=[...this.detailData["adapterOperations"]],this.propertyList.forEach(((t,e)=>{t.idx=(0,o.Fs)(),t.isDisabled="undefined"===typeof this.evtNameArr.find((e=>e===t.pk.adapterEvent));const a=`cronExpression_${e}`;this.setLengthCnt({[a]:t.cronExpression?t.cronExpression.length:0}),this.maxLengthCnt[a]=(0,o.oo)("cron").maxLength}))):this.propertyList=[],this.propertyList=this.propertyList.map((t=>(0,o.Np)(t))))},async openOperationModal(t){const e=t[0].getData().operationId;if(!e)return void this.$alert({type:"warn",message:this.$t("head.no.data.warn")});const{data:{object:a}}=await new o.p0("/api/entity/operation/object").read({operationId:e});(0,o.RB)("102070",(()=>{localStorage.removeItem("searchObj"),localStorage.setItem("searchObj",JSON.stringify(a))}))},openModalAccordingToType(t,e){this.openModal(this[t],e)},openCronModal(t){let e=null;const i=t[0],s=i.getData().cronExpression,n=/^\s*($|#|\w+\s*=|(\?|\*|(?:[0-5]?\d)(?:(?:-|\/|\,)(?:[0-5]?\d))?(?:,(?:[0-5]?\d)(?:(?:-|\/|\,)(?:[0-5]?\d))?)*)\s(\?|\*|(?:[0-5]?\d)(?:(?:-|\/|\,)(?:[0-5]?\d))?(?:,(?:[0-5]?\d)(?:(?:-|\/|\,)(?:[0-5]?\d))?)*)\s(\?|\*|(?:[01]?\d|2[0-3])(?:(?:-|\/|\,)(?:[01]?\d|2[0-3]))?(?:,(?:[01]?\d|2[0-3])(?:(?:-|\/|\,)(?:[01]?\d|2[0-3]))?)*)\s(\?|\*|(?:0?[1-9]|[12]\d|3[01])(?:(?:-|\/|\,)(?:0?[1-9]|[12]\d|3[01]))?(?:,(?:0?[1-9]|[12]\d|3[01])(?:(?:-|\/|\,)(?:0?[1-9]|[12]\d|3[01]))?)*)\s(\?|\*|(?:[1-9]|1[012])(?:(?:-|\/|\,)(?:[1-9]|1[012]))?(?:L|W)?(?:,(?:[1-9]|1[012])(?:(?:-|\/|\,)(?:[1-9]|1[012]))?(?:L|W)?)*|\?|\*|(?:JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC)(?:(?:-)(?:JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC))?(?:,(?:JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC)(?:(?:-)(?:JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC))?)*)\s(\?|\*|(?:[0-6])(?:(?:-|\/|\,|#)(?:[0-6]))?(?:,(?:[0-6])(?:(?:-|\/|\,|#)(?:[0-6]))?)*|\?|\*|(?:MON|TUE|WED|THU|FRI|SAT|SUN)(?:(?:-)(?:MON|TUE|WED|THU|FRI|SAT|SUN))?(?:,(?:MON|TUE|WED|THU|FRI|SAT|SUN)(?:(?:-)(?:MON|TUE|WED|THU|FRI|SAT|SUN))?)*))$/i;if(s){if(e=s.split(" "),!n.test(s)||""==e[0]||e[3]==e[5])return void this.$alert({type:"warn",message:this.$t("igate.job.error")})}else e=["*","*","*","*","*","?"];const o=this.$openModal({title:this.$t("igate.job.cronExpression"),modalWidth:"600px",modalHeight:"500px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t\t\t\t<CronExpressionModal ref="CronExpressionModal" :cron="cron" />\n\t\t\t\t\t\t\t\t\t</div>',components:{CronExpressionModal:a(5351)["default"]},data(){return{cron:e}}}],buttonList:[{template:'<button type="button" class="btn btn-primary" @click="clickOk">{{ $t(\'head.ok\') }}</button>',methods:{clickOk(){i.setData(o.$refs.content[0].$refs.CronExpressionModal.cronResult),o.hideModal()}}}]})},changeEvt(){const t=[];for(let e=0;e<this.propertyList.length;e++){let a={idx:this.propertyList[e].idx};this.keyArr.forEach((t=>{a=c()(a,this.$refs[`${t}_${e}`][0].getData())})),a.isDisabled="undefined"===typeof this.evtNameArr.find((t=>t===a["pk.adapterEvent"])),a.isDisabled&&(a.cronExpression="",a.calendarId="",a.disabledYn="N"),t.push(a)}this.propertyList=null,this.$nextTick((()=>{this.propertyList=t}))},clickEvt(t){t?(0,o.RB)("302060",(()=>{localStorage.removeItem("searchObj"),localStorage.setItem("searchObj",JSON.stringify({calendarId:t}))})):this.$alert({type:"warn",message:this.$t("head.no.data.warn")})}}},m=u,g=a(43736),f=(0,g.Z)(m,i,s,!1,null,null,null),y=f.exports},44461:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return g}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"propertyTab"},[e("div",{staticClass:"form-table form-table-responsive"},[e("div",{staticClass:"form-table-head"},[t.readonly?t._e():e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.insert")},on:{click:t.addProperty}},[e("i",{staticClass:"icon-plus-circle"})]),e("label",{staticClass:"col"},[t._v(t._s(t.$t("common.property.key")))]),e("label",{staticClass:"col"},[t._v(t._s(t.$t("common.property.value")))]),e("label",{staticClass:"col"},[t._v(t._s(t.$t("head.description")))])]),e("div",{staticClass:"form-table-wrap"},t._l(t.propertyList,(function(a,i){return e("div",{key:a.idx,staticClass:"form-table-body"},[!t.readonly&&a.require?e("button",{staticClass:"btn-icon",attrs:{type:"button"}},[e("i",{staticClass:"icon-star"})]):t._e(),t.readonly||a.require?t._e():e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.delete")},on:{click:function(e){return t.removeProperty(i)}}},[e("i",{staticClass:"icon-minus-circle"})]),e("div",{staticClass:"col"},[e("div",{class:"detail-content-"+(t.getReadonly(a)||a.require?"common":"regExp")},[e("dataList",{ref:`component${i}`,refInFor:!0,attrs:{vModel:"pk.propertyKey",classObject:{"form-control":!(!t.getReadonly(a)&&!a.require),"regExp-dataList":!t.getReadonly(a)&&!a.require,"view-disabled":!0,dataKey:!1},val:a["pk.propertyKey"],readonly:t.readonly||a.require,optionInfo:t.keyIdOptionInfo,regExpType:"id"},on:{changeEvt:function(e){return t.changeEvt(e,i)},setLengthCnt:e=>t.setLengthCnt({[`pk.propertyKey_${i}`]:e["pk.propertyKey"]})}}),t.getReadonly(a)||a.require?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt[`pk.propertyKey_${i}`]} /${t.maxLengthCnt[`pk.propertyKey_${i}`]})`)+" ")])],1)]),e("div",{staticClass:"col"},[e("div",{class:"detail-content-"+(t.getReadonly(a)?"common":"regExp")},[a.cipher?e("passWord",{ref:`component${i}`,refInFor:!0,attrs:{vModel:"propertyValue",classObject:{"form-control":t.getReadonly(a),"regExp-password":!t.getReadonly(a),"view-disabled":!0,dataKey:!1},regExpType:"value",readonly:t.readonly,val:a["propertyValue"]},on:{setLengthCnt:e=>t.setLengthCnt({[`propertyValue_${i}`]:e["propertyValue"]})}}):e("inputText",{ref:`component${i}`,refInFor:!0,attrs:{vModel:"propertyValue",val:a["propertyValue"],classObject:{"form-control":t.getReadonly(a),"regExp-dataList":!t.getReadonly(a),"view-disabled":!0,dataKey:!1},inputType:a.cipher?"password":"text",readonly:t.readonly,regExpType:"value"},on:{setLengthCnt:e=>t.setLengthCnt({[`propertyValue_${i}`]:e["propertyValue"]})}}),t.getReadonly(a)?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt[`propertyValue_${i}`]} /${t.maxLengthCnt[`propertyValue_${i}`]})`)+" ")])],1)]),e("div",{staticClass:"col"},[e("div",{staticStyle:{width:"100%"}},[e("inputText",{ref:`component${i}`,refInFor:!0,attrs:{vModel:"propertyDesc",classObject:{"form-control":!0,"view-disabled":!0,dataKey:!1},val:a["propertyDesc"],readonly:!0}})],1)])])})),0)])])},s=[],n=(a(57658),a(31823)),o=a.n(n),r=a(66997),l=a.n(r),d=a(37662),c=a(21783),p={name:"PropertyInfo",extends:c.Z,props:{adapterType:String},data(){return{regArr:[{key:"pk.propertyKey",regExpType:"id"},{key:"propertyValue",regExpType:"value"}],keyIdOptionInfo:{optionFor:"option in []",optionValue:"option.pk.propertyKey",optionText:"option.pk.propertyKey"}}},watch:{detailData(){this.setDataList(this.detailData.adapterType)},adapterType(){this.setDataList(this.adapterType)}},methods:{async setDataList(t){if(!t)return;const e=await new d.p0("/api/page/properties").read({pk:{propertyId:`Property.Adapter.${t}`},orderByKey:!0}),a=JSON.stringify(e.data.object).replace(/"/g,"'");this.keyIdOptionInfo.optionFor=`option in ${a}`},getData(){const t=[];for(let e=0;e<this.propertyList.length;e++){let a={};this.$refs[`component${e}`].forEach((t=>{a=o()(a,t.getData())})),t.push((0,d.Fh)(a))}return{adapterProperties:t}},addProperty(){const t={idx:(0,d.Fs)(),"pk.propertyKey":"",propertyValue:"",propertyDesc:""};this.regArr.forEach((e=>{if(e.regExpType){const t=`${e.key}_${this.propertyList.length}`;this.setLengthCnt({[t]:0}),this.maxLengthCnt[t]=(0,d.oo)(e.regExpType).maxLength}t[e.key]=e.val?e.val:null})),this.propertyList.push(t)},removeProperty(t){this.propertyList.splice(t,1),this.$nextTick((()=>{this.curLengthCnt={},this.maxLengthCnt={},this.propertyList.forEach(((t,e)=>{let a={};this.$refs[`component${e}`].forEach((t=>{a=o()(a,t.getData())}));for(const i in a)"propertyDesc"!==i&&(this.setLengthCnt({[`${i}_${e}`]:l()(a[i])?0:String(a[i]).length}),this.maxLengthCnt[`${i}_${e}`]=(0,d.oo)(this.regArr.find((t=>t.key===i)).regExpType).maxLength)}))}))},setPropertyList(t){if("undefined"!==typeof t)this.propertyList=[...t];else{if("undefined"===typeof this.detailData.adapterProperties)return void(this.propertyList=[]);this.propertyList=[...this.detailData.adapterProperties]}this.propertyList.forEach(((t,e)=>{t.idx=(0,d.Fs)();const a=(0,d.Np)(t);this.regArr.forEach((t=>{if(!t.regExpType)return;const i=`${t.key}_${e}`;this.setLengthCnt({[i]:a[t.key]?String(a[t.key]).length:0}),this.maxLengthCnt[i]=(0,d.oo)(t.regExpType).maxLength}))})),this.propertyList=this.propertyList.map((t=>(0,d.Np)(t)))},async changeEvt(t,e){if(t.value.startsWith("#"))return;const a=this.adapterType?this.adapterType:this.detailData.adapterType;if(!a)return;const i=new d.p0("/api/page/properties"),s=await i.read({pk:{propertyKey:t.value,propertyId:`Property.Adapter.${a}`},orderByKey:!0});if("ok"!==s.data.result)return;if(0===s.data.object.length)return;const n=s.data.object[0];this.propertyList[e]["pk.propertyKey"]=n.pk.propertyKey,this.propertyList[e]["propertyValue"]=n.propertyValue,this.propertyList[e]["propertyDesc"]=n.propertyDesc,this.propertyList[e]["cipher"]="Y"===n.cipherYn,this.propertyList[e]["require"]="Y"===n.requireYn}}},h=p,u=a(43736),m=(0,u.Z)(h,i,s,!1,null,null,null),g=m.exports},50024:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-responsive"},[e("TuiGrid",t._b({ref:"tuiGrid"},"TuiGrid",t.options,!1))],1)},s=[],n=a(37856),o=a(37662),r={name:"ApiResponse",components:{TuiGrid:n.Grid},props:{mode:String,detailInfo:Object,detailData:Object},data(){return{options:{columns:[{header:this.$t("igate.status.code"),name:"pk.statusCode"},{header:this.$t("igate.response.content"),name:"responseDesc"}]}}},watch:{detailData(){this.resetData()}},async created(){o.dc.$on("MainResize",this.resize),o.Gk.$on("MainResize",this.resize),o.bB.$on("MainResize",this.resize),o.QK.$on("MainResize",this.resize),this.options=(0,o.d_)(this.options),this.resize(),this.resetData()},methods:{resetData(){this.$refs.tuiGrid&&(this.detailData.apimApiResponses?(this.$refs.tuiGrid.invoke("resetData",this.detailData.apimApiResponses.map((t=>{const e=(0,o.Np)(t);return this.readonly&&(e._attributes={disabled:!0}),e}))),this.resize()):this.$refs.tuiGrid.invoke("resetData",[]))},resize(){this.$refs.tuiGrid&&this.$nextTick((()=>{const t=document.getElementById("panel"),e=t.getElementsByClassName("panel-body")[0],a=getComputedStyle(e),i=(0,o.tJ)(a.getPropertyValue("padding-left")),s=(0,o.tJ)(a.getPropertyValue("padding-right")),n=(0,o.tJ)(a.getPropertyValue("padding-top")),r=(0,o.tJ)(a.getPropertyValue("padding-bottom"));this.$refs.tuiGrid.invoke("setWidth",e.clientWidth-i-s),this.$refs.tuiGrid.invoke("setHeight",e.clientHeight-n-r)}))}}},l=r,d=a(43736),c=(0,d.Z)(l,i,s,!1,null,null,null),p=c.exports},14518:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-responsive"},[e("TuiGrid",t._b({ref:"tuiGrid"},"TuiGrid",t.options,!1))],1)},s=[],n=a(37856),o=a(37662),r={name:"ApiSecurity",components:{TuiGrid:n.Grid},props:{mode:String,detailInfo:Object,detailData:Object},data(){return{options:{columns:[{header:this.$t("head.id"),name:"pk.securityId"},{header:this.$t("igate.scope"),name:"pk.securityScope"}]}}},watch:{detailData(){this.resetData()}},async created(){o.dc.$on("MainResize",this.resize),o.Gk.$on("MainResize",this.resize),o.bB.$on("MainResize",this.resize),o.QK.$on("MainResize",this.resize),this.options=(0,o.d_)(this.options),this.resize()},methods:{resetData(){this.detailData.apimApiSecurity?(this.$refs.tuiGrid.invoke("resetData",this.detailData.apimApiSecurity.map((t=>(0,o.Np)(t)))),this.resize()):this.$refs.tuiGrid.invoke("resetData",[])},resize(){this.$refs.tuiGrid&&this.$nextTick((()=>{const t=document.getElementById("panel"),e=t.getElementsByClassName("panel-body")[0],a=getComputedStyle(e),i=(0,o.tJ)(a.getPropertyValue("padding-left")),s=(0,o.tJ)(a.getPropertyValue("padding-right")),n=(0,o.tJ)(a.getPropertyValue("padding-top")),r=(0,o.tJ)(a.getPropertyValue("padding-bottom"));this.$refs.tuiGrid.invoke("setWidth",e.clientWidth-i-s),this.$refs.tuiGrid.invoke("setHeight",e.clientHeight-n-r)}))}}},l=r,d=a(43736),c=(0,d.Z)(l,i,s,!1,null,null,null),p=c.exports},97855:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return m}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.param.id",{0:"Catalog"})))])]),e("div",{class:"detail-content-common",style:{"padding-left":"0px"}},[e("inputText",{ref:"catalogId",attrs:{vModel:"pk.catalogId",classObject:{"form-control":!0,"regExp-text":!1,"view-disabled":!0,dataKey:!0},readonly:!0,regExpType:"id"}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.param.id",{0:"Api"})))])]),e("div",{class:"detail-content-common",style:{"padding-left":"0px"}},[e("inputText",{ref:"apiId",attrs:{vModel:"pk.apiId",classObject:{"form-control":!0,"regExp-text":!1,"view-disabled":!0,dataKey:!0},readonly:!0,regExpType:"id"}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("common.privilege")))])]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.object.privilegeId,expression:"object.privilegeId"}],staticClass:"form-control view-disabled",attrs:{readonly:!0},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.object,"privilegeId",e.target.multiple?a:a[0])}}},t._l(t.privilegeTypeList,(function(a){return e("option",{key:a.privilegeId,attrs:{disabled:a.disabled},domProps:{value:a.privilegeId}},[t._v(" "+t._s(a.privilegeId)+" ")])})),0)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.private")))])]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.object.privateYn,expression:"object.privateYn"}],staticClass:"form-control view-disabled",attrs:{readonly:!0},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.object,"privateYn",e.target.multiple?a:a[0])}}},t._l(t.privateYnList,(function(a){return e("option",{key:a.pk.propertyKey,domProps:{value:a.pk.propertyKey}},[t._v(" "+t._s(a.propertyValue)+" ")])})),0)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.tag")))])]),e("div",{class:"detail-content-common",style:{"padding-left":"0px"}},[e("inputText",{ref:"apiTag",attrs:{vModel:"apiTag",classObject:{"form-control":!0,"regExp-text":!1,"view-disabled":!0,dataKey:!0},readonly:!0,regExpType:"value"}})],1)])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.path")))])]),e("div",{class:"detail-content-common",style:{"padding-left":"0px"}},[e("inputText",{ref:"catalogPath",attrs:{vModel:"catalogPath",classObject:{"form-control":!0,"regExp-text":!1,"view-disabled":!0,dataKey:!0},readonly:!0,regExpType:"url"}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.method")))])]),e("div",{class:"detail-content-common",style:{"padding-left":"0px"}},[e("inputText",{ref:"catalogMethod",attrs:{vModel:"catalogMethod",classObject:{"form-control":!0,"regExp-text":!1,"view-disabled":!0,dataKey:!0},readonly:!0,regExpType:"value"}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.responseCacheTtl")))]),t.getReadonly(t.regExpInfo["responseCacheTtl"])?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt["responseCacheTtl"]}/${t.maxLengthCnt["responseCacheTtl"]})`)+" ")])]),e("div",{class:"detail-content-"+(t.getReadonly(t.regExpInfo["responseCacheTtl"])?"common":"regExp"),style:{"padding-left":""+(t.getReadonly(t.regExpInfo["responseCacheTtl"])?"0px":"8px")}},[e("inputText",{ref:"responseCacheTtl",attrs:{vModel:"responseCacheTtl",classObject:{"form-control":t.getReadonly(t.regExpInfo["responseCacheTtl"]),"regExp-text":!t.getReadonly(t.regExpInfo["responseCacheTtl"]),"view-disabled":!0,dataKey:!0},readonly:t.readonly||t.getReadonly(t.regExpInfo["responseCacheTtl"]),regExpType:"num"},on:{setLengthCnt:t.setLengthCnt}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.throttlingConcurrency")))]),t.getReadonly(t.regExpInfo["throttlingConcurrency"])?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt["throttlingConcurrency"]}/${t.maxLengthCnt["throttlingConcurrency"]})`)+" ")])]),e("div",{class:"detail-content-"+(t.getReadonly(t.regExpInfo["throttlingConcurrency"])?"common":"regExp"),style:{"padding-left":""+(t.getReadonly(t.regExpInfo["throttlingConcurrency"])?"0px":"8px")}},[e("inputText",{ref:"throttlingConcurrency",attrs:{vModel:"throttlingConcurrency",classObject:{"form-control":t.getReadonly(t.regExpInfo["throttlingConcurrency"]),"regExp-text":!t.getReadonly(t.regExpInfo["throttlingConcurrency"]),"view-disabled":!0,dataKey:!0},readonly:t.readonly||t.getReadonly(t.regExpInfo["throttlingConcurrency"]),regExpType:"num"},on:{setLengthCnt:t.setLengthCnt}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.adapter"))+" "+t._s(t.$t("head.id")))]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"input-group",attrs:{title:t.object.remoteAdapterId}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.object.remoteAdapterId,expression:"object.remoteAdapterId"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:"readonly"},domProps:{value:t.object.remoteAdapterId},on:{input:function(e){e.target.composing||t.$set(t.object,"remoteAdapterId",e.target.value)}}}),t.readonly&&!t.isTools?e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.open")},on:{click:function(e){return t.clickEvt("remoteAdapterId")}}},[e("i",{staticClass:"icon-link"})]):t._e(),t.readonly?t._e():e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{type:"button"},on:{click:t.openAdapterModal}},[e("i",{staticClass:"icon-srch"})]),t.readonly?t._e():e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.initialize")},on:{click:t.resetremoteAdapterId}},[e("i",{staticClass:"icon-reset"})])])])])])])},s=[],n=(a(57658),a(31823)),o=a.n(n),r=a(63822),l=a(63516),d=a(37662),c={name:"apimApiBasicInfo",extends:l.Z,data(){return{object:{privilegeId:null,privateYn:"N",remoteAdapterId:null},privateYnList:[],privilegeTypeList:[],httpReqList:[{url:"/api/page/properties",param:{pk:{propertyId:"List.Yn"},orderByKey:!0},itemName:"privateYnList"},{url:"/api/entity/privilege/search",param:{object:{privilegeType:"b"},limit:null,next:null,reverseOrder:!1},itemName:"privilegeTypeList"}],keyArr:["pk.catalogId","pk.apiId","catalogPath","privilegeId","privateYn","catalogMethod","apiTag","responseCacheTtl","throttlingConcurrency","remoteAdapterId"],regExpInfo:{catalogId:{regExpType:"id",isPK:!0,readonly:!1},apiId:{regExpType:"id",isPK:!0,readonly:!1},catalogPath:{regExpType:"url",isPK:!1,readonly:!1},catalogMethod:{regExpType:"value",isPK:!1,readonly:!1},apiTag:{regExpType:"value",isPK:!1,readonly:!1},responseCacheTtl:{regExpType:"num",isPK:!1,readonly:!1},throttlingConcurrency:{regExpType:"num",isPK:!1,readonly:!1}}}},computed:{...(0,r.rn)(["userInfo","isTools"])},async created(){const t=[];this.httpReqList.forEach((e=>{t.push(new Promise(((t,a)=>{(async()=>{const i=await new d.p0(e.url).read(e.param?e.param:null);if("ok"===i.data.result){if("privilegeTypeList"===e.itemName){const t=i.data.object,e=this.userInfo.totalUserPrivileges.filter((t=>"b"===t.privilegeType));for(const a of t)this.isUserAdmin?a.disabled=!1:a.disabled="undefined"===typeof e.find((t=>t.privilegeId==a.privilegeId));this.privilegeTypeList=t}else this[e.itemName]=i.data.object;t(i)}else a(i)})()})))}));try{const e=await Promise.all(t);for(const t of e)if("error"===t.data.result)throw t.data}catch(e){this.$alert({type:"warn",message:this.$t("head.error.load.data.warn")})}},methods:{initData(){const t={};this.keyArr.forEach((e=>{t[e]="undefined"!==typeof this.detailData[e]&&null!==this.detailData[e]?String(this.detailData[e]):null;const a=Object.keys(this.regExpInfo).includes(e)?this.regExpInfo[e].regExpType:"default";this.setLengthCnt({[e]:0}),this.maxLengthCnt[e]=(0,d.oo)(a).maxLength}));for(const e in this.$refs)this.$refs[e].setData&&this.$refs[e].setData(t[this.$refs[e]._props.vModel]);this.object.privilegeId=t.privilegeId,this.object.privateYn=t.privateYn,this.object.remoteAdapterId=t.remoteAdapterId},openAdapterModal(){const t=this,e=this.$openModal({title:this.$t("igate.adapter"),modalWidth:"1000px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t\t\t<Search :list="searchList" @search="search" ref="search"/>\n\t\t\t\t\t\t\t\t\t\t<Main\n\t\t\t\t\t\t\t\t\t\t:buttonList="buttonList"\n\t\t\t\t\t\t\t\t\t\t:gridInfo="gridInfo"\n\t\t\t\t\t\t\t\t\t\t:gridSearchObj="gridSearchObj"\n\t\t\t\t\t\t\t\t\t\t:gridType="\'modalBasic\'"\n\t\t\t\t\t\t\t\t\t\t:viewer="true"\n\t\t\t\t\t\t\t\t\t\t@rowClicked="rowClicked"\n\t\t\t\t\t\t\t\t\t\t@initialize="initialize"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t  </div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:[{type:"text",vModel:"adapterId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"text",vModel:"adapterName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"text",vModel:"adapterDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0}],gridInfo:{url:"/api/entity/adapter/search",totalCntUrl:"/api/entity/adapter/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"adapterId",width:"20%"},{header:this.$t("head.name"),name:"adapterName",width:"20%"},{header:this.$t("head.description"),name:"adapterDesc",width:"20%"},{header:this.$t("igate.adapter.structure.request"),name:"requestStructure",width:"20%"},{header:this.$t("igate.adapter.structure.response"),name:"responseStructure",width:"20%"}]}},gridSearchObj:{}}},methods:{search(t){this.gridSearchObj=t},async rowClicked(a){t.object.remoteAdapterId=a.adapterId,e.hideModal()},initialize(){this.$refs.search.initialize()}}}]})},resetremoteAdapterId(){this.object.remoteAdapterId=null},getData(){let t={privilegeId:this.object.privilegeId,privateYn:this.object.privateYn,remoteAdapterId:this.object.remoteAdapterId};for(let e in this.$refs)t=o()(t,this.$refs[e].getData());return t}}},p=c,h=a(43736),u=(0,h.Z)(p,i,s,!1,null,null,null),m=u.exports},57931:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"table-responsive"},[e("TuiGrid",t._b({ref:"tuiGrid"},"TuiGrid",t.options,!1))],1)])},s=[],n=a(37856),o=a(37662),r={name:"ApplicationRequestCatalog",components:{TuiGrid:n.Grid},props:{mode:String,detailInfo:Object,detailData:Object},data(){return{options:{columns:[{header:this.$t("head.id"),name:"pk.catalogId"}]}}},watch:{detailData(){this.resetData()}},async created(){o.dc.$on("MainResize",this.resize),o.Gk.$on("MainResize",this.resize),o.bB.$on("MainResize",this.resize),o.QK.$on("MainResize",this.resize),this.options=(0,o.d_)(this.options),this.resize(),this.resetData()},methods:{resetData(){this.$refs.tuiGrid&&(this.detailData.apimApplicationRequestCatalog?(this.$refs.tuiGrid.invoke("resetData",this.detailData.apimApplicationRequestCatalog.map((t=>(0,o.Np)(t)))),this.resize()):this.$refs.tuiGrid.invoke("resetData",[]))},resize(){this.$refs.tuiGrid&&this.$nextTick((()=>{const t=document.getElementById("panel"),e=t.getElementsByClassName("panel-body")[0],a=getComputedStyle(e),i=(0,o.tJ)(a.getPropertyValue("padding-left")),s=(0,o.tJ)(a.getPropertyValue("padding-right")),n=(0,o.tJ)(a.getPropertyValue("padding-top")),r=(0,o.tJ)(a.getPropertyValue("padding-bottom"));this.$refs.tuiGrid.invoke("setWidth",e.clientWidth-i-s),this.$refs.tuiGrid.invoke("setHeight",e.clientHeight-n-r)}))}}},l=r,d=a(43736),c=(0,d.Z)(l,i,s,!1,null,null,null),p=c.exports},20859:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"table-responsive"},[e("TuiGrid",t._b({ref:"tuiGrid"},"TuiGrid",t.options,!1))],1)])},s=[],n=a(37856),o=a(37662),r={name:"ApplicationRequestIp",components:{TuiGrid:n.Grid},props:{mode:String,detailInfo:Object,detailData:Object},data(){return{options:{columns:[{header:this.$t("head.ip"),name:"pk.allowedIp"}]}}},watch:{detailData(){this.resetData()}},async created(){o.dc.$on("MainResize",this.resize),o.Gk.$on("MainResize",this.resize),o.bB.$on("MainResize",this.resize),o.QK.$on("MainResize",this.resize),this.options=(0,o.d_)(this.options),this.resize(),this.resetData()},methods:{resetData(){this.$refs.tuiGrid&&(this.detailData.apimApplicationRequestIp?(this.$refs.tuiGrid.invoke("resetData",this.detailData.apimApplicationRequestIp.map((t=>(0,o.Np)(t)))),this.resize()):this.$refs.tuiGrid.invoke("resetData",[]))},resize(){this.$refs.tuiGrid&&this.$nextTick((()=>{const t=document.getElementById("panel"),e=t.getElementsByClassName("panel-body")[0],a=getComputedStyle(e),i=(0,o.tJ)(a.getPropertyValue("padding-left")),s=(0,o.tJ)(a.getPropertyValue("padding-right")),n=(0,o.tJ)(a.getPropertyValue("padding-top")),r=(0,o.tJ)(a.getPropertyValue("padding-bottom"));this.$refs.tuiGrid.invoke("setWidth",e.clientWidth-i-s),this.$refs.tuiGrid.invoke("setHeight",e.clientHeight-n-r)}))}}},l=r,d=a(43736),c=(0,d.Z)(l,i,s,!1,null,null,null),p=c.exports},75835:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"table-responsive"},[e("TuiGrid",t._b({ref:"tuiGrid"},"TuiGrid",t.options,!1))],1)])},s=[],n=a(37856),o=a(37662),r={name:"ApplicationRequestSecurity",components:{TuiGrid:n.Grid},props:{mode:String,detailInfo:Object,detailData:Object},data(){return{options:{columns:[{name:"pk.catalogId",header:this.$t("igate.param.id",{0:"Catalog"})},{name:"pk.securityId",header:this.$t("igate.param.id",{0:this.$t("igate.secret")})},{name:"pk.securityScope",header:this.$t("igate.scope")}]}}},watch:{detailData(){this.resetData()}},async created(){o.dc.$on("MainResize",this.resize),o.Gk.$on("MainResize",this.resize),o.bB.$on("MainResize",this.resize),o.QK.$on("MainResize",this.resize),this.options=(0,o.d_)(this.options),this.resize(),this.resetData()},methods:{resetData(){this.$refs.tuiGrid&&(this.detailData.apimApplicationRequestSecurity?(this.$refs.tuiGrid.invoke("resetData",this.detailData.apimApplicationRequestSecurity.map((t=>(0,o.Np)(t)))),this.resize()):this.$refs.tuiGrid.invoke("resetData",[]))},resize(){this.$refs.tuiGrid&&this.$nextTick((()=>{const t=document.getElementById("panel"),e=t.getElementsByClassName("panel-body")[0],a=getComputedStyle(e),i=(0,o.tJ)(a.getPropertyValue("padding-left")),s=(0,o.tJ)(a.getPropertyValue("padding-right")),n=(0,o.tJ)(a.getPropertyValue("padding-top")),r=(0,o.tJ)(a.getPropertyValue("padding-bottom"));this.$refs.tuiGrid.invoke("setWidth",e.clientWidth-i-s),this.$refs.tuiGrid.invoke("setHeight",e.clientHeight-n-r)}))}}},l=r,d=a(43736),c=(0,d.Z)(l,i,s,!1,null,null,null),p=c.exports},44638:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.traceLog.requestTimestamp")))]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("inputText",{ref:"pk.applicationRequestDateTime",attrs:{vModel:"pk.applicationRequestDateTime",classObject:{"form-control":!0,"regExp-text":!1,"view-disabled":!0,dataKey:!0},readonly:!0}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.param.id",{0:t.$t("igate.customer")})))]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("inputText",{ref:"pk.customerId",attrs:{vModel:"pk.customerId",classObject:{"form-control":!0,"regExp-text":!1,"view-disabled":!0,dataKey:!0},readonly:!0}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.id")))]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("inputText",{ref:"pk.applicationId",attrs:{vModel:"pk.applicationId",classObject:{"form-control":!0,"regExp-text":!1,"view-disabled":!0,dataKey:!0},readonly:!0}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.name")))]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("inputText",{ref:"applicationName",attrs:{vModel:"applicationName",classObject:{"form-control":!0,"regExp-text":!1,"view-disabled":!0,dataKey:!0},readonly:!0}})],1)])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.secret")))]),e("span",{staticClass:"letterLength"},[e("i",{staticClass:"icon-eye password-eye",staticStyle:{"margin-left":"0px"},on:{click:function(e){t.$refs["applicationSecret"].changeType()}}})])]),e("div",{class:"detail-content-common",style:{"padding-left":"0px"}},[e("div",{staticClass:"input-group",staticStyle:{"flex-wrap":"nowrap"}},[e("passWord",{ref:"applicationSecret",attrs:{vModel:"applicationSecret",classObject:{"form-control":!0,"regExp-password":!1,"view-disabled":!0},readonly:!0}})],1)])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.status")))]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("inputText",{ref:"applicationRequestStatus",attrs:{vModel:"applicationRequestStatus",classObject:{"form-control":!0,"regExp-text":!1,"view-disabled":!0,dataKey:!0},readonly:!0}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.traceLog.requestTimestamp")))]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("inputText",{ref:"applicationRequestTimestamp",attrs:{vModel:"applicationRequestTimestamp",classObject:{"form-control":!0,"regExp-text":!1,"view-disabled":!0,dataKey:!0},readonly:!0}})],1)])])]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("common.desc")))])]),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("textArea",{ref:"applicationDesc",attrs:{vModel:"applicationDesc",classObject:{"form-control":!0,"regExp-textarea":!1,"view-disabled":!0},readonly:!0,height:"130px"}})],1)])])])])])},s=[],n=a(63516),o=a(37662),r={name:"appRequestBasicInfo",extends:n.Z,data(){return{keyArr:["pk.applicationRequestDateTime","pk.customerId","pk.applicationId","applicationName","applicationSecret","applicationDesc","applicationRequestStatus","applicationRequestTimestamp"]}},methods:{initData(){const t={};this.keyArr.forEach((e=>{t[e]="undefined"!==typeof this.detailData[e]&&null!==this.detailData[e]?String(this.detailData[e]):null}));for(const e in this.$refs)if(this.$refs[e].setData)if("applicationRequestStatus"==e){const{name:a}=[{value:"R",name:"REQUEST"},{value:"A",name:"ALLOWED"},{value:"D",name:"REQUEST"},{value:"I",name:"DENIED"}].find((({value:a})=>a===t[this.$refs[e]._props.vModel]));this.$refs[e].setData(a)}else"pk.applicationRequestDateTime"===e||"applicationRequestTimestamp"===e?this.$refs[e].setData((0,o.GD)(t[this.$refs[e]._props.vModel])):this.$refs[e].setData(t[this.$refs[e]._props.vModel])}}},l=r,d=a(43736),c=(0,d.Z)(l,i,s,!1,null,null,null),p=c.exports},38440:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",{ref:"panel",class:t.panelClass,attrs:{id:"panel"}},[e("div",{staticClass:"panel-dialog"},[e("div",{staticClass:"panel-content",style:t.panelContentStyle},[e("div",{staticClass:"resize-bar"}),e("header",{staticClass:"panel-header sub-bar",attrs:{id:"panel-header"}},["modify"===t.panelMode?e("a",{staticClass:"btn btn-icon backBtn",attrs:{href:"javascript:void(0);",title:t.$t("head.goBackward")},on:{click:t.goPreviousPanel}},[e("i",{staticClass:"icon-left"})]):t._e(),e("h2",{staticClass:"sub-bar-tit",style:{width:`calc(100% - ${"modify"===t.panelMode?170:125}px )`}},[t._v(" "+t._s(t.subBarTitle)+" "),e("span",{staticClass:"sub-bar-selected-tit ellipsis",style:{width:`calc(100% - ${"modify"===t.panelMode?80:65}px )`},attrs:{title:t.selectedInfoTitle?t.selectedInfoTitle.substr(3):""}},[t._v(" "+t._s(t.selectedInfoTitle)+" ")])]),e("div",{staticClass:"ml-auto"},[e("button",{staticClass:"btn-change-layout-horizon btn-icon",attrs:{type:"button",title:t.$t("common.detail.horizontal.view")},on:{click:function(e){return t.changeLayout("vertical")}}},[e("img",{staticClass:"center-block",attrs:{src:t.getMenuIconUrl("horizontal")}})]),e("button",{staticClass:"btn-change-layout-vertical btn-icon",attrs:{type:"button",title:t.$t("common.detail.vertical.view")},on:{click:function(e){return t.changeLayout("horizon")}}},[e("img",{staticClass:"center-block",attrs:{src:t.getMenuIconUrl("vertical")}})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.expand")},on:{click:t.expandCollapsePanel}},[e("i",{staticClass:"icon-expand"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.close")},on:{click:t.closePanel}},[e("i",{staticClass:"icon-close"})])])]),e("ul",{staticClass:"nav nav-tabs flex-shrink-0"},[t._l(t.tabList,(function(a,i){return e("li",{key:a.id,staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:t.selectedIdx===i},attrs:{href:"javascript:void(0);"},domProps:{textContent:t._s(a.label)},on:{click:function(e){return t.changeTab(i)}}})])})),t.toShowResult?e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:t.selectedIdx===t.tabList.length},attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.changeTab(t.tabList.length)}}},[t._v(" "+t._s(t.$t("head.executionResult"))+" ")])]):t._e()],2),e("div",{staticClass:"panel-body tab-content"},[t._l(t.tabList,(function(i,s){return e("div",{key:s,class:{[t.panelMode]:!0,"tab-pane":!0,active:t.selectedIdx===s}},["basic"===i.type?e("DetailBasic",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"property"===i.type?e("DetailProperty",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"grid"===i.type?e("DetailGrid",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"custom"===i.type?e("DetailCustom",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"bundle"===i.type?e(a(14605)(`./detail${i.url}.vue`).default,{ref:"component",refInFor:!0,tag:"component",attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):t._e()],1)})),t.toShowResult?e("DetailResult",{class:{"tab-pane":!0,active:t.selectedIdx===t.tabList.length&&t.showResultTab},attrs:{httpReqResult:t.httpReqResult}}):t._e()],2),e("footer",{staticClass:"panel-footer sub-bar",attrs:{id:"panel-footer"}},["detail"===t.panelMode||"done"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.allowBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("igate.allow")},on:{click:function(e){return t.updateStatus("allow")}}},[t._v(" "+t._s(t.$t("igate.allow"))+" ")]):t._e(),t.denyBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("igate.deny")},on:{click:function(e){return t.updateStatus("deny")}}},[t._v(" "+t._s(t.$t("igate.deny"))+" ")]):t._e(),t.metaHistoryBtn&&t.metaHistoryPrivilege.viewer?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);"},on:{click:t.goMetaHistoryModal}},[e("i",{staticClass:"icon-eye"}),t._v(t._s(t.$t("common.metaHistory"))+" ")]):t._e(),t.referenceBtn&&t.viewer?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.referenceTreeInfo")},on:{click:t.goReferenceModal}},[e("i",{staticClass:"icon-result"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.referenceTreeInfo")))])]):t._e(),t.excelExportBtn&&t.viewer?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.excel.output")},on:{click:t.excelExport}},[e("i",{staticClass:"icon-result"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.excel.output")))])]):t._e(),t.guideBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("igate.connector.guide")},on:{click:t.guide}},[t._v(" "+t._s(t.$t("igate.connector.guide"))+" ")]):t._e(),t.loadBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.load")},on:{click:function(e){return t.control("load")}}},[t._v(" "+t._s(t.$t("head.load"))+" ")]):t._e(),t.dumpBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.dump")},on:{click:t.dump}},[t._v(" "+t._s(t.$t("head.dump"))+" ")]):t._e(),t.executeBtn&&t.editor?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.execute")},on:{click:function(e){return t.control("execute")}}},[e("i",{staticClass:"icon-play"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.execute")))])]):t._e(),t.startBtn&&t.editor?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.execute")},on:{click:function(e){return t.control("start")}}},[e("i",{staticClass:"icon-play"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.execute")))])]):t._e(),t.stopBtn&&t.editor?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.stop")},on:{click:function(e){return t.control("stop")}}},[e("i",{staticClass:"icon-pause"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.stop")))])]):t._e(),t.stopBtn&&t.editor?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.stop")},on:{click:function(e){return t.control("stop")}}},[e("i",{staticClass:"icon-pause"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.stop")))])]):t._e(),t.stopForceBtn&&t.editor?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.stop.force")},on:{click:function(e){return t.control("stopForce")}}},[e("i",{staticClass:"icon-x"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.stop.force")))])]):t._e(),t.interruptBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.interrupt")},on:{click:function(e){return t.control("interrupt")}}},[e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.interrupt")))])]):t._e(),t.blockBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.block")},on:{click:function(e){return t.control("block")}}},[e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.block")))])]):t._e(),t.unblockBtn&&t.editor?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.unblock")},on:{click:function(e){return t.control("unblock")}}},[e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.unblock")))])]):t._e(),t.deleteBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.delete")},on:{click:t.removeInfo}},[e("i",{staticClass:"icon-delete"}),t._v(t._s(t.$t("head.delete"))+" ")]):t._e(),t.updateBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.update")},on:{click:t.goModifyPanel}},[e("i",{staticClass:"icon-edit"}),t._v(t._s(t.$t("head.update"))+" ")]):t._e(),t.insertBtn&&t.editor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:`${t.$t("head.insert")} (${t.$t("head.copy")})`},on:{click:t.goAddInfo}},[e("i",{staticClass:"icon-plus"}),t._v(t._s(`${t.$t("head.insert")} (${t.$t("head.copy")})`)+" ")]):t._e(),t.restoreBtn&&t.editor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.restore")},on:{click:t.restoreMeta}},[e("i",{staticClass:"icon-edit"}),t._v(t._s(t.$t("head.restore"))+" ")]):t._e()]):"add"===t.panelMode||"clone"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.insertBtn&&t.editor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.insert")},on:{click:t.saveInfo}},[e("i",{staticClass:"icon-plus"}),t._v(t._s(t.$t("head.insert"))+" ")]):t._e()]):"modify"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.updateBtn&&t.editor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.update")},on:{click:t.updateInfo}},[e("i",{staticClass:"icon-edit"}),t._v(t._s(t.$t("head.update"))+" ")]):t._e()]):t._e()])])])])},s=[],n=a(44062),o=a(37662),r={name:"appRequestDetail",extends:n.Z,data(){return{allowBtn:!1,denyBtn:!1}},methods:{updateStatus(t){"R"===this.detailData.applicationRequestStatus?this.$confirm({type:"warn",message:"allow"===t?this.$t("igate.allow.it"):this.$t("igate.refuse.it"),callback:async()=>{this.setData(await new o.p0(`/api/entity/apimApplicationRequest/control?command=${t}`).create({"pk.applicationId":this.detailData["pk.applicationId"],"pk.applicationRequestDateTime":this.detailData["pk.applicationRequestDateTime"],"pk.customerId":this.detailData["pk.customerId"]},!0),"head.success")}}):this.$alert({type:"warn",message:this.$t("igate.only.request.status.possible")})}}},l=r,d=a(43736),c=(0,d.Z)(l,i,s,!1,null,null,null),p=c.exports},72407:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return g}});var i=function(){var t=this,e=t._self._c;return e("div",[t.readonly?t._e():e("div",{staticClass:"ml-auto form-inline m-full"},[e("button",{staticClass:"btn-icon",attrs:{type:"button"},on:{click:t.addCatalog}},[e("i",{staticClass:"icon-plus-circle"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button"},on:{click:t.deleteField}},[e("i",{staticClass:"icon-minus-circle"})])]),e("div",{staticClass:"table-responsive",on:{contextmenu:t.contextmenu}},[e("TuiGrid",t._b({ref:"tuiGrid"},"TuiGrid",t.options,!1))],1)])},s=[],n=(a(57658),a(66997)),o=a.n(n),r=a(66281),l=a.n(r),d=a(37856),c=a(37662),p={name:"ApplicationSecurities",components:{TuiGrid:d.Grid},props:{mode:String,detailInfo:Object,detailData:Object},data(){return{options:{rowHeaders:[{type:"checkbox",header:" "}],treeColumnOptions:{name:"pk.catalogId"},columns:[{header:this.$t("igate.param.id",{0:"Catalog"}),name:"pk.catalogId"},{header:this.$t("igate.param.id",{0:"Security"}),name:"pk.securityId"},{header:`Security ${this.$t("igate.scope")}`,name:"pk.securityScope"}],onGridMounted:t=>{t.instance.on("expand",(()=>{this.$nextTick(this.resize)})),t.instance.on("collapse",(()=>{this.$nextTick(this.resize)}))}}}},watch:{detailData(){this.resetData()}},async created(){c.dc.$on("MainResize",this.resize),c.Gk.$on("MainResize",this.resize),c.bB.$on("MainResize",this.resize),c.QK.$on("MainResize",this.resize),this.options=(0,c.d_)(this.options),this.resize(),this.resetData()},computed:{readonly(){return"detail"===this.mode||"done"===this.mode}},methods:{addCatalog(){const t=this,e=this.$openModal({title:this.$t("head.insert"),modalWidth:"800px",modalHeight:"700px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t\t\t <Search :list="searchList" @search="search" ref="search"/>\n\t\t\t\t\t\t\t\t\t <Main\n\t\t\t\t\t\t\t\t\t\t:buttonList="buttonList"\n\t\t\t\t\t\t\t\t\t\t:gridInfo="gridInfo"\n\t\t\t\t\t\t\t\t\t\t:gridSearchObj="gridSearchObj"\n\t\t\t\t\t\t\t\t\t\t:gridType="\'modalBasic\'"\n\t\t\t\t\t\t\t\t\t\t:viewer="true"\n\t\t\t\t\t\t\t\t\t\t@rowClicked="rowClicked"\n\t\t\t\t\t\t\t\t\t\t@initialize="initialize"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t  </div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:[],buttonList:[],gridInfo:{},gridSearchObj:{}}},created(){this.searchList=[{type:"text",vModel:"catalogId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"catalogName",label:this.$t("common.type"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],this.buttonList=[{id:"initialize",isUse:!0}],this.gridInfo={url:"/api/entity/apimCatalog/search",totalCntUrl:"/api/entity/apimCatalog/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"catalogId"},{header:this.$t("head.name"),name:"catalogName"}]}}},methods:{search(t){this.gridSearchObj=t},rowClicked(a){const i=t.$refs.tuiGrid.invoke("getData");0<i.length&&i.find((t=>t["pk.catalogId"]===a.catalogId))||(t.$refs.tuiGrid.invoke("appendRow",{"pk.catalogId":a.catalogId}),t.resize()),e.hideModal()},initialize(){this.$refs.search.initialize()}}}]})},deleteField(){if(0===this.$refs.tuiGrid.invoke("getRowCount"))return void this.$alert({type:"warn",message:this.$t("head.no.target")});const t=this.$refs.tuiGrid.invoke("getCheckedRowKeys");0!==t.length?(t.forEach((t=>{const e=this.$refs.tuiGrid.invoke("getRow",t);null!=e&&this.$refs.tuiGrid.invoke("removeRow",t)})),this.$refs.tuiGrid.invoke("blur"),this.resize()):this.$alert({type:"warn",message:this.$t("head.no.target.selected")})},resetData(){if(this.$refs.tuiGrid)if(this.detailData.apimApplicationCatalogs||this.detailData.apimApplicationSecurities){if(this.detailData.apimApplicationCatalogs){const t=l()(this.detailData.apimApplicationCatalogs.map((t=>{const e=(0,c.Np)(t);return this.readonly&&(e._attributes={disabled:!0}),e})));if(this.detailData.apimApplicationSecurities){const e=l()(this.detailData.apimApplicationSecurities.map((t=>{const e=(0,c.Np)(t);return this.readonly&&(e._attributes={disabled:!0}),e})));t.forEach((t=>{t._children=e.filter((e=>t["pk.catalogId"]===e["pk.catalogId"]))}))}this.$refs.tuiGrid.invoke("resetData",t),this.$refs.tuiGrid.invoke("expandAll"),this.$nextTick((()=>{this.resize()}))}}else this.$refs.tuiGrid.invoke("resetData",[])},resize(){this.$refs.tuiGrid&&this.$nextTick((()=>{const t=document.getElementById("panel"),e=t.getElementsByClassName("panel-body")[0],a=getComputedStyle(e),i=(0,c.tJ)(a.getPropertyValue("padding-left")),s=(0,c.tJ)(a.getPropertyValue("padding-right")),n=(0,c.tJ)(a.getPropertyValue("padding-top")),o=(0,c.tJ)(a.getPropertyValue("padding-bottom"));this.$refs.tuiGrid.invoke("setWidth",e.clientWidth-i-s),this.$refs.tuiGrid.invoke("setHeight",e.clientHeight-n-o-(this.readonly?0:32))}))},async contextmenu(t){if(t.preventDefault(),this.readonly)return;const{rowKey:e,value:i}=this.$refs.tuiGrid.invoke("getFocusedCell");if(null===e)return;const s=this.$refs.tuiGrid.invoke("getRow",e);if(null!==s._attributes.tree.parentRowKey)return;const{data:{object:{apimCatalogSecurity:n}}}=await new c.p0("/api/entity/apimCatalog/object").read({catalogId:i});if(!n||0===n.length)return;const r=this,d=this.$openModal({title:`${this.$t("igate.security")} ${this.$t("head.insert")}`,modalWidth:"800px",modalHeight:"580px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t\t\t<Search :list="searchList" @search="search" ref="search"/>\n\t\t\t\t\t\t\t\t\t<div class="ct-content">\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t:list="buttonList"\n\t\t\t\t\t\t\t\t\t\t\t:viewer="true"\n\t\t\t\t\t\t\t\t\t\t\t:totalCnt="null"\n\t\t\t\t\t\t\t\t\t\t\t:currentCnt="null"\n\t\t\t\t\t\t\t\t\t\t\t@initialize="initialize"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<NoData v-if="!isGridView" />\n\t\t\t\t\t\t\t\t\t\t<div class="table-responsive" v-else>\n\t\t\t\t\t\t\t\t\t\t\t<TuiGrid ref="tuiGrid" v-bind="options" @click="rowClicked" />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>',components:{Search:a(96434).Z,Button:a(19286).Z,NoData:a(48578).Z,TuiGrid:a(37856).Grid},data(){return{searchList:[],buttonList:[{id:"initialize",isUse:!0}],totalCnt:null,isGridView:!1,dataList:[],gridInfo:{}}},async created(){this.searchList=[{type:"text",vModel:"pk.securityId",label:this.$t("head.id"),placeholder:this.$t("head.searchId")},{type:"text",vModel:"pk.securityScope",label:this.$t("igate.scope"),placeholder:this.$t("head.searchData")}],this.gridInfo={options:{rowHeaders:[{type:"checkbox",header:" "}],data:[],scrollY:!0,minBodyHeight:"260",bodyHeight:"300",columns:[{name:"pk.securityId",header:this.$t("head.id")},{name:"pk.securityScope",header:this.$t("igate.scope")}]}},this.options=(0,c.d_)(this.gridInfo.options)},methods:{search(t){this.isGridView=!0;let e=l()(n.map((t=>(0,c.Np)(t))));for(const a in t)o()(t[a])||(e=e.filter((e=>e[a].startsWith(t[a]))));this.$nextTick((()=>{this.$refs.tuiGrid.invoke("resetData",e)}))},rowClicked(){},getData(){return this.$refs.tuiGrid.invoke("getCheckedRows")},initialize(){this.$refs.search.initialize()}}}],buttonList:[{template:'<button type="button" @click="confirm" class="btn btn-primary">{{ $t(\'head.ok\') }}</button>',methods:{confirm(){const t=d.$refs.content[0].getData();0!==t.length?(t.forEach((t=>{const a=r.$refs.tuiGrid.invoke("getChildRows",e);a.find((e=>e["pk.catalogId"]===t["pk.catalogId"]&&e["pk.securityId"]===t["pk.securityId"]&&e["pk.securityScope"]===t["pk.securityScope"]))||r.$refs.tuiGrid.invoke("appendRow",{"pk.catalogId":t["pk.catalogId"],"pk.securityId":t["pk.securityId"],"pk.securityScope":t["pk.securityScope"]},{parentRowKey:e})})),this.$nextTick((()=>{r.$refs.tuiGrid.invoke("expand",e,!1),r.resize(),d.hideModal()}))):this.$alert({type:"warn",message:this.$t("head.no.target")})}}}]})},getData(){this.$refs.tuiGrid.invoke("blur"),this.$refs.tuiGrid.invoke("cancelEditing");const t=l()(this.$refs.tuiGrid.invoke("getData")),e=[],a=[];t.forEach((t=>{null===t._attributes.tree.parentRowKey?e.push({pk:{catalogId:t["pk.catalogId"]}}):a.push({pk:{catalogId:t["pk.catalogId"],securityId:t["pk.securityId"],securityScope:t["pk.securityScope"]}})}));const i={apimApplicationCatalogs:e};return 0<a.length&&(i.apimApplicationSecurities=a),i}}},h=p,u=a(43736),m=(0,u.Z)(h,i,s,!1,null,null,null),g=m.exports},18901:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",[t.readonly?t._e():e("div",{staticClass:"ml-auto form-inline m-full"},[e("button",{staticClass:"btn-icon",attrs:{type:"button"},on:{click:t.addField}},[e("i",{staticClass:"icon-plus-circle"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button"},on:{click:t.deleteField}},[e("i",{staticClass:"icon-minus-circle"})])]),e("div",{staticClass:"table-responsive"},[e("TuiGrid",t._b({ref:"tuiGrid"},"TuiGrid",t.options,!1))],1)])},s=[],n=a(66281),o=a.n(n),r=a(37856),l=a(37662),d={name:"ApplicationIp",components:{TuiGrid:r.Grid},props:{mode:String,detailInfo:Object,detailData:Object},data(){return{options:{rowHeaders:[{type:"checkbox",header:" "}],editingEvent:"click",columns:[{header:this.$t("head.ip"),name:"pk.allowedIp",editor:"text"}]}}},watch:{detailData(){this.resetData()}},async created(){l.dc.$on("MainResize",this.resize),l.Gk.$on("MainResize",this.resize),l.bB.$on("MainResize",this.resize),l.QK.$on("MainResize",this.resize),this.options=(0,l.d_)(this.options),this.resize(),this.resetData()},computed:{readonly(){return"detail"===this.mode||"done"===this.mode}},methods:{addField(){this.$refs.tuiGrid.invoke("appendRow",{}),this.resize()},deleteField(){if(0===this.$refs.tuiGrid.invoke("getRowCount"))return void this.$alert({type:"warn",message:this.$t("head.no.target")});const t=this.$refs.tuiGrid.invoke("getCheckedRowKeys");0!==t.length?(t.forEach((t=>{const e=this.$refs.tuiGrid.invoke("getRow",t);null!=e&&this.$refs.tuiGrid.invoke("removeRow",t)})),this.$refs.tuiGrid.invoke("blur"),this.resize()):this.$alert({type:"warn",message:this.$t("head.no.target.selected")})},resetData(){this.$refs.tuiGrid&&(this.detailData.apimApplicationIp?(this.$refs.tuiGrid.invoke("resetData",this.detailData.apimApplicationIp.map((t=>{const e=(0,l.Np)(t);return this.readonly&&(e._attributes={disabled:!0}),e}))),this.resize()):this.$refs.tuiGrid.invoke("resetData",[]))},resize(){this.$refs.tuiGrid&&this.$nextTick((()=>{const t=document.getElementById("panel"),e=t.getElementsByClassName("panel-body")[0],a=getComputedStyle(e),i=(0,l.tJ)(a.getPropertyValue("padding-left")),s=(0,l.tJ)(a.getPropertyValue("padding-right")),n=(0,l.tJ)(a.getPropertyValue("padding-top")),o=(0,l.tJ)(a.getPropertyValue("padding-bottom"));this.$refs.tuiGrid.invoke("setWidth",e.clientWidth-i-s),this.$refs.tuiGrid.invoke("setHeight",e.clientHeight-n-o-(this.readonly?0:32))}))},getData(){return this.$refs.tuiGrid.invoke("blur"),this.$refs.tuiGrid.invoke("cancelEditing"),{apimApplicationIp:o()(this.$refs.tuiGrid.invoke("getData")).map((t=>({pk:{allowedIp:t["pk.allowedIp"]}})))}}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},88421:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.param.id",{0:this.$t("igate.customer")})))]),t.getReadonly(t.regExpInfo["pk.customerId"])?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt["pk.customerId"]}/${t.maxLengthCnt["pk.customerId"]})`)+" ")]),e("b",{staticClass:"icon-star"})]),e("div",{class:"detail-content-"+(t.getReadonly(t.regExpInfo["pk.customerId"])?"common":"regExp"),style:{"padding-left":""+(t.getReadonly(t.regExpInfo["pk.customerId"])?"0px":"8px")}},[e("inputText",{ref:"pk.customerId",attrs:{vModel:"pk.customerId",classObject:{"form-control":t.getReadonly(t.regExpInfo["pk.customerId"]),"regExp-text":!t.getReadonly(t.regExpInfo["pk.customerId"]),"view-disabled":!0,dataKey:!0},readonly:t.readonly||t.getReadonly(t.regExpInfo["pk.customerId"]),regExpType:"id"},on:{setLengthCnt:t.setLengthCnt}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.id")))]),t.getReadonly(t.regExpInfo["pk.applicationId"])?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt["pk.applicationId"]}/${t.maxLengthCnt["pk.applicationId"]})`)+" ")]),e("b",{staticClass:"icon-star"})]),e("div",{class:"detail-content-"+(t.getReadonly(t.regExpInfo["pk.applicationId"])?"common":"regExp"),style:{"padding-left":""+(t.getReadonly(t.regExpInfo["pk.applicationId"])?"0px":"8px")}},[e("inputText",{ref:"pk.applicationId",attrs:{vModel:"pk.applicationId",classObject:{"form-control":t.getReadonly(t.regExpInfo["pk.applicationId"]),"regExp-text":!t.getReadonly(t.regExpInfo["pk.applicationId"]),"view-disabled":!0,dataKey:!0},readonly:t.readonly||t.getReadonly(t.regExpInfo["pk.applicationId"]),regExpType:"id"},on:{setLengthCnt:t.setLengthCnt}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.name")))]),t.getReadonly(t.regExpInfo["applicationName"])?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt["applicationName"]}/${t.maxLengthCnt["applicationName"]})`)+" ")])]),e("div",{class:"detail-content-"+(t.getReadonly(t.regExpInfo["applicationName"])?"common":"regExp"),style:{"padding-left":""+(t.getReadonly(t.regExpInfo["applicationName"])?"0px":"8px")}},[e("inputText",{ref:"applicationName",attrs:{vModel:"applicationName",classObject:{"form-control":t.getReadonly(t.regExpInfo["applicationName"]),"regExp-text":!t.getReadonly(t.regExpInfo["applicationName"]),"view-disabled":!0,dataKey:!0},readonly:t.readonly||t.getReadonly(t.regExpInfo["applicationName"]),regExpType:"name"},on:{setLengthCnt:t.setLengthCnt}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.key")))]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"input-group",attrs:{title:t.object.applicationKey}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.object.applicationKey,expression:"object.applicationKey"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:"readonly"},domProps:{value:t.object.applicationKey},on:{input:function(e){e.target.composing||t.$set(t.object,"applicationKey",e.target.value)}}}),t.readonly?t._e():e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{type:"button"},on:{click:t.initApplicationKey}},[e("i",{staticClass:"icon-srch"})])])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.secret")))]),e("span",{staticClass:"letterLength"},[t.getReadonly(t.regExpInfo["applicationSecret"])?t._e():e("span",[t._v(" "+t._s(`(${t.curLengthCnt["applicationSecret"]}/${t.maxLengthCnt["applicationSecret"]})`)+" ")]),e("i",{staticClass:"icon-eye password-eye",staticStyle:{"margin-left":"0px"},on:{click:function(e){t.$refs["applicationSecret"].changeType()}}})]),e("b",{staticClass:"icon-star"})]),e("div",{class:"detail-content-"+(t.getReadonly(t.regExpInfo["applicationSecret"])?"common":"regExp"),style:{"padding-left":""+(t.getReadonly(t.regExpInfo["applicationSecret"])?"0px":"8px")}},[e("div",{staticClass:"input-group",staticStyle:{"flex-wrap":"nowrap"}},[e("passWord",{ref:"applicationSecret",attrs:{vModel:"applicationSecret",classObject:{"form-control":t.getReadonly(t.regExpInfo["applicationSecret"]),"regExp-password":!t.getReadonly(t.regExpInfo["applicationSecret"]),"view-disabled":!0},readonly:t.readonly||t.getReadonly(t.regExpInfo["applicationSecret"]),regExpType:"value"},on:{setLengthCnt:t.setLengthCnt}})],1)])])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(t.$t("igate.expirationTimestamp"))+" ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.expirationTimestampDisabled,expression:"expirationTimestampDisabled"}],staticStyle:{"margin-left":"2px"},attrs:{type:"checkbox",disabled:t.readonly||t.getReadonly(t.regExpInfo["expirationTimestamp"])},domProps:{checked:Array.isArray(t.expirationTimestampDisabled)?t._i(t.expirationTimestampDisabled,null)>-1:t.expirationTimestampDisabled},on:{change:function(e){var a=t.expirationTimestampDisabled,i=e.target,s=!!i.checked;if(Array.isArray(a)){var n=null,o=t._i(a,n);i.checked?o<0&&(t.expirationTimestampDisabled=a.concat([n])):o>-1&&(t.expirationTimestampDisabled=a.slice(0,o).concat(a.slice(o+1)))}else t.expirationTimestampDisabled=s}}})]),e("div",{staticClass:"input-group"},[t.expirationTimestampDisabled?e("div",{staticStyle:{width:"100%"}},[t._m(0)]):e("dateRange",{ref:"expirationTimestamp",attrs:{vModel:"expirationTimestamp",classObject:{"form-control":!0},customOptions:{"time-picker-increment":1},readonly:t.readonly||t.getReadonly(t.regExpInfo["expirationTimestamp"])}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.throttlingConcurrency")))]),t.getReadonly(t.regExpInfo["throttlingConcurrency"])?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt["throttlingConcurrency"]}/${t.maxLengthCnt["throttlingConcurrency"]})`)+" ")])]),e("div",{class:"detail-content-"+(t.getReadonly(t.regExpInfo["throttlingConcurrency"])?"common":"regExp"),style:{"padding-left":""+(t.getReadonly(t.regExpInfo["throttlingConcurrency"])?"0px":"8px")}},[e("inputText",{ref:"throttlingConcurrency",attrs:{vModel:"throttlingConcurrency",classObject:{"form-control":t.getReadonly(t.regExpInfo["throttlingConcurrency"]),"regExp-text":!t.getReadonly(t.regExpInfo["throttlingConcurrency"]),"view-disabled":!0,dataKey:!0},readonly:t.readonly||t.getReadonly(t.regExpInfo["throttlingConcurrency"]),regExpType:"num"},on:{setLengthCnt:t.setLengthCnt}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.transaction.volume.limits")))]),t.getReadonly(t.regExpInfo["throttlingMilage"])?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt["throttlingPeriod"]}/${t.maxLengthCnt["throttlingPeriod"]})`)+" / "+t._s(`(${t.curLengthCnt["throttlingMilage"]}/${t.maxLengthCnt["throttlingMilage"]})`)+" ")])]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{class:"detail-content-"+(t.getReadonly(t.regExpInfo["throttlingPeriod"])?"common":"regExp"),style:{"padding-left":""+(t.getReadonly(t.regExpInfo["throttlingPeriod"])?"0px":"8px")}},[e("inputText",{ref:"throttlingPeriod",attrs:{vModel:"throttlingPeriod",classObject:{"form-control":t.getReadonly(t.regExpInfo["throttlingPeriod"]),"regExp-text":!t.getReadonly(t.regExpInfo["throttlingPeriod"]),"view-disabled":!0,dataKey:!0},readonly:t.readonly||t.getReadonly(t.regExpInfo["throttlingPeriod"]),regExpType:"num"},on:{setLengthCnt:t.setLengthCnt}})],1)]),e("div",{staticClass:"col-lg-6"},[e("div",{class:"detail-content-"+(t.getReadonly(t.regExpInfo["throttlingMilage"])?"common":"regExp"),style:{"padding-left":""+(t.getReadonly(t.regExpInfo["throttlingMilage"])?"0px":"8px")}},[e("inputText",{ref:"throttlingMilage",attrs:{vModel:"throttlingMilage",classObject:{"form-control":t.getReadonly(t.regExpInfo["throttlingMilage"]),"regExp-text":!t.getReadonly(t.regExpInfo["throttlingMilage"]),"view-disabled":!0,dataKey:!0},readonly:t.readonly||t.getReadonly(t.regExpInfo["throttlingMilage"]),regExpType:"num"},on:{setLengthCnt:t.setLengthCnt}})],1)])])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.quotaCapacity")))]),t.getReadonly(t.regExpInfo["quotaCapacity"])?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt["quotaCapacity"]}/${t.maxLengthCnt["quotaCapacity"]})`)+" ")])]),e("div",{class:"detail-content-"+(t.getReadonly(t.regExpInfo["quotaCapacity"])?"common":"regExp"),style:{"padding-left":""+(t.getReadonly(t.regExpInfo["quotaCapacity"])?"0px":"8px")}},[e("inputText",{ref:"quotaCapacity",attrs:{vModel:"quotaCapacity",classObject:{"form-control":t.getReadonly(t.regExpInfo["quotaCapacity"]),"regExp-text":!t.getReadonly(t.regExpInfo["quotaCapacity"]),"view-disabled":!0,dataKey:!0},readonly:t.readonly||t.getReadonly(t.regExpInfo["quotaCapacity"]),regExpType:"num"},on:{setLengthCnt:t.setLengthCnt}})],1)])])]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.description")))]),t.getReadonly(t.regExpInfo["applicationDesc"])?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt["applicationDesc"]}/${t.maxLengthCnt["applicationDesc"]})`)+" ")])]),e("div",{class:"detail-content-"+(t.getReadonly(t.regExpInfo["applicationDesc"])?"common":"regExp"),style:{"padding-left":""+(t.getReadonly(t.regExpInfo["applicationDesc"])?"0px":"8px")}},[e("textArea",{ref:"applicationDesc",attrs:{vModel:"applicationDesc",classObject:{"form-control":t.getReadonly(t.regExpInfo["applicationDesc"]),"regExp-textarea":!t.getReadonly(t.regExpInfo["applicationDesc"]),"view-disabled":!0},readonly:t.readonly||t.getReadonly(t.regExpInfo["applicationDesc"]),height:"130px",regExpType:"desc"},on:{setLengthCnt:t.setLengthCnt}})],1)])])])])])},s=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("span",{staticStyle:{cursor:"auto"},attrs:{title:"asdf"}},[e("input",{staticClass:"form-control view-disabled",attrs:{type:"text",readonly:"readonly"}})])])}],n=a(31823),o=a.n(n),r=a(63516),l=a(37662),d={name:"apimAppBasicInfo",extends:r.Z,data(){return{expirationTimestampDisabled:!1,object:{applicationKey:null},keyArr:["pk.customerId","pk.applicationId","applicationName","applicationKey","applicationSecret","applicationDesc","expirationTimestamp","throttlingConcurrency","throttlingMilage","throttlingPeriod","quotaCapacity"],regExpInfo:{"pk.customerId":{regExpType:"id",isPK:!0,readonly:!1},"pk.applicationId":{regExpType:"id",isPK:!0,readonly:!1},applicationName:{regExpType:"name",isPK:!1,readonly:!1},applicationSecret:{regExpType:"value",isPK:!1,readonly:!1},applicationDesc:{regExpType:"desc",isPK:!1,readonly:!1},expirationTimestamp:{regExpType:"value",isPK:!1,readonly:!1},throttlingConcurrency:{regExpType:"num",isPK:!1,readonly:!1},throttlingMilage:{regExpType:"num",isPK:!1,readonly:!1},throttlingPeriod:{regExpType:"num",isPK:!1,readonly:!1},quotaCapacity:{regExpType:"num",isPK:!1,readonly:!1}}}},methods:{initData(){const t={};this.keyArr.forEach((e=>{t[e]="undefined"!==typeof this.detailData[e]&&null!==this.detailData[e]?String(this.detailData[e]):null;const a=Object.keys(this.regExpInfo).includes(e)?this.regExpInfo[e].regExpType:"default";this.setLengthCnt({[e]:0}),this.maxLengthCnt[e]=(0,l.oo)(a).maxLength}));for(const e in this.$refs)if("expirationTimestamp"===e)this.expirationTimestampDisabled=null===t.expirationTimestamp,this.expirationTimestampDisabled||this.$nextTick((()=>{this.$refs[e].setData((0,l.GD)(t[this.$refs[e]._props.vModel]))}));else{if(!this.$refs[e].setData)continue;this.$refs[e].setData(t[this.$refs[e]._props.vModel])}this.object.applicationKey=t.applicationKey},initApplicationKey(){this.object.applicationKey=(0,l.Fs)()},getData(){let t={applicationKey:this.object.applicationKey};for(const e in this.$refs)t="expirationTimestamp"===e?o()(t,this.expirationTimestampDisabled?{expirationTimestamp:null}:this.$refs[e].getData()):o()(t,this.$refs[e].getData());return t}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},79876:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return v}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.id")))]),t.getReadonly(t.regExpInfo["catalogId"])?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt["catalogId"]}/${t.maxLengthCnt["catalogId"]})`)+" ")]),e("b",{staticClass:"icon-star"})]),e("div",{class:"detail-content-"+(t.getReadonly(t.regExpInfo["catalogId"])?"common":"regExp"),style:{"padding-left":""+(t.getReadonly(t.regExpInfo["catalogId"])?"0px":"8px")}},[e("inputText",{ref:"catalogId",attrs:{vModel:"catalogId",classObject:{"form-control":t.getReadonly(t.regExpInfo["catalogId"]),"regExp-text":!t.getReadonly(t.regExpInfo["catalogId"]),"view-disabled":!0,dataKey:!0},readonly:t.readonly||t.getReadonly(t.regExpInfo["catalogId"]),regExpType:"id"},on:{setLengthCnt:t.setLengthCnt}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.name")))]),"add"===t.mode||"clone"===t.mode?e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt["catalogName"]}/${t.maxLengthCnt["catalogName"]})`)+" ")]):t._e()]),e("div",{class:"detail-content-"+("add"===t.mode||"clone"===t.mode?"regExp":"common"),style:{"padding-left":""+("add"===t.mode||"clone"===t.mode?"8px":"0px")}},[e("inputText",{ref:"catalogName",attrs:{vModel:"catalogName",classObject:{"form-control":"add"!==t.mode&&"clone"!==t.mode,"regExp-text":"add"===t.mode||"clone"===t.mode,"view-disabled":!0,dataKey:!0},readonly:"add"!==t.mode&&"clone"!==t.mode,regExpType:"name"},on:{setLengthCnt:t.setLengthCnt}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("common.privilege")))]),e("b",{staticClass:"icon-star"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.object.privilegeId,expression:"object.privilegeId"}],staticClass:"form-control view-disabled",attrs:{readonly:t.readonly},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.object,"privilegeId",e.target.multiple?a:a[0])}}},t._l(t.privilegeTypeList,(function(a){return e("option",{key:a.privilegeId,attrs:{disabled:a.disabled},domProps:{value:a.privilegeId}},[t._v(" "+t._s(a.privilegeId)+" ")])})),0)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.private")))]),e("b",{staticClass:"icon-star"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.object.privateYn,expression:"object.privateYn"}],staticClass:"form-control view-disabled",attrs:{readonly:t.readonly},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.object,"privateYn",e.target.multiple?a:a[0])}}},t._l(t.privateYnList,(function(a){return e("option",{key:a.pk.propertyKey,domProps:{value:a.pk.propertyKey}},[t._v(" "+t._s(a.propertyValue)+" ")])})),0)])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.fieldMeta.metaDomain")))]),e("b",{staticClass:"icon-star"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.object.metaDomain,expression:"object.metaDomain"}],staticClass:"form-control view-disabled",attrs:{readonly:t.readonly},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.object,"metaDomain",e.target.multiple?a:a[0])}}},t._l(t.metaDomainList,(function(a){return e("option",{key:a,domProps:{value:a}},[t._v(" "+t._s(a)+" ")])})),0)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.adapter"))+" "+t._s(t.$t("head.id")))]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"input-group",attrs:{title:t.object.adapterId}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.object.adapterId,expression:"object.adapterId"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:"readonly"},domProps:{value:t.object.adapterId},on:{input:function(e){e.target.composing||t.$set(t.object,"adapterId",e.target.value)}}}),t.readonly&&!t.isTools?e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.open")},on:{click:function(e){return t.clickEvt("adapterId")}}},[e("i",{staticClass:"icon-link"})]):t._e(),t.readonly?t._e():e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{type:"button"},on:{click:t.openAdapterModal}},[e("i",{staticClass:"icon-srch"})]),t.readonly?t._e():e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.initialize")},on:{click:t.resetAdapterId}},[e("i",{staticClass:"icon-reset"})])])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.url")))]),"add"===t.mode||"clone"===t.mode?e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt["catalogUrl"]}/${t.maxLengthCnt["catalogUrl"]})`)+" ")]):t._e(),e("b",{staticClass:"icon-star"})]),e("div",{class:"detail-content-"+("add"===t.mode||"clone"===t.mode?"regExp":"common"),style:{"padding-left":""+("add"===t.mode||"clone"===t.mode?"8px":"0px")}},[e("inputText",{ref:"catalogUrl",attrs:{vModel:"catalogUrl",classObject:{"form-control":"add"!==t.mode&&"clone"!==t.mode,"regExp-text":"add"===t.mode||"clone"===t.mode,"view-disabled":!0,dataKey:!0},readonly:"add"!==t.mode&&"clone"!==t.mode,regExpType:"url"},on:{setLengthCnt:t.setLengthCnt}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.imported")))])]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.importedYn,expression:"importedYn"}],staticClass:"form-control view-disabled",attrs:{readonly:!0},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.importedYn=e.target.multiple?a:a[0]}}},t._l(t.importedYnList,(function(a){return e("option",{key:a.pk.propertyKey,domProps:{value:a.pk.propertyKey}},[t._v(" "+t._s(a.propertyValue)+" ")])})),0)])])])])},s=[],n=(a(57658),a(31823)),o=a.n(n),r=a(63822),l=a(63516),d=a(37662),c=a(66997),p=a.n(c),h=a(66281),u=a.n(h),m={name:"apimCatalogBasicInfo",extends:l.Z,data(){return{object:{privilegeId:null,privateYn:"N",adapterId:null,metaDomain:null},privateYnList:[],importedYnList:[],metaDomainList:[],privilegeTypeList:[],httpReqList:[{url:"/api/page/properties",param:{pk:{propertyId:"List.Yn"},orderByKey:!0},itemName:"privateYnList"},{url:"/api/entity/fieldMeta/group/search",itemName:"metaDomainList"},{url:"/api/entity/privilege/search",param:{object:{privilegeType:"b"},limit:null,next:null,reverseOrder:!1},itemName:"privilegeTypeList"}],keyArr:["catalogId","catalogName","catalogUrl","privilegeId","privateYn","adapterId","metaDomain"],regExpInfo:{catalogId:{regExpType:"id",isPK:!0,readonly:!1},catalogName:{regExpType:"name",isPK:!1,readonly:!1},catalogUrl:{regExpType:"url",isPK:!1,readonly:!1}},importedYn:"N"}},computed:{...(0,r.rn)(["userInfo","isTools"])},watch:{detailData:{deep:!0,handler(){"add"===this.mode?this.importedYn=p()(this.detailData.catalogDocument)?"N":"Y":this.importedYn=this.detailData.importedYn}}},async created(){const t=[];this.httpReqList.forEach((e=>{t.push(new Promise(((t,a)=>{(async()=>{const i=await new d.p0(e.url).read(e.param?e.param:null);if("ok"===i.data.result){if("privilegeTypeList"===e.itemName){const t=i.data.object,e=this.userInfo.totalUserPrivileges.filter((t=>"b"===t.privilegeType));for(const a of t)this.isUserAdmin?a.disabled=!1:a.disabled="undefined"===typeof e.find((t=>t.privilegeId==a.privilegeId));this.privilegeTypeList=t}else this[e.itemName]=i.data.object,"privateYnList"===e.itemName&&(this.importedYnList=u()(this[e.itemName]));t(i)}else a(i)})()})))}));try{const e=await Promise.all(t);for(const t of e)if("error"===t.data.result)throw t.data}catch(e){this.$alert({type:"warn",message:this.$t("head.error.load.data.warn")})}},methods:{initData(){const t={};this.keyArr.forEach((e=>{t[e]="undefined"!==typeof this.detailData[e]&&null!==this.detailData[e]?String(this.detailData[e]):null;const a=Object.keys(this.regExpInfo).includes(e)?this.regExpInfo[e].regExpType:"default";this.setLengthCnt({[e]:0}),this.maxLengthCnt[e]=(0,d.oo)(a).maxLength}));for(const e in this.$refs)this.$refs[e].setData&&this.$refs[e].setData(t[this.$refs[e]._props.vModel]);this.object.privilegeId=t.privilegeId,this.object.privateYn=t.privateYn,this.object.adapterId=t.adapterId,this.object.metaDomain=t.metaDomain},openAdapterModal(){const t=this,e=this.$openModal({title:this.$t("igate.adapter"),modalWidth:"1000px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t\t\t<Search :list="searchList" @search="search" ref="search"/>\n\t\t\t\t\t\t\t\t\t\t<Main\n\t\t\t\t\t\t\t\t\t\t:buttonList="buttonList"\n\t\t\t\t\t\t\t\t\t\t:gridInfo="gridInfo"\n\t\t\t\t\t\t\t\t\t\t:gridSearchObj="gridSearchObj"\n\t\t\t\t\t\t\t\t\t\t:gridType="\'modalBasic\'"\n\t\t\t\t\t\t\t\t\t\t:viewer="true"\n\t\t\t\t\t\t\t\t\t\t@rowClicked="rowClicked"\n\t\t\t\t\t\t\t\t\t\t@initialize="initialize"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t  </div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:[{type:"text",vModel:"adapterId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"text",vModel:"adapterName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"text",vModel:"adapterDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0}],gridInfo:{url:"/api/entity/adapter/search",totalCntUrl:"/api/entity/adapter/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"adapterId",width:"20%"},{header:this.$t("head.name"),name:"adapterName",width:"20%"},{header:this.$t("head.description"),name:"adapterDesc",width:"20%"},{header:this.$t("igate.adapter.structure.request"),name:"requestStructure",width:"20%"},{header:this.$t("igate.adapter.structure.response"),name:"responseStructure",width:"20%"}]}},gridSearchObj:{}}},methods:{search(t){this.gridSearchObj=t},async rowClicked(a){t.object.adapterId=a.adapterId,e.hideModal()},initialize(){this.$refs.search.initialize()}}}]})},resetAdapterId(){this.object.adapterId=null},getData(){let t={privilegeId:this.object.privilegeId,privateYn:this.object.privateYn,adapterId:this.object.adapterId,metaDomain:this.object.metaDomain};for(let e in this.$refs)t=o()(t,this.$refs[e].getData());return t}}},g=m,f=a(43736),y=(0,f.Z)(g,i,s,!1,null,null,null),v=y.exports},58455:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",[t.readonly?t._e():e("div",{staticClass:"ml-auto form-inline m-full"},[e("button",{staticClass:"btn-icon",attrs:{type:"button"},on:{click:t.addField}},[e("i",{staticClass:"icon-plus-circle"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button"},on:{click:t.deleteField}},[e("i",{staticClass:"icon-minus-circle"})])]),e("div",{staticClass:"table-responsive"},[e("TuiGrid",t._b({ref:"tuiGrid"},"TuiGrid",t.options,!1))],1)])},s=[],n=a(66281),o=a.n(n),r=a(37856),l=a(37662),d={name:"CatalogResponse",components:{TuiGrid:r.Grid},props:{mode:String,detailInfo:Object,detailData:Object},data(){return{options:{rowHeaders:[{type:"checkbox",header:" "}],editingEvent:"click",columns:[{header:this.$t("igate.status.code"),name:"pk.statusCode",editor:class{constructor(t){const e=document.createElement("input");e.setAttribute("type","text"),e.setAttribute("maxlength","3"),e.classList.add("form-control"),e.value=(0,l.Xv)(t.value),e.addEventListener("input",(t=>{t.target.value=t.target.value.replace(new RegExp("[^0-9]","g"),"")})),this.el=e}getElement(){return this.el.focus(),this.el}getValue(){return this.el.value}}},{header:this.$t("igate.response.type"),name:"responseType",editor:"text"},{header:this.$t("igate.response.content"),name:"responseContent",formatter:({row:t})=>`<div>\n\t\t\t\t\t\t\t\t\t\t<button type="button" class="btn-icon" style="width: 16px;height: 16px">\n\t\t\t\t\t\t\t \t\t\t\t<i class="icon-link"></i>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t<span style="display: inline-block; height: 16px; vertical-align: top;">\n\t\t\t\t\t\t\t\t\t\t\t${(0,l.Xv)(t.responseContent).replaceAll("<br>","")}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>`}],onGridMounted:t=>{t.instance.on("click",(t=>{if(!t.nativeEvent.target.classList.contains("icon-link"))return;const{responseContent:e}=this.$refs.tuiGrid.invoke("getRow",t.rowKey),a=this.readonly,i=this,s=this.$openModal({title:this.$t("igate.response.content"),modalWidth:"800px",modalHeight:"500px",contentList:[{template:`\n\t\t\t\t\t\t\t\t\t\t<div style="height: 100%">\n\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">\n\t\t\t\t\t\t\t\t\t\t\t\t<span>${this.$t("igate.response.content")}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="letterLength" v-if="!readonly">\n\t\t\t\t\t\t\t\t\t\t\t\t\t({{ responseContent.length }} / {{ maxLength }})\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t<div class="input-group" style="height: calc(100% - 24px)">\n\t\t\t\t\t\t\t\t\t\t\t\t<textarea :class="{ 'form-control': true, 'view-disabled': readonly }" v-model="responseContent" style="height: 100%" :readonly="readonly" :maxlength="maxLength"></textarea>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t`,data(){return{responseContent:null===e?"":e,readonly:a,maxLength:5e3}}}],buttonList:a?null:[{template:`<button type="button" class="btn btn-primary" @click="click"> ${this.$t("head.ok")} </button>`,methods:{click(){i.$refs.tuiGrid.invoke("setValue",t.rowKey,"responseContent",s.$refs.content[0].responseContent),s.hideModal()}}}]})}))}}}},watch:{detailData(){this.resetData()}},async created(){l.dc.$on("MainResize",this.resize),l.Gk.$on("MainResize",this.resize),l.bB.$on("MainResize",this.resize),l.QK.$on("MainResize",this.resize),this.options=(0,l.d_)(this.options),this.resize(),this.resetData()},computed:{readonly(){return"detail"===this.mode||"done"===this.mode}},methods:{addField(){this.$refs.tuiGrid.invoke("appendRow",{}),this.resize()},deleteField(){if(0===this.$refs.tuiGrid.invoke("getRowCount"))return void this.$alert({type:"warn",message:this.$t("head.no.target")});const t=this.$refs.tuiGrid.invoke("getCheckedRowKeys");0!==t.length?(t.forEach((t=>{const e=this.$refs.tuiGrid.invoke("getRow",t);null!=e&&this.$refs.tuiGrid.invoke("removeRow",t)})),this.$refs.tuiGrid.invoke("blur"),this.resize()):this.$alert({type:"warn",message:this.$t("head.no.target.selected")})},resetData(){this.$refs.tuiGrid&&(this.detailData.apimCatalogResponses?(this.$refs.tuiGrid.invoke("resetData",this.detailData.apimCatalogResponses.map((t=>{const e=(0,l.Np)(t);return this.readonly&&(e._attributes={disabled:!0}),e}))),this.resize()):this.$refs.tuiGrid.invoke("resetData",[]))},resize(){this.$refs.tuiGrid&&this.$nextTick((()=>{const t=document.getElementById("panel"),e=t.getElementsByClassName("panel-body")[0],a=getComputedStyle(e),i=(0,l.tJ)(a.getPropertyValue("padding-left")),s=(0,l.tJ)(a.getPropertyValue("padding-right")),n=(0,l.tJ)(a.getPropertyValue("padding-top")),o=(0,l.tJ)(a.getPropertyValue("padding-bottom"));this.$refs.tuiGrid.invoke("setWidth",e.clientWidth-i-s),this.$refs.tuiGrid.invoke("setHeight",e.clientHeight-n-o-(this.readonly?0:32))}))},getData(){return this.$refs.tuiGrid.invoke("blur"),this.$refs.tuiGrid.invoke("cancelEditing"),{apimCatalogResponses:o()(this.$refs.tuiGrid.invoke("getData")).map((t=>({pk:{statusCode:t["pk.statusCode"]},responseContent:t["responseContent"],responseType:t["responseType"]})))}}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},94537:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-responsive"},[e("TuiGrid",t._b({ref:"tuiGrid"},"TuiGrid",t.options,!1))],1)},s=[],n=a(37856),o=a(37662),r={name:"CatalogSecurity",components:{TuiGrid:n.Grid},props:{mode:String,detailInfo:Object,detailData:Object},data(){return{options:{columns:[{header:this.$t("head.id"),name:"pk.securityId"},{header:this.$t("igate.scope"),name:"pk.securityScope"}]}}},watch:{detailData(){this.resetData()}},async created(){o.dc.$on("MainResize",this.resize),o.Gk.$on("MainResize",this.resize),o.bB.$on("MainResize",this.resize),o.QK.$on("MainResize",this.resize),this.options=(0,o.d_)(this.options),this.resize()},methods:{resetData(){this.detailData.apimCatalogSecurity?(this.$refs.tuiGrid.invoke("resetData",this.detailData.apimCatalogSecurity.map((t=>(0,o.Np)(t)))),this.resize()):this.$refs.tuiGrid.invoke("resetData",[])},resize(){this.$refs.tuiGrid&&this.$nextTick((()=>{const t=document.getElementById("panel"),e=t.getElementsByClassName("panel-body")[0],a=getComputedStyle(e),i=(0,o.tJ)(a.getPropertyValue("padding-left")),s=(0,o.tJ)(a.getPropertyValue("padding-right")),n=(0,o.tJ)(a.getPropertyValue("padding-top")),r=(0,o.tJ)(a.getPropertyValue("padding-bottom"));this.$refs.tuiGrid.invoke("setWidth",e.clientWidth-i-s),this.$refs.tuiGrid.invoke("setHeight",e.clientHeight-n-r)}))}}},l=r,d=a(43736),c=(0,d.Z)(l,i,s,!1,null,null,null),p=c.exports},77689:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return g}});var i=function(){var t=this,e=t._self._c;return e("div",{ref:"panel",class:t.panelClass,attrs:{id:"panel"}},[e("div",{staticClass:"panel-dialog"},[e("div",{staticClass:"panel-content",style:t.panelContentStyle},[e("div",{staticClass:"resize-bar"}),e("header",{staticClass:"panel-header sub-bar",attrs:{id:"panel-header"}},["modify"===t.panelMode?e("a",{staticClass:"btn btn-icon backBtn",attrs:{href:"javascript:void(0);",title:t.$t("head.goBackward")},on:{click:t.goPreviousPanel}},[e("i",{staticClass:"icon-left"})]):t._e(),e("h2",{staticClass:"sub-bar-tit",style:{width:`calc(100% - ${"modify"===t.panelMode?170:125}px )`}},[t._v(" "+t._s(t.subBarTitle)+" "),e("span",{staticClass:"sub-bar-selected-tit ellipsis",style:{width:`calc(100% - ${"modify"===t.panelMode?80:65}px )`},attrs:{title:t.selectedInfoTitle?t.selectedInfoTitle.substr(3):""}},[t._v(" "+t._s(t.selectedInfoTitle)+" ")])]),e("div",{staticClass:"ml-auto"},[e("button",{staticClass:"btn-change-layout-horizon btn-icon",attrs:{type:"button",title:t.$t("common.detail.horizontal.view")},on:{click:function(e){return t.changeLayout("vertical")}}},[e("img",{staticClass:"center-block",attrs:{src:t.getMenuIconUrl("horizontal")}})]),e("button",{staticClass:"btn-change-layout-vertical btn-icon",attrs:{type:"button",title:t.$t("common.detail.vertical.view")},on:{click:function(e){return t.changeLayout("horizon")}}},[e("img",{staticClass:"center-block",attrs:{src:t.getMenuIconUrl("vertical")}})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.expand")},on:{click:t.expandCollapsePanel}},[e("i",{staticClass:"icon-expand"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.close")},on:{click:t.closePanel}},[e("i",{staticClass:"icon-close"})])])]),e("ul",{staticClass:"nav nav-tabs flex-shrink-0"},[t._l(t.tabList,(function(a,i){return e("li",{key:a.id,staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:t.selectedIdx===i},attrs:{href:"javascript:void(0);"},domProps:{textContent:t._s(a.label)},on:{click:function(e){return t.changeTab(i)}}})])})),t.toShowResult?e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:t.selectedIdx===t.tabList.length},attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.changeTab(t.tabList.length)}}},[t._v(" "+t._s(t.$t("head.executionResult"))+" ")])]):t._e()],2),e("div",{staticClass:"panel-body tab-content"},[t._l(t.tabList,(function(i,s){return e("div",{key:s,class:{[t.panelMode]:!0,"tab-pane":!0,active:t.selectedIdx===s}},["basic"===i.type?e("DetailBasic",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"property"===i.type?e("DetailProperty",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"grid"===i.type?e("DetailGrid",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"custom"===i.type?e("DetailCustom",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"bundle"===i.type?e(a(14605)(`./detail${i.url}.vue`).default,{ref:"component",refInFor:!0,tag:"component",attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):t._e()],1)})),t.toShowResult?e("DetailResult",{class:{"tab-pane":!0,active:t.selectedIdx===t.tabList.length&&t.showResultTab},attrs:{httpReqResult:t.httpReqResult}}):t._e()],2),e("footer",{staticClass:"panel-footer sub-bar",attrs:{id:"panel-footer"}},["detail"===t.panelMode||"done"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.generateBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("igate.generate")},on:{click:t.updateGenerate}},[t._v(" "+t._s(t.$t("igate.generate"))+" ")]):t._e(),t.metaHistoryBtn&&t.metaHistoryPrivilege.viewer?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);"},on:{click:t.goMetaHistoryModal}},[e("i",{staticClass:"icon-eye"}),t._v(t._s(t.$t("common.metaHistory"))+" ")]):t._e(),t.referenceBtn&&t.viewer?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.referenceTreeInfo")},on:{click:t.goReferenceModal}},[e("i",{staticClass:"icon-result"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.referenceTreeInfo")))])]):t._e(),t.excelExportBtn&&t.viewer?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.excel.output")},on:{click:t.excelExport}},[e("i",{staticClass:"icon-result"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.excel.output")))])]):t._e(),t.guideBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("igate.connector.guide")},on:{click:t.guide}},[t._v(" "+t._s(t.$t("igate.connector.guide"))+" ")]):t._e(),t.loadBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.load")},on:{click:function(e){return t.control("load")}}},[t._v(" "+t._s(t.$t("head.load"))+" ")]):t._e(),t.dumpBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.dump")},on:{click:t.dump}},[t._v(" "+t._s(t.$t("head.dump"))+" ")]):t._e(),t.executeBtn&&t.editor?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.execute")},on:{click:function(e){return t.control("execute")}}},[e("i",{staticClass:"icon-play"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.execute")))])]):t._e(),t.startBtn&&t.editor?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.execute")},on:{click:function(e){return t.control("start")}}},[e("i",{staticClass:"icon-play"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.execute")))])]):t._e(),t.stopBtn&&t.editor?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.stop")},on:{click:function(e){return t.control("stop")}}},[e("i",{staticClass:"icon-pause"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.stop")))])]):t._e(),t.stopBtn&&t.editor?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.stop")},on:{click:function(e){return t.control("stop")}}},[e("i",{staticClass:"icon-pause"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.stop")))])]):t._e(),t.stopForceBtn&&t.editor?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.stop.force")},on:{click:function(e){return t.control("stopForce")}}},[e("i",{staticClass:"icon-x"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.stop.force")))])]):t._e(),t.interruptBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.interrupt")},on:{click:function(e){return t.control("interrupt")}}},[e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.interrupt")))])]):t._e(),t.blockBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.block")},on:{click:function(e){return t.control("block")}}},[e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.block")))])]):t._e(),t.unblockBtn&&t.editor?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.unblock")},on:{click:function(e){return t.control("unblock")}}},[e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.unblock")))])]):t._e(),t.deleteBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.delete")},on:{click:t.removeInfo}},[e("i",{staticClass:"icon-delete"}),t._v(t._s(t.$t("head.delete"))+" ")]):t._e(),t.updateBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.update")},on:{click:t.goModifyPanel}},[e("i",{staticClass:"icon-edit"}),t._v(t._s(t.$t("head.update"))+" ")]):t._e(),t.insertBtn&&t.editor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:`${t.$t("head.insert")} (${t.$t("head.copy")})`},on:{click:t.goAddInfo}},[e("i",{staticClass:"icon-plus"}),t._v(t._s(`${t.$t("head.insert")} (${t.$t("head.copy")})`)+" ")]):t._e(),t.restoreBtn&&t.editor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.restore")},on:{click:t.restoreMeta}},[e("i",{staticClass:"icon-edit"}),t._v(t._s(t.$t("head.restore"))+" ")]):t._e()]):"add"===t.panelMode||"clone"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.insertBtn&&t.editor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.insert")},on:{click:t.saveInfo}},[e("i",{staticClass:"icon-plus"}),t._v(t._s(t.$t("head.insert"))+" ")]):t._e()]):"modify"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.updateBtn&&t.editor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.update")},on:{click:t.updateInfo}},[e("i",{staticClass:"icon-edit"}),t._v(t._s(t.$t("head.update"))+" ")]):t._e()]):t._e()])])])])},s=[],n=a(31823),o=a.n(n),r=a(66997),l=a.n(r),d=a(37662),c=a(44062),p={name:"catalogDetail",extends:c.Z,data(){return{generateBtn:!1}},methods:{updateGenerate(){this.$confirm({type:"warn",message:this.$t("igate.generate.msg"),callback:async()=>{this.setData(await new d.p0("/api/entity/apimCatalog/control?command=generate").create({catalogId:this.detailData["catalogId"]},!0),"head.success")}})},async getTargetObj(){if(null!==this.panelMode){if("done"!==this.panelMode)if(this.detailData={},"add"!==this.panelMode){const t={};for(const a in this.cloneInfo)-1!==this.pk.indexOf(a)&&o()(t,(0,d.Fh)({[a]:this.cloneInfo[a]}));const e=await this.httpReq.read(t);if("ok"!==e.data.result)return;this.detailData=(0,d.Np)(e.data.object)}else this.info&&!l()(this.info.catalogDocument)?this.detailData={catalogDocument:this.info.catalogDocument,importedYn:"Y"}:this.detailData={catalogDocument:null,importedYn:"N"};this.setSelectedInfoTitle(),this.setButtonList(),this.openPanel()}}}},h=p,u=a(43736),m=(0,u.Z)(h,i,s,!1,null,null,null),g=m.exports},37058:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return v}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"catalog"},[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"table-responsive"},[e("ace-editor",{ref:"aceEditor",style:{width:`${t.editorWidth}px`,height:`${t.editorHeight}px`},attrs:{mode:"yaml",theme:t.theme,options:t.editorOptions},on:{input:t.editorChange},model:{value:t.yamlCode,callback:function(e){t.yamlCode=e},expression:"yamlCode"}})],1)]),e("div",{staticClass:"col-lg-6",style:{height:`${t.editorHeight}px`,"overflow-y":"auto"}},[0<t.list.length?e("div",t._l(t.list,(function(a,i){return e("div",{key:i,class:{"input-group":!0,get:"get"===a.method,post:"post"===a.method,put:"put"===a.method,patch:"patch"===a.method,delete:"delete"===a.method}},[e("span",{staticClass:"input-group-text",domProps:{textContent:t._s(a.method.toUpperCase())}}),e("input",{staticClass:"form-control view-disabled",attrs:{type:"text",readonly:"readonly"},domProps:{value:a.url}}),e("input",{class:{"form-control":!0,"view-disabled":t.readonly},attrs:{type:"text",readonly:t.readonly},domProps:{value:a.operationId},on:{input:function(e){return t.convertJsCodeYaml(e,a)}}}),e("input",{staticClass:"form-control view-disabled",attrs:{type:"text",readonly:"readonly"},domProps:{value:a.description}})])})),0):e("div",{staticClass:"empty"},[e("p",[t._v("YAML에서 OperationID가 없습니다.")]),e("img",{staticClass:"center-block",attrs:{src:a(87932)}})])])])])},s=[],n=(a(57658),a(66281)),o=a.n(n),r=a(66997),l=a.n(r),d=a(19705),c=a.n(d),p=(a(77870),a(40093),a(7217),a(94023),a(15227)),h=a.n(p),u=a(37662),m={name:"yamlEditor",props:{detailData:Object,mode:String},components:{AceEditor:h()},data(){return{yamlCode:"",jsCode:null,list:[],importedYn:"N",theme:"xcode",editorWidth:0,editorHeight:0,editorOptions:{showPrintMargin:!1}}},created(){u.dc.$on("MainResize",this.resize),u.Gk.$on("MainResize",this.resize),u.bB.$on("MainResize",this.resize),u.QK.$on("MainResize",this.resize)},mounted(){this.$refs.aceEditor.editor.focus(),this.resize()},computed:{readonly(){return"detail"===this.mode||"done"===this.mode}},watch:{detailData:{deep:!0,handler(){this.yamlCode="",this.jsCode=null,this.list=[],"add"===this.mode?this.importedYn=l()(this.detailData.catalogDocument)?"N":"Y":this.importedYn=this.detailData.importedYn,this.$refs.aceEditor.editor.setReadOnly(!!this.readonly||"Y"===this.importedYn),l()(this.detailData.catalogDocument)||(this.yamlCode=c().dump(c().safeLoad(o()(this.detailData.catalogDocument))),this.convertYamlCodeJs()),this.$nextTick((()=>{setTimeout((()=>{this.resize()}),0)}))}}},methods:{editorChange(t){setTimeout((e=>{e===t&&this.convertYamlCodeJs()}),1e3,t)},convertJsCodeYaml(t,e){setTimeout((a=>{t.target.value===a&&(e.info.operationId=t.target.value,e.operationId=e.info.operationId,this.yamlCode=c().dump(this.jsCode),this.$nextTick((()=>{setTimeout((()=>{this.resize()}),0)})))}),1e3,t.target.value)},convertYamlCodeJs(){if(this.jsCode=c().safeLoad(this.yamlCode),this.list=[],this.jsCode&&this.jsCode.paths&&0!==Object.keys(this.jsCode.paths).length)for(const t in this.jsCode.paths){const e=this.jsCode.paths[t];if(e&&0!==Object.keys(e).length)for(const a in e){const i=e[a];i&&(i.operationId&&this.list.push({url:t,method:a,description:i.description,operationId:i.operationId,info:i}))}}},getData(){return{importedYn:this.importedYn,catalogDocument:this.yamlCode}},resize(){const t=document.querySelector("#panel"),e=t.querySelector(".panel-body"),a=getComputedStyle(e),i=(0,u.tJ)(a.getPropertyValue("padding-left")),s=(0,u.tJ)(a.getPropertyValue("padding-right")),n=(0,u.tJ)(a.getPropertyValue("padding-top")),o=(0,u.tJ)(a.getPropertyValue("padding-bottom"));this.editorWidth=(e.clientWidth-i-s)/2-17,this.editorHeight=e.clientHeight-n-o-5,this.theme=document.body.classList.contains("moon")?"dracula":"xcode",this.$refs.aceEditor&&(this.readonly||"Y"===this.importedYn?this.$refs.aceEditor.editor.container.style.backgroundColor="rgba(102, 102, 102, 0.2)":this.$refs.aceEditor.editor.container.style.backgroundColor="transparent",this.$nextTick((()=>{this.$refs.aceEditor.editor.resize(),this.$refs.aceEditor.editor.renderer.updateFull()})))}}},g=m,f=a(43736),y=(0,f.Z)(g,i,s,!1,null,"598d15f4",null),v=y.exports},63859:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var i,s,n=a(44062),o=a(66281),r=a.n(o),l={name:"Detail",extends:n.Z,watch:{info(){this.info&&(this.tabList=r()(this.detailTabList))}}},d=l,c=a(43736),p=(0,c.Z)(d,i,s,!1,null,null,null),h=p.exports},78285:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return v}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"propertyTab"},[t.readonly?e("div",{staticClass:"viewGroup row",staticStyle:{width:"100%",margin:"0px 0px 1.25rem"}},[e("div",{staticClass:"col-lg-2 searchArea-col"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.calendar.date")))])]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.holidayYear,expression:"holidayYear"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.holidayYear=e.target.multiple?a:a[0]},t.holidayEqual]}},t._l(t.holidayYearList,(function(a){return e("option",{key:a,domProps:{value:a,textContent:t._s(a)}})})),0)])])]):t._e(),e("div",{staticClass:"form-table form-table-responsive"},[e("div",{staticClass:"form-table-head"},[t.readonly?t._e():e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.insert")},on:{click:t.addProperty}},[e("i",{staticClass:"icon-plus-circle"})]),e("label",{staticClass:"col"},[t._v(t._s(t.$t("igate.calendar.date")))]),e("label",{staticClass:"col"},[t._v(t._s(t.$t("common.desc")))])]),e("div",{staticClass:"form-table-wrap"},[t.readonly?e("div",t._l(t.propertyListShow,(function(a,i){return e("div",{key:i,staticClass:"form-table-body"},[e("div",{staticClass:"col"},[e("div",{staticClass:"detail-content-common"},[e("datePicker",{ref:`component${i}`,refInFor:!0,staticStyle:{"margin-top":"7px"},attrs:{vModel:"pk.holidayDate",val:a["pk.holidayDate"],readonly:t.readonly,isEmptyPlaceholder:!0}})],1)]),e("div",{staticClass:"col"},[e("div",{staticClass:"detail-content-common"},[e("inputText",{ref:`component${i}`,refInFor:!0,attrs:{vModel:"holidayDesc",classObject:{"form-control":!0,"view-disabled":!0,dataKey:!1},val:a["holidayDesc"],readonly:t.readonly}})],1)])])})),0):e("div",t._l(t.propertyList,(function(a,i){return e("div",{key:a.idx,staticClass:"form-table-body"},[e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.delete")},on:{click:function(e){return t.removeProperty(i)}}},[e("i",{staticClass:"icon-minus-circle"})]),e("div",{staticClass:"col"},[e("div",{staticClass:"detail-content-common"},[e("datePicker",{ref:`component${i}`,refInFor:!0,staticStyle:{"margin-top":"7px"},attrs:{vModel:"pk.holidayDate",val:a["pk.holidayDate"],readonly:t.readonly,isEmptyPlaceholder:!0}})],1)]),e("div",{staticClass:"col"},[e("div",{staticClass:"detail-content-regExp"},[e("inputText",{ref:`component${i}`,refInFor:!0,attrs:{vModel:"holidayDesc",classObject:{"form-control":!1,"regExp-text":!0,"view-disabled":!0},val:a["holidayDesc"],readonly:t.readonly,regExpType:"desc"},on:{setLengthCnt:e=>t.setLengthCnt({[`holidayDesc_${i}`]:e["holidayDesc"]})}}),e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt[`holidayDesc_${i}`]}/${t.maxLengthCnt[`holidayDesc_${i}`]})`)+" ")])],1)])])})),0)])])])},s=[],n=(a(57658),a(31823)),o=a.n(n),r=a(66997),l=a.n(r),d=a(37662),c=a(21783),p=a(1171),h=a(36797),u=a.n(h),m={name:"CalendarHoliday",extends:c.Z,components:{datePicker:p.Z},data(){return{holidayYearList:[`${this.$t("head.all")}`],holidayYear:null,propertyListShow:[],regArr:[{key:"holidayDesc",regExpType:"desc"}],holidayDescContent:{readonly:!1,regExpType:"desc"}}},mounted(){this.holidayYear=(new Date).getFullYear().toString()},created(){for(let t=(new Date).getFullYear()+10;t>=(new Date).getFullYear()-10;t--)this.holidayYearList.push(t)},methods:{filterPropertyList(){this.propertyListShow=this.propertyList.filter((t=>this.holidayYear==t["pk.holidayDate"].substring(0,4)||this.holidayYear===this.$t("head.all")?t:void 0))},holidayEqual(){this.filterPropertyList()},getData(){const t=[];for(let e=0;e<this.propertyList.length;e++){let a={};this.$refs[`component${e}`].forEach((t=>{a=o()(a,t.getData())})),a["pk.holidayDate"]=u()(a["pk.holidayDate"]).format("YYYYMMDD"),t.push((0,d.Fh)(a))}return{calendarHoliday:t}},addProperty(){const t={idx:(0,d.Fs)(),"pk.calendarId":null,"pk.holidayDate":null,holidayDesc:null};this.regArr.forEach((e=>{if(e.regExpType){const t=`${e.key}_${this.propertyList.length}`;this.setLengthCnt({[t]:0}),this.maxLengthCnt[t]=(0,d.oo)(e.regExpType).maxLength}t[e.key]=e.val?e.val:null})),this.propertyList.push(t)},removeProperty(t){this.propertyList.splice(t,1),this.$nextTick((()=>{this.curLengthCnt={},this.maxLengthCnt={},this.propertyList.forEach(((t,e)=>{let a={};this.$refs[`component${e}`].forEach((t=>{a=o()(a,t.getData())}));for(const i in a)"pk.holidayDate"!==i&&(this.setLengthCnt({[`${i}_${e}`]:l()(a[i])?0:String(a[i]).length}),this.maxLengthCnt[`${i}_${e}`]=(0,d.oo)(this.regArr.find((t=>t.key===i)).regExpType).maxLength)}))}))},async setPropertyList(){"undefined"!==typeof this.detailData.calendarHoliday?(this.propertyList=[...this.detailData.calendarHoliday],this.propertyList.forEach(((t,e)=>{t.pk["holidayDate"]=u()(t.pk["holidayDate"]).format("YYYY-MM-DD"),t.idx=(0,d.Fs)(),this.regArr.forEach((a=>{const i=`${a.key}_${e}`;this.setLengthCnt({[i]:t[a.key]?t[a.key].length:0}),this.maxLengthCnt[i]=(0,d.oo)(a.regExpType).maxLength}))}))):this.propertyList=[],this.propertyList=this.propertyList.map((t=>(0,d.Np)(t))),this.filterPropertyList()}}},g=m,f=a(43736),y=(0,f.Z)(g,i,s,!1,null,null,null),v=y.exports},54801:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var i,s,n=a(44062),o=a(31823),r=a.n(o),l={name:"Detail",extends:n.Z,methods:{loadData(t){this.$refs.component.forEach((t=>{this.tabAllData=r()(this.tabAllData,t.getData())}));for(const e in this.tabAllData.calendarHoliday)this.tabAllData.calendarHoliday[e].pk.calendarId=this.tabAllData.calendarId;t&&t()}}},d=l,c=a(43736),p=(0,c.Z)(d,i,s,!1,null,null,null),h=p.exports},2430:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return m}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(this.$t("head.id"))+" "),t.getReadonly(t.regExpInfo["connectorId"])?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt["connectorId"]}/${t.maxLengthCnt["connectorId"]})`)+" ")])]),e("b",{staticClass:"icon-star"})]),e("div",{class:"detail-content-"+(t.getReadonly(t.regExpInfo["connectorId"])?"common":"regExp"),style:{"padding-left":""+(t.getReadonly(t.regExpInfo["connectorId"])?"0px":"8px")}},[e("inputText",{ref:"connectorId",attrs:{vModel:"connectorId",classObject:{"form-control":t.getReadonly(t.regExpInfo["connectorId"]),"regExp-text":!t.getReadonly(t.regExpInfo["connectorId"]),"view-disabled":!0,dataKey:!0},readonly:t.readonly||t.getReadonly(t.regExpInfo["connectorId"]),regExpType:"id"},on:{setLengthCnt:t.setLengthCnt}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(this.$t("head.name"))+" "),t.getReadonly(t.regExpInfo["connectorName"])?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt["connectorName"]}/${t.maxLengthCnt["connectorName"]})`)+" ")])])]),e("div",{class:"detail-content-"+(t.getReadonly(t.regExpInfo["connectorName"])?"common":"regExp"),style:{"padding-left":""+(t.getReadonly(t.regExpInfo["connectorName"])?"0px":"8px")}},[e("inputText",{ref:"connectorName",attrs:{vModel:"connectorName",classObject:{"form-control":t.getReadonly(t.regExpInfo["connectorName"]),"regExp-text":!t.getReadonly(t.regExpInfo["connectorName"]),"view-disabled":!0},readonly:t.readonly,regExpType:"name"},on:{setLengthCnt:t.setLengthCnt}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(this.$t("common.type")))])]),t.readonly?t._e():e("label",{staticClass:"control-label warningLabel"},[e("span",[t._v(t._s(this.$t("igate.connector.alert.type.empty")))])]),e("div",{staticClass:"detail-content-common"},[e("selectBox",{ref:"connectorType",attrs:{vModel:"connectorType",classObject:{"form-control":!0,"view-disabled":!0},readonly:t.readonly||t.getReadonly({isPK:!1,readonly:!1}),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Connector.Type"},orderByKey:!0},optionListName:"connectorTypes",optionFor:"option in connectorTypes",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},on:{changeEvt:t.changeEvt}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.log.level")))]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"detail-content-common"},[e("selectBox",{ref:"connectorLogLevel",attrs:{vModel:"connectorLogLevel",classObject:{"form-control":!0,"view-disabled":!0},readonly:t.readonly||t.getReadonly({isPK:!1,readonly:!1}),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.LogLevel"},orderByKey:!1},optionListName:"connectorLogLevel",optionFor:"option in connectorLogLevel",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}}})],1)])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.connector.startYn")))]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"detail-content-common"},[e("selectBox",{ref:"connectorStartYn",attrs:{vModel:"connectorStartYn",classObject:{"form-control":!0,"view-disabled":!0},readonly:t.readonly||t.getReadonly({isPK:!1}),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Yn"},orderByKey:!0},optionListName:"connectorStartYns",optionFor:"option in connectorStartYns",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.connector.requestDirection")))]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"detail-content-common"},[e("selectBox",{ref:"requestDirection",attrs:{vModel:"requestDirection",classObject:{"form-control":!0,"view-disabled":!0},readonly:t.readonly||t.getReadonly({isPK:!1,readonly:!1}),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Connector.RequestDirection"},orderByKey:!0},optionListName:"connectorRequestdirections",optionFor:"option in connectorRequestdirections",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.adapter"))+" "+t._s(t.$t("head.id")))])]),e("div",{staticClass:"detail-content-common"},[e("div",{staticClass:"input-group"},[e("inputText",{ref:"adapterId",attrs:{vModel:"adapterId",classObject:{"form-control":!0,"view-disabled":!0,dataKey:!0},readonly:!0}}),t.readonly&&!t.isTools?e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.open")},on:{click:function(e){return t.clickEvt("adapterId")}}},[e("i",{staticClass:"icon-link"})]):t._e(),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button"},on:{click:t.openAdapterModal}},[e("i",{staticClass:"icon-srch"}),t._v(t._s(t.$t("head.search"))+" ")]),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button",title:t.$t("head.initialize")},on:{click:function(e){t.$refs["adapterId"].setData(null)}}},[e("i",{staticClass:"icon-reset",staticStyle:{"margin-right":"0px"}})])],1)])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.threadPool"))+" "+t._s(t.$t("head.id")))])]),e("div",{staticClass:"detail-content-common"},[e("div",{staticClass:"input-group"},[e("inputText",{ref:"threadPoolId",attrs:{vModel:"threadPoolId",classObject:{"form-control":!0,"view-disabled":!0,dataKey:!0},readonly:!0}}),t.readonly&&!t.isTools?e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.open")},on:{click:function(e){return t.clickEvt("threadPoolId")}}},[e("i",{staticClass:"icon-link"})]):t._e(),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button"},on:{click:t.openThreadPoolModal}},[e("i",{staticClass:"icon-srch"}),t._v(t._s(t.$t("head.search"))+" ")]),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button",title:t.$t("head.initialize")},on:{click:function(e){t.$refs["threadPoolId"].setData(null)}}},[e("i",{staticClass:"icon-reset",staticStyle:{"margin-right":"0px"}})])],1)])])])]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(t.$t("head.description"))+" "),t.getReadonly(t.regExpInfo["connectorDesc"])?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt["connectorDesc"]}/${t.maxLengthCnt["connectorDesc"]})`)+" ")])])]),e("div",{class:"detail-content-"+(t.getReadonly(t.regExpInfo["connectorDesc"])?"common":"regExp"),style:{"padding-left":""+(t.getReadonly(t.regExpInfo["connectorDesc"])?"0px":"8px")}},[e("textArea",{ref:"connectorDesc",attrs:{vModel:"connectorDesc",classObject:{"form-control":t.getReadonly(t.regExpInfo["connectorDesc"]),"regExp-textarea":!t.getReadonly(t.regExpInfo["connectorDesc"]),"view-disabled":!0},readonly:t.readonly,regExpType:"desc",height:"200px"},on:{setLengthCnt:t.setLengthCnt}})],1)])])])])},s=[],n=a(63822),o=a(63516),r=a(37662),l=a(31823),d=a.n(l),c={name:"BasicInfo",props:{detailData:Object,mode:String,pk:Array},extends:o.Z,data(){return{keyArr:["connectorId","connectorName","connectorType","connectorLogLevel","connectorStartYn","requestDirection","adapterId","threadPoolId","connectorDesc"],regExpInfo:{connectorId:{regExpType:"id",isPK:!0,readonly:!1},connectorName:{regExpType:"name",isPK:!1,readonly:!1},connectorDesc:{regExpType:"desc",isPK:!1,readonly:!1}}}},computed:{...(0,n.rn)(["isTools"])},methods:{getReadonly(t){return this.readonly||t.isPK&&"modify"===this.mode},getData(){let t={};for(let e in this.$refs)0!==this.$refs[e].length&&(t=d()(t,this.$refs[e].getData()));return t},initData(){const t={};this.keyArr.forEach((e=>{t[e]="undefined"!==typeof this.detailData[e]&&null!==this.detailData[e]?String(this.detailData[e]):null;const a=Object.keys(this.regExpInfo).includes(e)?this.regExpInfo[e].regExpType:"default";this.setLengthCnt({[e]:0}),this.maxLengthCnt[e]=(0,r.oo)(a).maxLength}));for(const e in this.$refs)this.$refs[e].setData&&this.$refs[e].setData(t[this.$refs[e]._props.vModel])},changeEvt(t){this.$emit("changeProperties",t.value)},clickEvt(t){const e=this.detailData[t];if(!e)return void this.$alert({type:"warn",message:this.$t("head.no.data.warn")});let a="",i={};"adapterId"===t?(a="202030",i={adapterId:e}):(a="302040",i={threadPoolId:e,_pageSize:"10"}),(0,r.RB)(a,(()=>{localStorage.removeItem("searchObj"),localStorage.setItem("searchObj",JSON.stringify(i))}))},openAdapterModal(){const t=this,e=this.$openModal({title:this.$t("igate.adapter"),modalWidth:"1000px",contentList:[{template:'<div>\n                                <Search :list="searchList" @search="search" ref="search"/>\n                                    <Main\n                                    :buttonList="buttonList"\n                                    :gridInfo="gridInfo"\n                                    :gridSearchObj="gridSearchObj"\n                                    :gridType="\'modalBasic\'"\n                                    :viewer="true"\n                                    @rowClicked="rowClicked"\n                                    @initialize="initialize"\n                                />\n                            </div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:[{type:"text",vModel:"adapterId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"text",vModel:"adapterName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"text",vModel:"adapterDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0}],gridInfo:{url:"/api/entity/adapter/search",totalCntUrl:"/api/entity/adapter/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"adapterId",width:"20%"},{header:this.$t("head.name"),name:"adapterName",width:"20%"},{header:this.$t("head.description"),name:"adapterDesc",width:"20%"},{header:this.$t("igate.adapter.structure.request"),name:"requestStructure",width:"20%"},{header:this.$t("igate.adapter.structure.response"),name:"responseStructure",width:"20%"}]}},gridSearchObj:{}}},methods:{search(t){this.gridSearchObj=t},rowClicked(a){t.$refs.adapterId.setData(a.adapterId),e.hideModal()},initialize(){this.$refs.search.initialize()}}}]})},openThreadPoolModal(){const t=this,e=this.$openModal({title:this.$t("igate.threadPool"),modalWidth:"1000px",contentList:[{template:'<div>\n                                <Search :list="searchList" @search="search" ref="search"/>\n                                    <Main\n                                    :buttonList="buttonList"\n                                    :gridInfo="gridInfo"\n                                    :gridSearchObj="gridSearchObj"\n                                    :gridType="\'modalBasic\'"\n                                    :viewer="true"\n                                    @rowClicked="rowClicked"\n                                    @initialize="initialize"\n                                />\n                            </div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:[{type:"text",vModel:"threadPoolId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0}],gridInfo:{url:"/api/entity/threadPool/search",totalCntUrl:"/api/entity/threadPool/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"threadPoolId",header:this.$t("head.id"),align:"left",width:"20%"},{name:"rejectPolicy",header:this.$t("igate.threadPool.rejectPolicy"),align:"center",width:"16%",formatter:t=>{switch(t.value){case"A":return"abort";case"C":return"caller runs";case"D":return"discard";case"O":return"discard oldest"}}},{name:"threadMin",header:this.$t("igate.threadPool.min"),align:"right",width:"16%",formatter:t=>(0,r.Wb)(t.row.threadMin)},{name:"threadMax",header:this.$t("igate.threadPool.max"),align:"right",width:"16%",formatter:t=>(0,r.Wb)(t.row.threadMax)},{name:"threadIdle",header:this.$t("igate.threadPool.idle"),align:"right",width:"16%",formatter:t=>(0,r.Wb)(t.row.threadIdle)},{name:"threadThreshold",header:this.$t("igate.threadPool.threshold"),align:"right",width:"16%",formatter:t=>(0,r.Wb)(t.row.threadThreshold)}]}},gridSearchObj:{}}},methods:{search(t){this.gridSearchObj=t},rowClicked(a){t.$refs.threadPoolId.setData(a.threadPoolId),e.hideModal()},initialize(){this.$refs.search.initialize()}}}]})}}},p=c,h=a(43736),u=(0,h.Z)(p,i,s,!1,null,null,null),m=u.exports},95130:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"list-group",staticStyle:{width:"100%"}},t._l(t.propertyList,(function(a,i){return e("li",{key:i,staticClass:"list-group-item"},[e("label",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.check,expression:"property.check"}],staticClass:"custom-control-input view-disabled",attrs:{type:"checkbox",disabled:t.readonly},domProps:{checked:Array.isArray(a.check)?t._i(a.check,null)>-1:a.check},on:{change:function(e){var i=a.check,s=e.target,n=!!s.checked;if(Array.isArray(i)){var o=null,r=t._i(i,o);s.checked?r<0&&t.$set(a,"check",i.concat([o])):r>-1&&t.$set(a,"check",i.slice(0,r).concat(i.slice(r+1)))}else t.$set(a,"check",n)}}}),e("span",{staticClass:"custom-control-label"},[t._v(t._s(a.instanceId))])])])})),0)},s=[],n=(a(57658),a(37662)),o=a(21783),r=a(77285),l=a.n(r),d={name:"DeploiesInfo",extends:o.Z,data(){return{instanceList:[],propertyList:[]}},async created(){const t=new n.p0("/api/entity/instance/search"),e=await t.read({object:{},limit:null,next:null,reverseOrder:!1});"ok"===e.data.result&&(this.instanceList=e.data.object.filter((t=>"T"==t.instanceType)))},methods:{getData(){const t=this.propertyList.filter((t=>t.check)),e=[];for(let a of t)e.push({pk:{instanceId:a.instanceId}});return{connectorDeploies:e}},async setPropertyList(){const t=this.instanceList.map((t=>t.instanceId)),e=l()(this.detailData.connectorDeploies)?[]:this.detailData.connectorDeploies.map((t=>t.pk.instanceId));this.propertyList=[];for(const a of t)this.propertyList.push({instanceId:a,check:e.includes(a)});this.propertyList=this.propertyList.map((t=>(0,n.Np)(t)))}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},2141:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{ref:"panel",class:t.panelClass,attrs:{id:"panel"}},[e("div",{staticClass:"panel-dialog"},[e("div",{staticClass:"panel-content",style:t.panelContentStyle},[e("div",{staticClass:"resize-bar"}),e("header",{staticClass:"panel-header sub-bar",attrs:{id:"panel-header"}},["modify"===t.panelMode?e("a",{staticClass:"btn btn-icon backBtn",attrs:{href:"javascript:void(0);",title:t.$t("head.goBackward")},on:{click:t.goPreviousPanel}},[e("i",{staticClass:"icon-left"})]):t._e(),e("h2",{staticClass:"sub-bar-tit",style:{width:`calc(100% - ${"modify"===t.panelMode?170:125}px)`}},[t._v(" "+t._s(t.subBarTitle)+" "),e("span",{staticClass:"sub-bar-selected-tit ellipsis",style:{width:`calc(100% - ${"modify"===t.panelMode?80:65}px)`},attrs:{title:t.selectedInfoTitle?t.selectedInfoTitle.substr(3):""}},[t._v(" "+t._s(t.selectedInfoTitle)+" ")])]),e("div",{staticClass:"ml-auto"},[e("button",{staticClass:"btn-change-layout-horizon btn-icon",attrs:{type:"button",title:t.$t("common.detail.horizontal.view")},on:{click:function(e){return t.changeLayout("vertical")}}},[e("img",{staticClass:"center-block",attrs:{src:t.getMenuIconUrl("horizontal")}})]),e("button",{staticClass:"btn-change-layout-vertical btn-icon",attrs:{type:"button",title:t.$t("common.detail.vertical.view")},on:{click:function(e){return t.changeLayout("horizon")}}},[e("img",{staticClass:"center-block",attrs:{src:t.getMenuIconUrl("vertical")}})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.expand")},on:{click:t.expandCollapsePanel}},[e("i",{staticClass:"icon-expand"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.close")},on:{click:t.closePanel}},[e("i",{staticClass:"icon-close"})])])]),e("ul",{staticClass:"nav nav-tabs flex-shrink-0"},[t._l(t.tabList,(function(a,i){return e("li",{key:a.id,staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:t.selectedIdx===i},attrs:{href:"javascript:void(0);"},domProps:{textContent:t._s(a.label)},on:{click:function(e){return t.changeTab(i)}}})])})),t.toShowResult?e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:t.selectedIdx===t.tabList.length},attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.changeTab(t.tabList.length)}}},[t._v(" "+t._s(t.$t("head.executionResult"))+" ")])]):t._e()],2),e("div",{staticClass:"panel-body tab-content"},[e("div",{class:{[t.panelMode]:!0,"tab-pane":!0,active:0===t.selectedIdx}},[e(a(14605)(`./detail${t.tabList[0].url}.vue`).default,{ref:"BasicInfo",tag:"component",attrs:{detailInfo:t.tabList[0],detailData:t.detailData,mode:t.panelMode},on:{changeProperties:t.changeProperties}})],1),e("div",{class:{[t.panelMode]:!0,"tab-pane":!0,active:1===t.selectedIdx}},[e(a(14605)(`./detail${t.tabList[1].url}.vue`).default,{ref:"PropertyInfo",tag:"component",attrs:{detailInfo:t.tabList[1],detailData:t.detailData,connectorType:t.connectorType,mode:t.panelMode}})],1),e("div",{class:{[t.panelMode]:!0,"tab-pane":!0,active:2===t.selectedIdx}},[e("DetailProperty",{ref:"connectorAdapters",attrs:{detailInfo:t.tabList[2],detailData:t.detailData,mode:t.panelMode}})],1),e("div",{class:{[t.panelMode]:!0,"tab-pane":!0,active:3===t.selectedIdx}},[e(a(14605)(`./detail${t.tabList[3].url}.vue`).default,{ref:"DeploiesInfo",tag:"component",attrs:{detailInfo:t.tabList[3],detailData:t.detailData,mode:t.panelMode}})],1),t.toShowResult?e("DetailResult",{class:{"tab-pane":!0,active:t.selectedIdx===t.tabList.length&&t.showResultTab},attrs:{httpReqResult:t.httpReqResult}}):t._e()],1),e("footer",{staticClass:"panel-footer sub-bar",attrs:{id:"panel-footer"}},["detail"===t.panelMode||"done"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.guideBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("igate.connector.guide")},on:{click:t.guide}},[t._v(" "+t._s(t.$t("igate.connector.guide"))+" ")]):t._e(),t.dumpBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.dump")},on:{click:t.dump}},[t._v(" "+t._s(t.$t("head.dump"))+" ")]):t._e(),t.excelExportBtn&&t.viewer?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.excel.output")},on:{click:t.excelExport}},[e("i",{staticClass:"icon-result"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.excel.output")))])]):t._e(),t.startBtn&&t.editor?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.execute")},on:{click:function(e){return t.control("start")}}},[e("i",{staticClass:"icon-play"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.execute")))])]):t._e(),t.stopBtn&&t.editor?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.stop")},on:{click:function(e){return t.control("stop")}}},[e("i",{staticClass:"icon-pause"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.stop")))])]):t._e(),t.stopForceBtn&&t.editor?e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("head.stop.force")},on:{click:function(e){return t.control("stopForce")}}},[e("i",{staticClass:"icon-x"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.stop.force")))])]):t._e(),t.interruptBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.interrupt")},on:{click:function(e){return t.control("interrupt")}}},[e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.interrupt")))])]):t._e(),t.blockBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.block")},on:{click:function(e){return t.control("block")}}},[e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.block")))])]):t._e(),t.unblockBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.unblock")},on:{click:function(e){return t.control("unblock")}}},[e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.unblock")))])]):t._e(),t.deleteBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.delete")},on:{click:t.removeInfo}},[e("i",{staticClass:"icon-delete"}),t._v(t._s(t.$t("head.delete"))+" ")]):t._e(),t.updateBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.update")},on:{click:t.goModifyPanel}},[e("i",{staticClass:"icon-edit"}),t._v(t._s(t.$t("head.update"))+" ")]):t._e(),t.insertBtn&&t.editor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:`${t.$t("head.insert")} (${t.$t("head.copy")})`},on:{click:t.goAddInfo}},[e("i",{staticClass:"icon-plus"}),t._v(t._s(`${t.$t("head.insert")} (${t.$t("head.copy")})`)+" ")]):t._e(),t.restoreBtn&&t.editor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.restore")},on:{click:t.restoreMeta}},[e("i",{staticClass:"icon-edit"}),t._v(t._s(t.$t("head.restore"))+" ")]):t._e()]):"add"===t.panelMode||"clone"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.guideBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("igate.connector.guide")},on:{click:t.guide}},[t._v(" "+t._s(t.$t("igate.connector.guide"))+" ")]):t._e(),t.insertBtn&&t.editor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.insert")},on:{click:t.saveInfo}},[e("i",{staticClass:"icon-plus"}),t._v(t._s(t.$t("head.insert"))+" ")]):t._e()]):"modify"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.guideBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("igate.connector.guide")},on:{click:t.guide}},[t._v(" "+t._s(t.$t("igate.connector.guide"))+" ")]):t._e(),t.updateBtn&&t.editor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.update")},on:{click:t.updateInfo}},[e("i",{staticClass:"icon-edit"}),t._v(t._s(t.$t("head.update"))+" ")]):t._e()]):t._e()])])])])},s=[],n=a(44062),o=a(37662),r=a(31823),l=a.n(r),d={name:"Detail",extends:n.Z,data(){return{connectorType:null}},watch:{cudUrl:{immediate:!0,handler(){this.httpReq=new o.p0(`${this.cudUrl}`)}}},methods:{async changeProperties(t){this.connectorType=t;const e=await new o.p0("/api/entity/property/search").read({object:{pk:{propertyId:`Property.Connector.${this.connectorType}`},requireYn:"Y"},limit:null,next:null,reverseOrder:!1});"ok"===e.data.result&&this.$refs.PropertyInfo.setPropertyList(e.data.object.map((t=>(t.cipher="Y"===t.cipherYn,t.require="Y"===t.requireYn,t))))},loadData(t){this.tabAllData=l()(this.tabAllData,this.$refs.BasicInfo.getData()),this.tabAllData=l()(this.tabAllData,this.$refs.PropertyInfo.getData()),this.tabAllData=l()(this.tabAllData,this.$refs.connectorAdapters.getData()),this.tabAllData=l()(this.tabAllData,this.$refs.DeploiesInfo.getData()),t&&t()}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},58200:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return g}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"propertyTab"},[e("div",{staticClass:"form-table form-table-responsive"},[e("div",{staticClass:"form-table-head"},[t.readonly?t._e():e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.insert")},on:{click:t.addProperty}},[e("i",{staticClass:"icon-plus-circle"})]),e("label",{staticClass:"col"},[t._v(t._s(t.$t("common.property.key")))]),e("label",{staticClass:"col"},[t._v(t._s(t.$t("common.property.value")))]),e("label",{staticClass:"col"},[t._v(t._s(t.$t("head.description")))])]),e("div",{staticClass:"form-table-wrap"},t._l(t.propertyList,(function(a,i){return e("div",{key:a.idx,staticClass:"form-table-body"},[!t.readonly&&a.require?e("button",{staticClass:"btn-icon",attrs:{type:"button"}},[e("i",{staticClass:"icon-star"})]):t._e(),t.readonly||a.require?t._e():e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.delete")},on:{click:function(e){return t.removeProperty(i)}}},[e("i",{staticClass:"icon-minus-circle"})]),e("div",{staticClass:"col"},[e("div",{class:"detail-content-"+(t.getReadonly(a)||a.require?"common":"regExp")},[e("dataList",{ref:`component${i}`,refInFor:!0,attrs:{vModel:"pk.propertyKey",classObject:{"form-control":!(!t.getReadonly(a)&&!a.require),"regExp-dataList":!t.getReadonly(a)&&!a.require,"view-disabled":!0,dataKey:!1},val:a["pk.propertyKey"],readonly:t.readonly||a.require,optionInfo:t.keyIdOptionInfo,regExpType:"id"},on:{changeEvt:function(e){return t.changeEvt(e,i)},setLengthCnt:e=>t.setLengthCnt({[`pk.propertyKey_${i}`]:e["pk.propertyKey"]})}}),t.getReadonly(a)||a.require?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt[`pk.propertyKey_${i}`]} /${t.maxLengthCnt[`pk.propertyKey_${i}`]})`)+" ")])],1)]),e("div",{staticClass:"col"},[e("div",{class:"detail-content-"+(t.getReadonly(a)?"common":"regExp")},[a.cipher?e("passWord",{ref:`component${i}`,refInFor:!0,attrs:{vModel:"propertyValue",classObject:{"form-control":t.getReadonly(a),"regExp-password":!t.getReadonly(a),"view-disabled":!0,dataKey:!1},regExpType:"value",readonly:t.readonly,val:a["propertyValue"]},on:{setLengthCnt:e=>t.setLengthCnt({[`propertyValue_${i}`]:e["propertyValue"]})}}):e("inputText",{ref:`component${i}`,refInFor:!0,attrs:{vModel:"propertyValue",val:a["propertyValue"],classObject:{"form-control":t.getReadonly(a),"regExp-text":!t.getReadonly(a),"view-disabled":!0,dataKey:!1},readonly:t.readonly,regExpType:"value"},on:{setLengthCnt:e=>t.setLengthCnt({[`propertyValue_${i}`]:e["propertyValue"]})}}),t.getReadonly(a)?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt[`propertyValue_${i}`]} /${t.maxLengthCnt[`propertyValue_${i}`]})`)+" ")])],1)]),e("div",{staticClass:"col"},[e("div",{staticStyle:{width:"100%"}},[e("inputText",{ref:`component${i}`,refInFor:!0,attrs:{vModel:"propertyDesc",classObject:{"form-control":!0,"view-disabled":!0,dataKey:!1},val:a["propertyDesc"],readonly:!0}})],1)])])})),0)])])},s=[],n=(a(57658),a(31823)),o=a.n(n),r=a(66997),l=a.n(r),d=a(37662),c=a(21783),p={name:"PropertyInfo",extends:c.Z,props:{connectorType:String},data(){return{regArr:[{key:"pk.propertyKey",regExpType:"id"},{key:"propertyValue",regExpType:"value"}],keyIdOptionInfo:{optionFor:"option in []",optionValue:"option.pk.propertyKey",optionText:"option.pk.propertyKey"}}},watch:{detailData(){this.setDataList(this.detailData.connectorType)},connectorType(){this.setDataList(this.connectorType)}},methods:{async setDataList(t){if(!t)return;const e=await new d.p0("/api/page/properties").read({pk:{propertyId:`Property.Connector.${t}`},orderByKey:!0}),a=JSON.stringify(e.data.object).replace(/"/g,"'");this.keyIdOptionInfo.optionFor=`option in ${a}`},getData(){const t=[];for(let e=0;e<this.propertyList.length;e++){let a={};this.$refs[`component${e}`].forEach((t=>{a=o()(a,t.getData())})),t.push((0,d.Fh)(a))}return{connectorProperties:t}},addProperty(){const t={idx:(0,d.Fs)(),"pk.propertyKey":"",propertyValue:"",propertyDesc:""};this.regArr.forEach((e=>{if(e.regExpType){const t=`${e.key}_${this.propertyList.length}`;this.setLengthCnt({[t]:0}),this.maxLengthCnt[t]=(0,d.oo)(e.regExpType).maxLength}t[e.key]=e.val?e.val:null})),this.propertyList.push(t)},removeProperty(t){this.propertyList.splice(t,1),this.$nextTick((()=>{this.curLengthCnt={},this.maxLengthCnt={},this.propertyList.forEach(((t,e)=>{let a={};this.$refs[`component${e}`].forEach((t=>{a=o()(a,t.getData())}));for(const i in a)"propertyDesc"!==i&&(this.setLengthCnt({[`${i}_${e}`]:l()(a[i])?0:String(a[i]).length}),this.maxLengthCnt[`${i}_${e}`]=(0,d.oo)(this.regArr.find((t=>t.key===i)).regExpType).maxLength)}))}))},setPropertyList(t){if("undefined"!==typeof t)this.propertyList=[...t];else{if("undefined"===typeof this.detailData.connectorProperties)return void(this.propertyList=[]);this.propertyList=[...this.detailData.connectorProperties]}this.propertyList.forEach(((t,e)=>{t.idx=(0,d.Fs)();const a=(0,d.Np)(t);this.regArr.forEach((t=>{if(!t.regExpType)return;const i=`${t.key}_${e}`;this.setLengthCnt({[i]:a[t.key]?String(a[t.key]).length:0}),this.maxLengthCnt[i]=(0,d.oo)(t.regExpType).maxLength}))})),this.propertyList=this.propertyList.map((t=>(0,d.Np)(t)))},async changeEvt(t,e){if(t.value.startsWith("#"))return;const a=this.connectorType?this.connectorType:this.detailData.connectorType;if(!a)return;const i=new d.p0("/api/page/properties"),s=await i.read({pk:{propertyId:`Property.Connector.${a}`,propertyKey:t.value},orderByKey:!0});if("ok"!==s.data.result)return;if(0===s.data.object.length)return;const n=s.data.object[0];this.propertyList[e]["pk.propertyKey"]=n.pk.propertyKey,this.propertyList[e]["propertyValue"]=n.propertyValue,this.propertyList[e]["propertyDesc"]=n.propertyDesc,this.propertyList[e]["cipher"]="Y"===n.cipherYn,this.propertyList[e]["require"]="Y"===n.requireYn}}},h=p,u=a(43736),m=(0,u.Z)(h,i,s,!1,null,null,null),g=m.exports},13:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",[t._l(t.detailInfo.content,(function(a,i){return e("div",{key:i,staticClass:"row frm-row"},t._l(a,(function(s,n){return e("div",{key:n,class:"col-lg-"+12/a.length},t._l(s,(function(a,s){return e("div",{key:s,staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(a.label)+" "),t.regExpTypeList.includes(a.type)&&!t.getReadonly(a)?e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt[a.vModel]}/${t.maxLengthCnt[a.vModel]})`)+" ")]):t._e()]),a.isPK||a.isRequired?e("b",{staticClass:"icon-star"}):t._e()]),a.warning&&!t.readonly?e("label",{staticClass:"control-label warningLabel"},[e("span",[t._v(t._s(a.warningLabel))])]):t._e(),e("div",{class:"detail-content-"+(t.regExpTypeList.includes(a.type)&&!t.getReadonly(a)?"regExp":"common"),style:{"padding-left":""+(t.regExpTypeList.includes(a.type)&&!t.getReadonly(a)?"8px":"0px")}},["text"===a.type?e("div",{staticClass:"input-group"},[e("inputText",{ref:`inputText_${i}_${n}_${s}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":t.getReadonly(a),[`regExp-${a.type}`]:!t.getReadonly(a),"view-disabled":!0,dataKey:a.isPK},readonly:t.readonly||t.getReadonly(a),regExpType:a.regExpType,changeEvt:a.changeEvt},on:{setLengthCnt:t.setLengthCnt}}),t.readonly&&a.clickEvt&&!t.isTools?e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.open")},on:{click:function(e){return a.clickEvt(t.$refs[`inputText_${i}_${n}_${s}`][0])}}},[e("i",{staticClass:"icon-link"})]):t._e()],1):"select"===a.type?e("selectBox",{ref:`selectBox_${i}_${n}_${s}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":!0,"view-disabled":!0},readonly:t.readonly||t.getReadonly(a),optionInfo:a.optionInfo}}):"dataList"===a.type?e("dataList",{ref:`dataList_${i}_${n}_${s}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":t.getReadonly(a),[`regExp-${a.type}`]:!t.getReadonly(a),"view-disabled":!0},readonly:t.readonly||t.getReadonly(a),optionInfo:a.optionInfo,regExpType:a.regExpType},on:{setLengthCnt:t.setLengthCnt}}):"textarea"===a.type?e("textArea",{ref:`textArea_${i}_${n}_${s}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":t.getReadonly(a),[`regExp-${a.type}`]:!t.getReadonly(a),"view-disabled":!0},readonly:t.readonly||t.getReadonly(a),height:a.height,regExpType:a.regExpType},on:{setLengthCnt:t.setLengthCnt}}):"radio"===a.type?e("radioGroup",{ref:`radioGroup_${i}_${n}_${s}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"custom-control":!0,"custom-radio single":!0,"view-disabled":!0},readonly:t.readonly||t.getReadonly(a),radioInfo:a.radioInfo}}):"checkBox"===a.type?e("checkBoxGroup",{ref:`checkBoxGroup_${i}_${n}_${s}`,refInFor:!0,attrs:{vModel:a.vModel,checkboxInfo:a.checkboxInfo,optionListData:this.transactionList,classObject:{"custom-control":!0,"custom-checkbox single":!0,"view-disabled":!0}}}):"singleDaterange"===a.type?e("dateRange",{ref:`dateRange_${i}_${n}_${s}`,refInFor:!0,attrs:{vModel:a.vModel,readonly:t.readonly||t.getReadonly(a),customOptions:a.options}}):t._e(),"time"===a.type?e("timePicker",{ref:`timePicker_${i}_${n}_${s}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":!0},readonly:t.readonly||t.getReadonly(a)}}):"password"===a.type?e("div",{staticClass:"input-group",staticStyle:{"flex-wrap":"nowrap"}},[e("passWord",{ref:`passWord_${i}_${n}_${s}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":t.getReadonly(a),[`regExp-${a.type}`]:!t.getReadonly(a),"view-disabled":!0},readonly:t.readonly||t.getReadonly(a),regExpType:a.regExpType},on:{setLengthCnt:t.setLengthCnt}}),t.readonly?t._e():e("i",{staticClass:"icon-eye password-eye",on:{click:function(e){t.$refs[`passWord_${i}_${n}_${s}`][0].changeType()}}})],1):"modal"===a.type?e("div",{staticClass:"input-group"},[e("inputText",{ref:`inputText_${i}_${n}_${s}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":!0,"view-disabled":!0,dataKey:a.isPK},readonly:!0}}),t.readonly&&a.clickEvt&&!t.isTools?e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.open")},on:{click:function(e){return a.clickEvt(t.$refs[`inputText_${i}_${n}_${s}`][0])}}},[e("i",{staticClass:"icon-link"})]):t._e(),t.readonly||t.getReadonly(a)?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button"},on:{click:function(e){return t.openModal(a.modalInfo,t.$refs[`inputText_${i}_${n}_${s}`])}}},[e("i",{staticClass:"icon-srch"}),t._v(t._s(t.$t("head.search"))+" ")]),t.readonly||t.getReadonly(a)?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button",title:t.$t("head.initialize")},on:{click:function(e){t.$refs[`inputText_${i}_${n}_${s}`][0].setData(null)}}},[e("i",{staticClass:"icon-reset",staticStyle:{"margin-right":"0px"}})])],1):t._e()],1)])})),0)})),0)})),e(t.relBasicInfo,{tag:"component",attrs:{detailData:t.detailData}})],2)},s=[],n=a(63822),o=a(37856),r=a(63516),l=a(37662),d={name:"DetailBasic",extends:r.Z,data(){return{relBasicInfo:{template:'\n                    <TuiGrid v-bind="options" v-if="isGridInit" ref="tuiGrid" />                \n                ',props:{detailData:Object},components:{TuiGrid:o.Grid},data(){return{isCreated:!1,fileStatusList:[],options:null,isGridInit:!1}},watch:{detailData:{deep:!0,async handler(){if(!this.detailData.transactionId)return;if(this.isGridInit||this.initGrid(),0===this.fileStatusList.length){const t=await new l.p0("/api/page/properties").read({pk:{propertyId:"List.FileRepository.Status"},orderByKey:!0});this.fileStatusList=t.data.object}const t=await new l.p0("/api/entity/fileRepository/search").read({object:{transactionId:this.detailData.transactionId},limit:null,next:null,reverseOrder:!1});this.$nextTick((()=>{this.$refs.tuiGrid.invoke("resetData",t.data.object.map((t=>(0,l.Np)(t)))),this.resize()}))}}},computed:{...(0,n.rn)(["isTools"])},methods:{initGrid(){this.options=(0,l.d_)({columns:[{name:"createDateTime",header:`${this.$t("igate.connectorControl.create")} ${this.$t("head.date")}`,align:"center",formatter:t=>t.value.substring(0,19)},{name:"pk.fileMode",header:`${this.$t("head.file")} ${this.$t("head.mode")}`,align:"center",formatter:({value:t})=>"R"===t?this.$t("head.recv"):this.$t("head.send")},{name:"pk.fileName",header:`${this.$t("head.file")} ${this.$t("head.name")}`},{name:"fileStatus",header:`${this.$t("head.file")} ${this.$t("head.status")}`,align:"center",formatter:({value:t})=>this.fileStatusList.find((e=>e.pk.propertyKey===t)).propertyValue},{name:"pk.fileDate",header:`${this.$t("head.file")} ${this.$t("head.date")}`,align:"center"},{name:"pk.adapterId",header:`${this.$t("igate.adapter")} ${this.$t("head.id")}`},{name:"interfaceServiceId",header:`${this.$t("igate.interface")} ${this.$t("igate.service")} ${this.$t("head.id")}`},{name:"fileLength",header:`${this.$t("head.file")} ${this.$t("head.length")}`,align:"right",formatter:t=>{const e=t.row.fileLength;return e?(0,l.Wb)(e):""}}],onGridMounted:t=>{t.instance.on("click",(t=>{"undefined"!==typeof t.rowKey&&(0,l.RB)((0,l.cG)(),(()=>{localStorage.removeItem("detailObj"),localStorage.setItem("detailObj",JSON.stringify(t.instance.getRow(t.rowKey)))}))}))}}),this.isGridInit=!0},resize(){if(!this.$refs.tuiGrid)return;const t=document.getElementById("panel"),e=t.getElementsByClassName("panel-body")[0],a=getComputedStyle(e),i=(0,l.tJ)(a.getPropertyValue("padding-left")),s=(0,l.tJ)(a.getPropertyValue("padding-right"));this.$refs.tuiGrid.invoke("setWidth",e.clientWidth-i-s),this.$refs.tuiGrid.invoke("setHeight","600px")}}}}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},235:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return g}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"propertyTab"},[e("div",{staticClass:"form-table form-table-responsive"},[e("div",{staticClass:"form-table-head"},[t.readonly?t._e():e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.insert")},on:{click:t.addProperty}},[e("i",{staticClass:"icon-plus-circle"})]),e("label",{staticClass:"col"},[t._v(t._s(t.$t("common.property.key")))]),e("label",{staticClass:"col"},[t._v(t._s(t.$t("common.property.value")))]),e("label",{staticClass:"col"},[t._v(t._s(t.$t("head.description")))])]),e("div",{staticClass:"form-table-wrap"},t._l(t.propertyList,(function(a,i){return e("div",{key:`${a.idx}`,staticClass:"form-table-body"},[t.readonly?t._e():e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.delete")},on:{click:function(e){return t.removeProperty(i)}}},[e("i",{staticClass:"icon-minus-circle"})]),e("div",{staticClass:"col"},[e("div",{class:"detail-content-"+(t.readonly?"common":"regExp")},[e("input",{directives:[{name:"model",rawName:"v-model",value:a["pk.propertyKey"],expression:"detailObj['pk.propertyKey']"}],class:{"form-control":t.readonly,"regExp-dataList":!t.readonly,"view-disabled":!0},attrs:{type:"text",list:"propertyInfoList",readonly:t.readonly,maxlength:t.keyMaxLength},domProps:{value:a["pk.propertyKey"]},on:{blur:function(e){return t.propertyKeyChange(a)},input:[function(e){e.target.composing||t.$set(a,"pk.propertyKey",e.target.value)},function(e){return t.inputEvt(e,i,"pk.propertyKey")}]}}),t.readonly?t._e():e("span",{staticClass:"letterLength"},[t._v(" ("+t._s(a["pk.propertyKey"]?a["pk.propertyKey"].length:0)+" / "+t._s(t.keyMaxLength)+") ")]),e("datalist",{attrs:{id:"propertyInfoList"}},t._l(t.propertyInfoList,(function(a,i){return e("option",{key:i,domProps:{value:a.pk.propertyKey,textContent:t._s(a.pk.propertyKey)}})})),0)])]),e("div",{staticClass:"col"},[e("div",{class:"detail-content-"+(t.readonly?"common":"regExp")},[a.cipher?e("input",{directives:[{name:"model",rawName:"v-model",value:a["propertyValue"],expression:"detailObj['propertyValue']"}],class:{"form-control":t.readonly,"regExp-text":!t.readonly,"view-disabled":!0},attrs:{type:"password",maxlength:t.valueMaxLength,readonly:t.readonly},domProps:{value:a["propertyValue"]},on:{input:[function(e){e.target.composing||t.$set(a,"propertyValue",e.target.value)},function(e){return t.inputEvt(e,i,"propertyValue")}]}}):e("input",{directives:[{name:"model",rawName:"v-model",value:a["propertyValue"],expression:"detailObj['propertyValue']"}],class:{"form-control":t.readonly,"regExp-text":!t.readonly,"view-disabled":!0},attrs:{type:"text",maxlength:t.valueMaxLength,readonly:t.readonly},domProps:{value:a["propertyValue"]},on:{input:[function(e){e.target.composing||t.$set(a,"propertyValue",e.target.value)},function(e){return t.inputEvt(e,i,"propertyValue")}]}}),t.readonly?t._e():e("span",{staticClass:"letterLength"},[t._v(" ("+t._s(a["propertyValue"]?a["propertyValue"].length:0)+" / "+t._s(t.valueMaxLength)+") ")])])]),e("div",{staticClass:"col"},[e("div",{class:"detail-content-"+(t.readonly?"common":"regExp")},[e("input",{directives:[{name:"model",rawName:"v-model",value:a["propertyDesc"],expression:"detailObj['propertyDesc']"}],class:{"form-control":t.readonly,"regExp-text":!t.readonly,"view-disabled":!0},attrs:{type:"text",maxlength:t.descMaxLength,readonly:t.readonly},domProps:{value:a["propertyDesc"]},on:{input:[function(e){e.target.composing||t.$set(a,"propertyDesc",e.target.value)},function(e){return t.inputEvt(e,i,"propertyDesc")}]}}),t.readonly?t._e():e("span",{staticClass:"letterLength"},[t._v(" ("+t._s(a["propertyDesc"]?a["propertyDesc"].length:0)+" / "+t._s(t.descMaxLength)+") ")])])])])})),0)])])},s=[],n=(a(57658),a(66281)),o=a.n(n),r=a(77285),l=a.n(r),d=a(37662),c=a(21783),p={name:"instanceProperty",extends:c.Z,async created(){this.keyMaxLength=(0,d.oo)("id").maxLength,this.valueMaxLength=(0,d.oo)("value").maxLength,this.descMaxLength=(0,d.oo)("desc").maxLength;const t=await new d.p0("/api/entity/property/search").read({object:{pk:{propertyId:"Property.Instance"}},limit:null,next:null,reverseOrder:!1});"ok"===t.data.result&&(this.propertyInfoList=t.data.object)},data(){return{propertyInfoList:[],keyMaxLength:null,valueMaxLength:null,descMaxLength:null,regExpInfo:{"pk.propertyKey":"id",propertyValue:"name",propertyDesc:"desc"}}},methods:{addProperty(){this.propertyList.push({idx:(0,d.Fs)(),"pk.propertyKey":null,propertyValue:null,propertyDesc:null})},async setPropertyList(){l()(this.detailData)?this.propertyList=[]:("undefined"!==typeof this.detailData["instanceProperties"]?(this.propertyList=[...this.detailData["instanceProperties"]],this.propertyList.forEach((t=>{t.idx=(0,d.Fs)()}))):this.propertyList=[],this.propertyList=this.propertyList.map((t=>(0,d.Np)(t))))},getData(){return{instanceProperties:o()(this.propertyList).map((t=>(0,d.Fh)(t)))}},inputEvt(t,e,a){this.propertyList[e][a]=t.target.value,this.propertyList[e][a]=this.propertyList[e][a].replace(new RegExp((0,d.oo)(this.regExpInfo[a]?this.regExpInfo[a]:"default").regExp,"g"),"")},propertyKeyChange(t){if(null!==t.propertyValue&&0<String(t.propertyValue).trim().length)return;const e=this.propertyInfoList.find((e=>e.pk.propertyKey===t["pk.propertyKey"]));if(!e)return;const{propertyValue:a,propertyDesc:i}=e;t.propertyValue=a,t.propertyDesc=i}}},h=p,u=a(43736),m=(0,u.Z)(h,i,s,!1,null,null,null),g=m.exports},69033:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return g}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("header",{staticClass:"sub-bar sub-bar-comp"},[e("h3",{staticClass:"sub-bar-text"},[t._v(" "+t._s(t.$t("head.basic.info"))+" ")])])])]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.id")))]),t.readonly||t.readonlyInterfaceId?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.object.interfaceId?t.object.interfaceId.length:0}/${t.maxLengthCnt["id"]})`)+" ")]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"input-group"},[e("span",{staticStyle:{flex:"1 1 auto"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.object.interfaceId,expression:"object.interfaceId"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:t.readonly||t.readonlyInterfaceId,maxlength:"maxLengthCnt[`id`]"},domProps:{value:t.object.interfaceId},on:{input:[function(e){e.target.composing||t.$set(t.object,"interfaceId",e.target.value)},function(e){return t.inputEvt("id","interfaceId",e)}]}})]),t.readonly||t.readonlyInterfaceId?t._e():e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{type:"button",title:this.$t("head.id.check")},on:{click:function(e){return t.checkInterfaceId()}}},[e("i",{staticClass:"icon-file-check"})])])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.name")))]),t.readonlyExcludingId?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.object.interfaceName?t.object.interfaceName.length:0}/${t.maxLengthCnt["name"]})`)+" ")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.object.interfaceName,expression:"object.interfaceName"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:t.readonlyExcludingId,maxlength:t.maxLengthCnt["name"]},domProps:{value:t.object.interfaceName},on:{input:[function(e){e.target.composing||t.$set(t.object,"interfaceName",e.target.value)},function(e){return t.inputEvt("name","interfaceName",e)}]}})]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("common.type")))]),e("b",{staticClass:"icon-star"})]),t.readonly?t._e():e("label",{staticClass:"control-label warningLabel"},[e("span",[t._v(t._s(t.$t("igate.interface.interfaceType.change.warn")))])]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.object.interfaceType,expression:"object.interfaceType"}],staticClass:"form-control view-disabled",attrs:{readonly:t.readonlyExcludingId},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.object,"interfaceType",e.target.multiple?a:a[0])},t.resetAdapterId]}},t._l(t.interfaceTypeList,(function(a){return e("option",{key:a.pk.propertyKey,domProps:{value:a.pk.propertyKey}},[t._v(" "+t._s(a.propertyValue)+" ")])})),0)])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.private")))]),e("b",{staticClass:"icon-star"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.object.privateYn,expression:"object.privateYn"}],staticClass:"form-control view-disabled",attrs:{readonly:t.readonlyExcludingId},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.object,"privateYn",e.target.multiple?a:a[0])}}},t._l(t.privateYnList,(function(a){return e("option",{key:a.pk.propertyKey,domProps:{value:a.pk.propertyKey}},[t._v(" "+t._s(a.propertyValue)+" ")])})),0)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("common.privilege")))]),e("b",{staticClass:"icon-star"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.object.privilegeId,expression:"object.privilegeId"}],staticClass:"form-control view-disabled",attrs:{readonly:t.readonlyExcludingId},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.object,"privilegeId",e.target.multiple?a:a[0])}}},t._l(t.privilegeTypeList,(function(a){return e("option",{key:a.privilegeId,attrs:{disabled:a.disabled},domProps:{value:a.privilegeId}},[t._v(" "+t._s(a.privilegeId)+" ")])})),0)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.group")))]),t.readonlyExcludingId?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.object.interfaceGroup?t.object.interfaceGroup.length:0}/${t.maxLengthCnt["default"]})`)+" ")]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.object.interfaceGroup,expression:"object.interfaceGroup"}],staticClass:"form-control view-disabled",attrs:{type:"text",maxlength:t.maxLengthCnt["default"],readonly:t.readonlyExcludingId},domProps:{value:t.object.interfaceGroup},on:{input:[function(e){e.target.composing||t.$set(t.object,"interfaceGroup",e.target.value)},function(e){return t.inputEvt("default","interfaceGroup",e)}]}}),t.readonly?t._e():e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.search"),disabled:t.readonlyExcludingId},on:{click:function(e){return t.openGroupModal()}}},[e("i",{staticClass:"icon-srch"})]),t.readonly?t._e():e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.initialize"),disabled:t.readonlyExcludingId},on:{click:function(e){t.object.interfaceGroup=null}}},[e("i",{staticClass:"icon-reset"})])])])])])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("header",{staticClass:"sub-bar sub-bar-comp"},[e("h3",{staticClass:"sub-bar-text"},[t._v(t._s(t.$t("head.runTime.info")))])])])]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(`${t.$t("igate.adapter")} ${t.$t("head.id")}`)+" ")]),e("b",{staticClass:"icon-star"})]),t.readonly||"add"!==t.mode?t._e():e("label",{staticClass:"control-label warningLabel"},[e("span",[t._v(t._s(t.$t("igate.interface.adapterId.change.warn")))])]),e("div",{staticClass:"input-group",attrs:{title:t.object.adapterId}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.object.adapterId,expression:"object.adapterId"}],staticClass:"form-control view-disabled dataKey",attrs:{type:"text",readonly:""},domProps:{value:t.object.adapterId},on:{input:function(e){e.target.composing||t.$set(t.object,"adapterId",e.target.value)}}}),t.readonly&&!t.isTools?e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.open")},on:{click:function(e){return t.clickEvt("adapterId")}}},[e("i",{staticClass:"icon-link"})]):t._e(),t.readonly?t._e():e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.search"),disabled:t.readonlyExcludingId},on:{click:function(e){return t.openAdapterModal()}}},[e("i",{staticClass:"icon-srch"})]),t.readonly?t._e():e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.initialize"),disabled:t.readonlyExcludingId},on:{click:t.resetAdapterId}},[e("i",{staticClass:"icon-reset"})])])]),"add"===t.mode&&t.isTableStartsWith?e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(`${t.$t("igate.interface")} ${t.$t("head.table")}`)+" ")])]),e("div",{staticClass:"input-group",attrs:{title:t.interfaceTableInfo.interfaceTable}},[e("span",{staticStyle:{flex:"1 1 auto"}},[t.readonly||"add"!==t.mode?t._e():e("label",{staticClass:"control-label warningLabel"},[e("span",[t._v(t._s(t.$t("igate.interface.table.warn")))])])]),t.readonly?t._e():e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.search"),disabled:!t.object.adapterId||0===t.interfaceTableList.length},on:{click:function(e){return t.openTableModal()}}},[e("i",{staticClass:"icon-srch"})]),t.readonly?t._e():e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.initialize"),disabled:!t.object.adapterId||0===t.interfaceTableList.length},on:{click:t.resetInterfaceTable}},[e("i",{staticClass:"icon-reset"})])])]):t._e(),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.operation"))+" ")])]),e("div",{staticClass:"input-group",attrs:{title:t.object.interfaceOperation}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.object.interfaceOperation,expression:"object.interfaceOperation"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:""},domProps:{value:t.object.interfaceOperation},on:{input:function(e){e.target.composing||t.$set(t.object,"interfaceOperation",e.target.value)}}}),e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t(t.readonly?"head.open":"head.search"),disabled:!t.readonly&&(!t.readonly&&t.readonlyExcludingId)},on:{click:function(e){return t.openOperationModal()}}},[e("i",{class:t.readonly?"icon-link":"icon-srch"})]),t.readonly?t._e():e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.initialize"),disabled:t.readonlyExcludingId},on:{click:function(e){t.object.interfaceOperation=null}}},[e("i",{staticClass:"icon-reset"})])])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(`${t.$t("head.schedule")} ${t.$t("common.type")}`)+" ")]),e("b",{staticClass:"icon-star"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.object.scheduleType,expression:"object.scheduleType"}],staticClass:"form-control view-disabled",attrs:{readonly:t.readonlyExcludingId},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.object,"scheduleType",e.target.multiple?a:a[0])}}},t._l(t.scheduleTypeFilterList,(function(a){return e("option",{key:a.pk.propertyKey,domProps:{value:a.pk.propertyKey}},[t._v(" "+t._s(a.propertyValue)+" ")])})),0)])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.calendar")))])]),e("div",{staticClass:"input-group",attrs:{title:t.object.interfaceOperation}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.object.calendarId,expression:"object.calendarId"}],class:{"form-control":!0,"view-disabled":!0},attrs:{title:t.object.calendarId,readonly:t.isOnlineStartsWith||t.readonlyExcludingId},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.object,"calendarId",e.target.multiple?a:a[0])}}},[e("option"),t._l(t.calendarIdList,(function(a){return e("option",{key:a.calendarId,domProps:{value:a.calendarId}},[t._v(" "+t._s(a.calendarId)+" ")])}))],2),t.readonly&&!t.isTools?e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.open")},on:{click:function(e){return t.clickEvt("calendarId")}}},[e("i",{staticClass:"icon-link"})]):t._e()])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.interface.cronExpression"))+" ")]),t.readonlyExcludingId?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.object.cronExpression?t.object.cronExpression.length:0}/${t.maxLengthCnt["cron"]})`)+" ")])]),e("div",{staticClass:"input-group",attrs:{title:t.object.cronExpression}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.object.cronExpression,expression:"object.cronExpression"}],staticClass:"form-control view-disabled",attrs:{type:"text",maxlength:t.maxLengthCnt["cron"],readonly:t.isOnlineStartsWith||t.readonlyExcludingId},domProps:{value:t.object.cronExpression},on:{input:[function(e){e.target.composing||t.$set(t.object,"cronExpression",e.target.value)},function(e){return t.inputEvt("cron","cronExpression",e)}]}}),t.readonly?t._e():e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.search"),disabled:t.isOnlineStartsWith||t.readonlyExcludingId},on:{click:t.openCronModal}},[e("i",{staticClass:"icon-srch"})]),t.readonly?t._e():e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.initialize"),disabled:t.isOnlineStartsWith||t.readonlyExcludingId},on:{click:function(e){t.object.cronExpression=null}}},[e("i",{staticClass:"icon-reset"})])])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.interface.disabledYn")))]),e("b",{staticClass:"icon-star"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.object.disabledYn,expression:"object.disabledYn"}],staticClass:"form-control view-disabled",attrs:{readonly:t.isOnlineStartsWith||t.readonlyExcludingId},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.object,"disabledYn",e.target.multiple?a:a[0])}}},t._l(t.disabledYnList,(function(a){return e("option",{key:a.pk.propertyKey,domProps:{value:a.pk.propertyKey}},[t._v(" "+t._s(a.propertyValue)+" ")])})),0)])])])])]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.description")))]),t.readonlyExcludingId?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.object.interfaceDesc?t.object.interfaceDesc.length:0}/${t.maxLengthCnt["desc"]})`)+" ")])]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.object.interfaceDesc,expression:"object.interfaceDesc"}],staticClass:"form-control view-disabled",staticStyle:{height:"200px"},attrs:{readonly:t.readonlyExcludingId,maxlength:t.maxLengthCnt["desc"]},domProps:{value:t.object.interfaceDesc},on:{input:[function(e){e.target.composing||t.$set(t.object,"interfaceDesc",e.target.value)},function(e){return t.inputEvt("description","interfaceDesc",e)}]}})])])])])},s=[],n=(a(57658),a(63822)),o=a(37662),r=a(66281),l=a.n(r),d=a(77285),c=a.n(d),p={name:"BasicInfo",props:{detailData:Object,mode:String},data(){return{extendInfo:null,modelRecordInfo:null,privateYnList:[],privilegeTypeList:[],interfaceTypeList:[],scheduleTypeList:[],scheduleTypeFilterList:[],disabledYnList:[],calendarIdList:[],namingRules:[],runTimeAdapter:null,readonlyInterfaceId:!1,interfaceTableInfo:{},interfaceTableList:[],object:{interfaceId:null,interfaceName:null,interfaceType:null,privilegeId:null,interfaceGroup:null,privateYn:null,adapterId:null,interfaceOperation:null,scheduleType:null,metaDomain:null,cronExpression:null,calendarId:null,disabledYn:null,interfaceDesc:null},httpReqList:[{url:"/api/page/properties",param:{pk:{propertyId:"List.Interface.InterfaceType"},orderByKey:!0},itemName:"interfaceTypeList"},{url:"/api/page/properties",param:{pk:{propertyId:"List.Interface.ScheduleType"},orderByKey:!0},itemName:"scheduleTypeList"},{url:"/api/page/properties",param:{pk:{propertyId:"List.Yn"},orderByKey:!0},itemName:"privateYnList"},{url:"/api/page/properties",param:{pk:{propertyId:"List.Yn"},orderByKey:!0},itemName:"disabledYnList"},{url:"/api/entity/calendar/search",param:{object:{},limit:null,next:null,reverseOrder:!1},itemName:"calendarIdList"},{url:"/api/entity/privilege/search",param:{object:{privilegeType:"b"},limit:null,next:null,reverseOrder:!1},itemName:"privilegeTypeList"},{url:"/api/page/properties",param:{pk:{propertyId:"ImgOption.NamingRules"},orderByKey:!0},itemName:"namingRules"},{url:"/api/page/properties",param:{pk:{propertyId:"IgtOption.Runtime"},orderByKey:!0},itemName:"runTimeAdapter"}],regExpList:{},maxLengthCnt:{}}},watch:{detailData(){this.readonlyInterfaceId="modify"===this.mode;for(const t in this.object)this.object[t]="undefined"===typeof this.detailData[t]?null:this.detailData[t],"undefined"===typeof this.detailData[t]?this.object[t]="disabledYn"===t||"privateYn"===t?"N":"scheduleType"===t?"O":null:this.object[t]=this.detailData[t];"clone"===this.mode&&(this.object.interfaceId=this.namingFormatter("SaveAsID"))},mode(){if("add"===this.mode)for(const t in this.object)this.object[t]=null},"object.interfaceType"(){this.object.interfaceType&&(this.isOnlineStartsWith?(this.object.scheduleType="O",this.object.disabledYn="N",this.object.cronExpression=null,this.scheduleTypeFilterList=this.scheduleTypeList.filter((t=>"O"===t.pk.propertyKey))):this.scheduleTypeFilterList=this.scheduleTypeList.filter((t=>"O"!==t.pk.propertyKey)))}},computed:{...(0,n.rn)(["menuList","userInfo","isTools"]),...(0,n.Se)(["isUserAdmin"]),readonly(){return"detail"===this.mode||"done"===this.mode},readonlyExcludingId(){return this.readonly||!this.readonlyInterfaceId},isOnlineStartsWith(){return!!this.object.interfaceType&&this.object.interfaceType.startsWith("Online")},isTableStartsWith(){return!!this.object.interfaceType&&this.object.interfaceType.startsWith("Table")}},async created(){for(const a of["default","id","name","cron","desc"]){const t=(0,o.oo)(a);this.regExpList[a]=t.regExp,this.maxLengthCnt[a]=t.maxLength}const t=[];this.httpReqList.forEach((e=>{t.push(new Promise(((t,a)=>{(async()=>{const i=await new o.p0(e.url).read(e.param?e.param:null);if("ok"===i.data.result){if("privilegeTypeList"===e.itemName){const t=i.data.object,e=this.userInfo.totalUserPrivileges.filter((t=>"b"===t.privilegeType));for(const a of t)this.isUserAdmin?a.disabled=!1:a.disabled="undefined"===typeof e.find((t=>t.privilegeId==a.privilegeId));this.privilegeTypeList=t}else"runTimeAdapter"===e.itemName?this.runTimeAdapter=i.data.object.find((t=>"Adapter"===t.pk.propertyKey)).propertyValue:this[e.itemName]=i.data.object;t(i)}else a(i)})()})))}));try{const e=await Promise.all(t);for(let t of e)if("error"===t.data.result)throw t.data}catch(e){this.$alert({type:"warn",message:this.$t("head.error.load.data.warn")})}this.modelRecordInfo=this.$parent.$refs.component[1],this.extendInfo=this.$parent.$refs.component[2]},methods:{getData(){return(0,o.Fh)(l()(this.object))},openGroupModal(){const t=this,e=this.$openModal({title:this.$t("head.group"),modalWidth:"450px",modalHeight:"580px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t\t\t<Search :list="searchList" @search="search" ref="search"/>\n\t\t\t\t\t\t\t\t\t<div class="ct-content">\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t:list="buttonList"\n\t\t\t\t\t\t\t\t\t\t\t:viewer="true"\n\t\t\t\t\t\t\t\t\t\t\t:totalCnt="null"\n\t\t\t\t\t\t\t\t\t\t\t:currentCnt="null"\n\t\t\t\t\t\t\t\t\t\t\t@initialize="initialize"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<NoData v-if="!isGridView" />\n\t\t\t\t\t\t\t\t\t\t<div class="table-responsive" style="height: 300px" v-else>\n\t\t\t\t\t\t\t\t\t\t\t<TuiGrid ref="tuiGrid" v-bind="options" @click="rowClicked" />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>',components:{Search:a(96434).Z,Button:a(19286).Z,NoData:a(48578).Z,TuiGrid:a(37856).Grid},data(){return{searchList:[{type:"text",vModel:"interfaceGroup",label:this.$t("head.group"),placeholder:this.$t("head.searchData")}],buttonList:[{id:"initialize",isUse:!0}],totalCnt:null,isGridView:!1,dataList:[],options:{treeColumnOptions:{name:"interfaceGroup"},data:[],scrollY:!0,minBodyHeight:"260",bodyHeight:"300",columns:[{hidden:!0,name:"key"},{header:this.$t("head.group"),name:"interfaceGroup"}]}}},async created(){this.options=(0,o.d_)(this.options);const t=await new o.p0("/api/entity/interface/group/search").read();"ok"===t.data.result&&(this.dataList=l()(t.data.object))},methods:{initTreeData(t){const e=[];for(const a of t){const[t,...i]=a.split("."),s=e.find((e=>e.interfaceGroup===t));let n={};s?n=s:(n={interfaceGroup:t,key:t},e.push(n));let o=n;for(const e of i){o._children||(o._children=[]);const t=o._children.find((t=>t.interfaceGroup===e));t?o=t:(o._children.push({interfaceGroup:e,key:`${o.key}.${e}`}),o=o._children.at(-1))}}return e},search(t){this.isGridView=!0,this.$nextTick((()=>{let e=[];e=c()(t.interfaceGroup)?this.dataList:this.dataList.filter((e=>e.includes(t.interfaceGroup)));const a=this.initTreeData(e);this.$refs.tuiGrid.invoke("resetData",a)}))},rowClicked(a){if("undefined"===typeof a.rowKey||"rowHeader"===a.targetType)return;const i=this.$refs.tuiGrid.invoke("getRow",a.rowKey);t.object.interfaceGroup=i.key,e.hideModal()},initialize(){this.$refs.search.initialize()}}}]})},openAdapterModal(){const t=this,e=this.$openModal({title:this.$t("igate.adapter"),modalWidth:"1000px",contentList:[{template:'<div>\n                                <Search :list="searchList" @search="search" ref="search"/>\n                                    <Main\n                                    :buttonList="buttonList"\n                                    :gridInfo="gridInfo"\n                                    :gridSearchObj="gridSearchObj"\n                                    :gridType="\'modalBasic\'"\n                                    :viewer="true"\n                                    @rowClicked="rowClicked"\n                                    @initialize="initialize"\n                                />\n                            </div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:[{type:"text",vModel:"adapterId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"text",vModel:"adapterName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"text",vModel:"adapterDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0}],gridInfo:{url:"/api/entity/adapter/search",totalCntUrl:"/api/entity/adapter/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"adapterId",width:"20%"},{header:this.$t("head.name"),name:"adapterName",width:"20%"},{header:this.$t("head.description"),name:"adapterDesc",width:"20%"},{header:this.$t("igate.adapter.structure.request"),name:"requestStructure",width:"20%"},{header:this.$t("igate.adapter.structure.response"),name:"responseStructure",width:"20%"}]}},gridSearchObj:{}}},methods:{search(t){this.gridSearchObj=t},async rowClicked(a){if(t.isTableStartsWith){t.resetAdapterId();const e=await new o.p0("/api/databaseMeta/table").read({adapterId:a.adapterId},!0,(()=>{}));"ok"===e.data.result&&(t.interfaceTableList=l()(e.data.object))}t.object.adapterId=a.adapterId,e.hideModal()},initialize(){this.$refs.search.initialize()}}}]})},resetAdapterId(){this.object.adapterId=null,this.object.interfaceOperation=null,this.interfaceTableList=[],c()(this.interfaceTableInfo)||this.resetInterfaceTable()},resetInterfaceTable(){if(this.interfaceTableInfo={},this.modelRecordInfo&&this.modelRecordInfo.resetRecord("I"),this.extendInfo){let t,e;this.extendInfo.propertyList.forEach(((a,i)=>{console.log(a,i),"table.name"===a["pk.propertyKey"]&&(t=i),"table.where"===a["pk.propertyKey"]&&(e=i)})),this.extendInfo.removeProperty(t),e&&this.extendInfo.removeProperty(e-1)}},openTableModal(){if(!this.$parent.checkValidate()||!this.modelRecordInfo.getData().metaDomain)return void this.$alert({type:"warn",message:this.$t("igate.interface.table.validation.warn")});const t=this,e=this.$openModal({title:`Create Model With table information [ ${this.$t("igate.interface.adapter")}: ${t.object.adapterId} ] `,fullscreen:!0,contentList:[{template:'<tableModal ref="tableModal" :adapterId="adapterId" :interfaceTableList="interfaceTableList" :interfaceTableInfo="interfaceTableInfo" />',components:{tableModal:a(35516)["default"]},data(){return{adapterId:t.object.adapterId,interfaceTableList:t.interfaceTableList,interfaceTableInfo:c()(t.interfaceTableInfo)?{}:t.interfaceTableInfo}}}],buttonList:[{template:`<button type="button" class="btn btn-primary" @click="click"> ${this.$t("head.ok")} </button>`,methods:{async click(){const a=e.$refs.content[0].$children[0];if(0===a.$refs.tuiGrid.invoke("getData").length)return void this.$alert({type:"warn",message:this.$t("igate.interface.no.result.analyze.warn")});t.interfaceTableInfo=l()(a.getData());const{interfaceTable:i,queryStatementInfo:s,interfaceTableColumns:n}=t.interfaceTableInfo;let r,d;const c="table.name",p="table.where",h=(e,a)=>{const i=t.extendInfo.propertyList.length,s={idx:(0,o.Fs)()};t.extendInfo.detailInfo.content.forEach((e=>{const a=`${e.vModel}_${i}`;t.extendInfo.setLengthCnt({[a]:a.length}),t.extendInfo.maxLengthCnt[a]=(0,o.oo)(e.regExpType?e.regExpType:"default").maxLength})),s["pk.propertyKey"]=e,s["propertyValue"]=a,s["propertyDesc"]=t.extendInfo.interfacePropertyList.find((t=>t.pk.propertyKey===e)).propertyDesc,t.extendInfo.propertyList.push(s)};t.extendInfo.propertyList.forEach(((t,e)=>{c===t["pk.propertyKey"]&&(r=e),p===t["pk.propertyKey"]&&(d=e)})),0<=r?t.extendInfo.propertyList[r].propertyValue=i:h(c,i),s&&s.queryWhere?0<=d?t.extendInfo.propertyList[d].propertyValue=s.queryWhere:h(p,s.queryWhere):!s&&0<=d&&t.extendInfo.removeProperty(d),t.modelRecordInfo.requestRecordObject={fields:n,recordId:t.namingFormatter("InterfaceRequestRecordID"),recordName:t.namingFormatter("InterfaceRequestRecordName"),recordType:"I",recordGroup:t.object.interfaceGroup,metaDomain:t.modelRecordInfo.metaDomain,privateYn:t.object.privateYn,privilegeId:t.object.privilegeId},e.hideModal()}}}]})},namingFormatter(t){const e=this.namingRules.find((e=>t===e.pk.propertyKey)).propertyValue;return e.replace("{0}",this.object.interfaceId)},async openOperationModal(){const t=this.object.interfaceOperation;if(this.readonly){if(!t)return void this.$alert({type:"warn",message:this.$t("head.no.data.warn")});const{data:{object:e}}=await new o.p0("/api/entity/operation/object").read({operationId:t});(0,o.RB)("102070",(()=>{localStorage.removeItem("searchObj"),localStorage.setItem("searchObj",JSON.stringify(e))}))}else{const t=this,e=this.$openModal({title:this.$t("igate.operation"),fullscreen:this.readonly,modalWidth:this.readonly?"auto":"1000px",contentList:[{template:'<div>\n                                <Search :list="searchList" @search="search" ref="search"/>\n                                    <Main\n                                    :buttonList="buttonList"\n                                    :gridInfo="gridInfo"\n                                    :gridSearchObj="gridSearchObj"\n                                    :gridType="\'modalBasic\'"\n                                    :viewer="true"\n                                    @rowClicked="rowClicked"\n                                    @initialize="initialize"\n                                />\n                            </div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:[{type:"text",vModel:"operationId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"operationName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"select",vModel:"operationType",label:this.$t("common.type"),val:"I",optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Operation.OperationType"},orderByKey:!0},optionListName:"operationTypeList",optionFor:"option in operationTypeList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue",optionIf:"option.pk.propertyKey === 'I'",isViewAll:!1}},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0}],gridInfo:{url:"/api/entity/operation/search",totalCntUrl:"/api/entity/operation/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"operationId"},{header:this.$t("head.name"),name:"operationName"}]}},gridSearchObj:{}}},methods:{search(t){this.gridSearchObj=t},rowClicked(a){t.object.interfaceOperation=a.operationId,e.hideModal()},initialize(){this.$refs.search.initialize()}}}]})}},openCronModal(){let t=null;const e=this,i=this.object.cronExpression,s=/^\s*($|#|\w+\s*=|(\?|\*|(?:[0-5]?\d)(?:(?:-|\/|\,)(?:[0-5]?\d))?(?:,(?:[0-5]?\d)(?:(?:-|\/|\,)(?:[0-5]?\d))?)*)\s(\?|\*|(?:[0-5]?\d)(?:(?:-|\/|\,)(?:[0-5]?\d))?(?:,(?:[0-5]?\d)(?:(?:-|\/|\,)(?:[0-5]?\d))?)*)\s(\?|\*|(?:[01]?\d|2[0-3])(?:(?:-|\/|\,)(?:[01]?\d|2[0-3]))?(?:,(?:[01]?\d|2[0-3])(?:(?:-|\/|\,)(?:[01]?\d|2[0-3]))?)*)\s(\?|\*|(?:0?[1-9]|[12]\d|3[01])(?:(?:-|\/|\,)(?:0?[1-9]|[12]\d|3[01]))?(?:,(?:0?[1-9]|[12]\d|3[01])(?:(?:-|\/|\,)(?:0?[1-9]|[12]\d|3[01]))?)*)\s(\?|\*|(?:[1-9]|1[012])(?:(?:-|\/|\,)(?:[1-9]|1[012]))?(?:L|W)?(?:,(?:[1-9]|1[012])(?:(?:-|\/|\,)(?:[1-9]|1[012]))?(?:L|W)?)*|\?|\*|(?:JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC)(?:(?:-)(?:JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC))?(?:,(?:JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC)(?:(?:-)(?:JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC))?)*)\s(\?|\*|(?:[0-6])(?:(?:-|\/|\,|#)(?:[0-6]))?(?:,(?:[0-6])(?:(?:-|\/|\,|#)(?:[0-6]))?)*|\?|\*|(?:MON|TUE|WED|THU|FRI|SAT|SUN)(?:(?:-)(?:MON|TUE|WED|THU|FRI|SAT|SUN))?(?:,(?:MON|TUE|WED|THU|FRI|SAT|SUN)(?:(?:-)(?:MON|TUE|WED|THU|FRI|SAT|SUN))?)*))$/i;if(i){if(t=i.split(" "),!s.test(i)||""==t[0]||t[3]==t[5])return void this.$alert({type:"warn",message:this.$t("igate.job.error")})}else t=["*","*","*","*","*","?"];const n=this.$openModal({title:this.$t("igate.job.cronExpression"),modalWidth:"600px",modalHeight:"500px",contentList:[{template:'<CronExpressionModal ref="CronExpressionModal" :cron="cron" />',components:{CronExpressionModal:a(5351)["default"]},data(){return{cron:t}}}],buttonList:[{template:'<button type="button" class="btn btn-primary" @click="clickOk">{{ $t(\'head.ok\') }}</button>',methods:{clickOk(){e.object.cronExpression=n.$refs.content[0].$refs.CronExpressionModal.cronResult,n.hideModal()}}}]})},async checkInterfaceId(){if(!this.object.interfaceId)return void this.$alert({type:"warn",message:this.$t("igate.enter.id")});const t=await new o.p0("/api/entity/interface/object").read({interfaceId:this.object.interfaceId},!1,(()=>{}));"ok"!==t.data.result?(this.readonlyInterfaceId=!0,"clone"===this.mode&&this.$emit("changeInterfaceId",this.object.interfaceId)):this.$alert({type:"warn",message:this.$t("head.overlap.id.warn")})},inputEvt(t,e,a){this.object[e]=a.target.value,this.object[e]=this.object[e].replace(new RegExp(this.regExpList[t],"g"),"")},clickEvt(t){const e=this.object[t];if(!e)return void this.$alert({type:"warn",message:this.$t("head.no.data.warn")});let a="",i={};"adapterId"===t?(a="202030",i={adapterId:e}):"calendarId"===t&&(a="302060",i={calendarId:e}),(0,o.RB)(a,(()=>{localStorage.removeItem("searchObj"),localStorage.setItem("searchObj",JSON.stringify(i))}))}}},h=p,u=a(43736),m=(0,u.Z)(h,i,s,!1,null,null,null),g=m.exports},28407:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return f}});var i=function(){var t=this,e=t._self._c;return e("div",{ref:"panel",class:t.panelClass,attrs:{id:"panel"}},[e("div",{staticClass:"panel-dialog"},[e("div",{staticClass:"panel-content",style:t.panelContentStyle},[e("div",{staticClass:"resize-bar"}),e("header",{staticClass:"panel-header sub-bar",attrs:{id:"panel-header"}},["modify"===t.panelMode?e("a",{staticClass:"btn btn-icon backBtn",attrs:{href:"javascript:void(0);",title:t.$t("head.goBackward")},on:{click:t.goPreviousPanel}},[e("i",{staticClass:"icon-left"})]):t._e(),e("h2",{staticClass:"sub-bar-tit",style:{width:`calc(100% - ${"modify"===t.panelMode?208:164}px )`}},[t._v(" "+t._s(t.subBarTitle)+" "),e("span",{staticClass:"sub-bar-selected-tit ellipsis",style:{width:`calc(100% - ${"modify"===t.panelMode?80:65}px )`},attrs:{title:t.selectedInfoTitle?t.selectedInfoTitle.substr(3):""}},[t._v(" "+t._s(t.selectedInfoTitle)+" ")])]),"detail"===t.panelMode&&t.editor&&!t.lockEditor?e("label",{staticClass:"control-label warningLabel",staticStyle:{"padding-bottom":"0px"}},[e("b",{staticClass:"icon-star"}),t._v(t._s(t.$t("head.not.registered.privilege.interface.warn"))+" ")]):t._e(),e("div",{staticClass:"ml-auto"},["modify"!==t.panelMode&&"add"!==t.panelMode&&t.lockEditor?e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t(t.detailData.lockUserId===t.userInfo.userId?"common.unlock":"common.lock")},on:{click:t.lockEvt}},[e("img",{attrs:{id:"lockIcon",src:t.getMenuIconUrl(t.detailData.lockUserId===t.userInfo.userId?"unlock":"lock")}})]):t._e(),e("button",{staticClass:"btn-change-layout-horizon btn-icon",attrs:{type:"button",title:t.$t("common.detail.horizontal.view")},on:{click:function(e){return t.changeLayout("vertical")}}},[e("img",{staticClass:"center-block",attrs:{src:t.getMenuIconUrl("horizontal")}})]),e("button",{staticClass:"btn-change-layout-vertical btn-icon",attrs:{type:"button",title:t.$t("common.detail.vertical.view")},on:{click:function(e){return t.changeLayout("horizon")}}},[e("img",{staticClass:"center-block",attrs:{src:t.getMenuIconUrl("vertical")}})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.expand")},on:{click:t.expandCollapsePanel}},[e("i",{staticClass:"icon-expand"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.close")},on:{click:t.closePanel}},[e("i",{staticClass:"icon-close"})])])]),e("ul",{staticClass:"nav nav-tabs flex-shrink-0"},[t._l(t.interfaceTabList,(function(a,i){return e("li",{key:a.id,staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:t.selectedIdx===i},attrs:{href:"javascript:void(0);"},domProps:{textContent:t._s(a.label)},on:{click:function(e){return t.changeTab(i)}}})])})),t.toShowResult?e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:t.selectedIdx===t.interfaceTabList.length},attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.changeTab(t.interfaceTabList.length)}}},[t._v(" "+t._s(t.$t("head.executionResult"))+" ")])]):t._e()],2),e("div",{staticClass:"panel-body tab-content"},[t._l(t.interfaceTabList,(function(i,s){return e("div",{key:s,class:{[t.panelMode]:!0,"tab-pane":!0,active:t.selectedIdx===s}},["basic"===i.type?e("DetailBasic",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"property"===i.type?e("DetailProperty",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"grid"===i.type?e("DetailGrid",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"custom"===i.type?e("DetailCustom",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"bundle"===i.type?e(a(14605)(`./detail${i.url}.vue`).default,{ref:"component",refInFor:!0,tag:"component",attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode,newInterfaceId:t.interfaceId},on:{changeInterfaceId:t.changeInterfaceId}}):t._e()],1)})),t.toShowResult?e("DetailResult",{class:{"tab-pane":!0,active:t.selectedIdx===t.interfaceTabList.length&&t.showResultTab},attrs:{httpReqResult:t.httpReqResult}}):t._e()],2),e("footer",{staticClass:"panel-footer sub-bar",attrs:{id:"panel-footer"}},["detail"===t.panelMode||"done"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.metaHistoryBtn&&t.metaHistoryPrivilege.viewer?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);"},on:{click:t.goMetaHistoryModal}},[e("i",{staticClass:"icon-eye"}),t._v(t._s(t.$t("common.metaHistory"))+" ")]):t._e(),t.referenceBtn&&t.viewer?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.referenceTreeInfo")},on:{click:t.goReferenceModal}},[e("i",{staticClass:"icon-result"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.referenceTreeInfo")))])]):t._e(),t.dumpBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.dump")},on:{click:t.dump}},[t._v(" "+t._s(t.$t("head.dump"))+" ")]):t._e(),t.publishBtn&&t.newEditor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.publish("create")}}},[e("i",{staticClass:"icon-approve"}),t._v(t._s(t.$t("head.publish"))+" ")]):t._e(),t.cancelPublishBtn&&t.newEditor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.publish("cancel")}}},[e("i",{staticClass:"icon-x"}),t._v(t._s(t.$t("head.publish.cancel"))+" ")]):t._e(),t.excelExportBtn&&t.viewer?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);"},on:{click:t.excelExport}},[e("i",{staticClass:"icon-result"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.excel.output")))])]):t._e(),t.deleteBtn&&t.newEditor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);"},on:{click:t.removeInfo}},[e("i",{staticClass:"icon-delete"}),t._v(t._s(t.$t("head.delete"))+" ")]):t._e(),t.updateBtn&&t.newEditor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);"},on:{click:t.goModifyPanel}},[e("i",{staticClass:"icon-edit"}),t._v(t._s(t.$t("head.update"))+" ")]):t._e(),t.insertBtn&&t.editor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:`${t.$t("head.insert")} (${t.$t("head.copy")})`},on:{click:t.goAddInfo}},[e("i",{staticClass:"icon-plus"}),t._v(t._s(`${t.$t("head.insert")} (${t.$t("head.copy")})`)+" ")]):t._e()]):"add"===t.panelMode||"clone"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.insertBtn&&t.newEditor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);"},on:{click:t.saveInfo}},[e("i",{staticClass:"icon-plus"}),t._v(t._s(t.$t("head.insert"))+" ")]):t._e()]):"modify"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.updateBtn&&t.newEditor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);"},on:{click:t.updateInfo}},[e("i",{staticClass:"icon-edit"}),t._v(t._s(t.$t("head.update"))+" ")]):t._e()]):t._e()])])])])},s=[],n=(a(57658),a(63822)),o=a(66281),r=a.n(o),l=a(31823),d=a.n(l),c=a(44062),p=a(37662),h={name:"InterfaceDetail",extends:c.Z,data(){return{interfaceId:null,interfaceTabList:[],lockUserId:null,lockEditor:!1,newEditor:!1,metaHistoryBtn:!1,referenceBtn:!1,dumpBtn:!1,publishBtn:!1,cancelPublishBtn:!1,excelExportBtn:!1,deleteBtn:!1,insertBtn:!1,updateBtn:!1}},computed:{...(0,n.rn)(["userInfo"]),...(0,n.Se)(["isUserAdmin"])},watch:{panelMode:{immediate:!0,handler(){this.interfaceTabList=r()(this.tabList),this.$nextTick((()=>{for(const t in this.detailData)this.$set(this.detailData,t,this.detailData[t])}))}},lockUserId(){"detail"===this.panelMode&&(this.detailData.lockUserId=this.lockUserId,this.newEditor=this.lockUserId===this.userInfo.userId)}},methods:{changeInterfaceId(t){const e=this.checkValidate();e&&(this.interfaceId=t)},changeTab(t){if(("add"===this.panelMode||"clone"===this.panelMode)&&0!==t&&this.tabList.length!==t){const t=this.checkValidate();if(!t)return void this.$alert({type:"warn",message:"add"===this.panelMode?this.$t("igate.change.tab.required.warn",{0:`${this.$t("igate.interface")}`}):this.$t("igate.duplicate.check",{0:`${this.$t("head.id")}`})})}this.selectedIdx=t,this.$nextTick((()=>{p.bB.$emit("MainResize")}))},checkValidate(){const t=this.$refs.component.find((t=>"BasicInfo"===t.$options.name));if("add"===this.panelMode){const e=t.getData(),a=["interfaceId","interfaceType","interfaceGroup","privateYn","privilegeId","adapterId"];return a.every((t=>e[t]))}return t.readonlyInterfaceId},loadData(t){this.$refs.component.forEach(((t,e)=>{"useInfo"!==this.interfaceTabList[e].id&&t.getData&&(this.tabAllData=d()(this.tabAllData,t.getData()))})),t&&t()},saveInfo(){this.loadData((async()=>{if("clone"===this.panelMode){if(!this.$refs.component[0].readonlyInterfaceId)return void this.$alert({type:"warn",message:this.$t("igate.duplicate.check",{0:`${this.$t("head.id")}`})});c.Z.methods.saveInfo.bind(this)()}else{
//!this.validateMappingInfo()
if(!await this.validateInterfacePolicy())return;await this.saveServiceInfo((async()=>{this.pk.forEach((t=>{"undefined"===typeof this.tabAllData[t]&&(this.tabAllData[t]="")})),this.setData(await this.httpReq.create(this.tabAllData),"head.insert.notice")}))}}))},updateInfo(){this.loadData((async()=>{await this.validateInterfacePolicy()&&await this.saveServiceInfo((async()=>{this.pk.forEach((t=>{"undefined"===typeof this.tabAllData[t]&&(this.tabAllData[t]=this.cloneInfo[t])})),this.setData(await this.httpReq.update(this.tabAllData),"head.update.notice")}))}))},async saveServiceInfo(t){const e=[],a=this.$refs.component.find((t=>"ModelRecordInfo"===t.$options.name)),i=a.$refs.InterfaceService,s=i.$refs.tuiGrid.invoke("getData");s.forEach((t=>{const{serviceObject:a}=t;if(a.lockUserId===this.userInfo.userId){if(t.requestRecordObject&&0<t.requestRecordObject.fields.length){const{recordId:e,fields:a}=t.requestRecordObject;a.map((t=>{t.pk.recordId=e}))}if(t.responseRecordObject&&0<t.responseRecordObject.fields.length){const{recordId:e,fields:a}=t.responseRecordObject;a.map((t=>{t.pk.recordId=e}))}delete a.updateTimestamp,e.push(new Promise(((t,e)=>{(async()=>{try{let e=null;const i=new p.p0("/api/entity/service/object");a.serviceGenerated?(e=await new p.p0("/api/entity/service/count").read({serviceId:a.serviceId}),0!==e.data.object&&await i.delete({serviceId:a.serviceId}),e=await i.create(a)):e=await i.update(a),e.serviceObject=a,t(e)}catch(i){e(a)}})()})))}}));try{const a=await Promise.all(e),i=[];a.forEach((t=>{if("ok"===t.data.result)return!1;i.push({message:`${this.$t("igate.service")} (${t.serviceObject.serviceId}) ${this.$t("head.edit")} ${this.$t("head.fail")}`,stackTrace:t.data.error.map((({message:t})=>t)).join("\n")})})),0===i.length?t&&t():(this.httpReqResult={content:i},this.selectedIdx=this.interfaceTabList.length,this.showResultTab=!0)}catch(n){this.httpReqResult={content:[{message:`${n.serviceId} was failed.`}]},this.selectedIdx=this.interfaceTabList.length,this.showResultTab=!0}},async validateInterfacePolicy(){if(!this.tabAllData.adapterId||!this.tabAllData.interfaceType)return!0;const t=await new p.p0("/api/entity/interfacePolicy/object").read({pk:{adapterId:this.tabAllData.adapterId,interfaceType:this.tabAllData.interfaceType}},!1);return"error"===t.data.result&&this.$alert({type:"warn",message:this.$t("igate.interface.check.interfacePolicy",{0:this.tabAllData.adapterId,1:this.tabAllData.interfaceType})}),"ok"===t.data.result},validateMappingInfo(){function t(e,a,i=1){if(!e)return;e=r()(e);const s=[];return e.forEach((e=>{e.id=`${a}\\${e.pk.fieldId}`,e.recordObject&&("N"!==e.arrayType&&(e.id+=`[i${i}]`),s.push(...t(e.recordObject.fields,e["id"],"N"!==e.arrayType?i+1:i))),s.push(e.id)})),s}const e=[];return this.loadData((async()=>{const{requestRecordObject:a,interfaceResponses:i}=this.tabAllData,s=a,n=i.map((({recordObject:t})=>t)),o=this.$refs.component.find((t=>"ModelRecordInfo"===t.$options.name)),r=o.$refs.InterfaceService.$refs.tuiGrid.invoke("getData");r.forEach((a=>{const{requestMappingObject:i,responseMappingObject:o,serviceObject:r}=a,{requestRecordObject:l,responseRecordObject:d}=r;i&&i.mappingDetails&&0<i.mappingDetails.length&&i.mappingDetails.forEach((({mappingRuleObject:a})=>{const i=t(s.fields,"$0");a.mappingRuleDetails.forEach((({mappingExpression:t,targetFieldPath:a})=>{if(!t.startsWith("$"))return;const n=i.find((e=>e===t));if(!n){const i=t.split("\\");i[0]=s.recordId;const n=a.split("\\");n[0]=l.recordId;const o=`${this.$t("igate.interface.requestMapping")} > ${i.join(":")} (Source) > ${n.join(":")} (Target) > ${this.$t("igate.mapping.source.field.not.found")}`;e.push(o)}}));const n=t(l.fields,"");a.mappingRuleDetails.forEach((({mappingExpression:t,targetFieldPath:a})=>{if(!t.startsWith("$"))return;const i=n.find((t=>t===a));if(!i){const i=t.split("\\");i[0]=s.recordId;const n=a.split("\\");n[0]=l.recordId;const o=`${this.$t("igate.interface.requestMapping")} > ${i.join(":")} (Source) > ${n.join(":")} (Target) > ${this.$t("igate.mapping.source.field.not.found")}`;e.push(o)}}))})),o&&o.mappingDetails&&0<o.mappingDetails.length&&o.mappingDetails.forEach((({mappingRuleObject:a})=>{const i=[d,l,s],o=[];i.forEach(((e,a)=>{o.push(...t(e.fields,`$${a}`))})),a.mappingRuleDetails.forEach((({mappingExpression:t,targetFieldPath:s})=>{if(!t.startsWith("$"))return;const r=o.find((e=>e===t));if(!r){const o=t.split("\\");o[0]=i[o[0].split("$")[1]].recordId;const r=s.split("\\");r[0]=n.find((t=>t.recordId===a.recordId)).recordId;const l=`${this.$t("igate.interface.responseMapping")} > ${o.join(":")} (Source) > ${r.join(":")} (Target) > ${this.$t("igate.mapping.source.field.not.found")}`;e.push(l)}}));const r=t(n.find((t=>t.recordId===a.recordId)).fields,"");a.mappingRuleDetails.forEach((({mappingExpression:t,targetFieldPath:s})=>{if(!t.startsWith("$"))return;const o=r.find((t=>t===s));if(!o){const o=t.split("\\");o[0]=i[o[0].split("$")[1]].recordId;const r=s.split("\\");r[0]=n.find((t=>t.recordId===a.recordId)).recordId;const l=`${this.$t("igate.interface.responseMapping")} > ${o.join(":")} (Source) > ${r.join(":")} (Target) > ${this.$t("igate.mapping.source.field.not.found")}`;e.push(l)}}))}))})),0<e.length&&(this.httpReqResult={content:e.map((t=>({message:t})))},this.selectedIdx=this.interfaceTabList.length,this.showResultTab=!0)})),0===e.length},async setData(t,e,a,i=null){const s="ok"===t.data.result;if(this.httpReqResult={state:s,content:s?t.data.response:t.data.error},this.showResultTab=!0,!s)return this.tabAllData={},void(this.selectedIdx=this.interfaceTabList.length);if(this.selectedIdx="add"===this.panelMode?this.interfaceTabList.length-1:this.interfaceTabList.length,"delete"!==i){const t={};for(const a in this.tabAllData)-1!==this.pk.indexOf(a)&&(t[a]=this.tabAllData[a]);const e=await this.httpReq.read(t);this.tabAllData={},"ok"===e.data.result&&(this.detailData=(0,p.Np)(r()(e.data.object)),"add"!==this.panelMode&&"clone"!==this.panelMode||(this.cloneInfo=(0,p.Np)(r()(e.data.object)))),this.panelMode="done"}this.$alert({type:"normal",message:this.$t(e)}),this.$emit("search"),a&&a()},openPanel(){if(this.lockUserId=this.detailData.lockUserId,"detail"===this.panelMode){const t=this.userInfo.totalUserPrivileges.find((t=>"b"===t.privilegeType&&t.privilegeId===this.detailData.privilegeId));this.editor&&t?this.isUserAdmin||t.admin?this.lockEditor=!0:this.lockEditor=!this.lockUserId||this.lockUserId===this.userInfo.userId:this.lockEditor=!1}else"add"!==this.panelMode&&"clone"!==this.panelMode||(this.selectedIdx=0),this.newEditor=this.editor;c.Z.methods.openPanel.bind(this)()},async lockEvt(){const t=await new p.p0("/api/entity/interface/lock")[this.detailData.lockUserId?"delete":"update"]({interfaceId:this.detailData.interfaceId},!0,(()=>{}));if("ok"!==t.data.result)this.$alert({type:"warn",message:`${t.data.error[0].message}`});else{this.lockUserId=this.lockUserId?null:this.userInfo.userId;const t=this.$parent.$children.find((t=>t.$refs.grid)).$refs.grid.$refs.tuiGrid,e=t.invoke("getData").find((t=>t.interfaceId===this.detailData.interfaceId)).rowKey;t.invoke("setValue",e,"lockUserId",this.lockUserId),this.$refs.component[3].$children[0].setData(this.lockUserId),this.detailData.lockUserId=this.lockUserId,this.newEditor=this.lockUserId===this.userInfo.userId}}}},u=h,m=a(43736),g=(0,m.Z)(u,i,s,!1,null,null,null),f=g.exports},64209:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return y}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"propertyTab"},[e("div",{staticClass:"form-table form-table-responsive"},[e("div",{staticClass:"form-table-head"},[t.readonly?t._e():e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.insert")},on:{click:t.addProperty}},[e("i",{staticClass:"icon-plus-circle"})]),t._l(t.detailInfo.content,(function(a,i){return e("label",{key:i,staticClass:"col"},[t._v(t._s(a.label))])}))],2),e("div",{staticClass:"form-table-wrap"},t._l(t.propertyList,(function(a,i){return e("div",{key:`${a.idx}`,staticClass:"form-table-body"},[t.readonly?t._e():e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.delete")},on:{click:function(e){return t.removeProperty(i)}}},[e("i",{staticClass:"icon-minus-circle"})]),t._l(t.detailInfo.content,(function(s,n){return e("div",{key:`${a.idx}_${n}`,staticClass:"col"},["modal"!==s.type?e("div",{class:"detail-content-"+(t.regExpList.includes(s.type)&&!t.getReadonly(s)?"regExp":"common")},["text"===s.type?e("inputText",{ref:`component_${i}_${n}`,refInFor:!0,attrs:{vModel:s.vModel,classObject:{"form-control":t.getReadonly(s),[`regExp-${s.type}`]:!t.getReadonly(s),"view-disabled":!0,dataKey:s.isRequired},val:a[s.vModel],regExpType:s.regExpType,readonly:t.readonly||s.readonly,changeEvt:s.changeEvt},on:{setLengthCnt:e=>t.setLengthCnt({[`${s.vModel}_${i}`]:e[s.vModel]})}}):"dataList"===s.type?e("dataList",{ref:`component_${i}_${n}`,refInFor:!0,attrs:{vModel:s.vModel,classObject:{"form-control":t.getReadonly(s),[`regExp-${s.type}`]:!t.getReadonly(s),"view-disabled":!0,dataKey:s.isRequired},val:a[s.vModel],readonly:t.readonly||s.readonly,optionInfo:s.optionInfo,regExpType:s.regExpType},on:{setLengthCnt:e=>t.setLengthCnt({[`${s.vModel}_${i}`]:e[s.vModel]}),changeEvt:function(e){return t.setInterfaceProperty(e.value,i,!0)}}}):t._e(),t.regExpList.includes(s.type)&&!t.getReadonly(s)?e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt[`${s.vModel}_${i}`]} /${t.maxLengthCnt[`${s.vModel}_${i}`]})`)+" ")]):t._e()],1):e("div",{class:"detail-content-"+(t.getReadonly(s)?"common":"regExp")},[e("div",{staticClass:"input-group"},[e("inputText",{ref:`component_${i}_${n}`,refInFor:!0,staticStyle:{width:"calc(100% - 110px)"},attrs:{vModel:s.vModel,classObject:{"form-control":t.getReadonly(s),"regExp-text":!t.getReadonly(s),"view-disabled":!0,dataKey:s.isRequired},val:a[s.vModel],readonly:t.readonly}}),t.readonly||s.readonly?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt[`${s.vModel}_${i}`]} /${t.maxLengthCnt[`${s.vModel}_${i}`]})`)+" ")])],1)]),"modal"!==s.type||t.readonly||s.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"3px","min-width":"0px","padding-left":"0.5rem"},attrs:{type:"button",title:t.$t("head.search")},on:{click:function(e){return t.openModal(t.$refs[`component_${i}_${n}`])}}},[e("i",{staticClass:"icon-srch",staticStyle:{"margin-right":"0px"}})]),"modal"!==s.type||t.readonly||s.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"3px","min-width":"0px","padding-left":"0.5rem"},attrs:{type:"button",title:t.$t("head.initialize")},on:{click:function(e){t.$refs[`component_${i}_${n}`][0].setData(null)}}},[e("i",{staticClass:"icon-reset",staticStyle:{"margin-right":"0px"}})])])}))],2)})),0)])])},s=[],n=(a(57658),a(31823)),o=a.n(n),r=a(77285),l=a.n(r),d=a(66997),c=a.n(d),p=a(37662),h=a(21783),u={name:"ExtendInfo",extends:h.Z,async created(){const{data:{object:t}}=await new p.p0("/api/page/properties").read({pk:{propertyId:"Property.Interface"},orderByKey:!0});this.interfacePropertyList=t},data(){return{interfacePropertyList:[],regExpList:["dataList","modal"]}},methods:{openModal(t){const e=t[0].vModel,a=t?t[0].getData()[e]:null,i=this.$openModal({title:"Property",modalWidth:"800px",modalHeight:"500px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t\t\t\t<div class="row frm-row">\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-lg-12">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span style="display: inline-block; margin-top: 8px">Property Value</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span style="display: inline-block; margin-top: 8px" class="letterLength"> ({{ currentLength }} / {{ maxLength }}) </span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="detail-content-common" style="padding-left: 0px">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<textarea :maxlength="maxLength" v-model="propertyKey" class="form-control view-disabled" style="height: 300px"></textarea>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t   </div>',data(){return{propertyKey:a||null,currentLength:a?a.length:0,maxLength:5e3}},methods:{}}],buttonList:[{template:'<button type="button" @click="confirm" class="btn btn-primary">{{ $t(\'head.ok\') }}</button>',methods:{confirm(){t[0].setData(i.$refs.content[0].propertyKey),i.hideModal()}}}]})},removeProperty(t){if("add"===this.mode&&"table.name"===this.propertyList[t]["pk.propertyKey"]){const t=this.$parent.$refs.component;t[0].interfaceTable=null,t[1].resetRecord("I")}this.propertyList.splice(t,1),this.curLengthCnt={},this.maxLengthCnt={},this.$nextTick((()=>{this.propertyList.forEach(((t,e)=>{this.detailInfo.content.forEach(((t,a)=>{const i=`${t.vModel}_${e}`,s=this.$refs[`component_${e}_${a}`][0].getData();this.setLengthCnt({[i]:c()(s[t.vModel])?0:String(s[t.vModel]).length}),this.maxLengthCnt[i]="modal"===t.type?"5000":(0,p.oo)(t.regExpType?t.regExpType:"default").maxLength}))}))}))},addProperty(){const t={idx:(0,p.Fs)()};this.detailInfo.content.forEach((e=>{const a=`${e.vModel}_${this.propertyList.length}`;this.setLengthCnt({[a]:0}),this.maxLengthCnt[a]="modal"===e.type?"5000":(0,p.oo)(e.regExpType?e.regExpType:"default").maxLength,t[e.vModel]=e.val?e.val:null})),this.propertyList.push(t)},async setPropertyList(){if(l()(this.detailData))this.propertyList=[];else{if("undefined"!==typeof this.detailData[this.detailInfo.dataKey]){this.propertyList=[...this.detailData[this.detailInfo.dataKey]];let t=null;if(this.httpReq&&(t=await this.httpReq.read(o()(this.detailInfo.params,this.detailData)),"ok"!==t.data.result))return void this.$alert({type:"warn",message:`${t.data.error[0].message}`});this.regexpElmList=this.detailInfo.content.filter((t=>this.regExpList.includes(t.type))),this.propertyList.forEach(((t,e)=>{this.setInterfaceProperty(t.pk.propertyKey,e),t.idx=(0,p.Fs)(),this.regexpElmList.forEach((a=>{const i=`${a.vModel}_${e}`;this.setLengthCnt({[i]:"pk.propertyKey"===a.vModel?t.pk["propertyKey"]?t.pk["propertyKey"].length:0:t[a.vModel]?t[a.vModel].length:0}),this.maxLengthCnt[i]="modal"===a.type?"5000":(0,p.oo)(a.regExpType?a.regExpType:"default").maxLength}))}))}else this.propertyList=[];this.propertyList=this.propertyList.map((t=>(0,p.Np)(t)))}},setInterfaceProperty(t,e,a=!1){if("add"===this.mode&&"table.name"===t)return this.$alert({type:"warn",message:this.$t("igate.interface.table.property.warn")}),void this.$refs[`component_${e}_0`][0].setData();const i=this.interfacePropertyList.find((e=>e.pk.propertyKey===t));let s="",n="";if(i){const{propertyValue:t,propertyDesc:e}=i;s=t,n=e}a&&(this.propertyList[e]["propertyValue"]=s),this.propertyList[e]["propertyDesc"]=n}}},m=u,g=a(43736),f=(0,g.Z)(m,i,s,!1,null,null,null),y=f.exports},85432:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return b}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label",staticStyle:{"padding-bottom":"0px"}},[e("span",{staticStyle:{"line-height":"30px","margin-right":"5px"}},[t._v(t._s(t.$t("igate.service.list")))])]),t.readonly?t._e():e("div",{staticClass:"ml-auto form-inline m-full"},[e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.insert")},on:{click:t.serviceClick}},[e("i",{staticClass:"icon-plus-circle"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.search")},on:{click:t.srchService}},[e("i",{staticClass:"icon-srch"})])]),e("div",{staticClass:"table-responsive"},[t.isLoadColumnInfo?e("TuiGrid",t._b({ref:"tuiGrid"},"TuiGrid",t.options,!1)):t._e()],1)])])])},s=[],n=(a(57658),a(63822)),o=a(68701),r=a(31823),l=a.n(r),d=a(66281),c=a.n(d),p=a(77285),h=a.n(p),u=a(37662),m=a(37856),g={name:"InterfaceService",props:{mode:String,requestRecordObject:Object,responseRecordList:Array,selectedResponseRecordId:String,interfaceServices:Array},components:{TuiGrid:m.Grid},data(){return{isLoadColumnInfo:!1,calendarList:[],options:{header:{height:60,align:"center",complexColumns:[{header:this.$t("head.request"),name:"requestInfo",childNames:["requestRecordId","requestMappingId"]},{header:this.$t("head.response"),name:"responseInfo",childNames:["responseRecordId","responseMappingId"]},{header:this.$t("head.etc"),name:"mergeColumn3",childNames:["cronExpression","calendarId","conditionExpression"]}]},columnOptions:{resizable:!0,frozenCount:0,minWidth:180},columns:[{name:"serviceObject",hidden:!0},{name:"requestRecordObject",hidden:!0},{name:"responseRecordObject",hidden:!0},{name:"requestMappingObject",hidden:!0},{name:"responseMappingObject",hidden:!0},{header:this.$t("igate.service"),name:"serviceId",formatter:({row:t,value:e})=>{const a=this.readonly||t.serviceObject.serviceAutoGenerated?"":`<i class="icon-minus-circle" title="${this.$t("head.delete")}"></i>`,i=`width: calc(100% - ${a?50:25}px); display: inline-block;`;return`<div class="ellipsis" style="${i}" title="${e}">\n                                        ${(0,u.Xv)(e)}\n                                    </div>\n\t\t\t\t\t\t\t\t\t<span class="modal-btn">\n\t\t\t\t\t\t\t\t\t\t<i class="icon-link" title="${this.readonly?this.$t("head.open"):this.$t("head.update")}"></i>\n\t\t\t\t\t\t\t\t\t\t${a}\n\t\t\t\t\t\t\t\t   </span>`}},{header:this.$t("igate.record.data.model"),name:"requestRecordId",formatter:({row:t})=>{const e=t.requestRecordObject,a=e?e.recordId:"",i=this.readonly?"":`<i class="icon-model" title="${this.$t("head.copy")}"></i>`,s=`width: calc(100% - ${i?50:25}px); display: inline-block;`;return`<div class="ellipsis" style="${s}" title="${a}">\n                                        ${(0,u.Xv)(a)}\n                                    </div>\n\t\t\t\t\t\t\t\t\t<span class="modal-btn">\n\t\t\t\t\t\t\t\t\t\t<i class="icon-link" title="${this.readonly?this.$t("head.open"):this.$t("head.update")}"></i>\n\t\t\t\t\t\t\t\t\t\t${i}\n\t\t\t\t\t\t\t\t   </span>`}},{name:"requestMappingId",header:this.$t("igate.mapping"),formatter:({row:t})=>{const e=t.requestMappingObject,a=e?e.mappingId:"";if(this.readonly&&!a)return"";const i=this.readonly?"":'<i class="icon-reset"></i>',s=`width: calc(100% - ${i?50:25}px); display: inline-block;`;return`<div class="ellipsis" style="${s}" title="${a}">\n                                        ${(0,u.Xv)(a)}\n                                    </div>\n\t\t\t\t\t\t\t\t\t<span class="modal-btn">\n\t\t\t\t\t\t\t\t\t\t<i class="icon-mapng"></i>\n\t\t\t\t\t\t\t\t\t\t${i}\n\t\t\t\t\t\t\t\t\t</span>`}},{header:this.$t("igate.record.data.model"),name:"responseRecordId",formatter:({row:t})=>{const e=t.responseRecordObject,a=e?e.recordId:"",i=this.readonly?"":`<i class="icon-model" title="${this.$t("head.copy")}"></i>`,s=`width: calc(100% - ${i?50:25}px); display: inline-block;`;return`<div class="ellipsis" style="${s}" title="${a}">\n                                        ${(0,u.Xv)(a)}\n                                    </div>\n\t\t\t\t\t\t\t\t\t<span class="modal-btn">\n\t\t\t\t\t\t\t\t\t\t<i class="icon-link" title="${this.readonly?this.$t("head.open"):this.$t("head.update")}"></i>\n\t\t\t\t\t\t\t\t\t\t${i}\n\t\t\t\t\t\t\t\t   </span>`}},{name:"responseMappingId",header:this.$t("igate.mapping"),formatter:({row:t})=>{const e=t.responseMappingObject,a=e?e.mappingId:"";if(this.readonly&&!a)return"";const i=this.readonly?"":'<i class="icon-reset"></i>',s=`width: calc(100% - ${i?50:25}px); display: inline-block;`;return`<div class="ellipsis" style="${s}" title="${a}">\n                                        ${(0,u.Xv)(a)}\n                                    </div>\n\t\t\t\t\t\t\t\t\t<span class="modal-btn">\n\t\t\t\t\t\t\t\t\t\t<i class="icon-mapng"></i>\n\t\t\t\t\t\t\t\t\t\t${i}\n\t\t\t\t\t\t\t\t\t</span>`}},{name:"cronExpression",header:this.$t("igate.interface.cronExpression")},{name:"calendarId",header:this.$t("igate.calendar")},{name:"conditionExpression",header:this.$t("igate.interface.conditionExpression")}],scrollX:!0,draggable:!0,editingEvent:"click",onGridMounted:t=>{"undefined"!==typeof t.instance.el&&(t.instance.el.removeAttribute("header"),t.instance.el.removeAttribute("columnoptions"),t.instance.el.removeAttribute("onGridMounted"),t.instance.el.removeAttribute("draggable"),t.instance.el.removeAttribute("rowheaders"),t.instance.off("dblclick"),t.instance.on("click",(t=>{const{columnName:e,rowKey:a,nativeEvent:i,nativeEvent:{target:s}}=t;if(s.closest(".tui-grid-body-container")&&i.stopPropagation(),this.readonly&&t.stop(),"serviceId"===e)s.classList.contains("icon-link")?this.serviceClick(a):s.classList.contains("icon-minus-circle")&&this.removeService(a);else if("requestRecordId"===e||"responseRecordId"===e){const t="requestRecordId"===e?"I":"O",i=s.classList.contains("icon-link")?"update":s.classList.contains("icon-model")?"copy":null;i&&this.serviceRecordClick(t,i,a)}else if("requestMappingId"===e||"responseMappingId"===e){const t="requestMappingId"===e?"I":"O";s.classList.contains("icon-reset")?this.serviceMappingResetClick(t,a):s.classList.contains("icon-mapng")&&this.serviceMappingClick(t,a)}})))}},modalRecordInfo:{title:this.$t("igate.modelRecord"),search:{list:[{type:"text",vModel:"id",label:this.$t("igate.modelRecord.id"),placeholder:this.$t("head.searchId")},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/record/search",totalCntUrl:"/api/entity/record/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"recordId",header:this.$t("igate.modelRecord.id"),width:"20%"},{name:"recordName",header:this.$t("igate.modelRecord.name"),width:"40%"}]}}}}},computed:{...(0,n.rn)(["userInfo"]),readonly(){return"detail"===this.mode||"done"===this.mode}},watch:{interfaceServices(){this.resetData()}},async created(){this.options=(0,u.d_)(this.options);const t=await new u.p0("/api/entity/calendar/search").read({object:{},limit:null,next:null,reverseOrder:!1});"ok"===t.data.result&&(this.calendarList=t.data.object,this.getColumnInfo())},mounted(){u.dc.$on("MainResize",this.resize),u.Gk.$on("MainResize",this.resize),u.bB.$on("MainResize",this.resize),u.QK.$on("MainResize",this.resize)},methods:{getData(){this.$refs.tuiGrid.invoke("blur"),this.$refs.tuiGrid.invoke("cancelEditing");const t=[];return this.$refs.tuiGrid.invoke("getData").forEach(((e,a)=>{t.push({pk:{serviceId:e.serviceId},serviceOrder:a,requestMappingId:e.requestMappingObject?e.requestMappingObject.mappingId:null,responseMappingId:e.responseMappingObject?e.responseMappingObject.mappingId:null,requestMappingObject:e.requestMappingObject?e.requestMappingObject:null,responseMappingObject:e.responseMappingObject?e.responseMappingObject:null,conditionExpression:e.conditionExpression,cronExpression:e.cronExpression,calendarId:e.calendarId})})),t},getColumnInfo(){const t=this;this.options.columns.forEach((async e=>{"calendarId"===e.name?(e.editor=class{constructor(e){const a=document.createElement("select");a.classList.add("form-control"),a.style.minWidth="unset";let i=document.createElement("option");a.appendChild(i),t.calendarList.forEach((t=>{i=document.createElement("option"),i.setAttribute("value",t.calendarId),i.innerText=(0,u.Xv)(t.calendarId),e.value===t.calendarId&&i.setAttribute("selected","selected"),a.appendChild(i)})),this.el=a}getElement(){return this.el}getValue(){return this.el.value}},e.formatter=({value:t})=>t?(0,u.Xv)(t):"",e.copyOptions={useFormattedValue:!0}):"cronExpression"!==e.name&&"conditionExpression"!==e.name||(e.renderer=class{constructor(t){const e=document.createElement("span");e.style.padding="4px 5px",e.innerHTML=t.value?(0,u.Xv)(t.value):"",this.el=e}getElement(){return this.el}render(t){this.el.innerHTML=t.value?(0,u.Xv)(t.value):""}},e.editor={type:class{constructor(a){const i=document.createElement("span");i.classList.add("input-group");const s=document.createElement("input"),{maxLength:n}=a.columnInfo.editor.options;s.type="text",s.classList.add("form-control"),s.value=a.value?(0,u.Xv)(a.value):"",s.maxLength=n;const o=document.createElement("i");o.classList.add("icon-srch"),o.style="margin: 8px; cursor: pointer;",o.addEventListener("click",(()=>{"cronExpression"===e.name?t.openCronModal(a.rowKey):t.openReferenceModal(a.rowKey)})),i.appendChild(s),i.appendChild(o),this.el=i}getElement(){return this.el}getValue(){return this.el.firstChild.value}},options:{maxLength:(0,u.oo)("cron").maxLength}},e.formatter=({value:t})=>t?(0,u.Xv)(t):"")})),this.isLoadColumnInfo=!0,this.$nextTick((()=>{this.resetData()}))},async resetData(){if(this.interfaceServices)try{const t=[];this.interfaceServices.forEach((e=>{t.push(new u.p0("/api/entity/service/object").read({serviceId:e.pk.serviceId}))}));const e=await Promise.all(t);this.$refs.tuiGrid.invoke("clear"),this.interfaceServices&&this.$refs.tuiGrid.invoke("resetData",this.interfaceServices.map((t=>{const a=e.filter((e=>e.data.object.serviceId===t.pk.serviceId))[0],i=a?a.data.object:{};return{serviceObject:i,serviceId:i.serviceId,serviceName:i.serviceName,requestMappingObject:t.requestMappingObject?t.requestMappingObject:null,responseMappingObject:t.responseMappingObject?t.responseMappingObject:null,requestRecordObject:i.requestRecordObject?i.requestRecordObject:null,responseRecordObject:i.responseRecordObject?i.responseRecordObject:null,cronExpression:t.cronExpression,calendarId:t.calendarId,conditionExpression:t.conditionExpression}}))),this.$nextTick((()=>{this.readonly?(this.$refs.tuiGrid.invoke("getData").forEach((({rowKey:t})=>this.$refs.tuiGrid.invoke("disableRow",t))),this.$refs.tuiGrid.invoke("getColumns").forEach((t=>{t.hidden||this.$refs.tuiGrid.invoke("enableColumn",t.name)}))):this.$refs.tuiGrid.invoke("enable")}))}catch(t){this.$alert({type:"warn",message:this.$t("head.no.data.warn")})}else this.$refs.tuiGrid.invoke("clear");this.resize()},updateRow(t,e){this.$refs.tuiGrid.invoke(t,e);const a=this.$refs.tuiGrid.invoke("getRowCount");this.$emit("haveInterfaceServices",0<a)},removeService(t){this.updateRow("removeRow",t),this.resize()},serviceRecordClick(t,e,a){this.$parent.openRecordMngModal(t,e,a)},serviceMappingClick(t,e){this.openMappingMngModal(t,e)},serviceMappingResetClick(t,e){this.$refs.tuiGrid.invoke("setValue",e,"I"===t?"requestMappingObject":"responseMappingObject",null)},getMappingRefer(t){const e=this.$refs.tuiGrid.invoke("getRow",t);if(!e)return;const{requestRecordObject:a,responseRecordObject:i,requestMappingObject:s,responseMappingObject:n}=e,o={I:null,O:null};return a&&s&&s.mappingDetails.forEach((t=>{const{pk:e,mappingRuleObject:i}=t;a.recordId===i.recordId&&(o["I"]=e.mappingId)})),i&&n&&n.mappingDetails.forEach((t=>{const{pk:e,mappingRuleObject:a}=t;a.mappingRuleSources.some((t=>i.recordId===t.recordId))&&(o["O"]=e.mappingId)})),o},serviceClick(t){if("number"!==typeof t&&!this.$parent.metaDomain)return void this.$alert({type:"warn",message:this.$t("igate.interface.set.metadomain")});const e=this,i=e.readonly?e.mode:"number"===typeof t?"modify":"add",s="add"===i?null:(0,u.Np)(e.$refs.tuiGrid.invoke("getRow",t).serviceObject),n="modify"===i&&s.lockUserId!==e.userInfo.userId?"detail":i,o=this.$openModal({title:this.$t("igate.service"),fullscreen:!0,contentList:[{template:'<ServiceModal ref="ServiceModal" :serviceObject="serviceObject" :mode="mode" :useMappingId="useMappingId"/>',components:{ServiceModal:a(19780)["default"]},data(){return{mode:n,serviceObject:s,useMappingId:e.getMappingRefer(t)}}}],buttonList:(()=>"detail"!==n?[{template:'<button type="button" @click="confirm" class="btn btn-primary">{{ $t(\'head.ok\') }}</button>',methods:{async confirm(){const a=o.$refs.content[0].$refs.ServiceModal.getData(),s=["serviceType","serviceGroup","metaDomain","privilegeId","privateYn","adapterId"];s.some((t=>h()(a[t])))?e.$alert({type:"warn",message:this.$t("igate.service.validation.warn")}):await this.validateServicePolicy(a)&&("add"===i?(a.serviceGenerated=!0,e.updateRow("appendRow",{serviceObject:a,serviceId:a.serviceId,serviceName:a.serviceName,requestRecordObject:a.requestRecordObject,responseRecordObject:a.responseRecordObject,requestMappingId:"",responseMappingId:"",cronExpression:"",calendarId:"",conditionExpression:""})):(e.$refs.tuiGrid.invoke("setValue",t,"serviceObject",a),e.$refs.tuiGrid.invoke("setValue",t,"serviceId",a.serviceId),e.$refs.tuiGrid.invoke("setValue",t,"serviceName",a.serviceName),e.$refs.tuiGrid.invoke("setValue",t,"requestRecordObject",a.requestRecordObject),e.$refs.tuiGrid.invoke("setValue",t,"responseRecordObject",a.responseRecordObject)),o.hideModal())},async validateServicePolicy({adapterId:t,serviceType:e}){if(!t&&!e)return!0;const a=await new u.p0("/api/entity/servicePolicy/object").read({pk:{adapterId:t,serviceType:e}},!1,(()=>{this.$alert({type:"warn",message:this.$t("igate.service.check.servicePolicy",{0:t,1:e})})}));return"ok"===a.data.result}}}]:null)()})},async srchService(){if("number"!==typeof rowKey&&!this.$parent.metaDomain)return void this.$alert({type:"warn",message:this.$t("igate.interface.set.metadomain")});const t={title:this.$t("igate.service"),search:{list:[{type:"text",vModel:"serviceId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"serviceName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"select",vModel:"serviceType",label:this.$t("common.type"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Service.ServiceType"},orderByKey:!0},optionListName:"serviceTypeList",optionFor:"option in serviceTypeList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/service/search",totalCntUrl:"/api/entity/service/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"serviceId",header:this.$t("head.id"),width:"33%"},{name:"serviceName",header:this.$t("head.name"),width:"33%"},{header:this.$t("head.description"),name:"serviceDesc",width:"33%"}]}}},e=this,i=this.$openModal({title:this.$t("igate.service"),modalWidth:"1000px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t\t       <Search :list="searchList" @search="search" ref="search"/>\n\t\t\t\t\t\t\t\t\t   <Main\n\t\t\t\t\t\t\t\t\t\t\t:buttonList="buttonList"\n\t\t\t\t\t\t\t\t\t\t\t:gridInfo="gridInfo"\n\t\t\t\t\t\t\t\t\t\t\t:gridSearchObj="gridSearchObj"\n\t\t\t\t\t\t\t\t\t\t\t:gridType="\'modalBasic\'"\n\t\t\t\t\t\t\t\t\t\t\t:viewer="true"\n\t\t\t\t\t\t\t\t\t\t\t@rowClicked="rowClicked"\n\t\t\t\t\t\t\t\t\t\t\t@initialize="initialize"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t   </div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:t.search.list,buttonList:t.button.list,gridInfo:t.grid,gridSearchObj:{}}},methods:{search(t){this.gridSearchObj=t},async rowClicked(t){if(0<e.$refs.tuiGrid.invoke("getData").filter((e=>e.serviceId===t.serviceId)).length)return void this.$alert({type:"warn",message:this.$t("head.overlap.data.warn")});const a=await new u.p0("/api/entity/service/object").read({serviceId:t.serviceId});if("ok"!==a.data.result)return;const s=a.data.object;e.updateRow("appendRow",{serviceObject:s,serviceId:s.serviceId,serviceName:s.serviceName,requestRecordObject:s.requestRecordObject,responseRecordObject:s.responseRecordObject?s.responseRecordObject:s.requestRecordId===s.responseRecordId?s.requestRecordObject:null,requestMappingId:"",responseMappingId:"",cronExpression:"",calendarId:"",conditionExpression:""}),i.hideModal(),e.resize()},initialize(){this.$refs.search.initialize()}}}]})},async openMappingMngModal(t,e){const{serviceId:i,requestMappingObject:s,responseMappingObject:n,serviceObject:{serviceName:o,requestRecordId:r,responseRecordId:d,requestRecordObject:p,responseRecordObject:h}}=this.$refs.tuiGrid.invoke("getRow",e);if("I"===t){if(!this.requestRecordObject)return;if(!this.requestRecordObject.recordId)return;if(!p)return}if("O"===t){if(0===this.responseRecordList.length)return;if(!this.selectedResponseRecordId)return;if(!h)return}const{interfaceId:m,interfaceName:g,interfaceGroup:f,privilegeId:y,privateYn:v}=this.$parent.getBasicInfo();if(!m)return void this.$alert({type:"warn",message:this.$t("igate.enter.interface.id")});if(!f)return void this.$alert({type:"warn",message:this.$t("igate.enter.group")});if(!y)return void this.$alert({type:"warn",message:this.$t("igate.select.permission")});if(!v)return void this.$alert({type:"warn",message:this.$t("igate.select.private")});let b=null;if("I"===t)if(s)b=c()(s);else{const{data:{object:t}}=await new u.p0("/api/page/properties").read({pk:{propertyId:"ImgOption.NamingRules"}}),e=t.filter((({pk:{propertyKey:t}})=>["InterfaceRequestMappingID","InterfaceRequestMappingName"].find((e=>e===t)))),a=e.find((({pk:{propertyKey:t}})=>"InterfaceRequestMappingID"===t)).propertyValue,s=e.find((({pk:{propertyKey:t}})=>"InterfaceRequestMappingName"===t)).propertyValue,n=a.replace("{0}",m).replace("{1}",i),l=s.replace("{0}",g||m).replace("{1}",o||i);b={mappingId:n,mappingName:l,mappingGroup:f,privilegeId:y,privateYn:v,mappingDetails:[{pk:{mappingId:n,mappingOrder:0},targetForm:null,mappingDetailDesc:null,mappingRuleObject:{recordId:null,mappingRuleSources:[],mappingRuleDetails:[]}}]},r&&(b.mappingDetails[0].mappingRuleObject.recordId=r),this.requestRecordObject&&this.requestRecordObject.recordId&&(b.mappingDetails[0].mappingRuleObject.mappingRuleSources=[{recordId:this.requestRecordObject.recordId}])}else if(n)b=c()(n);else{const{data:{object:t}}=await new u.p0("/api/page/properties").read({pk:{propertyId:"ImgOption.NamingRules"}}),e=t.filter((({pk:{propertyKey:t}})=>["InterfaceResponseMappingID","InterfaceResponseMappingName"].find((e=>e===t)))),a=e.find((({pk:{propertyKey:t}})=>"InterfaceResponseMappingID"===t)).propertyValue,s=e.find((({pk:{propertyKey:t}})=>"InterfaceResponseMappingName"===t)).propertyValue,n=a.replace("{0}",m).replace("{1}",i),l=s.replace("{0}",g||m).replace("{1}",o||i);b={mappingId:n,mappingName:l,mappingGroup:f,privilegeId:y,privateYn:v,mappingDetails:[{pk:{mappingId:n,mappingOrder:0},targetForm:null,mappingDetailDesc:null,mappingRuleObject:{recordId:null,mappingRuleSources:[],mappingRuleDetails:[]}}]},this.selectedResponseRecordId&&(b.mappingDetails[0].mappingRuleObject.recordId=this.selectedResponseRecordId),d&&b.mappingDetails[0].mappingRuleObject.mappingRuleSources.push({recordId:d}),r&&b.mappingDetails[0].mappingRuleObject.mappingRuleSources.push({recordId:r});const c=this.requestRecordObject&&this.requestRecordObject.recordId?this.requestRecordObject.recordId:r;b.mappingDetails[0].mappingRuleObject.mappingRuleSources.push({recordId:c})}const $=[this.requestRecordObject,...this.responseRecordList,p,h],I=this,C=this.$openModal({title:this.$t("igate.mapping"),fullscreen:!0,contentList:[{template:'<div>\n\t\t\t\t\t\t\t\t\t<ul class="nav nav-tabs flex-shrink-0">\n\t\t\t\t\t\t\t\t\t\t<li class="nav-item">\n\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\thref="javascript:void(0);"\n\t\t\t\t\t\t\t\t\t\t\t\t:class="{ \'nav-link\': true, active: 0 === selectedIdx }"\n\t\t\t\t\t\t\t\t\t\t\t\t@click="changeTab(0)"\n\t\t\t\t\t\t\t\t\t\t\t\tv-text="$t(\'head.basic.info\')"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li class="nav-item">\n\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\thref="javascript:void(0);"\n\t\t\t\t\t\t\t\t\t\t\t\t:class="{ \'nav-link\': true, active: 1 === selectedIdx }"\n\t\t\t\t\t\t\t\t\t\t\t\t@click="changeTab(1)"\n\t\t\t\t\t\t\t\t\t\t\t\tv-text="$t(\'igate.mappingInfo\')"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ul>\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<div class="panel-body tab-content">\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t:class="{ \'tab-pane\': true, active: selectedIdx === idx }"\n\t\t\t\t\t\t\t\t\t\t\tv-for="(detailInfo, idx) in tabList"\n\t\t\t\t\t\t\t\t\t\t\t:key="idx"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<component\n\t\t\t\t\t\t\t\t\t\t\t\tref="component"\n\t\t\t\t\t\t\t\t\t\t\t\ttype="modal"\n\t\t\t\t\t\t\t\t\t\t\t\t:is="detailInfo.component"\n\t\t\t\t\t\t\t\t\t\t\t\t:detailInfo="detailInfo"\n\t\t\t\t\t\t\t\t\t\t\t\t:detailData="data"\n\t\t\t\t\t\t\t\t\t\t\t\t:recordList="recordList"\n\t\t\t\t\t\t\t\t\t\t\t\t:targetRecordList="targetRecordList"\n\t\t\t\t\t\t\t\t\t\t\t\t:mode="mode"\n\t\t\t\t\t\t\t\t\t\t\t/>\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t',data(){return{selectedIdx:0,mode:I.mode,data:null,recordList:null,targetRecordList:[],tabList:[{type:"bundle",component:a(63516).Z,content:[[[{type:"text",vModel:"mappingId",label:this.$t("head.id"),isPK:!0,regExpType:"id"},{type:"text",vModel:"mappingName",label:this.$t("head.name"),regExpType:"name"}],[{type:"select",vModel:"privateYn",label:this.$t("head.private"),isRequired:!0,val:"N",optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Yn"},orderByKey:!0},optionListName:"openWindowList",optionFor:"option in openWindowList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"},readonly:!0},{type:"text",vModel:"mappingGroup",isRequired:!0,label:this.$t("head.group"),readonly:!0},{type:"select",vModel:"privilegeId",label:this.$t("common.privilege"),isRequired:!0,optionInfo:{url:"/api/entity/privilege/search",params:{object:{privilegeType:"b"},limit:null,next:null,reverseOrder:!1},optionListName:"privilegeTypeList",optionFor:"option in privilegeTypeList",optionValue:"option.privilegeId",optionText:"option.privilegeId"},readonly:!0}]],[[{type:"textarea",vModel:"mappingDesc",label:this.$t("head.description"),height:"150px",regExpType:"desc"}]]]},{type:"bundle",component:a(7398)["default"]}]}},mounted(){this.data=b,this.recordList=$,this.targetRecordList="I"===t?[p]:[...I.responseRecordList]},methods:{changeTab(t){this.selectedIdx=t},getData(){const t={};return this.$refs.component.forEach((e=>{l()(t,e.getData())})),t}}}],buttonList:(()=>this.readonly?null:[{template:'<button type="button" @click="ok" class="btn btn-primary">{{ $t(\'head.ok\') }}</button>',methods:{ok(){const a=c()(C.$refs.content[0].getData());a.mappingType="I",I.$refs.tuiGrid.invoke("setValue",e,"I"===t?"requestMappingObject":"responseMappingObject",a),C.hideModal()}}}])()})},openCronModal(t){let e=null;const i=this,s=this.$refs.tuiGrid.invoke("setValue",t,"cronExpression"),n=/^\s*($|#|\w+\s*=|(\?|\*|(?:[0-5]?\d)(?:(?:-|\/|\,)(?:[0-5]?\d))?(?:,(?:[0-5]?\d)(?:(?:-|\/|\,)(?:[0-5]?\d))?)*)\s(\?|\*|(?:[0-5]?\d)(?:(?:-|\/|\,)(?:[0-5]?\d))?(?:,(?:[0-5]?\d)(?:(?:-|\/|\,)(?:[0-5]?\d))?)*)\s(\?|\*|(?:[01]?\d|2[0-3])(?:(?:-|\/|\,)(?:[01]?\d|2[0-3]))?(?:,(?:[01]?\d|2[0-3])(?:(?:-|\/|\,)(?:[01]?\d|2[0-3]))?)*)\s(\?|\*|(?:0?[1-9]|[12]\d|3[01])(?:(?:-|\/|\,)(?:0?[1-9]|[12]\d|3[01]))?(?:,(?:0?[1-9]|[12]\d|3[01])(?:(?:-|\/|\,)(?:0?[1-9]|[12]\d|3[01]))?)*)\s(\?|\*|(?:[1-9]|1[012])(?:(?:-|\/|\,)(?:[1-9]|1[012]))?(?:L|W)?(?:,(?:[1-9]|1[012])(?:(?:-|\/|\,)(?:[1-9]|1[012]))?(?:L|W)?)*|\?|\*|(?:JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC)(?:(?:-)(?:JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC))?(?:,(?:JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC)(?:(?:-)(?:JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC))?)*)\s(\?|\*|(?:[0-6])(?:(?:-|\/|\,|#)(?:[0-6]))?(?:,(?:[0-6])(?:(?:-|\/|\,|#)(?:[0-6]))?)*|\?|\*|(?:MON|TUE|WED|THU|FRI|SAT|SUN)(?:(?:-)(?:MON|TUE|WED|THU|FRI|SAT|SUN))?(?:,(?:MON|TUE|WED|THU|FRI|SAT|SUN)(?:(?:-)(?:MON|TUE|WED|THU|FRI|SAT|SUN))?)*))$/i;if(s){if(e=s.split(" "),!n.test(s)||""==e[0]||e[3]==e[5])return void this.$alert({type:"warn",message:this.$t("igate.job.error")})}else e=["*","*","*","*","*","?"];const o=this.$openModal({title:this.$t("igate.job.cronExpression"),modalWidth:"600px",modalHeight:"500px",contentList:[{template:'<CronExpressionModal ref="CronExpressionModal" :cron="cron" />',components:{CronExpressionModal:a(5351)["default"]},data(){return{cron:e}}}],buttonList:[{template:'<button type="button" class="btn btn-primary" @click="clickOk">{{ $t(\'head.ok\') }}</button>',methods:{clickOk(){const{cronResult:e}=o.$refs.content[0].$refs.CronExpressionModal;i.$refs.tuiGrid.invoke("setValue",t,"cronExpression",e),i.$refs.tuiGrid.invoke("cancelEditing"),i.$refs.tuiGrid.invoke("startEditing",t,"cronExpression"),o.hideModal()}}}]})},openReferenceModal(t){const e=this,i=this.$openModal({title:"Mapping Expression",modalWidth:"1000px",modalHeight:"800px",contentList:[{template:'<reference :pageType="pageType" :mappingExpression="mappingExpression" :className="className" :sourceRecordIdArr="sourceRecordIdArr" :targetRecordIdArr="targetRecordIdArr" />',components:{reference:a(38401)["default"]},data(){return{pageType:"mapping",mappingExpression:e.mappingExpression?e.mappingExpression:null,className:(0,o.W)("b"),sourceRecordIdArr:e.sourceRecordIdArr,targetRecordIdArr:e.targetRecordIdArr}}}],buttonList:[{template:`<button type="button" class="btn btn-primary" @click="click"> ${this.$t("head.ok")} </button>`,methods:{async click(){const{expression:a,isValidation:s}=await i.$refs.content[0].$children[0].getData();s&&(e.$refs.tuiGrid.invoke("setValue",t,"conditionExpression",a),e.$refs.tuiGrid.invoke("cancelEditing"),e.$refs.tuiGrid.invoke("startEditing",t,"conditionExpression"),i.hideModal())}}}]})},resize(){this.$nextTick((()=>{if(!this.$refs.tuiGrid)return;const t=document.querySelector("#panel"),e=t.querySelector(".panel-body"),a=getComputedStyle(e),i=(0,u.tJ)(a.getPropertyValue("padding-left")),s=(0,u.tJ)(a.getPropertyValue("padding-right")),n=(0,u.tJ)(a.getPropertyValue("padding-top")),o=(0,u.tJ)(a.getPropertyValue("padding-bottom")),r=e.clientWidth-i-s,l=e.clientHeight-n-o-80-30-(this.readonly?0:32);this.$refs.tuiGrid.invoke("setWidth",r),this.$refs.tuiGrid.invoke("setHeight",200>l?200:l)}))}}},f=g,y=a(43736),v=(0,y.Z)(f,i,s,!1,null,null,null),b=v.exports},14744:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return v}});var i=function(){var t=this,e=t._self._c;return e("div",{on:{click:t.gridFocusOut}},[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.interface.metaDomain")))]),e("b",{staticClass:"icon-star"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.metaDomain,expression:"metaDomain"}],staticClass:"form-control view-disabled",attrs:{readonly:t.readonly},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.metaDomain=e.target.multiple?a:a[0]}}},t._l(t.metaDomainList,(function(a,i){return e("option",{key:i,domProps:{value:a}},[t._v(" "+t._s(a)+" ")])})),0)])]),e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.service.request.model")))])]),e("div",{staticClass:"input-group"},[e("inputText",{ref:"requestRecordName",attrs:{vModel:"requestRecordName",classObject:{"form-control":!0,"view-disabled":!0},val:t.requestRecordName,readonly:!0}}),t.readonly?e("button",{staticClass:"btn btn-icon model-btn",attrs:{title:t.$t("head.open")},on:{click:function(e){return t.openRecordMngModal("I")}}},[e("i",{staticClass:"icon-link"})]):e("div",[e("button",{staticClass:"btn btn-icon model-btn",attrs:{title:t.$t(t.requestRecordName?"head.update":"head.insert"),disabled:!t.requestRecordName&&t.noInterfaceServices},on:{click:function(e){return t.openRecordMngModal("I",t.requestRecordName?"update":"create")}}},[e("i",{class:"icon-"+(t.requestRecordName?"link":"plus")})]),e("button",{staticClass:"btn btn-icon model-btn",attrs:{title:t.$t("head.search"),disabled:t.noInterfaceServices},on:{click:function(e){return t.openRecordSrchModal("I")}}},[e("i",{staticClass:"icon-srch"})]),e("button",{staticClass:"btn btn-icon model-btn",attrs:{title:t.$t("head.initialize"),disabled:!t.requestRecordName},on:{click:function(e){return t.resetRecord("I")}}},[e("i",{staticClass:"icon-reset"})])])],1)])]),e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.service.response.model")))])]),e("div",{staticClass:"input-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedResponseRecordId,expression:"selectedResponseRecordId"}],staticClass:"form-control view-disabled",attrs:{disabled:0===t.responseRecordList.length},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedResponseRecordId=e.target.multiple?a:a[0]}}},t._l(t.responseRecordList,(function(a,i){return e("option",{key:i,domProps:{value:a.recordId}},[t._v(" "+t._s(a.recordId)+" - "+t._s(a.recordName)+" ")])})),0),t.readonly?e("button",{staticClass:"btn btn-icon model-btn",attrs:{title:t.$t("head.open")},on:{click:function(e){return t.openRecordMngModal("O")}}},[e("i",{staticClass:"icon-link"})]):e("div",[0<t.responseRecordList.length?e("button",{staticClass:"btn btn-icon model-btn",attrs:{title:t.$t("head.update")},on:{click:function(e){return t.openRecordMngModal("O","update")}}},[e("i",{staticClass:"icon-link"})]):t._e(),e("button",{staticClass:"btn btn-icon model-btn",attrs:{title:t.$t("head.insert"),disabled:t.noInterfaceServices},on:{click:function(e){return t.openRecordMngModal("O","create")}}},[e("i",{staticClass:"icon-plus"})]),e("button",{staticClass:"btn btn-icon model-btn",attrs:{title:t.$t("head.search"),disabled:t.noInterfaceServices},on:{click:function(e){return t.openRecordSrchModal("O")}}},[e("i",{staticClass:"icon-srch"})]),e("button",{staticClass:"btn btn-icon model-btn",attrs:{title:t.$t("head.delete"),disabled:0===t.responseRecordList.length},on:{click:function(e){return t.resetRecord("O")}}},[e("i",{staticClass:"icon-delete",staticStyle:{color:"#8a8b92"}})])])])])])]),e("InterfaceService",{ref:"InterfaceService",attrs:{mode:t.mode,requestRecordObject:t.requestRecordObject,responseRecordList:t.responseRecordList,selectedResponseRecordId:t.selectedResponseRecordId,interfaceServices:t.interfaceServices},on:{haveInterfaceServices:t.haveInterfaceServices}})],1)},s=[],n=(a(57658),a(31823)),o=a.n(n),r=a(66281),l=a.n(r),d=a(37662),c=a(53308),p=a(85432),h=a(77285),u=a.n(h),m={name:"ModelRecordInfo",props:{detailData:Object,mode:String,newInterfaceId:String},components:{inputText:c.Z,InterfaceService:p["default"]},data(){return{metaDomainList:[],metaDomain:null,requestRecordObject:null,responseRecordList:[],selectedResponseRecordId:null,interfaceServices:null,noInterfaceServices:!1}},computed:{readonly(){return"detail"===this.mode||"done"===this.mode},requestRecordId(){const t=this.requestRecordObject&&this.requestRecordObject.recordId?this.requestRecordObject.recordId:"";return t},requestRecordName(){const t=this.requestRecordObject&&this.requestRecordObject.recordId?this.requestRecordObject.recordId:"",e=this.requestRecordObject&&this.requestRecordObject.recordName?this.requestRecordObject.recordName:"";return t&&e?`${t} - ${e}`:t&&!e?t:!t&&e?e:""}},watch:{newInterfaceId(){const{interfaceName:t}=this.getBasicInfo(),e=t||this.newInterfaceId;u()(this.requestRecordObject)||(this.requestRecordObject={...l()(this.requestRecordObject),recordId:this.namingFormatter("InterfaceRequestRecordID"),recordName:this.namingFormatter("InterfaceRequestRecordName",e)});const a={};if(this.interfaceServices=this.interfaceServices.map((t=>{t.pk.interfaceId=this.newInterfaceId;const{requestMappingObject:i,responseMappingObject:s}=t;if(!u()(i)){const a=t.pk.serviceId,s=this.namingFormatter("InterfaceRequestMappingID").replace("{1}",a),n=this.namingFormatter("InterfaceRequestMappingName",e).replace("{1}",a);t.requestMappingId=s,t.requestMappingObject={...l()(i),mappingId:s,mappingName:n,mappingDetails:i.mappingDetails.map((t=>{if(t.pk.mappingId=s,!u()(t.mappingRuleObject)){t.mappingRuleObject.pk.mappingId=s;const{mappingRuleObject:{mappingRuleSources:e}}=t;t.mappingRuleObject.mappingRuleSources=e.map((t=>(t.pk&&(t.pk.mappingId=s),t.recordId===this.detailData.requestRecordId&&(t.recordId=this.requestRecordObject.recordId),t)))}return t}))}}if(!u()(s)){const i=t.pk.serviceId,n=this.namingFormatter("InterfaceResponseMappingID").replace("{1}",i),o=this.namingFormatter("InterfaceResponseMappingName",e).replace("{1}",i);t.responseMappingId=n,t.responseMappingObject={...l()(s),mappingId:n,mappingName:o,mappingDetails:s.mappingDetails.map((t=>{t.pk.mappingId=n;const{mappingRuleObject:{mappingRuleSources:i,mappingRuleDetails:s}}=t;if(u()(i)||(t.mappingRuleObject.pk.mappingId=n,t.mappingRuleObject.mappingRuleSources=i.map((t=>(t.pk.mappingId=n,t.recordId===this.detailData.requestRecordId&&(t.recordId=this.requestRecordObject.recordId),t)))),!u()(t.mappingRuleObject)){t.mappingRuleObject.pk.mappingId=n;const i=t.mappingRuleObject.recordId;if(t.mappingRuleObject.recordId===this.detailData.requestRecordId)a[i]||(a[i]={recordId:this.requestRecordObject.recordId,recordName:this.requestRecordObject.recordName});else{const s=t.targetForm?this.namingFormatter("InterfaceFormResponseRecordID").replace("{1}",t.targetForm):this.namingFormatter("InterfaceResponseRecordID"),n=t.targetForm?this.namingFormatter("InterfaceFormResponseRecordName",e).replace("{1}",t.targetForm):this.namingFormatter("InterfaceResponseRecordName",e);a[i]||(a[i]={recordId:s,recordName:n})}t.mappingRuleObject.recordId=a[i].recordId,t.mappingRuleObject.mappingRuleDetails=s.map((t=>(t.pk.mappingId=n,t)))}return t}))}}return t})),this.noInterfaceServices=u()(this.interfaceServices),!u()(this.responseRecordList))if(this.responseRecordList=this.responseRecordList.map((t=>{const e=a[t.recordId];if(e){const{recordId:a,recordName:i}=e;t={...l()(t),recordId:a,recordName:i||a}}return t})).filter((t=>t)),u()(a))this.selectedResponseRecordId=null;else{const t=a[this.selectedResponseRecordId];if(t)this.selectedResponseRecordId=t.recordId;else{const t=Object.keys(a)[0];this.selectedResponseRecordId=a[t].recordId}}},detailData(){this.resetData()}},async created(){const t=await new d.p0("/api/entity/fieldMeta/group/search").read();if("ok"!==t.data.result)return;this.metaDomainList=0<t.data.object.length?t.data.object:["internal"];const{data:{object:e}}=await new d.p0("/api/page/properties").read({pk:{propertyId:"ImgOption.NamingRules"}});this.namingRules=e},methods:{getData(){const t={metaDomain:this.metaDomain,requestRecordId:this.requestRecordId?this.requestRecordId:null,requestRecordObject:this.requestRecordId?this.requestRecordObject:null,interfaceResponses:this.responseRecordList.map((t=>({pk:{recordId:t.recordId},recordObject:t}))),interfaceServices:(()=>this.$refs.InterfaceService.getData())()};return t},async resetData(){this.metaDomain=1===this.metaDomainList.length&&"internal"===this.metaDomainList[0]&&"add"===this.mode?"internal":null,this.requestRecordObject={},this.responseRecordList=[];for(const t in this.detailData){const e=this.detailData[t];t.startsWith("requestRecordObject")?this.requestRecordObject[t.replace("requestRecordObject.","")]=e:"metaDomain"===t&&(this.metaDomain=e)}this.detailData.interfaceResponses&&this.detailData.interfaceResponses.forEach((t=>{t.recordObject?this.responseRecordList.push(t.recordObject):this.detailData.requestRecordId===t.pk.recordId&&this.responseRecordList.push(l()(this.requestRecordObject))})),0<this.responseRecordList.length&&(this.selectedResponseRecordId=this.responseRecordList[0].recordId),this.detailData.interfaceServices?this.interfaceServices=l()(this.detailData.interfaceServices):this.interfaceServices=null,this.noInterfaceServices=u()(this.interfaceServices)},haveInterfaceServices(t){this.noInterfaceServices=!t},validateMappingInfo(t){const e=this.$refs.InterfaceService.$refs.tuiGrid;if("I"===t&&this.requestRecordObject){const t=e.invoke("getData"),a=this.requestRecordObject.recordId,i=[];if(t.forEach((t=>{const e=t.requestMappingObject;e&&e.mappingDetails&&e.mappingDetails.forEach((t=>{const e=t.mappingRuleObject;e.mappingRuleSources.some((t=>a===t.recordId))&&i.push(e.pk.mappingId)}))})),0<i.length)return this.$alert({type:"warn",message:this.$t("igate.interface.mapping.referenced",{0:i.join(", ")})}),!1}return!0},async openRecordMngModal(t,e,i){let s="",n=null,r=null;const c=this.$refs.InterfaceService.$refs.tuiGrid;if("number"===typeof i){s="service";const{requestRecordObject:a,responseRecordObject:o,serviceObject:l}=c.invoke("getRow",i);if(n="I"===t?a:o,r=l,"copy"===e||"update"===e){if(!n)return;if("copy"===e&&!this.validateMappingInfo(t))return}}else{if(s="interface",this.readonly&&("I"===t&&!this.requestRecordId||"O"===t&&0===this.responseRecordList.length))return void this.$alert({type:"warn",message:this.$t("head.no.data.warn")});("update"===e||this.readonly)&&("I"===t?(n=l()(this.requestRecordObject),e=n&&0!==Object.keys(n).length||this.readonly?"update":"create"):n=l()(this.responseRecordList.filter((t=>t.recordId===this.selectedResponseRecordId))[0]))}const p={};if("create"===e||"copy"===e){"copy"===e&&(s="interface");const t="interface"===s?this.getBasicInfo():r,a=["Id","Name","Type","Group","privateYn","privilegeId","adapterId"].map(((t,e)=>e<4?s+t:t));if(a.forEach((e=>{t[e]&&(p[e]=t[e])})),!this.metaDomain)return void this.$alert({type:"warn",message:this.$t("igate.interface.set.metadomain")});p.metaDomain=this.metaDomain,"copy"===e&&(p.recordObject={fields:n.fields},n=null)}else p.recordObject=n;const h=this;let m="";if("copy"===e)m=`${this.$t("head.copy")} (${this.$t("igate.service")} > ${this.$t("igate.interface")})`;else if(!this.readonly){const a="I"===t?!this.requestRecordName:"create"===e;m=a?this.$t("head.insert"):this.$t("head.update")}const g=this.$openModal({title:`${this.$t("igate.modelRecord")} ${m}`,fullscreen:h.readonly||"I"===t||"O"===t&&"update"===e,modalWidth:"450px",modalHeight:"200px",contentList:[{template:(()=>h.readonly||"I"===t||"O"===t&&"update"===e?'<RecordModal ref="RecordModal" :config="config" :mode="mode" :prefix="prefix" />':'<div style="height: 100%">\n\t\t\t\t\t\t\t   \t\t\t<div class="row" v-if="!isNext">\n\t\t\t\t\t\t\t       \t\t\t<div class="col-lg-12">\n\t\t\t\t\t\t\t\t       \t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t       \t\t\t<label class="control-label">\n\t\t\t\t\t\t\t\t\t\t       \t\t\t<span>Response Form</span>\n\t\t\t\t\t\t\t\t\t\t   \t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t   \t\t\t<input type="text" v-model="responseForm" class="form-control">\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t   \t\t\t</div>\n\t\t\t\t\t\t\t   \t\t\t</div>\n\t\t\t\t\t\t       \t\t\t<RecordModal \n\t\t\t\t\t\t\t\t\t\t\tref="RecordModal" \n\t\t\t\t\t\t\t\t\t\t\t:config="config" \n\t\t\t\t\t\t\t\t\t\t\t:mode="mode" \n\t\t\t\t\t\t\t\t\t\t\t:prefix="prefix" \n\t\t\t\t\t\t\t\t\t\t\t:responseForm="responseForm"\n\t\t\t\t\t\t\t\t\t\tv-else />\n\t\t\t\t\t\t   \t\t\t</div>')(),components:{RecordModal:a(91306)["default"]},data(){return{prefix:s,mode:(()=>{const t={create:"add",update:"modify",copy:"copy"};return h.readonly?h.mode:t[e]})(),config:{modalType:`${t}`,modalData:p},isNext:!1,responseForm:null}},watch:{isNext(){g.$el.firstChild.classList.add("modal-fullscreen"),g.$el.firstChild.style["max-width"]="95%",g.$el.firstChild.firstChild.style.height="100%",this.responseForm&&(this.config.modalData.id+=`_${this.responseForm}`)}}}],buttonList:(()=>this.readonly?null:[{template:'<button type="button" @click="confirm" class="btn btn-primary">\n\t\t\t\t\t\t\t\t\t\t       {{ buttonName }}\n\t\t\t\t\t\t\t\t\t\t   </button>',data(){return{buttonName:"copy"===e&&"I"===t?this.$t("head.copy"):this.$t("head.ok")}},methods:{async confirm(){if("O"!==t||"create"!==e&&"copy"!==e||g.$refs.content[0].isNext){const a=await this.getData();if(!a)return;"copy"!==e||"I"!==t||u()(h.requestRecordObject)?this.setData(a):this.$confirm({type:"warn",message:this.$t("igate.record.copy.overwrite.warn",{0:this.$t("igate.interface"),1:this.$t("head.request")}),callback:()=>{this.setData(a)}})}else"copy"===e&&(this.buttonName=this.$t("head.copy")),g.$refs.content[0].isNext=!0},setData(a){const n=o()("create"===e?{mode:e}:{},a);if("I"===t)"service"===s?(r.requestRecordObject=l()(n),c.invoke("setValue",i,"serviceObject",r),c.invoke("setValue",i,"requestRecordObject",n)):h.requestRecordObject=n;else if("service"===s)r.responseRecordObject=l()(n),c.invoke("setValue",i,"serviceObject",r),c.invoke("setValue",i,"responseRecordObject",n);else{const t=h.responseRecordList.findIndex((t=>t.recordId===a.recordId));if("create"===e||"copy"===e){if(-1<t)return void this.$alert({type:"warn",message:this.$t("head.overlap.data.warn")});h.responseRecordList.push(n)}else h.responseRecordList[t]=n;h.selectedResponseRecordId=a.recordId}g.hideModal()},async getData(){const t=g.$refs.content[0].$refs.RecordModal,e=t.getData(),a=await new d.p0("/api/entity/record/check").read(e,!0,(e=>{const a=t=>e.data.error.some((e=>e.field.startsWith(t)));a("fields")&&(t.changeTab(1),t.recordObjData.fields=l()(e.data.object.fields),t.recordObjData.options=l()(e.data.object.options),t.$refs.detailInfo.resetData()),this.$alert({type:"warn",message:e.data.error.filter((t=>"fields"===t.field)).map((t=>""+((t.className?`${t.className}<hr>`:"")+t.message))).join(",")})}));return"error"===a.data.result?null:e}}}])()})},openRecordSrchModal(t){if(!this.validateMappingInfo(t))return;if(!this.metaDomain)return void this.$alert({type:"warn",message:this.$t("igate.interface.set.metadomain")});const e={title:`${this.$t("igate.modelRecord")} ${this.$t("head.search")}`,search:{list:[{type:"text",vModel:"recordId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"text",vModel:"recordName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/record/search",totalCntUrl:"/api/entity/record/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"recordId",header:this.$t("igate.modelRecord.id"),width:"50%"},{name:"recordName",header:this.$t("igate.modelRecord.name"),width:"50%"}]}}},i=this,s=this.$openModal({...e,modalWidth:"700px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t\t       <Search :list="searchList" @search="search" ref="search"/>\t\t\t\t\t\t\t\t\t   \n\t\t\t\t\t\t\t    \t   <Main\n\t\t\t\t\t\t\t   \t   \t\t\t:buttonList="buttonList"\n\t\t\t\t\t\t\t\t   \t\t\t:gridInfo="gridInfo"\n\t\t\t\t\t\t\t\t   \t\t\t:gridSearchObj="gridSearchObj"\n\t\t\t\t\t\t\t\t   \t\t\t:gridType="\'modalBasic\'"\n\t\t\t\t\t\t\t\t   \t\t\t:viewer="true"\n\t\t\t\t\t\t\t\t   \t\t\t@rowClicked="rowClicked"\n\t\t\t\t\t\t\t\t   \t\t\t@initialize="initialize"\n\t\t\t\t\t\t\t   \t\t\t/>\n\t\t\t\t\t\t   \t\t  </div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:[],buttonList:[],gridInfo:{},gridSearchObj:{}}},created(){const{search:t,button:a,grid:i}=e;this.searchList=t.list,this.buttonList=a.list,this.gridInfo=i},methods:{search(t){t.recordType="I",this.gridSearchObj=t},rowClicked:async e=>{const a="I"===t&&e.recordId===i.requestRecordId||"O"===t&&0<i.responseRecordList.filter((t=>t.recordId===e.recordId)).length;if(a)this.$alert({type:"warn",message:this.$t("head.overlap.data.warn")});else if("I"===t){const t=await new d.p0("/api/entity/record/object").read({recordId:e.recordId});if("ok"!==t.data.result)return;const a=t.data.object;u()(i.requestRecordObject)?(i.requestRecordObject=a,s.hideModal()):this.$confirm({type:"warn",message:this.$t("igate.record.copy.overwrite.warn",{0:this.$t("igate.interface"),1:this.$t("head.request")}),callback:async()=>{i.requestRecordObject=a,s.hideModal()}})}else{const t=await new d.p0("/api/entity/record/object").read({recordId:e.recordId});if("ok"!==t.data.result)return;i.responseRecordList.push(t.data.object),i.selectedResponseRecordId=e.recordId,s.hideModal()}},initialize(){this.$refs.search.initialize()}}}]})},resetRecord(t){if("I"===t){if(!this.requestRecordObject)return;if(!this.requestRecordObject.recordId)return}if("O"===t){if(0===this.responseRecordList.length)return;if(!this.selectedResponseRecordId)return}const e=this.$refs.InterfaceService.$refs.tuiGrid.invoke("getData"),a="I"===t?this.requestRecordObject.recordId:this.selectedResponseRecordId,i=[];e.forEach((e=>{const s="I"===t?e.requestMappingObject:e.responseMappingObject;s&&s.mappingDetails&&s.mappingDetails.forEach((e=>{const s=e.mappingRuleObject,n="I"===t?s.mappingRuleSources.some((t=>a===t.recordId)):a===s.recordId;n&&i.push(s.pk.mappingId)}))})),0<i.length?this.$alert({type:"warn",message:this.$t("igate.interface.mapping.referenced",{0:i.join(", ")})}):"I"===t?this.requestRecordObject=null:(this.responseRecordList=this.responseRecordList.filter((t=>t.recordId!==a)),this.selectedResponseRecordId=0===this.responseRecordList.length?null:this.responseRecordList[0].recordId)},namingFormatter(t,e=this.newInterfaceId){const a=this.namingRules.find((({pk:{propertyKey:e}})=>t===e)).propertyValue;return a.replace("{0}",e)},getBasicInfo(){return this.$parent.$refs.component[0].getData()},gridFocusOut(){const t=this.$refs.InterfaceService.$refs.tuiGrid;t&&(t.invoke("blur"),t.invoke("cancelEditing"))}}},g=m,f=a(43736),y=(0,f.Z)(g,i,s,!1,null,null,null),v=y.exports},35516:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"interfaceTableModal"}},[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[t._m(0),e("div",{staticClass:"form-group"},[e("label",{staticClass:"custom-control custom-radio custom-control-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedModelType,expression:"selectedModelType"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"selectModel",value:"table"},domProps:{checked:t._q(t.selectedModelType,"table")},on:{input:t.rdioInputEvt,change:function(e){t.selectedModelType="table"}}}),e("span",{staticClass:"custom-control-label"},[t._v("Interface's Table")])])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"detail-content-common"},[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.interfaceTable,expression:"interfaceTable"}],staticClass:"form-control view-disabled readonly",attrs:{type:"text",readonly:""},domProps:{value:t.interfaceTable},on:{input:function(e){e.target.composing||(t.interfaceTable=e.target.value)}}}),"table"===t.selectedModelType?e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button"},on:{click:t.openSrchTableModal}},[e("i",{staticClass:"icon-srch",staticStyle:{"margin-right":"0px"}})]):t._e()])])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"custom-control custom-radio custom-control-inline",staticStyle:{"margin-bottom":"16px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedModelType,expression:"selectedModelType"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"selectModel",value:"query"},domProps:{checked:t._q(t.selectedModelType,"query")},on:{input:t.rdioInputEvt,change:function(e){t.selectedModelType="query"}}}),e("span",{staticClass:"custom-control-label"},[t._v("Query Statement")])]),t._m(1),e("div",{staticClass:"detail-content-common"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.querySelect,expression:"querySelect"}],class:{"form-control":!0,"view-disabled":!0,readonly:!("query"===t.selectedModelType)},staticStyle:{"min-height":"150px"},attrs:{readonly:!("query"===t.selectedModelType)},domProps:{value:t.querySelect},on:{input:function(e){e.target.composing||(t.querySelect=e.target.value)}}})]),t._m(2),e("div",{staticClass:"detail-content-common"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.queryFrom,expression:"queryFrom"}],class:{"form-control":!0,"view-disabled":!0,readonly:!("query"===t.selectedModelType)},staticStyle:{"min-height":"150px"},attrs:{readonly:!("query"===t.selectedModelType)},domProps:{value:t.queryFrom},on:{input:function(e){e.target.composing||(t.queryFrom=e.target.value)}}})]),t._m(3),e("div",{staticClass:"detail-content-common"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.queryWhere,expression:"queryWhere"}],class:{"form-control":!0,"view-disabled":!0,readonly:!("query"===t.selectedModelType)},staticStyle:{"min-height":"150px"},attrs:{readonly:!("query"===t.selectedModelType)},domProps:{value:t.queryWhere},on:{input:function(e){e.target.composing||(t.queryWhere=e.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("a",{staticClass:"btn",staticStyle:{display:"block"},attrs:{href:"javascript:void(0);",title:`${t.$t("igate.query.analyze")}`},on:{click:function(e){return t.modelAnalyze()}}},[e("i",{staticClass:"icon-result"}),t._v(" "+t._s(t.$t("igate.query.analyze"))+" ")])])])]),e("div",{staticClass:"col-lg-6"},[t._m(4),e("div",{staticClass:"collapse show",attrs:{id:"analyzeResult"}},[e("div",{staticClass:"card card-body"},[e("div",{staticClass:"table-responsive"},[e("TuiGrid",t._b({ref:"tuiGrid"},"TuiGrid",t.options,!1))],1)])])])])])},s=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-group"},[e("header",{staticClass:"sub-bar",staticStyle:{"justify-content":"center",background:"#f5f6fb !important"}},[e("h3",{staticClass:"sub-bar-text"},[t._v("Select Model Creation")])])])},function(){var t=this,e=t._self._c;return e("label",{staticClass:"control-label"},[e("span",[t._v(" Select ")])])},function(){var t=this,e=t._self._c;return e("label",{staticClass:"control-label"},[e("span",[t._v(" From ")])])},function(){var t=this,e=t._self._c;return e("label",{staticClass:"control-label"},[e("span",[t._v(" Where ")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-group"},[e("header",{staticClass:"sub-bar",staticStyle:{"justify-content":"center",background:"#f5f6fb !important"}},[e("h3",{staticClass:"sub-bar-text"},[t._v("Analyze Result")])])])}],n=a(77285),o=a.n(n),r=a(37662),l=a(37856),d={name:"tableModal",props:{adapterId:String,interfaceTableList:Array,interfaceTableInfo:Object},components:{TuiGrid:l.Grid},data(){return{selectedModelType:null,interfaceTable:null,querySelect:null,queryFrom:null,queryWhere:null,interfaceTableColumns:{},options:{data:[],columns:[{header:this.$t("head.id"),name:"fieldName"},{header:this.$t("common.type"),name:"fieldType",align:"center",formatter:({row:t})=>{let e="";if("R"===t.fieldType)e+="Group";else{const a={B:"Byte",S:"Short",I:"Int",L:"Long",F:"Float",D:"Double",T:"String",N:"Numeric",P:"Decimal",A:"Raw",p:"Timestamp",b:"Boolean",R:"Record",v:"Individual"};e+=`${a[t.fieldType]}(${t.fieldLength})`,"N"!=t.arrayType&&(e+=`[${t.arrayType}]`)}return e}}],onGridMounted:t=>{t.instance.on("expand",(()=>{setTimeout((()=>{this.resize()}),0)})),t.instance.on("collapse",(()=>{setTimeout((()=>{this.resize()}),0)}))},onGridUpdated:()=>{this.resize()}}}},created(){if(this.options=(0,r.d_)(this.options),this.interfaceTableInfo.interfaceTable)if(this.selectedModelType=this.interfaceTableInfo.tableType,"query"===this.selectedModelType)for(const t in this.interfaceTableInfo.queryStatementInfo)this[t]=this.interfaceTableInfo.queryStatementInfo[t];else"table"===this.selectedModelType&&(this.interfaceTable=this.interfaceTableInfo.interfaceTable?this.interfaceTableInfo.interfaceTable:null);r.dc.$on("MainResize",this.resize),r.Gk.$on("MainResize",this.resize),r.bB.$on("MainResize",this.resize),r.QK.$on("MainResize",this.resize)},mounted(){o()(this.interfaceTableInfo)||this.setGridData(this.interfaceTableInfo.interfaceTableColumns),this.resize()},methods:{rdioInputEvt(){this.interfaceTable=null,this.querySelect=null,this.queryFrom=null,this.queryWhere=null,this.$refs.tuiGrid.invoke("resetData",[])},openSrchTableModal(){const t=this,e=this.$openModal({title:`${this.$t("igate.interface")} ${this.$t("head.table")}`,modalWidth:"450px",modalHeight:"580px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t\t\t<Search :list="searchList" @search="search" ref="search"/>\n\t\t\t\t\t\t\t\t\t<div class="ct-content">\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t:list="buttonList"\n\t\t\t\t\t\t\t\t\t\t\t:viewer="true"\n\t\t\t\t\t\t\t\t\t\t\t:totalCnt="null"\n\t\t\t\t\t\t\t\t\t\t\t:currentCnt="null"\n\t\t\t\t\t\t\t\t\t\t\t@initialize="initialize"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<NoData v-if="!isGridView" />\n\t\t\t\t\t\t\t\t\t\t<div class="table-responsive" style="height: 300px" v-else>\n\t\t\t\t\t\t\t\t\t\t\t<TuiGrid ref="tuiGrid" v-bind="options" @click="rowClicked" />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>',components:{Search:a(96434).Z,Button:a(19286).Z,NoData:a(48578).Z,TuiGrid:a(37856).Grid},data(){return{searchList:[{type:"text",vModel:"table",label:this.$t("head.table"),placeholder:this.$t("head.searchData")}],buttonList:[{id:"initialize",isUse:!0}],totalCnt:null,isGridView:!1,dataList:t.interfaceTableList,options:{data:[],scrollY:!0,minBodyHeight:"260",bodyHeight:"300",columns:[{header:this.$t("head.table"),name:"TABLE_NAME"}]}}},async created(){this.options=(0,r.d_)(this.options)},methods:{search(t){this.isGridView=!0,this.$nextTick((()=>{let e=[];e=o()(t.table)?this.dataList:this.dataList.filter((e=>e.TABLE_NAME.includes(t.table))),this.$refs.tuiGrid.invoke("resetData",e)}))},rowClicked(a){this.$refs.tuiGrid.invoke("getRow",a.rowKey)&&(t.interfaceTable=this.$refs.tuiGrid.invoke("getRow",a.rowKey).TABLE_NAME,e.hideModal())},initialize(){this.$refs.search.initialize()}}}]})},async modelAnalyze(){if(!this.selectedModelType)return void this.$alert({type:"warn",message:this.$t("igate.interface.table.register.first.warn")});let t={};if("table"===this.selectedModelType){if(!this.interfaceTable)return void this.$alert({type:"warn",message:this.$t("igate.interface.table.register.first.warn")});t={adapterId:this.adapterId,tableName:this.interfaceTable,isInterface:!0}}else{if(!this.querySelect||!this.queryFrom)return void this.$alert({type:"warn",message:this.$t("igate.interface.table.query.statement.warn")});t={adapterId:this.adapterId,select:this.querySelect,from:this.queryFrom,where:this.queryWhere}}const e=await new r.p0("/api/databaseMeta/column").read(t);"ok"===e.data.result?(this.interfaceTableColumns=e.data.object,this.setGridData(this.interfaceTableColumns)):this.$alert({type:"warn",message:`${e.data.error[0].message}`})},setGridData(t){this.$refs.tuiGrid.invoke("resetData",t)},resize(){setTimeout((()=>{if(!this.$refs.tuiGrid)return;const t=document.getElementById("interfaceTableModal"),e=t.getElementsByClassName("col-lg-6")[0],a=getComputedStyle(e),i=(0,r.tJ)(a.getPropertyValue("padding-left")),s=(0,r.tJ)(a.getPropertyValue("padding-right")),n=e.clientWidth-i-s,o="undefined"===typeof t.getElementsByClassName("sub-bar")?t.getElementsByClassName("sub-bar")[1].clientHeight:38,l=t.parentNode.clientHeight-o-16-48-25;this.$refs.tuiGrid.invoke("setWidth",n),this.$refs.tuiGrid.invoke("setHeight",l)}),0)},getData(){const t={tableType:this.selectedModelType,interfaceTable:"table"===this.selectedModelType?this.interfaceTable:this.queryFrom,interfaceTableColumns:this.interfaceTableColumns};return"query"===this.selectedModelType&&(t.queryStatementInfo={querySelect:this.querySelect,queryFrom:this.queryFrom,queryWhere:this.queryWhere?this.queryWhere:null}),t}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},59577:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return m}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(this.$t("head.id"))+" "),t.getReadonly(t.regExpInfo["jobId"])?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt["jobId"]}/${t.maxLengthCnt["jobId"]})`)+" ")])]),e("b",{staticClass:"icon-star"})]),e("div",{class:"detail-content-"+(t.getReadonly(t.regExpInfo["jobId"])?"common":"regExp"),style:{"padding-left":""+(t.getReadonly(t.regExpInfo["jobId"])?"0px":"8px")}},[e("inputText",{ref:"jobId",attrs:{vModel:"jobId",classObject:{"form-control":t.getReadonly(t.regExpInfo["jobId"]),"regExp-text":!t.getReadonly(t.regExpInfo["jobId"]),"view-disabled":!0,dataKey:!0},readonly:t.readonly||t.getReadonly(t.regExpInfo["jobId"]),regExpType:"id"},on:{setLengthCnt:t.setLengthCnt}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(this.$t("head.name"))+" "),t.getReadonly(t.regExpInfo["jobName"])?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt["jobName"]}/${t.maxLengthCnt["jobName"]})`)+" ")])])]),e("div",{class:"detail-content-"+(t.getReadonly(t.regExpInfo["jobName"])?"common":"regExp"),style:{"padding-left":""+(t.getReadonly(t.regExpInfo["jobName"])?"0px":"8px")}},[e("inputText",{ref:"jobName",attrs:{vModel:"jobName",classObject:{"form-control":t.getReadonly(t.regExpInfo["jobName"]),"regExp-text":!t.getReadonly(t.regExpInfo["jobName"]),"view-disabled":!0},readonly:t.readonly,regExpType:"name"},on:{setLengthCnt:t.setLengthCnt}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(this.$t("igate.job.concurrentExecuteYn")))]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"detail-content-common"},[e("selectBox",{ref:"concurrentExecuteYn",attrs:{vModel:"concurrentExecuteYn",classObject:{"form-control":!0,"view-disabled":!0},readonly:t.readonly,optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Yn"},orderByKey:!0},optionListName:"concurrentExecuteYns",optionFor:"option in concurrentExecuteYns",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(this.$t("igate.operation"))+" "+t._s(this.$t("head.id"))+" ")]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"detail-content-common"},[e("div",{staticClass:"input-group"},[e("inputText",{ref:"operationId",attrs:{vModel:"operationId",classObject:{"form-control":!0,"view-disabled":!0},readonly:!0}}),t.readonly&&!t.isTools?e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.open")},on:{click:function(e){return t.clickEvt("operationId")}}},[e("i",{staticClass:"icon-link"})]):t._e(),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button"},on:{click:t.openOperationModal}},[e("i",{staticClass:"icon-srch"}),t._v(t._s(t.$t("head.search"))+" ")]),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button",title:t.$t("head.initialize")},on:{click:function(e){t.$refs["operationId"].setData(null)}}},[e("i",{staticClass:"icon-reset",staticStyle:{"margin-right":"0px"}})])],1)])])]),e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(this.$t("common.type")))]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"detail-content-common"},[e("selectBox",{ref:"jobType",attrs:{vModel:"jobType",classObject:{"form-control":!0,"view-disabled":!0},readonly:t.readonly,optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Job.JobType"},orderByKey:!0},optionListName:"jobTypes",optionFor:"option in jobTypes",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(this.$t("igate.job.cronExpression"))+" "),t.getReadonly(t.regExpInfo["cronExpression"])?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt["cronExpression"]}/${t.maxLengthCnt["cronExpression"]})`)+" ")])])]),e("div",{staticClass:"detail-content-common"},[e("div",{staticClass:"input-group"},[e("inputText",{ref:"cronExpression",attrs:{vModel:"cronExpression",classObject:{"form-control":!0,"view-disabled":!0},regExpType:"cron",readonly:t.readonly},on:{setLengthCnt:t.setLengthCnt}}),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button"},on:{click:t.openCronModal}},[e("i",{staticClass:"icon-srch"}),t._v(t._s(t.$t("head.search"))+" ")]),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button",title:t.$t("head.initialize")},on:{click:function(e){t.$refs["cronExpression"].setData(null)}}},[e("i",{staticClass:"icon-reset",staticStyle:{"margin-right":"0px"}})])],1)])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(this.$t("igate.job.calendarId")))])]),e("div",{staticClass:"detail-content-common"},[e("div",{staticClass:"input-group"},[e("inputText",{ref:"calendarId",attrs:{vModel:"calendarId",classObject:{"form-control":!0,"view-disabled":!0},readonly:!0}}),t.readonly&&!t.isTools?e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.open")},on:{click:function(e){return t.clickEvt("calendarId")}}},[e("i",{staticClass:"icon-link"})]):t._e(),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button"},on:{click:t.openCalendarModal}},[e("i",{staticClass:"icon-srch"}),t._v(t._s(t.$t("head.search"))+" ")]),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button",title:t.$t("head.initialize")},on:{click:function(e){t.$refs["calendarId"].setData(null)}}},[e("i",{staticClass:"icon-reset",staticStyle:{"margin-right":"0px"}})])],1)])])]),e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(this.$t("head.log.level")))]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"detail-content-common"},[e("selectBox",{ref:"jobLogLevel",attrs:{vModel:"jobLogLevel",classObject:{"form-control":!0,"view-disabled":!0},readonly:t.readonly,optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.LogLevel"},orderByKey:!1},optionListName:"jobLogLevels",optionFor:"option in jobLogLevels",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(this.$t("igate.job.logResultYn")))]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"detail-content-common"},[e("selectBox",{ref:"logResultYn",attrs:{vModel:"logResultYn",classObject:{"form-control":!0,"view-disabled":!0},readonly:t.readonly,optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Yn"},orderByKey:!0},optionListName:"logResultYns",optionFor:"option in logResultYns",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}}})],1)])])]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(this.$t("head.description"))+" "),t.getReadonly(t.regExpInfo["jobDesc"])?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt["jobDesc"]}/${t.maxLengthCnt["jobDesc"]})`)+" ")])])]),e("div",{class:"detail-content-"+(t.getReadonly(t.regExpInfo["jobDesc"])?"common":"regExp"),style:{"padding-left":""+(t.getReadonly(t.regExpInfo["jobDesc"])?"0px":"8px")}},[e("textArea",{ref:"jobDesc",attrs:{vModel:"jobDesc",classObject:{"form-control":t.getReadonly(t.regExpInfo["jobDesc"]),"regExp-textarea":!t.getReadonly(t.regExpInfo["jobDesc"]),"view-disabled":!0},readonly:t.readonly,regExpType:"desc",height:"60px"},on:{setLengthCnt:t.setLengthCnt}})],1)])])])])},s=[],n=a(63822),o=a(31823),r=a.n(o),l=a(37662),d=a(63516),c={name:"JobBasicInfo",extends:d.Z,data(){return{keyArr:["jobId","jobName","jobType","calendarId","cronExpression","operationId","jobLogLevel","concurrentExecuteYn","logResultYn","jobDesc"],regExpInfo:{jobId:{regExpType:"id",isPK:!0,readonly:!1},jobName:{regExpType:"name",isPK:!1,readonly:!1},jobDesc:{regExpType:"desc",isPK:!1,readonly:!1},cronExpression:{regExpType:"cron",isPK:!1,readonly:!1}}}},computed:{...(0,n.rn)(["isTools"])},methods:{getReadonly(t){return this.readonly||t.isPK&&"modify"===this.mode},getData(){let t={};for(let e in this.$refs)0!==this.$refs[e].length&&(t=r()(t,this.$refs[e].getData()));return t},initData(){const t={};this.keyArr.forEach((e=>{t[e]="undefined"!==typeof this.detailData[e]&&null!==this.detailData[e]?String(this.detailData[e]):null;const a=Object.keys(this.regExpInfo).includes(e)?this.regExpInfo[e].regExpType:"default";this.setLengthCnt({[e]:0}),this.maxLengthCnt[e]=(0,l.oo)(a).maxLength}));for(const e in this.$refs)this.$refs[e].setData&&this.$refs[e].setData(t[this.$refs[e]._props.vModel])},openCalendarModal(){const t=this,e=this.$openModal({title:this.$t("igate.calendar"),modalWidth:"1000px",contentList:[{template:'<div>\n                                <Search :list="searchList" @search="search" ref="search"/>\n                                    <Main\n                                    :buttonList="buttonList"\n                                    :gridInfo="gridInfo"\n                                    :gridSearchObj="gridSearchObj"\n                                    :gridType="\'modalBasic\'"\n                                    :viewer="true"\n                                    @rowClicked="rowClicked"\n                                    @initialize="initialize"\n                                />\n                            </div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:[{type:"text",vModel:"calendarId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"text",vModel:"calendarName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"text",vModel:"calendarDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0}],gridInfo:{url:"/api/entity/calendar/search",totalCntUrl:"/api/entity/calendar/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"calendarId",width:"20%"},{header:this.$t("head.name"),name:"calendarName",width:"20%"},{header:this.$t("head.description"),name:"calendarDesc",width:"20%"},{header:this.$t("igate.calendar.saturday"),name:"saturdayYn",width:"20%"},{header:this.$t("igate.calendar.sunday"),name:"sundayYn",width:"20%"}]}},gridSearchObj:{}}},methods:{search(t){this.gridSearchObj=t},rowClicked(a){t.$refs["calendarId"].setData(a.calendarId),e.hideModal()},initialize(){this.$refs.search.initialize()}}}]})},openCronModal(){let t=null;const e=this.$refs["cronExpression"].getData().cronExpression,i=/^\s*($|#|\w+\s*=|(\?|\*|(?:[0-5]?\d)(?:(?:-|\/|\,)(?:[0-5]?\d))?(?:,(?:[0-5]?\d)(?:(?:-|\/|\,)(?:[0-5]?\d))?)*)\s(\?|\*|(?:[0-5]?\d)(?:(?:-|\/|\,)(?:[0-5]?\d))?(?:,(?:[0-5]?\d)(?:(?:-|\/|\,)(?:[0-5]?\d))?)*)\s(\?|\*|(?:[01]?\d|2[0-3])(?:(?:-|\/|\,)(?:[01]?\d|2[0-3]))?(?:,(?:[01]?\d|2[0-3])(?:(?:-|\/|\,)(?:[01]?\d|2[0-3]))?)*)\s(\?|\*|(?:0?[1-9]|[12]\d|3[01])(?:(?:-|\/|\,)(?:0?[1-9]|[12]\d|3[01]))?(?:,(?:0?[1-9]|[12]\d|3[01])(?:(?:-|\/|\,)(?:0?[1-9]|[12]\d|3[01]))?)*)\s(\?|\*|(?:[1-9]|1[012])(?:(?:-|\/|\,)(?:[1-9]|1[012]))?(?:L|W)?(?:,(?:[1-9]|1[012])(?:(?:-|\/|\,)(?:[1-9]|1[012]))?(?:L|W)?)*|\?|\*|(?:JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC)(?:(?:-)(?:JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC))?(?:,(?:JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC)(?:(?:-)(?:JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC))?)*)\s(\?|\*|(?:[0-6])(?:(?:-|\/|\,|#)(?:[0-6]))?(?:,(?:[0-6])(?:(?:-|\/|\,|#)(?:[0-6]))?)*|\?|\*|(?:MON|TUE|WED|THU|FRI|SAT|SUN)(?:(?:-)(?:MON|TUE|WED|THU|FRI|SAT|SUN))?(?:,(?:MON|TUE|WED|THU|FRI|SAT|SUN)(?:(?:-)(?:MON|TUE|WED|THU|FRI|SAT|SUN))?)*))$/i;if(e){if(t=e.split(" "),!i.test(e)||""==t[0]||t[3]==t[5])return void this.$alert({type:"warn",message:this.$t("igate.job.error")})}else t=["*","*","*","*","*","?"];const s=this,n=this.$openModal({title:this.$t("igate.job.cronExpression"),modalWidth:"600px",modalHeight:"500px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t\t\t\t<CronExpressionModal ref="CronExpressionModal" :cron="cron" />\n\t\t\t\t\t\t\t\t\t</div>',components:{CronExpressionModal:a(5351)["default"]},data(){return{cron:t}}}],buttonList:[{template:'<button type="button" class="btn btn-primary" @click="clickOk">{{ $t(\'head.ok\') }}</button>',methods:{clickOk(){s.$refs["cronExpression"].setData(n.$refs.content[0].$refs.CronExpressionModal.cronResult),n.hideModal()}}}]})},openOperationModal(){const t=this,e=this.$openModal({title:this.$t("igate.operation"),modalWidth:"1000px",contentList:[{template:'<div>\n                                <Search :list="searchList" @search="search" ref="search"/>\n                                    <Main\n                                    :buttonList="buttonList"\n                                    :gridInfo="gridInfo"\n                                    :gridSearchObj="gridSearchObj"\n                                    :gridType="\'modalBasic\'"\n                                    :viewer="true"\n                                    @rowClicked="rowClicked"\n                                    @initialize="initialize"\n                                />\n                            </div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:[{type:"text",vModel:"operationId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"operationName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"select",vModel:"operationType",label:this.$t("common.type"),val:"J",optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Operation.OperationType"},orderByKey:!0},optionListName:"operationTypeList",optionFor:"option in operationTypeList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue",optionIf:"option.pk.propertyKey === 'J'",isViewAll:!1}},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0}],gridInfo:{url:"/api/entity/operation/search",totalCntUrl:"/api/entity/operation/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"operationId",width:"50%"},{header:this.$t("head.name"),name:"operationName",width:"50%"}]}},gridSearchObj:{}}},methods:{search(t){this.gridSearchObj=t},rowClicked(a){t.$refs["operationId"].setData(a.operationId),e.hideModal()},initialize(){this.$refs.search.initialize()}}}]})},clickEvt(t){const e=this.detailData[t];e?"operationId"===t?(0,l.RB)("102070",(()=>{sessionStorage.removeItem("selectedLinkOperationId"),sessionStorage.setItem("selectedLinkOperationId",JSON.stringify(e))})):(0,l.RB)("302060",(()=>{localStorage.removeItem("searchObj"),localStorage.setItem("searchObj",JSON.stringify({calendarId:e}))})):this.$alert({type:"warn",message:this.$t("head.no.data.warn")})}}},p=c,h=a(43736),u=(0,h.Z)(p,i,s,!1,null,null,null),m=u.exports},25327:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"list-group",staticStyle:{width:"100%"}},t._l(t.propertyList,(function(a,i){return e("li",{key:i,staticClass:"list-group-item"},[e("label",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.check,expression:"property.check"}],staticClass:"custom-control-input view-disabled",attrs:{type:"checkbox",disabled:t.readonly},domProps:{checked:Array.isArray(a.check)?t._i(a.check,null)>-1:a.check},on:{change:function(e){var i=a.check,s=e.target,n=!!s.checked;if(Array.isArray(i)){var o=null,r=t._i(i,o);s.checked?r<0&&t.$set(a,"check",i.concat([o])):r>-1&&t.$set(a,"check",i.slice(0,r).concat(i.slice(r+1)))}else t.$set(a,"check",n)}}}),e("span",{staticClass:"custom-control-label"},[t._v(t._s(a.instanceId))])])])})),0)},s=[],n=(a(57658),a(37662)),o=a(21783),r=a(77285),l=a.n(r),d={name:"JobInstanceId",extends:o.Z,data(){return{instanceList:[],propertyList:[]}},async created(){const t=new n.p0("/api/entity/instance/search"),e=await t.read({object:{},limit:null,next:null,reverseOrder:!1});"ok"===e.data.result&&(this.instanceList=e.data.object.filter((t=>"T"==t.instanceType)))},methods:{getData(){const t=this.propertyList.filter((t=>t.check)),e=[];for(const a of t)e.push({pk:{instanceId:a.instanceId}});return{jobDeploies:e}},async setPropertyList(){const t=this.instanceList.map((t=>t.instanceId)),e=l()(this.detailData.jobDeploies)?[]:this.detailData.jobDeploies.map((t=>t.pk.instanceId));this.propertyList=[];for(const a of t)this.propertyList.push({instanceId:a,check:e.includes(a)});this.propertyList=this.propertyList.map((t=>(0,n.Np)(t)))}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},52926:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return g}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"propertyTab"},[e("div",{staticClass:"form-table form-table-responsive"},[e("div",{staticClass:"form-table-head"},[t.readonly?t._e():e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.insert")},on:{click:t.addProperty}},[e("i",{staticClass:"icon-plus-circle"})]),e("label",{staticClass:"col"},[t._v(t._s(t.$t("igate.mappingDictionary.targetFieldPath")))]),e("label",{staticClass:"col"},[t._v(t._s(t.$t("igate.mappingDictionary.mappingExpression")))])]),e("div",{staticClass:"form-table-wrap"},t._l(t.propertyList,(function(a,i){return e("div",{key:`${a.idx}`,staticClass:"form-table-body"},[t.readonly?t._e():e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.delete")},on:{click:function(e){return t.removeProperty(i)}}},[e("i",{staticClass:"icon-minus-circle"})]),e("div",{staticClass:"col"},[e("div",{staticStyle:{width:"100%"}},[e("inputText",{ref:`component${i}`,refInFor:!0,attrs:{vModel:"pk.targetFieldPath",classObject:{"form-control":!0,"view-disabled":!0,dataKey:!1},val:a["pk.targetFieldPath"],readonly:t.readonly}})],1)]),e("div",{staticClass:"col"},[e("div",{staticStyle:{width:"100%"}},[e("inputText",{ref:`component${i}`,refInFor:!0,attrs:{vModel:"mappingExpression",classObject:{"form-control":!0,"view-disabled":!0,dataKey:!1},val:a["mappingExpression"],readonly:t.readonly}})],1)])])})),0)])])},s=[],n=(a(57658),a(37662)),o=a(21783),r=a(31823),l=a.n(r),d=a(77285),c=a.n(d),p={name:"RecordExtendInfo",extends:o.Z,data(){return{modalInfo:{title:this.$t("igate.mapping"),addMultiRow:!0,search:{list:[{type:"text",vModel:"mappingId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/mapping/search",totalCntUrl:"/api/entity/mapping/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"mappingId"},{header:this.$t("head.name"),name:"mappingName"},{header:this.$t("head.description"),name:"mappingDesc"},{header:this.$t("common.type"),name:"mappingType",align:"center",formatter:({row:t})=>{const e={H:"Header",I:"Individual"};return e[t.mappingType]}}]}}}}},methods:{getData(){const t=[];for(let e=0;e<this.propertyList.length;e++){let a={};this.$refs[`component${e}`].forEach((t=>{a=l()(a,t.getData())})),t.push((0,n.Fh)(a))}return{mappingDictionaryDetails:t}},async setPropertyList(){if(c()(this.detailData))this.propertyList=[];else{if("undefined"!==typeof this.detailData.mappingDictionaryDetails){this.propertyList=[...this.detailData.mappingDictionaryDetails];let t=null;if(this.httpReq&&(t=await this.httpReq.read(l()(this.detailInfo.params,this.detailData)),"ok"!==t.data.result))return void this.$alert({type:"warn",message:`${t.data.error[0].message}`});this.detailInfo.setPropertyCallBack&&(this.propertyList=this.detailInfo.setPropertyCallBack(this.propertyList,t?t.data.object:null)),this.propertyList.forEach((t=>{t.idx=(0,n.Fs)()}))}else this.propertyList=[];this.propertyList=this.propertyList.map((t=>(0,n.Np)(t)))}},async addProperty(){this.openModal(l()(this.modalInfo,{rowClickedCallback:async(t,e)=>{const a=await new n.p0("/api/entity/mapping/object").read({mappingId:t.mappingId});if("ok"!==a.data.result||c()(a.data.object.mappingDetails))return;const i=a.data.object.mappingDetails[0].mappingRuleObject.mappingRuleDetails,s=[];for(const n of i){const t=0!==e.length&&e.some((t=>t["pk.targetFieldPath"]===n.targetFieldPath));t||s.push({"pk.targetFieldPath":n.targetFieldPath,mappingExpression:n.mappingExpression})}return{propertyInfo:s}}}))}}},h=p,u=a(43736),m=(0,u.Z)(h,i,s,!1,null,null,null),g=m.exports},40056:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return f}});var i=function(){var t=this,e=t._self._c;return e("div",{ref:"panel",class:t.panelClass,attrs:{id:"panel"}},[e("div",{staticClass:"panel-dialog"},[e("div",{staticClass:"panel-content",style:t.panelContentStyle},[e("div",{staticClass:"resize-bar"}),e("header",{staticClass:"panel-header sub-bar",attrs:{id:"panel-header"}},["modify"===t.panelMode?e("a",{staticClass:"btn btn-icon backBtn",attrs:{href:"javascript:void(0);",title:t.$t("head.goBackward")},on:{click:t.goPreviousPanel}},[e("i",{staticClass:"icon-left"})]):t._e(),e("h2",{staticClass:"sub-bar-tit",style:{width:`calc(100% - ${"modify"===t.panelMode?208:164}px )`}},[t._v(" "+t._s(t.subBarTitle)+" "),e("span",{staticClass:"sub-bar-selected-tit ellipsis",style:{width:`calc(100% - ${"modify"===t.panelMode?80:65}px )`},attrs:{title:t.selectedInfoTitle?t.selectedInfoTitle.substr(3):""}},[t._v(" "+t._s(t.selectedInfoTitle)+" ")])]),"detail"===t.panelMode&&t.editor&&!t.lockEditor?e("label",{staticClass:"control-label warningLabel",staticStyle:{"padding-bottom":"0px"}},[e("b",{staticClass:"icon-star"}),t._v(t._s(t.$t("head.not.registered.privilege.mapping.warn"))+" ")]):t._e(),e("div",{staticClass:"ml-auto"},["modify"!==t.panelMode&&"add"!==t.panelMode&&t.lockEditor?e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t(t.detailData.lockUserId===t.userInfo.userId?"common.unlock":"common.lock")},on:{click:t.lockEvt}},[e("img",{attrs:{id:"lockIcon",src:t.getMenuIconUrl(t.detailData.lockUserId===t.userInfo.userId?"unlock":"lock")}})]):t._e(),e("button",{staticClass:"btn-change-layout-horizon btn-icon",attrs:{type:"button",title:t.$t("common.detail.horizontal.view")},on:{click:function(e){return t.changeLayout("vertical")}}},[e("img",{staticClass:"center-block",attrs:{src:t.getMenuIconUrl("horizontal")}})]),e("button",{staticClass:"btn-change-layout-vertical btn-icon",attrs:{type:"button",title:t.$t("common.detail.vertical.view")},on:{click:function(e){return t.changeLayout("horizon")}}},[e("img",{staticClass:"center-block",attrs:{src:t.getMenuIconUrl("vertical")}})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.expand")},on:{click:t.expandCollapsePanel}},[e("i",{staticClass:"icon-expand"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.close")},on:{click:t.closePanel}},[e("i",{staticClass:"icon-close"})])])]),e("ul",{staticClass:"nav nav-tabs flex-shrink-0"},[t._l(t.tabList,(function(a,i){return e("li",{key:a.id,staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:t.selectedIdx===i},attrs:{href:"javascript:void(0);"},domProps:{textContent:t._s(a.label)},on:{click:function(e){return t.changeTab(i)}}})])})),t.toShowResult?e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:t.selectedIdx===t.tabList.length},attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.changeTab(t.tabList.length)}}},[t._v(" "+t._s(t.$t("head.executionResult"))+" ")])]):t._e()],2),e("div",{staticClass:"panel-body tab-content"},[t._l(t.tabList,(function(i,s){return e("div",{key:s,class:{[t.panelMode]:!0,"tab-pane":!0,active:t.selectedIdx===s}},["basic"===i.type?e("DetailBasic",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode},on:{changeMappingId:t.changeMappingId}}):"property"===i.type?e("DetailProperty",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"grid"===i.type?e("DetailGrid",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"custom"===i.type?e("DetailCustom",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"bundle"===i.type?e(a(14605)(`./detail${i.url}.vue`).default,{ref:"component",refInFor:!0,tag:"component",attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode,newMappingId:t.mappingId,isShowModal:t.isShowModal}}):t._e()],1)})),t.toShowResult?e("DetailResult",{class:{"tab-pane":!0,active:t.selectedIdx===t.tabList.length&&t.showResultTab},attrs:{httpReqResult:t.httpReqResult}}):t._e()],2),e("footer",{staticClass:"panel-footer sub-bar",attrs:{id:"panel-footer"}},["detail"===t.panelMode||"done"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.metaHistoryBtn&&t.metaHistoryPrivilege.viewer?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);"},on:{click:t.goMetaHistoryModal}},[e("i",{staticClass:"icon-eye"}),t._v(t._s(t.$t("common.metaHistory"))+" ")]):t._e(),t.referenceBtn&&t.viewer?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.referenceTreeInfo")},on:{click:t.goReferenceModal}},[e("i",{staticClass:"icon-result"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.referenceTreeInfo")))])]):t._e(),t.dumpBtn&&t.newEditor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.dump")},on:{click:t.dump}},[t._v(" "+t._s(t.$t("head.dump"))+" ")]):t._e(),t.deleteBtn&&t.newEditor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.delete")},on:{click:t.removeInfo}},[e("i",{staticClass:"icon-delete"}),t._v(t._s(t.$t("head.delete"))+" ")]):t._e(),t.updateBtn&&t.newEditor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.update")},on:{click:t.goModifyPanel}},[e("i",{staticClass:"icon-edit"}),t._v(t._s(t.$t("head.update"))+" ")]):t._e(),t.insertBtn&&t.newEditor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:`${t.$t("head.insert")} (${t.$t("head.copy")})`},on:{click:t.goAddInfo}},[e("i",{staticClass:"icon-plus"}),t._v(t._s(`${t.$t("head.insert")} (${t.$t("head.copy")})`)+" ")]):t._e()]):"add"===t.panelMode||"clone"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.insertBtn&&t.newEditor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.insert")},on:{click:t.saveInfo}},[e("i",{staticClass:"icon-plus"}),t._v(t._s(t.$t("head.insert"))+" ")]):t._e()]):"modify"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.updateBtn&&t.newEditor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.update")},on:{click:t.updateInfo}},[e("i",{staticClass:"icon-edit"}),t._v(t._s(t.$t("head.update"))+" ")]):t._e()]):t._e()])])])])},s=[],n=a(44062),o=a(36797),r=a.n(o),l=a(66281),d=a.n(l),c=a(63822),p=a(37662),h={name:"Detail",extends:n.Z,props:{mode:{type:String,default:"detail"},pk:Array,buttonList:Array,info:Object,cudUrl:String,viewer:Boolean,editor:Boolean},data(){return{lockUserId:null,lockEditor:!1,newEditor:!1,mappingHeaderPrefix:null,mappingId:null,isCloneIdCheck:!1,isShowModal:!1}},computed:{...(0,c.rn)(["userInfo"]),...(0,c.Se)(["isUserAdmin"])},watch:{info(){this.info||(this.tabList=d()(this.detailTabList))},panelMode(){"done"===this.panelMode&&(this.lockEditor=!0),this.$refs.component[0].detailInfo.content.forEach((t=>{t.forEach((t=>{t.forEach((t=>{if("add"===this.panelMode||"clone"===this.panelMode){if(t.readonly="mappingId"!==t.vModel,"mappingId"!==t.vModel)return;t.formatter=t=>{if("clone"===this.panelMode){const e=this.namingRules.find((t=>"SaveAsID"===t.pk.propertyKey)).propertyValue;return e.replace("{0}",t)}return t||this.mappingHeaderPrefix}}else t.readonly=!1}))}))}))},lockUserId(){"detail"===this.panelMode&&(this.detailData.lockUserId=this.lockUserId,this.newEditor=this.lockUserId===this.userInfo.userId)}},async created(){const t=new p.p0("/api/page/properties");let e=await t.read({pk:{propertyId:"ImgOption.NamingRules",propertyKey:"MappingHeaderPrefix"},orderByKey:!0});"ok"===e.data.result&&(this.mappingHeaderPrefix=e.data.object[0].propertyValue,e=await t.read({pk:{propertyId:"ImgOption.NamingRules"},orderByKey:!0}),"ok"===e.data.result&&(this.namingRules=e.data.object))},methods:{saveInfo(){"clone"!==this.panelMode||this.isCloneIdCheck?n.Z.methods.saveInfo.bind(this)():this.$alert({type:"warn",message:this.$t("igate.duplicate.check",{0:`${this.$t("head.id")}`})})},removeInfo(){n.Z.methods.removeInfo.bind(this)(),this.isShowModal=!0},openPanel(){if(this.isCloneIdCheck=!1,this.isShowModal=!1,this.lockUserId=this.detailData.lockUserId,"detail"===this.panelMode){this.selectedIdx=1;const t=this.userInfo.totalUserPrivileges.find((t=>"b"===t.privilegeType&&t.privilegeId===this.detailData.privilegeId));this.editor&&t?this.isUserAdmin||t.admin?this.lockEditor=!0:this.lockEditor=!this.lockUserId||this.lockUserId===this.userInfo.userId:this.lockEditor=!1}else"add"!==this.panelMode&&"clone"!==this.panelMode||(this.selectedIdx=0),this.newEditor=this.editor;n.Z.methods.openPanel.bind(this)()},changeMappingId(t){this.isCloneIdCheck=!0,this.mappingId=t},changeTab(t){if(("add"===this.panelMode||"clone"===this.panelMode)&&0!==t&&this.tabList.length!==t){const t=this.checkValidate();if(!t)return void this.$alert({type:"warn",message:"add"===this.panelMode?this.$t("igate.change.tab.required.warn",{0:`${this.$t("igate.mapping")}`}):this.$t("igate.duplicate.check",{0:`${this.$t("head.id")}`})})}for(const e of this.$refs.component)e.resize&&e.resize();this.selectedIdx=t},checkValidate(){if("add"===this.panelMode){const t=this.$refs.component[0].getData();return delete t.mappingName,delete t.mappingDesc,Object.keys(t).every((e=>t[e]))}{let t=!1;return this.$refs.component[0].detailInfo.content.forEach((e=>{e.forEach((e=>{e.forEach((e=>{"mappingId"===e.vModel&&(t=e.readonly)}))}))})),t}},async loadData(t){this.$refs.component.forEach((t=>{t.getData&&(this.tabAllData=Object.assign(this.tabAllData,t.getData()),"detail"!==this.panelMode&&(this.mappingHeaderPrefix===this.tabAllData.mappingId&&(this.tabAllData.mappingId=null),this.tabAllData.updateTimestamp&&(this.tabAllData.updateTimestamp=new Date(r()(this.tabAllData.updateTimestamp.startDate).format(this.fixDateFormat)).getTime())))})),t&&t()},async lockEvt(){const t=await new p.p0("/api/entity/mapping/lock")[this.detailData.lockUserId?"delete":"update"]({mappingId:this.detailData.mappingId},!0,(()=>{}));if("ok"!==t.data.result)this.$alert({type:"warn",message:`${t.data.error[0].message}`});else{this.lockUserId=this.lockUserId?null:this.userInfo.userId;const t=this.$parent.$children.find((t=>t.$refs.grid)).$refs.grid.$refs.tuiGrid,e=t.invoke("getData").find((t=>t.mappingId===this.detailData.mappingId)).rowKey;t.invoke("setValue",e,"lockUserId",this.lockUserId),this.$refs.component[2].$children[0].setData(this.lockUserId),this.detailData.lockUserId=this.lockUserId,this.newEditor=this.lockUserId===this.userInfo.userId}}}},u=h,m=a(43736),g=(0,m.Z)(u,i,s,!1,null,null,null),f=g.exports},7398:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{on:{click:t.gridFocusOut}},[e("ul",{staticClass:"collapse-list collapse-list-result m-0",attrs:{id:"mappingInfoRoot"}},[e("li",{staticClass:"collapse-item",attrs:{id:"mappingRuleTitle"}},[e("button",{ref:"mappingRuleTitleBtn",staticClass:"collapse-link",attrs:{type:"button","data-toggle":"collapse","data-target":"#mappingRule"},on:{click:t.mainResize}},[e("span",[t._v(t._s(t.$t("igate.mapping.rule")))])]),e("div",{staticClass:"collapse show",attrs:{id:"mappingRule"}},[e("div",{staticClass:"card card-body"},[this.readonly?t._e():e("div",{staticClass:"form-inline m-full"},[e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("igate.mapping.rule.add")},on:{click:function(e){return t.addRecord("rule")}}},[e("i",{staticClass:"icon-plus-circle"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("igate.mapping.rule.remove")},on:{click:t.removeRule}},[e("i",{staticClass:"icon-minus-circle"})])]),e("div",{ref:"mappingRuleGridParent",staticClass:"table-responsive"},[e("TuiGrid",t._b({ref:"mappingRuleGrid",on:{click:function(e){return t.ruleClick(e.rowKey)}}},"TuiGrid",t.mappingRuleOptions,!1))],1)])])]),e("li",{staticClass:"collapse-item"},[e("button",{staticClass:"collapse-link",attrs:{type:"button","data-toggle":"collapse","data-target":"#mappingInfo"},on:{click:t.mainResize}},[e("span",[t._v(t._s(t.$t("head.model.info")))])]),e("div",{staticClass:"collapse show",attrs:{id:"mappingInfo"}},[e("div",{staticClass:"card card-body"},[this.readonly?t._e():e("div",{staticClass:"form-inline m-full"},[e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.initialize")},on:{click:t.initMappingInfo}},[e("i",{staticClass:"icon-reset"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("igate.mapping.connect.same.name")},on:{click:t.getSameIdInfo}},[e("i",{staticClass:"icon-deal"})]),"modal"!==this.type?e("button",{staticClass:"btn-icon",attrs:{type:"button",title:`Source ${t.$t("igate.record")} ${t.$t("head.insert")}`},on:{click:function(e){return t.addRecord("source")}}},[e("i",{staticClass:"icon-plus-circle"})]):t._e(),"modal"!==this.type?e("button",{staticClass:"btn-icon",attrs:{type:"button",title:`Source ${t.$t("igate.record")} ${t.$t("head.delete")}`},on:{click:function(e){return t.removeRecord()}}},[e("i",{staticClass:"icon-minus-circle"})]):t._e(),e("button",{ref:"targetGridBtn",staticClass:"btn-icon",attrs:{type:"button",title:`${t.$t("head.select")} ${t.$t("head.delete")}`},on:{click:t.removeSingleMapping}},[e("img",{staticClass:"center-block",attrs:{id:"icon-scissors",src:t.getMenuIconUrl("scissors")}})])]),e("div",{ref:"mappingGridArea",style:t.style},[e("div",{ref:"sourceGridParent",staticClass:"table-responsive"},[e("TuiGrid",t._b({ref:"sourceGrid"},"TuiGrid",t.sourceModelOptions,!1))],1),e("div",{ref:"mappingArrowParent",staticClass:"table-responsive",on:{wheel:t.mappingArrowParentWheel}},[e("canvas",{ref:"mappingArrow"})]),e("div",{ref:"targetGridParent",staticClass:"table-responsive"},[e("TuiGrid",t._b({ref:"targetGrid"},"TuiGrid",t.targetModelOptions,!1))],1)])])])])])])},s=[],n=(a(57658),a(37662)),o=a(37856),r=a(66281),l=a.n(r),d={props:{detailInfo:Object,detailData:Object,mode:String,type:String,newMappingId:String,isShowModal:Boolean,recordList:Array,targetRecordList:Array},name:"MappingInfo",components:{TuiGrid:o.Grid},data(){return{dragger:null,errorRuleList:[],mappingRuleGridSelectedRowKey:null,style:{height:null,"overflow-y":"hidden"},sourceScrollTop:0,targetScrollTop:0,mappingRuleOptions:{draggable:!0,columns:[{name:"sourceRecordObject",hidden:!0},{name:"targetRecordObject",hidden:!0},{name:"pk.mappingId",hidden:!0},{name:"pk.mappingOrder",hidden:!0},{name:"ruleDetail",hidden:!0},{name:"multiFuncArrow",hidden:!0},{name:"pk",header:"Mapping ID&Order",formatter:t=>`${t.row["pk.mappingId"]}$${t.row["pk.mappingOrder"]}`},{name:"targetForm",header:"Target Form",editor:"text"},{name:"mappingDetailDesc",header:this.$t("head.description"),editor:"text"}],data:[],editingEvent:"click",onGridMounted:t=>{t.instance.on("click",(t=>{t.nativeEvent.target.closest(".tui-grid-body-container")&&t.nativeEvent.stopPropagation(),this.readonly&&t.stop()})),t.instance.on("drop",(()=>{t.instance.getData().forEach(((e,a)=>{t.instance.setValue(e.rowKey,"pk.mappingOrder",a)}))}))}},sourceModelOptions:{treeColumnOptions:{name:"pk.fieldId"},rowHeaders:["rowNum"],scrollY:!0,columns:[{name:"id",hidden:!0},{name:"fieldType",hidden:!0},{name:"pk.fieldId",header:"Field",escapeHTML:!0,formatter:({row:t})=>{let e="";if("R"===t.fieldType)t.recordObject&&(e+=`Group(${t.recordObject.recordType})`);else{const a={B:"Byte",S:"Short",I:"Int",L:"Long",F:"Float",D:"Double",T:"String",N:"Numeric",P:"Decimal",A:"Raw",p:"Timestamp",b:"Boolean",R:"Record",v:"Individual"};e+=`${a[t.fieldType]}(${t.fieldLength})`}return t.arrayType&&"N"!=t.arrayType&&(e+=`[${t.arrayType}]`),(0,n.Xv)(`${t["pk.fieldId"]}${t.fieldName?`(${t.fieldName})`:""}  ${e}`)}}],data:[],onGridMounted:t=>{t.instance.on("expand",(()=>{setTimeout((()=>{this.resize()}),0)})),t.instance.on("collapse",(t=>{t.instance.getChildRows(t.rowKey).filter((t=>"R"===t.fieldType)).forEach((e=>{t.instance.collapse(e.rowKey)})),setTimeout((()=>{this.resize()}),0)})),t.instance.on("click",(t=>{t.nativeEvent.stopPropagation(),"cell"===t.targetType&&(this.readonly?(this.delMultiSelect("source"),this.isShiftKey=!1):(this.delMultiSelect("target",!0),this.clickMappingField(t,"source")))})),t.instance.off("dblclick"),t.instance.gridEl.querySelector(".tui-grid-rside-area .tui-grid-body-area").addEventListener("scroll",(t=>{this.sourceScrollTop=t.target.scrollTop,setTimeout((()=>{this.drawArrow()}),0)}))},onGridUpdated:()=>{this.resize(),this.initDragDropEvt()}},multiSourceFields:[],multiTargetFields:[],isShiftKey:!1,targetModelOptions:{treeColumnOptions:{name:"pk.fieldId"},rowHeaders:["rowNum"],scrollY:!0,columns:[{name:"id",hidden:!0},{name:"fieldType",hidden:!0},{name:"pk.fieldId",header:"Field",escapeHTML:!0,formatter:({row:t})=>{let e="";if("R"===t.fieldType)t.recordObject&&(e+=`Group(${t.recordObject.recordType})`);else{const a={B:"Byte",S:"Short",I:"Int",L:"Long",F:"Float",D:"Double",T:"String",N:"Numeric",P:"Decimal",A:"Raw",p:"Timestamp",b:"Boolean",R:"Record",v:"Individual"};e+=`${a[t.fieldType]}(${t.fieldLength})`}return t.arrayType&&"N"!=t.arrayType&&(e+=`[${t.arrayType}]`),(0,n.Xv)(`${t["pk.fieldId"]}${t.fieldName?`(${t.fieldName})`:""}  ${e}`)}}],data:[],onGridMounted:t=>{t.instance.on("expand",(()=>{setTimeout((()=>{this.resize()}),0)})),t.instance.on("collapse",(t=>{t.instance.getChildRows(t.rowKey).filter((t=>"R"===t.fieldType)).forEach((e=>{t.instance.collapse(e.rowKey)})),setTimeout((()=>{this.resize()}),0)})),t.instance.on("click",(t=>{if(t.nativeEvent.stopPropagation(),"cell"===t.targetType)if(this.readonly)this.delMultiSelect("target"),this.isShiftKey=!1;else{if(this.delMultiSelect("source",!0),"R"===t.instance.getRow(t.rowKey).fieldType)return t.instance.blur(),void t.instance.cancelEditing();this.clickMappingField(t,"target")}})),t.instance.on("dblclick",(t=>{if("cell"!==t.targetType)return;this.delMultiSelect("target"),t.instance.focus(t.rowKey);const e=t.instance.getRow(t.rowKey);if("R"===e.fieldType)return;const{ruleDetail:i,sourceRecordObject:s,targetRecordObject:o}=this.$refs.mappingRuleGrid.invoke("getRow",this.mappingRuleGridSelectedRowKey),r=i?i.find((({targetFieldPath:t})=>t===e.id)):null,l=r?r.mappingExpression:null,d=r?r.arraySizeParameter:null;let c=[];s&&0<s.length&&(c=s.map((({recordId:t})=>t)));let p=[];o&&(p=[o.recordId]);const h=this,u=this.$openModal({title:`${this.$t("igate.mapping.rule")} ${this.$t("head.detail")}`,modalHeight:"350px",contentList:[{template:'<mappingRuleDetail :data="data" :readonly="readonly" />',components:{mappingRuleDetail:a(43759)["default"]},data(){return{data:{clickFieldInfo:e,mappingExpression:l,arraySizeParameter:d,fieldKey:t.rowKey,sourceRecordIdArr:c,targetRecordIdArr:p},readonly:h.readonly}}}],buttonList:h.readonly?null:[{template:`<button type="button" class="btn btn-primary" @click="click"> ${this.$t("head.ok")} </button>`,methods:{async click(){const{mappingExpression:t,arrayReference:a}=u.$refs.content[0].$children[0].getData();if(!t)return void this.$alert({type:"warn",message:this.$t("head.no.data.warn")});const s=null===i?[]:i.filter((t=>t.targetFieldPath!==e.id)).map((t=>({targetFieldPath:t.targetFieldPath,mappingExpression:t.mappingExpression,simpleMappingYn:t.simpleMappingYn,arraySizeParameter:t.arraySizeParameter})));let o="Y";if(t){const{data:{object:{type:e}}}=await new n.p0("/api/mapping/expression").read({expression:t});"ConstantExpression"!==e&&"RecordExpression"!==e&&(o="N")}s.push({targetFieldPath:e.id,mappingExpression:t,simpleMappingYn:o,arraySizeParameter:a}),h.$refs.mappingRuleGrid.invoke("setValue",h.mappingRuleGridSelectedRowKey,"ruleDetail",s),await h.initMultiFuncArrow(h.mappingRuleGridSelectedRowKey),h.resize(),u.hideModal()}}}]})})),t.instance.gridEl.querySelector(".tui-grid-rside-area .tui-grid-body-area").addEventListener("scroll",(t=>{this.targetScrollTop=t.target.scrollTop,setTimeout((()=>{this.drawArrow()}),0)}))},onGridUpdated:()=>{this.resize(),this.initDragDropEvt()}}}},computed:{readonly(){return"detail"===this.mode||"done"===this.mode}},created(){this.mappingRuleOptions=(0,n.d_)(this.mappingRuleOptions),this.sourceModelOptions=(0,n.d_)(this.sourceModelOptions),this.targetModelOptions=(0,n.d_)(this.targetModelOptions),n.dc.$on("MainResize",this.mainResize),n.Gk.$on("MainResize",this.mainResize),n.bB.$on("MainResize",this.mainResize)},mounted(){this.mainResize()},watch:{newMappingId(){if(!this.$refs.mappingRuleGrid)return;const t=this.$refs.mappingRuleGrid.invoke("getData");this.$refs.mappingRuleGrid.invoke("resetData",t.map((t=>(t["pk.mappingId"]=this.newMappingId,t))))},async detailData(){if(this.$refs.mappingRuleGrid.invoke("clear"),this.$refs.sourceGrid.invoke("clear"),this.$refs.targetGrid.invoke("clear"),this.detailData&&this.detailData.mappingDetails){for await(const t of this.detailData.mappingDetails){const{pk:{mappingId:e,mappingOrder:a},targetForm:i,mappingDetailDesc:s,mappingRuleObject:{recordId:o,mappingRuleSources:r,mappingRuleDetails:l}}=t;let d=[],c=null;if("modal"===this.type){if(r.forEach((t=>{const e=this.recordList.find((e=>t.recordId===e.recordId));e&&d.push(e)})),o){const t=this.recordList.find((t=>o===t.recordId));t&&(c=t)}}else{const t=[];r.forEach((({recordId:e})=>{e&&t.push(e)}));const e=[];if(0<t.length){t.forEach((t=>{e.push(new n.p0("/api/entity/record/object").read({recordId:t}))}));const a=await Promise.all(e);d=a.map((t=>t.data.object))}if(o){const{data:{object:t}}=await new n.p0("/api/entity/record/object").read({recordId:o});c=t}}this.$refs.mappingRuleGrid.invoke("appendRow",{"pk.mappingId":e,"pk.mappingOrder":a,targetForm:i,mappingDetailDesc:s,sourceRecordObject:d,targetRecordObject:c,ruleDetail:l.map((t=>({mappingExpression:t.mappingExpression,targetFieldPath:t.targetFieldPath,simpleMappingYn:t.simpleMappingYn,arraySizeParameter:t.arraySizeParameter?t.arraySizeParameter:null})))})}this.$nextTick((async()=>{0!==this.$refs.mappingRuleGrid.invoke("getRowCount")&&(this.readonly?(this.$refs.mappingRuleGrid.invoke("getData").forEach((({rowKey:t})=>this.$refs.mappingRuleGrid.invoke("disableRow",t))),this.$refs.mappingRuleGrid.invoke("getColumns").forEach((t=>{t.hidden||this.$refs.mappingRuleGrid.invoke("enableColumn",t.name)}))):this.$refs.mappingRuleGrid.invoke("enable"),await this.initMultiFuncArrowAll(),this.mappingRuleGridSelectedRowKey=this.$refs.mappingRuleGrid.invoke("getRowAt",0).rowKey,this.ruleClick(this.mappingRuleGridSelectedRowKey),this.checkRule(),this.resize())}))}}},methods:{getMenuIconUrl(t){return(0,n.u5)(`/custom/img/${t}.svg`)},checkRule(){if(this.isShowModal)return;this.errorRuleList=[];const t=this.$refs.mappingRuleGrid.invoke("getData");for(let e=0;e<t.length;e++){const a=t[e],i=a.multiFuncArrow,s=a.sourceRecordObject,n=a.targetRecordObject,o=[],r=[];s.forEach(((t,e)=>{this.extractionFieldId(o,t.fields,`$${e}`)})),this.extractionFieldId(r,n.fields,""),a.ruleDetail.forEach((t=>{let a=!1,s=!1;const n=t.targetFieldPath,l=t.mappingExpression;if(a=!r.find((t=>t===n)),i&&0<i.filter((t=>t.targetFieldPath===n)).length){const t=i.filter((t=>t.targetFieldPath===n));let e=!0;for(let a=0;a<t.length;a++)if(!o.find((e=>e===t[a].mappingExpression))){e=!1;break}s=!e}else s=!!l.startsWith(`$${e}\\`)&&!o.find((t=>t===l));(a||s)&&this.errorRuleList.push({order:e,mappingExpression:l,targetFieldPath:n,errorTarget:a&&s?"both":a?"target":"source"})}))}0<this.errorRuleList.length&&this.openErrorRuleModal()},openErrorRuleModal(){const t=this,e=this.$refs.mappingRuleGrid.invoke("getData"),a=this.errorRuleList.filter((({errorTarget:t})=>"both"===t||"target"===t));for(let i=0;i<e.length;i++){const t=e[i].ruleDetail,s=t.filter((t=>!a.find((({targetFieldPath:e})=>e===t.targetFieldPath))));this.$refs.mappingRuleGrid.invoke("setValue",e[i].rowKey,"ruleDetail",s)}this.$openModal({title:`${this.$t("igate.mapping")} ${this.$t("head.error.info")}`,modalWidth:"1280px",modalHeight:"500px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t\t\t<div class="table-responsive">\n\t\t\t\t\t\t\t\t\t\t<TuiGrid ref="tuiGrid" v-bind="options" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t   </div>',components:{TuiGrid:o.Grid},data(){return{options:{}}},created(){this.options=(0,n.d_)({bodyHeight:320,columns:[{name:"order",header:"Order",align:"center"},{name:"sourceFieldPath",header:this.$t("igate.mappingDictionary.sourceFieldPath")},{name:"targetFieldPath",header:this.$t("igate.mappingDictionary.targetFieldPath")},{name:"errorMessage",header:this.$t("head.error.info"),formatter:({value:t})=>"t"===t?this.$t("igate.mapping.not.find.target"):this.$t("igate.mapping.not.find.source")}]})},mounted(){this.resetData()},methods:{resetData(){const e=[];t.errorRuleList.forEach((t=>{e.push({order:t.order,sourceFieldPath:t.mappingExpression?t.mappingExpression:null,targetFieldPath:t.targetFieldPath?t.targetFieldPath:null,errorMessage:t.targetFieldPath||t.mappingExpression&&t.targetFieldPath?"t":"s",_attributes:{className:{column:{sourceFieldPath:"source"===t.errorTarget||"both"===t.errorTarget?["red"]:[""],targetFieldPath:"target"===t.errorTarget||"both"===t.errorTarget?["red"]:[""]}}}})})),this.$refs.tuiGrid.invoke("resetData",e)}}}]})},mappingArrowParentWheel(t){document.querySelectorAll("#mappingInfo .tui-grid-rside-area .tui-grid-body-area").forEach((e=>{e.scrollTop+=40*(0<t.deltaY?1:-1)}))},removeSingleMapping(){if(0!==this.multiTargetFields.length){for(const t of this.multiTargetFields){const e=this.$refs.targetGrid.invoke("getValue",t,"id"),a=this.$refs.mappingRuleGrid.invoke("getRow",this.mappingRuleGridSelectedRowKey);this.$refs.mappingRuleGrid.invoke("setValue",this.mappingRuleGridSelectedRowKey,"ruleDetail",a.ruleDetail.filter((t=>t.targetFieldPath!==e)));const i=this.$refs.mappingRuleGrid.invoke("getValue",this.mappingRuleGridSelectedRowKey,"multiFuncArrow");i&&0<i.length&&this.$refs.mappingRuleGrid.invoke("setValue",this.mappingRuleGridSelectedRowKey,"multiFuncArrow",l()(i.filter((t=>t.targetFieldPath!==e))))}this.delMultiSelect("target",!0),this.drawArrow()}else this.$alert({type:"warn",message:this.$t("common.no.target.selected")})},async getSameIdInfo(){if(null===this.mappingRuleGridSelectedRowKey)return;const t=this.getMappingDetailObject(),e=this.$refs.mappingRuleGrid.invoke("getRow",this.mappingRuleGridSelectedRowKey);t.mappingRuleObject.pk.mappingId=e["pk.mappingId"],t.mappingRuleObject.pk.mappingOrder=e["pk.mappingOrder"],t.mappingRuleObject.recordId=e["targetRecordObject"]["recordId"],t.mappingRuleObject.recordObject=e["targetRecordObject"],e.sourceRecordObject.forEach(((a,i)=>{t.mappingRuleObject["mappingRuleSources"].push({pk:{mappingId:e["pk.mappingId"],mappingOrder:Number(e["pk.mappingOrder"]),parameterOrder:i},recordId:a["recordId"],recordObject:a})}));const a=await new n.p0("/api/mapping/generateMappingRule").create(t.mappingRuleObject);if("ok"!==a.data.result)return;const i=a.data.object.mappingRuleDetails;this.$refs.mappingRuleGrid.invoke("setValue",this.mappingRuleGridSelectedRowKey,"multiFuncArrow",null),this.$refs.mappingRuleGrid.invoke("setValue",this.mappingRuleGridSelectedRowKey,"ruleDetail",i&&0<i.length?i.map((t=>({mappingExpression:t.mappingExpression,targetFieldPath:t.targetFieldPath,simpleMappingYn:t.simpleMappingYn,arraySizeParameter:t.arraySizeParameter}))):null),this.ruleClick(this.mappingRuleGridSelectedRowKey)},mainResize(){setTimeout((()=>{this.resize()}),250)},formatArraySizeParameter(t){let e=null;const a=t.split("\\");if(0<a.filter((t=>1<t.split("[i").length)).length){const t=[];a.forEach((e=>{t.push(1<e.split("[i").length?`${e.split("[i")[0]}[]`:e)})),t.pop(),e=t.join("\\")}return e},initTreeData(t,e,a=1){if(!t)return;t=l()(t);const i=[];return t.forEach((t=>{t["pk.fieldId"]=t.pk.fieldId,t["pk.recordId"]=t.pk.recordId,t["id"]=`${e}\\${t.pk.fieldId}`,"N"!==t.arrayType&&(t.id+=`[i${a}]`),t._attributes||(t._attributes={}),t.recordObject&&(t.fieldType="R",t._attributes.expanded=!0,t._children=this.initTreeData(t.recordObject.fields,t["id"],"N"!==t.arrayType?a+1:a)),delete t.pk,delete t.options,i.push(t)})),i},getData(){this.$refs.mappingRuleGrid.invoke("blur"),this.$refs.mappingRuleGrid.invoke("cancelEditing");const t=[];return this.$refs.mappingRuleGrid.invoke("getData").forEach((e=>{const a=this.getMappingDetailObject();a.pk.mappingId=e["pk.mappingId"],a.pk.mappingOrder=Number(e["pk.mappingOrder"]),a.targetForm=e["targetForm"],a.mappingDetailDesc=e["mappingDetailDesc"],a.mappingRuleObject.pk.mappingId=e["pk.mappingId"],a.mappingRuleObject.pk.mappingOrder=e["pk.mappingOrder"],a.mappingRuleObject.recordId=e["targetRecordObject"]["recordId"],e.sourceRecordObject&&e.sourceRecordObject.forEach(((t,i)=>{a.mappingRuleObject["mappingRuleSources"].push({pk:{mappingId:e["pk.mappingId"],mappingOrder:Number(e["pk.mappingOrder"]),parameterOrder:i},recordId:t["recordId"]})})),e.ruleDetail&&e.ruleDetail.forEach(((t,i)=>{a.mappingRuleObject["mappingRuleDetails"].push({pk:{mappingId:e["pk.mappingId"],mappingOrder:Number(e["pk.mappingOrder"]),mappingDetailNo:i},targetFieldPath:t.targetFieldPath,mappingExpression:t.mappingExpression,simpleMappingYn:t.simpleMappingYn,arraySizeParameter:t.arraySizeParameter})})),t.push(a)})),{mappingDetails:t}},ruleClick(t){if("undefined"===typeof t)return;this.mappingRuleGridSelectedRowKey=t;const e=this.$refs.mappingRuleGrid.invoke("getData");e.forEach((t=>{this.$refs.mappingRuleGrid.invoke("removeRowClassName",t.rowKey,"row-selected")})),this.$refs.mappingRuleGrid.invoke("addRowClassName",t,"row-selected");const{sourceRecordObject:a,targetRecordObject:i}=this.$refs.mappingRuleGrid.invoke("getRow",t);this.$refs.sourceGrid.invoke("clear"),this.$refs.sourceGrid.invoke("resetData",(()=>{const t=[];return a&&0<a.length&&a.forEach(((e,a)=>{t.push({id:`$${a}`,"pk.fieldId":e.recordId,fieldType:"R",_attributes:{expanded:!0},_children:this.initTreeData(e.fields,`$${a}`)})})),t})()),this.$refs.targetGrid.invoke("clear"),this.$refs.targetGrid.invoke("resetData",[{id:"","pk.fieldId":i.recordId,fieldType:"R",_attributes:{expanded:!0},_children:this.initTreeData(i.fields,"")}])},removeRule(){if(this.$refs.mappingRuleGrid.invoke("removeRow",this.mappingRuleGridSelectedRowKey),this.$refs.mappingRuleGrid.invoke("getRowCount"))this.ruleClick(this.$refs.mappingRuleGrid.invoke("getRowAt",0).rowKey);else{const t=this.$refs.mappingArrow.getContext("2d");t.clearRect(0,0,t.canvas.width,t.canvas.height),this.$refs.sourceGrid.invoke("clear"),this.$refs.targetGrid.invoke("clear"),this.mappingRuleGridSelectedRowKey=null}},removeRecord(){const t=this.multiSourceFields.filter((t=>1===this.$refs.sourceGrid.invoke("getDepth",t))).reverse();0!==t.length?t.forEach((t=>{const e=this.$refs.mappingRuleGrid.invoke("getRow",this.mappingRuleGridSelectedRowKey);if(!e.sourceRecordObject)return;if(0===e.sourceRecordObject.length)return;const{id:a}=this.$refs.sourceGrid.invoke("getRow",t),i=Number(a.replace("$","")),s=[];for(let n=0;n<e.sourceRecordObject.length;n++)n!==i&&s.push(e.sourceRecordObject[n]);this.$refs.mappingRuleGrid.invoke("setValue",this.mappingRuleGridSelectedRowKey,"sourceRecordObject",s),this.ruleClick(this.mappingRuleGridSelectedRowKey),this.drawArrow()})):this.$alert({type:"warn",message:this.$t("common.no.target.selected")})},async addRule(t){let e=[];const{mappingRuleSources:a}=this.detailData.mappingDetails[0].mappingRuleObject;if(a&&0<a.length){const t=[];a.forEach((({recordId:e})=>{t.push(new n.p0("/api/entity/record/object").read({recordId:e}))}));const i=await Promise.all(t);e=i.map((({data:{object:t}})=>t))}this.$refs.mappingRuleGrid.invoke("appendRow",{"pk.mappingId":this.$parent.$refs.component[0].getData().mappingId,"pk.mappingOrder":this.$refs.mappingRuleGrid.invoke("getData").length,targetForm:null,mappingDetailDesc:null,sourceRecordObject:e,targetRecordObject:t,ruleDetail:null});const i=this.$refs.mappingRuleGrid.invoke("getData"),s=i[i.length-1].rowKey;this.ruleClick(s)},async addRecord(t){const{mappingId:e}=this.$parent.$refs.component[0].getData();if(e)if("modal"===this.type&&"rule"===t){const t=this,e=this.targetRecordList,a=this.$openModal({title:this.$t("igate.record"),modalWidth:"600px",modalHeight:"330px",contentList:[{template:'<div><TuiGrid ref="addRuleGrid" v-bind="options" @click="onClick" /></div>',components:{TuiGrid:o.Grid},data(){return{options:{header:{height:32,align:"center"},columnOptions:{resizable:!0},scrollX:!1,columns:[{name:"recordObject",hidden:!0},{header:this.$t("head.id"),name:"recordId",escapeHTML:!0},{header:this.$t("head.name"),name:"recordName",escapeHTML:!0},{header:this.$t("common.privilege"),name:"privilegeId",escapeHTML:!0}],data:[]}}},created(){e.forEach((t=>{this.options.data.push({recordObject:t,recordId:t.recordId,recordName:t.recordName})}))},methods:{onClick(e){const i=e.instance.getRow(e.rowKey).recordObject;t.addRule(i),a.hideModal()}}}]})}else{if("source"===t&&null===this.mappingRuleGridSelectedRowKey)return void this.$alert({type:"warn",message:this.$t("igate.mapping.deployed.mapping.rule.warn")});const i=this,s=this.$openModal({title:this.$t("igate.record"),modalWidth:"1000px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t\t       <Search :list="searchList" @search="search" ref="search"/>\n\t\t\t\t\t\t\t\t\t       <Main\n\t\t\t\t\t\t\t\t\t\t       :buttonList="buttonList"\n\t\t\t\t\t\t\t\t\t\t\t   :gridInfo="gridInfo"\n\t\t\t\t\t\t\t\t\t\t       :gridSearchObj="gridSearchObj"\n\t\t\t\t\t\t\t\t\t\t       :gridType="\'modalBasic\'"\n\t\t\t\t\t\t\t\t\t\t       :viewer="true"\n\t\t\t\t\t\t\t\t\t\t       @rowClicked="rowClicked"\n\t\t\t\t\t\t\t\t\t\t       @initialize="initialize"\n\t\t\t\t\t\t\t\t\t        />\n                                   </div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:[{type:"text",vModel:"recordId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"text",vModel:"recordName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0}],gridInfo:{url:"/api/entity/record/search",totalCntUrl:"/api/entity/record/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"recordId",width:"40%"},{header:this.$t("head.name"),name:"recordName",width:"40%"},{header:`${this.$t("common.privilege")}`,name:"privilegeId",width:"20%"}]}},gridSearchObj:null}},methods:{search(t){this.gridSearchObj=t},async rowClicked(a){const{data:{object:o}}=await new n.p0("/api/entity/record/object").read({recordId:a.recordId});if("rule"===t){i.$refs.mappingRuleGrid.invoke("appendRow",{"pk.mappingId":e,"pk.mappingOrder":i.$refs.mappingRuleGrid.invoke("getData").length,targetForm:null,mappingDetailDesc:null,sourceRecordObject:null,targetRecordObject:o,sourceRecordList:[],ruleDetail:null});const t=i.$refs.mappingRuleGrid.invoke("getData"),a=t[t.length-1].rowKey;i.ruleClick(a)}else{const t=i.$refs.mappingRuleGrid.invoke("getRow",i.mappingRuleGridSelectedRowKey),e=t.sourceRecordObject?t.sourceRecordObject:[];e.push(o),i.$refs.mappingRuleGrid.invoke("setValue",i.mappingRuleGridSelectedRowKey,"sourceRecordObject",e),i.ruleClick(i.mappingRuleGridSelectedRowKey)}s.hideModal()},initialize(){this.$refs.search.initialize()}}}]})}else this.$alert({type:"warn",message:this.$t("head.all.basic.info.insert.warn")})},resize(){this.$nextTick((()=>{if("modal"===this.type){const t=document.querySelector(".modal-body"),e=t.clientWidth-48-48-48;this.$refs.mappingRuleGridParent.style.width=e,this.$refs.mappingRuleGrid.invoke("setWidth",e);const a=Math.floor(.35*e),i=Math.floor(.35*e),s=e-(a+i)-8;this.$refs.sourceGridParent.style.width=`${a}px`,this.$refs.sourceGrid.invoke("setWidth",a),this.$refs.targetGridParent.style.width=`${i}px`,this.$refs.targetGrid.invoke("setWidth",i),this.$refs.mappingArrowParent.style.width=`${s}px`,this.$refs.mappingArrow.setAttribute("width",s),this.readonly||(this.$refs.targetGridBtn.style.marginLeft=`${a-80+s}px`);let n=t.offsetHeight-32-48-55,o=Math.floor(.3*n);o=o<250?250:o;const r=40,l=32,d=o-r-40-(this.readonly?0:l);this.$refs.mappingRuleGrid.invoke("setHeight",d);let c=n-(document.querySelector("#mappingRule").classList.contains("show")?o:40);c=c<250?250:c;const p=40,h=32;let u=c-p-40-(this.readonly?0:h);this.style.height=`${u}px`,this.$refs.sourceGrid.invoke("setHeight",u),this.$refs.targetGrid.invoke("setHeight",u),this.$refs.mappingArrow.setAttribute("height",u),this.$refs.sourceGridParent.style.height=`${u}px`,this.$refs.targetGridParent.style.height=`${u}px`,this.drawArrow()}else{const t=document.querySelector(".panel-body"),e=t.clientWidth-48-48;this.$refs.mappingRuleGridParent.style.width=`${e}px`,this.$refs.mappingRuleGrid.invoke("setWidth",e);const a=Math.floor(.35*e),i=Math.floor(.35*e),s=e-(a+i)-8;this.$refs.sourceGridParent.style.width=`${a}px`,this.$refs.sourceGrid.invoke("setWidth",a),this.$refs.targetGridParent.style.width=`${i}px`,this.$refs.targetGrid.invoke("setWidth",i),this.$refs.mappingArrowParent.style.width=`${s}px`,this.$refs.mappingArrow.setAttribute("width",s),this.readonly||(this.$refs.targetGridBtn.style.marginLeft=`${a-160+s}px`);let n=t.offsetHeight-48,o=Math.floor(.3*n);o=o<250?250:o;const r=40,l=32,d=o-r-40-(this.readonly?0:l);this.$refs.mappingRuleGrid.invoke("setHeight",d);let c=n-(document.querySelector("#mappingRule").classList.contains("show")?o:40);c=c<250?250:c;const p=40,h=32;let u=c-p-40-(this.readonly?0:h);this.style.height=`${u}px`,this.$refs.sourceGrid.invoke("setHeight",u),this.$refs.targetGrid.invoke("setHeight",u),this.$refs.mappingArrow.setAttribute("height",u),this.$refs.sourceGridParent.style.height=`${u}px`,this.$refs.targetGridParent.style.height=`${u}px`,this.drawArrow()}}))},drawArrow(){if(!this.$refs.sourceGrid)return;if(!this.$refs.targetGrid)return;const t=this.$refs.sourceGrid.invoke("getData"),e=this.$refs.targetGrid.invoke("getData"),a=this.$refs.mappingArrow.getContext("2d");a.clearRect(0,0,a.canvas.width,a.canvas.height);const i=this.$refs.mappingRuleGrid.invoke("getRow",this.mappingRuleGridSelectedRowKey);if(null===i||null===i.ruleDetail)return;const s=i.multiFuncArrow,n=this.multiTargetFields.map((t=>this.$refs.targetGrid.invoke("getRow",t).id));for(let o=0;o<i.ruleDetail.length;o++){const r=i.ruleDetail[o];let l=18,d=18,c=null,p=null;const h=[],u=[],m=[];if(s&&0<s.filter((t=>t.targetFieldPath===r.targetFieldPath)).length){const e=s.filter((t=>t.targetFieldPath===r.targetFieldPath));e.forEach((e=>{if(t.find((({id:t})=>t===e.mappingExpression))){u.push(t.find((({id:t})=>t===e.mappingExpression)));let a=18;const i=[];for(let s=0;s<t.length;s++){const n=t[s];if("R"===n.fieldType?(null===n._attributes.tree.parentRowKey?a+=40:(n.id.startsWith(i[i.length-1].id)||i.splice(i.length-1,1),i[i.length-1].expanded&&(a+=40)),i.push({id:n.id,expanded:n._attributes.expanded})):(n.id.startsWith(i[i.length-1].id)||i.splice(i.length-1,1),i[i.length-1].expanded&&(a+=40)),e.mappingExpression==n.id)break}h.push(a)}else m.push(e.mappingExpression)}))}else for(let e=0;e<t.length;e++){let a=t[e];if(a.id==r.mappingExpression){c=a;const e=[];for(let i=0;i<t.length;i++){const s=t[i];if("R"===s.fieldType?(null===s._attributes.tree.parentRowKey?l+=40:(s.id.startsWith(e[e.length-1].id)||e.splice(e.length-1,1),e[e.length-1].expanded&&(l+=40)),e.push({id:s.id,expanded:s._attributes.expanded})):(s.id.startsWith(e[e.length-1].id)||e.splice(e.length-1,1),e[e.length-1].expanded&&(l+=40)),a.id==s.id)break}break}}for(let t=0;t<e.length;t++){let a=e[t];if(a.id==r.targetFieldPath){p=a;const t=[];for(let i=0;i<e.length;i++){const s=e[i];if("R"===s.fieldType?(null===s._attributes.tree.parentRowKey?d+=40:(s.id.startsWith(t[t.length-1].id)||t.splice(t.length-1,1),t[t.length-1].expanded&&(d+=40)),t.push({id:s.id,expanded:s._attributes.expanded})):(s.id.startsWith(t[t.length-1].id)||t.splice(t.length-1,1),t[t.length-1].expanded&&(d+=40)),a.id==s.id)break}break}}const g=l-this.sourceScrollTop>24?l-this.sourceScrollTop:24,f=d-this.targetScrollTop>24?d-this.targetScrollTop:24;let y=-1<n.indexOf(r.targetFieldPath),v=!0;if(0<m.length||0<u.length){for(let t=0;t<m.length;t++)this.drawLineError(a,f,y);for(let t=0;t<u.length;t++){const e=h[t]-this.sourceScrollTop>24?h[t]-this.sourceScrollTop:24;this.drawLineFunc(a,e,f,y)}this.drawLineTarget(a,f,y)}else c||("N"===r.simpleMappingYn||r.mappingExpression&&!r.mappingExpression.startsWith("$")?this.drawLineTarget(a,f,y):p&&this.drawLineError(a,f,y)),c&&p&&((c.fieldType!==p.fieldType||0!==c.fieldLength&&0!==p.fieldLength&&c.fieldLength!==p.fieldLength)&&(v=!1),this.drawLineBoth(a,g,f,y,v))}},drawLineBoth(t,e,a,i,s){let n=null;n=s?i?"#212F39":"#90969B":i?"rgba(237, 49, 49, 1)":"rgba(237, 49, 49, 0.8)",t.save(),i&&(t.lineWidth=5),t.beginPath(),t.moveTo(0,e),t.lineTo(t.canvas.width-8,a),t.strokeStyle=n,t.stroke(),t.closePath(),t.beginPath(),t.moveTo(0,e-5),t.lineTo(0,e+5),t.lineTo(10,e+5),t.lineTo(10,e-5),t.lineTo(0,e-5),t.fillStyle=n,t.fill(),t.closePath(),t.beginPath(),t.moveTo(t.canvas.width,a),t.lineTo(t.canvas.width-8,a-8),t.lineTo(t.canvas.width-8,a+8),t.lineTo(t.canvas.width,a),t.fillStyle=n,t.fill(),t.closePath(),t.restore()},drawLineTarget(t,e,a){let i=a?"#212F39":"#90969B";t.save(),a&&(t.lineWidth=5),t.beginPath(),t.fillStyle=i,t.fillText("|F|",t.canvas.width-t.canvas.width/3-14,e+3),t.closePath(),t.beginPath(),t.moveTo(t.canvas.width-t.canvas.width/3,e),t.lineTo(t.canvas.width-8,e),t.save(),t.setLineDash([5,5]),t.strokeStyle=i,t.stroke(),t.restore(),t.closePath(),t.beginPath(),t.moveTo(t.canvas.width,e),t.lineTo(t.canvas.width-8,e-8),t.lineTo(t.canvas.width-8,e+8),t.lineTo(t.canvas.width,e),t.fillStyle=i,t.fill(),t.closePath(),t.restore()},drawLineFunc(t,e,a,i){let s=i?"#212F39":"#90969B";t.save(),i&&(t.lineWidth=5),t.beginPath(),t.moveTo(0,e),t.lineTo(t.canvas.width-t.canvas.width/3-14,a),t.save(),t.setLineDash([5,5]),t.strokeStyle=s,t.stroke(),t.restore(),t.closePath(),t.beginPath(),t.moveTo(0,e-5),t.lineTo(0,e+5),t.lineTo(10,e+5),t.lineTo(10,e-5),t.lineTo(0,e-5),t.fillStyle=s,t.fill(),t.closePath(),t.restore()},drawLineError(t,e,a){let i=a?"#6a070a":"#c1282e";t.save(),a&&(t.lineWidth=5),t.beginPath(),t.moveTo(10,e-7.5),t.lineTo(25,e+7.5),t.moveTo(10,e+7.5),t.lineTo(25,e-7.5),t.strokeStyle=i,t.stroke(),t.closePath(),t.moveTo(40,e),t.lineTo(t.canvas.width-8,e),t.strokeStyle=i,t.stroke(),t.closePath(),t.beginPath(),t.moveTo(t.canvas.width,e),t.lineTo(t.canvas.width-8,e-8),t.lineTo(t.canvas.width-8,e+8),t.lineTo(t.canvas.width,e),t.fillStyle=i,t.fill(),t.closePath(),t.restore()},initDragDropEvt(){$(this.$refs.sourceGridParent).draggable()&&$(this.$refs.sourceGridParent).draggable("destroy"),$(this.$refs.targetGridParent).find("td").droppable()&&$(this.$refs.targetGridParent).find("td").droppable("destroy"),this.readonly||($(this.$refs.sourceGridParent).draggable({revert:!0,revertDuration:0,helper:()=>"<span></span>",start:()=>{let t;if(0===this.multiSourceFields.length){if(t=this.$refs.sourceGrid.invoke("getFocusedCell").rowKey,!t)return!1;if("R"===this.$refs.sourceGrid.invoke("getRow",t).fieldType)return!1}else{if(this.multiSourceFields=this.multiSourceFields.filter((t=>{const e="R"===this.$refs.sourceGrid.invoke("getRow",t).fieldType;return e&&this.$refs.sourceGrid.invoke("removeRowClassName",t,"gray"),!e})).sort(((t,e)=>t-e)),0===this.multiSourceFields.length)return!1;t=this.multiSourceFields[0],this.$refs.sourceGrid.invoke("focus",this.multiSourceFields[0])}this.dragger=document.createElement("div"),this.dragger.classList.add("dragger");const e=this.$refs.sourceGrid.invoke("getRow",t).fieldName;1>=this.multiSourceFields.length?this.dragger.innerText=e:this.dragger.innerText=this.$t("igate.mapping.other.than",{0:e,1:this.multiSourceFields.length-1}),document.body.appendChild(this.dragger),document.body.style.cursor="move"},drag:t=>{const e=0===this.multiSourceFields.length?this.$refs.sourceGrid.invoke("getFocusedCell").rowKey:this.multiSourceFields[0],a=this.$refs.sourceGrid.invoke("getRow",e);if(a&&"R"===a.fieldType)return!1;this.dragger.style.top=`${t.pageY}px`,this.dragger.style.left=`${t.pageX+15}px`},stop:()=>{document.body.removeChild(this.dragger),document.body.style.cursor="auto"}}),$(this.$refs.targetGridParent).droppable({tolerance:"pointer",drop:t=>{let e=null,a=null;const i=[];let s=this.$refs.mappingRuleGrid.invoke("getValue",this.mappingRuleGridSelectedRowKey,"ruleDetail");if(0===this.multiSourceFields.length){if(e=this.$refs.sourceGrid.invoke("getFocusedCell").rowKey,a=n(),!a)return;if("R"===this.$refs.targetGrid.invoke("getRow",a).fieldType)return void this.$alert({type:"warn",message:this.$t("igate.mapping.not.add.group.field")});const t=s&&s.find((t=>t.targetFieldPath===this.$refs.targetGrid.invoke("getValue",a,"id")));i.push({isOverride:t,dragZoneRowKey:e,dropZoneRowKey:a})}else for(let r=0;r<this.multiSourceFields.length;r++){if(e=this.multiSourceFields[r],0===r){if(a=n(),!a)return}else{let t;do{a++,t=this.$refs.targetGrid.invoke("getRow",a)}while(t&&"R"===t.fieldType)}if(!a||a>this.$refs.targetGrid.invoke("getRowCount")-1)continue;if("R"===this.$refs.targetGrid.invoke("getRow",a).fieldType){this.$alert({type:"warn",message:this.$t("igate.mapping.not.add.group.field")});break}const t=s&&s.find((t=>t.targetFieldPath===this.$refs.targetGrid.invoke("getValue",a,"id")));i.push({isOverride:t,dragZoneRowKey:e,dropZoneRowKey:a})}function n(){let e=t.originalEvent.target;while(null==a&&e!==t.target){if(e.getAttribute("data-row-key"))return Number(e.getAttribute("data-row-key"));e=e.parentElement}}function o({dragZoneRowKey:t,dropZoneRowKey:e}){const a=this.$refs.targetGrid.invoke("getRow",e).id,i=this.$refs.sourceGrid.invoke("getRow",t).id,s=this.$refs.mappingRuleGrid.invoke("getRow",this.mappingRuleGridSelectedRowKey);let n=null;null===s.ruleDetail?n=[{targetFieldPath:a,mappingExpression:i,simpleMappingYn:"Y",arraySizeParameter:this.formatArraySizeParameter(i)}]:(s.ruleDetail.push({targetFieldPath:a,mappingExpression:i,simpleMappingYn:"Y",arraySizeParameter:this.formatArraySizeParameter(i)}),n=s.ruleDetail.map((t=>({targetFieldPath:t.targetFieldPath,mappingExpression:t.mappingExpression,simpleMappingYn:t.simpleMappingYn,arraySizeParameter:this.formatArraySizeParameter(t.mappingExpression)})))),this.$refs.mappingRuleGrid.invoke("setValue",this.mappingRuleGridSelectedRowKey,"ruleDetail",n);const o=this.$refs.mappingRuleGrid.invoke("getValue",this.mappingRuleGridSelectedRowKey,"multiFuncArrow");o&&0<o.length&&this.$refs.mappingRuleGrid.invoke("setValue",this.mappingRuleGridSelectedRowKey,"multiFuncArrow",l()(o.filter((t=>t.targetFieldPath!==a)))),this.resize()}i.some((({isOverride:t})=>t))?this.$confirm({type:"warn",message:this.$t("igate.mapping.override"),callback:()=>{i.forEach((t=>{s=this.$refs.mappingRuleGrid.invoke("getValue",this.mappingRuleGridSelectedRowKey,"ruleDetail"),this.$refs.mappingRuleGrid.invoke("setValue",this.mappingRuleGridSelectedRowKey,"ruleDetail",s.filter((e=>e.targetFieldPath!==this.$refs.targetGrid.invoke("getValue",t.dropZoneRowKey,"id"))).map((t=>({targetFieldPath:t.targetFieldPath,mappingExpression:t.mappingExpression,simpleMappingYn:t.simpleMappingYn,arraySizeParameter:t.arraySizeParameter})))),o.call(this,t)})),this.delMultiSelect("source",!0)}}):(i.forEach((t=>{o.call(this,t)})),this.delMultiSelect("source",!0))}}))},getMappingDetailObject(){return{pk:{mappingId:null,mappingOrder:null},targetForm:null,mappingDetailDesc:null,mappingRuleObject:{pk:{mappingId:null,mappingOrder:null},recordId:null,mappingRuleSources:[],mappingRuleDetails:[]}}},initMappingInfo(){this.$refs.mappingRuleGrid.invoke("setValue",this.mappingRuleGridSelectedRowKey,"multiFuncArrow",null),this.$refs.mappingRuleGrid.invoke("setValue",this.mappingRuleGridSelectedRowKey,"ruleDetail",null),this.drawArrow()},async initMultiFuncArrowAll(){const t=this.$refs.mappingRuleGrid.invoke("getData");if(0===t.length)return;const e=[];t.forEach((({rowKey:t})=>{e.push(this.initMultiFuncArrow(t))})),await Promise.all(e)},async initMultiFuncArrow(t){const e=this.$refs.mappingRuleGrid.invoke("getRow",t).ruleDetail;if(!e||0===e.length)return;const a=[];e.forEach((t=>{"N"===t.simpleMappingYn&&a.push(new Promise((e=>{(async()=>{e({res:await new n.p0("/api/mapping/expression/sources").read({expression:t.mappingExpression}),targetFieldPath:t.targetFieldPath})})()})))}));const i=[];(await Promise.all(a)).forEach((({res:t,targetFieldPath:e})=>{"ok"===t.data.result&&t.data.object.args.forEach((t=>{"Record"===t.expressionType&&i.push({mappingExpression:t.expressionString,targetFieldPath:e})}))})),this.$refs.mappingRuleGrid.invoke("setValue",t,"multiFuncArrow",i)},extractionFieldId(t,e,a,i=1){e&&(e=l()(e),e.forEach((e=>{e.id=`${a}\\${e.pk.fieldId}`,"N"!==e.arrayType&&(e.id+=`[i${i}]`),e.recordObject&&this.extractionFieldId(t,e.recordObject.fields,e.id,"N"!==e.arrayType?i+1:i),t.push(e.id)})))},clickMappingField(t,e){const{rowKey:a,instance:i,nativeEvent:{ctrlKey:s,shiftKey:n}}=t,o="source"===e?"multiSourceFields":"multiTargetFields";if(n)if(0===this[o].length)this[o].push(a),i.addRowClassName(a,"gray");else{let t,s;const n=this[o][this[o].length-1];if(this.isShiftKey)t=Math.min(this[o][0],a),s=Math.max(n,a);else{const e=[a,n].sort(((t,e)=>t-e));[t,s]=e}this.delMultiSelect(e);for(let e=t;e<=s;e++)this[o].push(e),i.addRowClassName(e,"gray")}else s||this.delMultiSelect(e),0===this[o].length?this[o].push(a):(1===this[o].length&&i.addRowClassName(this[o][0],"gray"),this[o].push(a),i.addRowClassName(a,"gray"));this.isShiftKey=n,this.drawArrow()},delMultiSelect(t,e=!1){const a="source"===t?"multiSourceFields":"multiTargetFields",i="source"===t?"sourceGrid":"targetGrid";this[a].forEach((t=>this.$refs[i].invoke("removeRowClassName",t,"gray"))),this[a]=[],e&&(this.$refs[i].invoke("blur"),this.$refs[i].invoke("cancelEditing"),this.drawArrow())},gridFocusOut(){this.$refs.mappingRuleGrid&&(this.$refs.mappingRuleGrid.invoke("blur"),this.$refs.mappingRuleGrid.invoke("cancelEditing"),this.delMultiSelect("source",!0),this.delMultiSelect("target",!0),this.isShiftKey=!1)}},destroyed(){n.dc.$off("MainResize",this.mainResize),n.Gk.$off("MainResize",this.mainResize),n.bB.$off("MainResize",this.mainResize)}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},95748:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modifed-root"},[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(this.$t("common.metaHistory.before"))+" ")])]),e("div",[e("div",{staticClass:"detail-content-common diff-form",style:t.beforeContentsStyle,attrs:{id:"before"},on:{wheel:t.contentsWheel}},[e("span",{domProps:{innerHTML:t._s(t.beforeContents)}})])])])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(this.$t("common.metaHistory.after"))+" ")])]),e("div",[e("div",{staticClass:"detail-content-common diff-form",style:t.afterContentsStyle,attrs:{id:"after"},on:{wheel:t.contentsWheel}},[e("span",{domProps:{innerHTML:t._s(t.afterContents)}})])])])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isViewSpinner,expression:"isViewSpinner"}]},[e("div",{staticClass:"modifed-spinner-bg"}),e("div",{staticClass:"spinner"})])])},s=[],n=(a(57658),a(63516)),o=a(37662),r={name:"Modifed",extends:n.Z,data(){return{isViewSpinner:!1,beforeContents:null,afterContents:null,beforeContentsStyle:{height:null},afterContentsStyle:{height:null},worker:null,WORKER_RESOURCE:"\n            self.onmessage = function(e) {\n               importScripts(e.data.url);\n\n               var diff = Diff.diffWordsWithSpace(e.data.beforeDataString, e.data.afterDataString, {\n                  ignoreWhitespace: false,\n                  newlineIsToken: false,\n               });\n\n               postMessage({ diff: diff });\n            }\n         "}},mounted(){o.dc.$on("MainResize",this.resize),o.Gk.$on("MainResize",this.resize),o.bB.$on("MainResize",this.resize),o.QK.$on("MainResize",this.resize)},methods:{contentsWheel(t){const e=navigator.userAgent.toLowerCase();if("Netscape"==navigator.appName&&-1!=e.indexOf("trident")||-1!=e.indexOf("msie"))return;const a=50;this.$el.querySelector("#before").scrollTop+=0<t.deltaY?a:-a,this.$el.querySelector("#after").scrollTop+=0<t.deltaY?a:-a},initData(){(this.detailData.beforeDataString||this.detailData.afterDataString)&&(this.detailData.beforeDataString||(this.detailData.beforeDataString=""),this.detailData.afterDataString||(this.detailData.afterDataString=""),this.beforeContents="",this.afterContents="",this.worker&&this.worker.terminate(),this.worker=new Worker(URL.createObjectURL(new Blob([this.WORKER_RESOURCE],{type:"application/javascript"}))),this.isViewSpinner=!0,this.worker.postMessage({url:`${location.origin}${(0,o.Hw)()}/custom/js/diff.js`,beforeDataString:this.detailData.beforeDataString,afterDataString:this.detailData.afterDataString}),this.worker.onmessage=t=>{const e=t.data.diff,a=[],i=[];e.forEach((t=>{const e=(0,o.Xv)(t.value).replace(/\s/g,"&nbsp;");t.added?i.push(`<ins class="diff-ins">${e}</ins>`):t.removed?a.push(`<del class="diff-del">${e}</del>`):(a.push(e),i.push(e))})),this.beforeContents=a.join(""),this.afterContents=i.join(""),this.isViewSpinner=!1})},resize(){this.$nextTick((()=>{const t=document.getElementById("panel"),e=t.getElementsByClassName("panel-body")[0],a=getComputedStyle(e),i=(0,o.tJ)(a.getPropertyValue("padding-top")),s=(0,o.tJ)(a.getPropertyValue("padding-bottom")),n=e.clientHeight-i-s-24;this.beforeContentsStyle.height=`${n}px`,this.afterContentsStyle.height=`${n}px`}))}}},l=r,d=a(43736),c=(0,d.Z)(l,i,s,!1,null,null,null),p=c.exports},1691:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",{ref:"panel",class:t.panelClass,attrs:{id:"panel"}},[e("div",{staticClass:"panel-dialog"},[e("div",{staticClass:"panel-content",style:t.panelContentStyle},[e("div",{staticClass:"resize-bar"}),e("header",{staticClass:"panel-header sub-bar",attrs:{id:"panel-header"}},[e("h2",{staticClass:"sub-bar-tit"},[t._v("Detail")]),e("div",{staticClass:"ml-auto"},[e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.expand")},on:{click:t.expandCollapsePanel}},[e("i",{staticClass:"icon-expand"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.close")},on:{click:t.closePanel}},[e("i",{staticClass:"icon-close"})])])]),e("ul",{staticClass:"nav nav-tabs flex-shrink-0"},[e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:0===t.selectedIdx},attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.changeTab(0)}}},[t._v(" "+t._s(t.$t("head.make"))+" ")])]),e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:1===t.selectedIdx},attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.changeTab(1)}}},[t._v(" "+t._s(t.$t("head.import"))+" ")])])]),e("div",{staticClass:"panel-body tab-content"},[e("div",{class:{detail:!0,"tab-pane":!0,active:0===t.selectedIdx}},[e("DetailMake",{attrs:{detailData:t.selectedDetailData,migrationDataKey:t.migrationDataKey,migrationUrl:t.migrationUrl,fileUpDownUrl:t.fileUpDownUrl,viewer:t.viewer,editor:t.editor}})],1),e("div",{class:{detail:!0,"tab-pane":!0,active:1===t.selectedIdx}},[e("DetailImport",{attrs:{detailData:t.selectedDetailData,migrationDataKey:t.migrationDataKey,fileUpDownUrl:t.fileUpDownUrl,viewer:t.viewer,editor:t.editor}})],1)]),e("footer",{staticClass:"panel-footer sub-bar",attrs:{id:"panel-footer"}})])])])},s=[],n=a(44062),o={name:"MigrationDetail",extends:n.Z,props:{selectedDetailData:Object},watch:{mode:{deep:!0,handler(){this.selectedIdx="make"===this.mode?0:1,this.openPanel()}}},methods:{getTargetObj(){}}},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,null,null),c=d.exports},60197:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i,s,n=a(37662),o={name:"MigrationImport",props:{detailData:Object,viewer:Boolean,editor:Boolean,migrationDataKey:String,fileUpDownUrl:String},data(){return{fileName:null,errorMessage:null,userId:null,name:null,migrationDate:null,migrationTime:null,[this.migrationDataKey]:[],fileData:null}},watch:{detailData:{deep:!0,handler(){this.fileName=null,this.errorMessage=null,this.userId=null,this.name=null,this.migrationDate=null,this.migrationTime=null,this[this.migrationDataKey]=[],this.fileData=null}}},methods:{selectFile(){const t=document.createElement("input");t.setAttribute("type","file"),t.addEventListener("change",(t=>{this.fileData=t.target.files[0],this.fileName=this.fileData.name})),t.click()},async uploadFile(t){if(null===this.fileData)return void this.$alert({type:"warn",message:this.$t("igate.migration.fileSelectError")});const e=await(0,n.Rp)();if(!e.result)return void this.$alert({type:"warn",backdropMode:"full",message:this.isTools?this.$t("igate.itools.token.expired"):this.$t("head.validateToken"),callback:()=>{this.isTools||(0,n.kS)()}});this.errorMessage=null,this.userId=null,this.name=null,this.migrationDate=null,this.migrationTime=null,this[this.migrationDataKey]=[],this.$startSpinner();const a=new XMLHttpRequest;a.open("POST",(0,n.u5)(this.fileUpDownUrl),!0),a.setRequestHeader("Authorization",localStorage.getItem("accessToken")),a.setRequestHeader("X-iManager-Method","POST"),a.withCredentials=!0;const i=new FormData;i.enctype="multipart/form-data",i.append("uploadFile",this.fileData),t&&"boolean"===typeof t&&i.append("flagRow",t),a.send(i),a.onload=()=>{this.$stopSpinner();const e=JSON.parse(a.response);if("ok"!==e.result)this.$alert({type:"warn",message:`${this.$t("head.upload")} ${this.$t("head.fail")}`}),this.errorMessage=`${e.error[0].className} ${e.error[0].message}`;else if(t||this.$alert({type:"normal",message:`${this.$t("head.upload")} ${this.$t("head.success")}`}),e.object){const{userId:t,name:a,migrationDate:i,migrationTime:s}=e.object;this.userId=t,this.name=a,this.migrationDate=i,this.migrationTime=s,this[this.migrationDataKey]=e.object[this.migrationDataKey]}}}}},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,null,null),c=d.exports},18083:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i,s,n=a(37662),o={name:"MigrationMake",props:{detailData:Object,viewer:Boolean,editor:Boolean,migrationDataKey:String,migrationUrl:String,fileUpDownUrl:String},data(){return{userId:null,name:null,migrationDate:null,migrationTime:null,[this.migrationDataKey]:[],targetIds:null,flagRow:!1,isReulstUpdate:!1}},watch:{detailData:{deep:!0,handler(){if(this.userId=null,this.name=null,this.migrationDate=null,this.migrationTime=null,this[this.migrationDataKey]=[],this.targetIds=null,this.flagRow=!1,this.isReulstUpdate=!1,!this.detailData)return;const{userId:t,name:e,migrationDate:a,migrationTime:i,targetIds:s}=this.detailData;this.userId=t,this.name=e,this.migrationDate=a,this.migrationTime=i,this.targetIds=s,this[this.migrationDataKey]=this.detailData[this.migrationDataKey]}}},methods:{async migration(t){this.isReulstUpdate=!1;const e=await new n.p0(t&&"boolean"===typeof t?`${this.migrationUrl}?flagRow=${t}`:`${this.migrationUrl}`).create({targetIds:this.targetIds},!0);"ok"!==e.data.result?this.$alert({type:"warn",message:`${(0,n.Xv)(e.data.error[0].className)}<br/><br/>${(0,n.Xv)(e.data.error[0].message)}`,isXSSMode:!0}):t&&"boolean"===typeof t?(this.isReulstUpdate=!0,this[this.migrationDataKey]=e.data.object):this.$alert({type:"normal",message:this.$t("igate.migration.migration")})},async downloadFile(){const t=await(0,n.Rp)();if(!t.result)return void this.$alert({type:"warn",backdropMode:"full",message:this.isTools?this.$t("igate.itools.token.expired"):this.$t("head.validateToken"),callback:()=>{this.isTools||(0,n.kS)()}});this.$startSpinner();const e=new XMLHttpRequest;e.open("POST",(0,n.u5)(this.fileUpDownUrl)),e.setRequestHeader("Authorization",localStorage.getItem("accessToken")),e.setRequestHeader("X-iManager-Method","GET"),e.withCredentials=!0,e.responseType="blob",e.send(JSON.stringify({targetIds:this.targetIds})),e.onload=async t=>{this.$stopSpinner();const a=e.response,i=new Promise((t=>{const e=new FileReader;e.onload=()=>{t(JSON.parse(e.result))},e.readAsText(a)})),s=await i,n=s.name;if(0>=a.size||200!==t.target.status)this.$alert({type:"warn",message:this.$t("head.fail.notice")});else if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(a,n);else{const t=document.createElement("a");t.href=window.URL.createObjectURL(a),t.download=n,t.click(),URL.revokeObjectURL(t.href),t.remove()}}}}},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,null,null),c=d.exports},40563:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var i,s,n=a(1691),o=a(65003),r=a(69840),l={name:"MigrationDetail",extends:n["default"],components:{DetailMake:o["default"],DetailImport:r["default"]},data(){return{migrationDataKey:"interfaces",migrationUrl:"/api/entity/interface/migration/send",fileUpDownUrl:"/api/entity/interface/migration/context"}}},d=l,c=a(43736),p=(0,c.Z)(d,i,s,!1,null,null,null),h=p.exports},69840:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group",staticStyle:{"margin-bottom":"16px"}},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(`${t.$t("head.file")} ${t.$t("head.select")}`))])]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.fileName,expression:"fileName"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:"readonly",placeholder:t.$t("igate.migration.fileSelectError")},domProps:{value:t.fileName},on:{input:function(e){e.target.composing||(t.fileName=e.target.value)}}}),e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","margin-right":"5px"},attrs:{type:"button",title:`${t.$t("head.file")} ${t.$t("head.select")}`},on:{click:t.selectFile}},[t._v(" "+t._s(`${t.$t("head.file")} ${t.$t("head.select")}`)+" ")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",title:t.$t("head.upload")},on:{click:t.openFlagModal}},[t._v(" "+t._s(t.$t("head.upload"))+" ")])])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.errorMessage,expression:"errorMessage"}],staticClass:"col-lg-12"},[e("div",{staticClass:"form-group",staticStyle:{"margin-bottom":"16px"}},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.exception")))])]),e("div",{staticClass:"input-group"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.errorMessage,expression:"errorMessage"}],staticClass:"form-control view-disabled",attrs:{rows:"10",readonly:!0},domProps:{value:t.errorMessage},on:{input:function(e){e.target.composing||(t.errorMessage=e.target.value)}}})])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:0<t.interfaces.length,expression:"0 < interfaces.length"}],staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.userId")))])]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userId,expression:"userId"}],staticClass:"form-control view-disabled",attrs:{type:"text",disabled:!0},domProps:{value:t.userId},on:{input:function(e){e.target.composing||(t.userId=e.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.name")))])]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control view-disabled",attrs:{type:"text",disabled:!0},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:0<t.interfaces.length,expression:"0 < interfaces.length"}],staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.migrationDate")))])]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.migrationDate,expression:"migrationDate"}],staticClass:"form-control view-disabled",attrs:{type:"text",disabled:!0},domProps:{value:t.migrationDate},on:{input:function(e){e.target.composing||(t.migrationDate=e.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.migrationTime")))])]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.migrationTime,expression:"migrationTime"}],staticClass:"form-control view-disabled",attrs:{type:"text",disabled:!0},domProps:{value:t.migrationTime},on:{input:function(e){e.target.composing||(t.migrationTime=e.target.value)}}})])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:0<t.interfaces.length,expression:"0 < interfaces.length"}],staticClass:"col-lg-12",staticStyle:{"margin-top":"1rem"}},[e("div",{staticClass:"form-group",staticStyle:{"margin-bottom":"16px"}},[e("table",{staticClass:"migration-table",attrs:{width:"100%"}},[e("colgroup",[e("col",{attrs:{width:t.flagRow?"33%":"50%"}}),e("col",{attrs:{width:t.flagRow?"33%":"50%"}}),t.flagRow?e("col",{attrs:{width:"34%"}}):t._e()]),e("thead",[e("tr",{staticStyle:{"background-color":"#f5f6fb"},attrs:{align:"center"}},[e("th",[t._v(t._s(t.$t("igate.interface")))]),e("th",[t._v(t._s(t.$t("igate.migration.includeList")))]),t.flagRow?e("th",[t._v(t._s(t.$t("head.process.result")))]):t._e()])]),t._l(t.interfaces,(function(a,i){return e("tr",{key:i},[e("td",[t._v(t._s(a.interface.interfaceId)+"("+t._s(a.interface.interfaceName)+")")]),e("td",{attrs:{valign:"top"}},[e("table",{attrs:{width:"100%"}},[e("tr",[e("td",{attrs:{width:"20%"}},[t._v(t._s(t.$t("igate.interface")))]),e("td",[e("table",{attrs:{width:"100%"}},[e("tr",[e("td",[t._v(t._s(a.interface.interfaceId)+"("+t._s(a.interface.interfaceName)+")")])]),e("tr")])])]),a.interface.requestRecordObject||a.interface.interfaceResponses?e("tr",[e("td",{attrs:{width:"30%"}},[t._v(t._s(t.$t("igate.record")))]),e("td",[e("table",{attrs:{width:"100%"}},[a.interface.requestRecordObject?e("tr",[e("td",[t._v(" "+t._s(a.interface.requestRecordObject.recordId)+"("+t._s(a.interface.requestRecordObject.recordName)+") ")])]):t._e(),t._l(a.interface.interfaceResponses,(function(a,s){return e("tr",{key:`${i}_${s}`},[e("td",[t._v(" "+t._s(a.recordObject.recordId)+"("+t._s(a.recordObject.recordName)+") ")])])}))],2)])]):t._e(),t._l(a.interface.interfaceServices,(function(a,s){return e("tr",{key:`${i}_${s}`},[e("td",{attrs:{width:"30%"}},[t._v(t._s(t.$t("igate.mapping")))]),e("td",[e("table",{attrs:{width:"100%"}},[a.requestMappingObject?e("tr",[e("td",[t._v(" "+t._s(a.requestMappingObject.mappingId)+" ("+t._s(a.requestMappingObject.mappingName)+") ")])]):t._e(),a.responseMappingObject?e("tr",[e("td",[t._v(" "+t._s(a.responseMappingObject.mappingId)+" ("+t._s(a.responseMappingObject.mappingName)+") ")])]):t._e()])])])}))],2)]),t.flagRow?e("td",{style:{color:a.result?"red":"black"}},[t._v(" "+t._s(a.result?a.result:t.$t("igate.migration.migration"))+" ")]):t._e()])}))],2)])])])])},s=[],n=a(60197),o={name:"MigrationImport",extends:n["default"],data(){return{flagRow:!1}},methods:{openFlagModal(){if(null===this.fileName)return void this.$alert({type:"warn",message:this.$t("igate.migration.fileSelectError")});const t=this,e=this.$openModal({title:this.$t("igate.migration.select.transaction"),modalWidth:"450px",modalHeight:"300px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t<div class="radio-group">\n\t\t\t\t\t\t\t\t<label class="custom-control custom-radio">\n\t\t\t\t\t\t\t\t\t<input type="radio" name="flagRow" class="custom-control-input"\tv-model="flagRow" value="transaction" />\n\t\t\t\t\t\t\t\t\t<span class="custom-control-label" style="font-weight: bold; font-size: .8rem">Transaction</span>\t\t\t\n\t\t\t\t\t\t\t\t\t<span style="display: inline-block; font-size: .778rem;">{{ $t(\'igate.migration.transaction.processing\') }}</span>\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</label>\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="radio-group">\n\t\t\t\t\t\t\t\t<label class="custom-control custom-radio">\n\t\t\t\t\t\t\t\t\t<input type="radio" name="flagRow" class="custom-control-input"\tv-model="flagRow" value="row" />\n\t\t\t\t\t\t\t\t\t<span class="custom-control-label" style="font-weight: bold; font-size: .8rem">Non-Transaction</span>\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<span style="display: inline-block; font-size: .778rem;">{{ $t(\'igate.migration.non.transaction.processing\') }}</span>\n\t\t\t\t\t\t\t\t</label>\t\n\t\t\t\t\t\t\t</div>\t\t\n\t\t\t\t\t\t</div>',data(){return{flagRow:null}},methods:{getData(){return this.flagRow}}}],buttonList:[{template:'<button type="button" @click="confirm" class="btn btn-primary">{{ $t(\'head.ok\') }}</button>',methods:{confirm(){if(!e.$refs.content[0].getData())return void this.$alert({type:"warn",message:this.$t("igate.migration.select.transaction.warn")});const a="row"===e.$refs.content[0].getData();t.flagRow=a,t.uploadFile(a),e.hideModal()}}}]})}}},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,null,null),c=d.exports},65003:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.userId")))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.userId,expression:"userId"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:!0},domProps:{value:t.userId},on:{input:function(e){e.target.composing||(t.userId=e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.name")))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:!0},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.migrationDate")))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.migrationDate,expression:"migrationDate"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:!0},domProps:{value:t.migrationDate},on:{input:function(e){e.target.composing||(t.migrationDate=e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.migrationTime")))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.migrationTime,expression:"migrationTime"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:!0},domProps:{value:t.migrationTime},on:{input:function(e){e.target.composing||(t.migrationTime=e.target.value)}}})])])]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("table",{staticClass:"migration-table",attrs:{width:"100%"}},[e("colgroup",[e("col",{attrs:{width:t.flagRow?"25%":"33%"}}),e("col",{attrs:{width:t.flagRow?"25%":"33%"}}),e("col",{attrs:{width:t.flagRow?"25%":"34%"}}),t.flagRow?e("col",{attrs:{width:"25%"}}):t._e()]),e("thead",[e("tr",{staticStyle:{"background-color":"#f5f6fb"},attrs:{align:"center"}},[e("th",[t._v(t._s(t.$t("igate.interface")))]),e("th",[t._v(t._s(t.$t("igate.migration.includeList")))]),e("th",[t._v(t._s(t.$t("igate.migration.referList")))]),t.flagRow?e("th",[t._v(t._s(t.$t("head.process.result")))]):t._e()])]),t._l(t.interfaces,(function(a,i){return e("tr",{key:i,staticStyle:{height:"28px"}},[e("td",[t._v(t._s(a.interface.interfaceId)+"("+t._s(a.interface.interfaceName)+")")]),e("td",{attrs:{valign:"top"}},[e("table",{attrs:{width:"100%"}},[e("tr",[e("td",{attrs:{width:"20%"}},[t._v(t._s(t.$t("igate.interface")))]),e("td",[e("table",{attrs:{width:"100%"}},[e("tr",[e("td",[t._v(t._s(a.interface.interfaceId)+"("+t._s(a.interface.interfaceName)+")")])])])])]),a.interface.requestRecordObject||a.interface.interfaceResponses?e("tr",[e("td",{attrs:{width:"30%"}},[t._v(t._s(t.$t("igate.record")))]),e("td",[e("table",{attrs:{width:"100%"}},[a.interface.requestRecordObject?e("tr",[e("td",[t._v(" "+t._s(a.interface.requestRecordObject.recordId)+"("+t._s(a.interface.requestRecordObject.recordName)+") ")])]):t._e(),t._l(a.interface.interfaceResponses,(function(a,s){return e("tr",{key:`${i}_${s}`},[e("td",[t._v(" "+t._s(a.recordObject.recordId)+"("+t._s(a.recordObject.recordName)+") ")])])}))],2)])]):t._e(),t._l(a.interface.interfaceServices,(function(a,s){return e("tr",{key:`${i}_${s}`},[e("td",{attrs:{width:"30%"}},[t._v(t._s(t.$t("igate.mapping")))]),e("td",[e("table",{attrs:{width:"100%"}},[a.requestMappingObject?e("tr",[e("td",[t._v(" "+t._s(a.requestMappingObject.mappingId)+" ("+t._s(a.requestMappingObject.mappingName)+") ")])]):t._e(),a.responseMappingObject?e("tr",[e("td",[t._v(" "+t._s(a.responseMappingObject.mappingId)+" ("+t._s(a.responseMappingObject.mappingName)+") ")])]):t._e()])])])}))],2)]),e("td",{attrs:{valign:"top"}},[e("table",{attrs:{width:"100%"}},[a.referServices.length?e("tr",[e("td",{attrs:{width:"30%"}},[t._v(t._s(t.$t("igate.service")))]),e("td",[e("table",{attrs:{width:"100%"}},t._l(a.referServices,(function(a,s){return e("tr",{key:`${i}_${s}`},[e("td",[t._v(t._s(a.serviceId)+"("+t._s(a.serviceName)+")")])])})),0)])]):t._e()])]),t.flagRow&&t.isReulstUpdate?e("td",{style:{color:a.result?"red":"black"}},[t._v(" "+t._s(a.result?a.result:t.$t("igate.migration.migration"))+" ")]):t._e()])}))],2)])]),t.editor?e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("a",{staticClass:"btn detail btn-primary viewGroup",staticStyle:{float:"right"},attrs:{href:"javascript:void(0);",title:t.$t("head.migration")},on:{click:t.openFlagModal}},[t._v(" "+t._s(t.$t("head.migration"))+" ")]),e("a",{staticClass:"btn detail viewGroup",staticStyle:{float:"right",right:"10px"},attrs:{href:"javascript:void(0);",title:t.$t("head.download")},on:{click:t.downloadFile}},[t._v(" "+t._s(t.$t("head.download"))+" ")])])]):t._e()])},s=[],n=a(18083),o={name:"MigrationMake",extends:n["default"],methods:{openFlagModal(){if(null===this.fileName)return void this.$alert({type:"warn",message:this.$t("igate.migration.fileSelectError")});const t=this,e=this.$openModal({title:this.$t("igate.migration.select.transaction"),modalWidth:"450px",modalHeight:"300px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t<div class="radio-group">\n\t\t\t\t\t\t\t\t<label class="custom-control custom-radio">\n\t\t\t\t\t\t\t\t\t<input type="radio" name="flagRow" class="custom-control-input"\tv-model="flagRow" value="transaction" />\n\t\t\t\t\t\t\t\t\t<span class="custom-control-label" style="font-weight: bold; font-size: .8rem">Transaction</span>\t\t\t\n\t\t\t\t\t\t\t\t\t<span style="display: inline-block; font-size: .778rem;">{{ $t(\'igate.migration.transaction.processing\') }}</span>\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</label>\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="radio-group">\n\t\t\t\t\t\t\t\t<label class="custom-control custom-radio">\n\t\t\t\t\t\t\t\t\t<input type="radio" name="flagRow" class="custom-control-input"\tv-model="flagRow" value="row" />\n\t\t\t\t\t\t\t\t\t<span class="custom-control-label" style="font-weight: bold; font-size: .8rem">Non-Transaction</span>\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<span style="display: inline-block; font-size: .778rem;">{{ $t(\'igate.migration.non.transaction.processing\') }}</span>\n\t\t\t\t\t\t\t\t</label>\t\n\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t</div>',data(){return{flagRow:null}},methods:{getData(){return this.flagRow}}}],buttonList:[{template:'<button type="button" @click="confirm" class="btn btn-primary">{{ $t(\'head.ok\') }}</button>',methods:{async confirm(){if(!e.$refs.content[0].getData())return void this.$alert({type:"warn",message:this.$t("igate.migration.select.transaction.warn")});const a="row"===e.$refs.content[0].getData();t.flagRow=a,t.migration(a),e.hideModal()}}}]})}}},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,null,null),c=d.exports},98936:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var i,s,n=a(1691),o=a(16907),r=a(9104),l={name:"MigrationDetail",extends:n["default"],components:{DetailMake:o["default"],DetailImport:r["default"]},data(){return{migrationDataKey:"mappings",migrationUrl:"/api/entity/mapping/migration/send",fileUpDownUrl:"/api/entity/mapping/migration/context"}}},d=l,c=a(43736),p=(0,c.Z)(d,i,s,!1,null,null,null),h=p.exports},9104:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group",staticStyle:{"margin-bottom":"16px"}},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(`${t.$t("head.file")} ${t.$t("head.select")}`))])]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.fileName,expression:"fileName"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:"readonly",placeholder:t.$t("igate.migration.fileSelectError")},domProps:{value:t.fileName},on:{input:function(e){e.target.composing||(t.fileName=e.target.value)}}}),e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","margin-right":"5px"},attrs:{type:"button",title:`${t.$t("head.file")} ${t.$t("head.select")}`},on:{click:t.selectFile}},[t._v(" "+t._s(`${t.$t("head.file")} ${t.$t("head.select")}`)+" ")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",title:t.$t("head.upload")},on:{click:t.uploadFile}},[t._v(" "+t._s(t.$t("head.upload"))+" ")])])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.errorMessage,expression:"errorMessage"}],staticClass:"col-lg-12"},[e("div",{staticClass:"form-group",staticStyle:{"margin-bottom":"16px"}},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.exception")))])]),e("div",{staticClass:"input-group"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.errorMessage,expression:"errorMessage"}],staticClass:"form-control view-disabled",attrs:{rows:"10",readonly:!0},domProps:{value:t.errorMessage},on:{input:function(e){e.target.composing||(t.errorMessage=e.target.value)}}})])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:0<t.mappings.length,expression:"0 < mappings.length"}],staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.userId")))])]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userId,expression:"userId"}],staticClass:"form-control view-disabled",attrs:{type:"text",disabled:!0},domProps:{value:t.userId},on:{input:function(e){e.target.composing||(t.userId=e.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.name")))])]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control view-disabled",attrs:{type:"text",disabled:!0},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:0<t.mappings.length,expression:"0 < mappings.length"}],staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.migrationDate")))])]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.migrationDate,expression:"migrationDate"}],staticClass:"form-control view-disabled",attrs:{type:"text",disabled:!0},domProps:{value:t.migrationDate},on:{input:function(e){e.target.composing||(t.migrationDate=e.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.migrationTime")))])]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.migrationTime,expression:"migrationTime"}],staticClass:"form-control view-disabled",attrs:{type:"text",disabled:!0},domProps:{value:t.migrationTime},on:{input:function(e){e.target.composing||(t.migrationTime=e.target.value)}}})])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:0<t.mappings.length,expression:"0 < mappings.length"}],staticClass:"col-lg-12",staticStyle:{"margin-top":"1rem"}},[e("div",{staticClass:"form-group",staticStyle:{"margin-bottom":"16px"}},[e("table",{staticClass:"migration-table",attrs:{width:"100%"}},[t._m(0),e("thead",[e("tr",{staticStyle:{"background-color":"#f5f6fb"},attrs:{align:"center"}},[e("th",[t._v(t._s(t.$t("igate.mapping")))]),e("th",[t._v(t._s(t.$t("igate.migration.includeList")))])])]),t._l(t.mappings,(function(a,i){return e("tr",{key:i},[e("td",[t._v(t._s(a.mapping.mappingId)+"("+t._s(a.mapping.mappingName)+")")]),e("td",{attrs:{valign:"top"}},[e("table",{attrs:{width:"100%"}},[e("tr",[e("td",{attrs:{width:"20%"}},[t._v(t._s(t.$t("igate.mapping")))]),e("td",[e("table",{attrs:{width:"100%"}},[e("tr",[e("td",[t._v(t._s(a.mapping.mappingId)+"("+t._s(a.mapping.mappingName)+")")])]),e("tr")])])])])])])}))],2)])])])])},s=[function(){var t=this,e=t._self._c;return e("colgroup",[e("col",{attrs:{width:"50%"}}),e("col",{attrs:{width:"50%"}})])}],n=a(60197),o={name:"MigrationImport",extends:n["default"]},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,null,null),c=d.exports},16907:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.userId")))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.userId,expression:"userId"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:!0},domProps:{value:t.userId},on:{input:function(e){e.target.composing||(t.userId=e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.name")))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:!0},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.migrationDate")))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.migrationDate,expression:"migrationDate"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:!0},domProps:{value:t.migrationDate},on:{input:function(e){e.target.composing||(t.migrationDate=e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.migrationTime")))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.migrationTime,expression:"migrationTime"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:!0},domProps:{value:t.migrationTime},on:{input:function(e){e.target.composing||(t.migrationTime=e.target.value)}}})])])]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("table",{staticClass:"migration-table"},[t._m(0),e("thead",[e("tr",{staticStyle:{"background-color":"#f5f6fb"},attrs:{align:"center"}},[e("th",{staticStyle:{height:"32px"}},[t._v(t._s(t.$t("igate.mapping")))]),e("th",{staticStyle:{height:"32px"}},[t._v(t._s(t.$t("igate.migration.includeList")))]),e("th",{staticStyle:{height:"32px"}},[t._v(t._s(t.$t("igate.migration.referList")))])])]),t._l(t.mappings,(function(a,i){return e("tr",{key:i,staticStyle:{height:"28px"}},[e("td",[t._v(t._s(a.mapping.mappingId)+"("+t._s(a.mapping.mappingName)+")")]),e("td",{attrs:{valign:"top"}},[e("table",{attrs:{width:"100%"}},[e("tr",[e("td",{attrs:{width:"20%"}},[t._v(t._s(t.$t("igate.mapping")))]),e("td",[e("table",{attrs:{width:"100%"}},[e("tr",[e("td",[t._v(t._s(a.mapping.mappingId)+"("+t._s(a.mapping.mappingName)+")")])])])])])])]),e("td",{attrs:{valign:"top"}},[e("table",{attrs:{width:"100%"}},[a.referRecords.length?e("tr",[e("td",{attrs:{width:"30%"}},[t._v(t._s(t.$t("igate.record")))]),e("td",[e("table",{attrs:{width:"100%"}},t._l(a.referRecords,(function(a,s){return e("tr",{key:`${i}_${s}`},[e("td",[t._v(t._s(a.recordId)+"("+t._s(a.recordName)+")")])])})),0)])]):t._e()])])])}))],2)])]),t.editor?e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("a",{staticClass:"btn detail btn-primary viewGroup",staticStyle:{float:"right"},attrs:{href:"javascript:void(0);",title:t.$t("head.migration")},on:{click:t.migration}},[t._v(" "+t._s(t.$t("head.migration"))+" ")]),e("a",{staticClass:"btn detail viewGroup",staticStyle:{float:"right",right:"10px"},attrs:{href:"javascript:void(0);",title:t.$t("head.download")},on:{click:t.downloadFile}},[t._v(" "+t._s(t.$t("head.download"))+" ")])])]):t._e()])},s=[function(){var t=this,e=t._self._c;return e("colgroup",[e("col",{attrs:{width:"33%"}}),e("col",{attrs:{width:"33%"}}),e("col",{attrs:{width:"34%"}})])}],n=a(18083),o={name:"MigrationMake",extends:n["default"]},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,null,null),c=d.exports},2307:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var i,s,n=a(1691),o=a(58453),r=a(85353),l={name:"MigrationDetail",extends:n["default"],components:{DetailMake:o["default"],DetailImport:r["default"]},data(){return{migrationDataKey:"operations",migrationUrl:"/api/entity/operation/migration/send",fileUpDownUrl:"/api/entity/operation/migration/context"}}},d=l,c=a(43736),p=(0,c.Z)(d,i,s,!1,null,null,null),h=p.exports},85353:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group",staticStyle:{"margin-bottom":"16px"}},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(`${t.$t("head.file")} ${t.$t("head.select")}`))])]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.fileName,expression:"fileName"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:"readonly",placeholder:t.$t("igate.migration.fileSelectError")},domProps:{value:t.fileName},on:{input:function(e){e.target.composing||(t.fileName=e.target.value)}}}),e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","margin-right":"5px"},attrs:{type:"button",title:`${t.$t("head.file")} ${t.$t("head.select")}`},on:{click:t.selectFile}},[t._v(" "+t._s(`${t.$t("head.file")} ${t.$t("head.select")}`)+" ")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",title:t.$t("head.upload")},on:{click:t.uploadFile}},[t._v(" "+t._s(t.$t("head.upload"))+" ")])])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.errorMessage,expression:"errorMessage"}],staticClass:"col-lg-12"},[e("div",{staticClass:"form-group",staticStyle:{"margin-bottom":"16px"}},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.exception")))])]),e("div",{staticClass:"input-group"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.errorMessage,expression:"errorMessage"}],staticClass:"form-control view-disabled",attrs:{rows:"10",readonly:!0},domProps:{value:t.errorMessage},on:{input:function(e){e.target.composing||(t.errorMessage=e.target.value)}}})])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:0<t.operations.length,expression:"0 < operations.length"}],staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.userId")))])]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userId,expression:"userId"}],staticClass:"form-control view-disabled",attrs:{type:"text",disabled:!0},domProps:{value:t.userId},on:{input:function(e){e.target.composing||(t.userId=e.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.name")))])]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control view-disabled",attrs:{type:"text",disabled:!0},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:0<t.operations.length,expression:"0 < operations.length"}],staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.migrationDate")))])]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.migrationDate,expression:"migrationDate"}],staticClass:"form-control view-disabled",attrs:{type:"text",disabled:!0},domProps:{value:t.migrationDate},on:{input:function(e){e.target.composing||(t.migrationDate=e.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.migrationTime")))])]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.migrationTime,expression:"migrationTime"}],staticClass:"form-control view-disabled",attrs:{type:"text",disabled:!0},domProps:{value:t.migrationTime},on:{input:function(e){e.target.composing||(t.migrationTime=e.target.value)}}})])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:0<t.operations.length,expression:"0 < operations.length"}],staticClass:"col-lg-12",staticStyle:{"margin-top":"1rem"}},[e("div",{staticClass:"form-group",staticStyle:{"margin-bottom":"16px"}},[e("table",{staticClass:"migration-table",attrs:{width:"100%"}},[t._m(0),t._m(1),e("thead",[e("tr",{staticStyle:{"background-color":"#f5f6fb"},attrs:{align:"center"}},[e("th",[t._v(t._s(t.$t("igate.operation")))]),e("th",[t._v(t._s(t.$t("igate.migration.includeList")))])])]),t._l(t.operations,(function(a,i){return e("tr",{key:i},[e("td",[t._v(t._s(a.operation.operationId)+"("+t._s(a.operation.operationName)+")")]),e("td",{attrs:{valign:"top"}},[e("table",{attrs:{width:"100%"}},[e("tr",[e("td",{attrs:{width:"20%"}},[t._v(t._s(t.$t("igate.operation")))]),e("td",[e("table",{attrs:{width:"100%"}},[e("tr",[e("td",[t._v(t._s(a.operation.operationId)+"("+t._s(a.operation.operationName)+")")])]),e("tr")])])])])])])}))],2)])])])])},s=[function(){var t=this,e=t._self._c;return e("colgroup",[e("col",{attrs:{width:"50%"}}),e("col",{attrs:{width:"50%"}})])},function(){var t=this,e=t._self._c;return e("colgroup",[e("col",{attrs:{width:"50%"}}),e("col",{attrs:{width:"50%"}})])}],n=a(60197),o={name:"MigrationImport",extends:n["default"]},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,null,null),c=d.exports},58453:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.userId")))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.userId,expression:"userId"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:!0},domProps:{value:t.userId},on:{input:function(e){e.target.composing||(t.userId=e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.name")))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:!0},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.migrationDate")))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.migrationDate,expression:"migrationDate"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:!0},domProps:{value:t.migrationDate},on:{input:function(e){e.target.composing||(t.migrationDate=e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.migrationTime")))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.migrationTime,expression:"migrationTime"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:!0},domProps:{value:t.migrationTime},on:{input:function(e){e.target.composing||(t.migrationTime=e.target.value)}}})])])]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("table",{staticClass:"migration-table",attrs:{width:"100%"}},[t._m(0),e("thead",[e("tr",{staticStyle:{"background-color":"#f5f6fb"},attrs:{align:"center"}},[e("th",{staticStyle:{height:"32px"}},[t._v(t._s(t.$t("igate.operation")))]),e("th",{staticStyle:{height:"32px"}},[t._v(t._s(t.$t("igate.migration.includeList")))]),e("th",{staticStyle:{height:"32px"}},[t._v(t._s(t.$t("igate.migration.referList")))])])]),t._l(t.operations,(function(a,i){return e("tr",{key:i,staticStyle:{height:"28px"}},[e("td",[t._v(t._s(a.operation.operationId)+"("+t._s(a.operation.operationName)+")")]),e("td",{attrs:{valign:"top"}},[e("table",{attrs:{width:"100%"}},[e("tr",[e("td",{attrs:{width:"20%"}},[t._v(t._s(t.$t("igate.operation")))]),e("td",[e("table",{attrs:{width:"100%"}},[e("tr",[e("td",[t._v(t._s(a.operation.operationId)+"("+t._s(a.operation.operationName)+")")])])])])]),a.operation.referenceMappings.length?e("tr",[e("td",{attrs:{width:"30%"}},[t._v(t._s(t.$t("igate.mapping")))]),e("td",[e("table",{attrs:{width:"100%"}},t._l(a.operation.referenceMappings,(function(a,s){return e("tr",{key:`${i}_${s}`},[e("td",[t._v(t._s(a.mappingId)+"("+t._s(a.mappingName)+")")])])})),0)])]):t._e()])]),e("td",{attrs:{valign:"top"}},[e("table",{attrs:{width:"100%"}},[a.referRecords.length?e("tr",[e("td",{attrs:{width:"30%"}},[t._v(t._s(t.$t("igate.record")))]),e("td",[e("table",{attrs:{width:"100%"}},t._l(a.referRecords,(function(a,s){return e("tr",{key:`${i}_${s}`},[e("td",[t._v(t._s(a.recordId)+"("+t._s(a.recordName)+")")])])})),0)])]):t._e(),a.referOperations.length?e("tr",[e("td",{attrs:{width:"30%"}},[t._v(t._s(t.$t("igate.operation")))]),e("td",[e("table",{attrs:{width:"100%"}},t._l(a.referOperations,(function(a,s){return e("tr",{key:`${i}_${s}`},[e("td",[t._v(t._s(a.operationId)+"("+t._s(a.operationName)+")")])])})),0)])]):t._e()])])])}))],2)])]),t.editor?e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("a",{staticClass:"btn detail btn-primary viewGroup",staticStyle:{float:"right"},attrs:{href:"javascript:void(0);",title:t.$t("head.migration")},on:{click:t.migration}},[t._v(" "+t._s(t.$t("head.migration"))+" ")]),e("a",{staticClass:"btn detail viewGroup",staticStyle:{float:"right",right:"10px"},attrs:{href:"javascript:void(0);",title:t.$t("head.download")},on:{click:t.downloadFile}},[t._v(" "+t._s(t.$t("head.download"))+" ")])])]):t._e()])},s=[function(){var t=this,e=t._self._c;return e("colgroup",[e("col",{attrs:{width:"33%"}}),e("col",{attrs:{width:"33%"}}),e("col",{attrs:{width:"34%"}})])}],n=a(18083),o={name:"MigrationMake",extends:n["default"]},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,null,null),c=d.exports},11911:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var i,s,n=a(1691),o=a(90144),r=a(2120),l={name:"MigrationDetail",extends:n["default"],props:{selectedDetailData:Object},components:{DetailMake:o["default"],DetailImport:r["default"]},data(){return{migrationDataKey:"queries",migrationUrl:"/api/entity/query/migration/send",fileUpDownUrl:"/api/entity/query/migration/context"}}},d=l,c=a(43736),p=(0,c.Z)(d,i,s,!1,null,null,null),h=p.exports},2120:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group",staticStyle:{"margin-bottom":"16px"}},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(`${t.$t("head.file")} ${t.$t("head.select")}`))])]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.fileName,expression:"fileName"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:"readonly",placeholder:t.$t("igate.migration.fileSelectError")},domProps:{value:t.fileName},on:{input:function(e){e.target.composing||(t.fileName=e.target.value)}}}),e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","margin-right":"5px"},attrs:{type:"button",title:`${t.$t("head.file")} ${t.$t("head.select")}`},on:{click:t.selectFile}},[t._v(" "+t._s(`${t.$t("head.file")} ${t.$t("head.select")}`)+" ")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",title:t.$t("head.upload")},on:{click:t.uploadFile}},[t._v(" "+t._s(t.$t("head.upload"))+" ")])])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.errorMessage,expression:"errorMessage"}],staticClass:"col-lg-12"},[e("div",{staticClass:"form-group",staticStyle:{"margin-bottom":"16px"}},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.exception")))])]),e("div",{staticClass:"input-group"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.errorMessage,expression:"errorMessage"}],staticClass:"form-control view-disabled",attrs:{rows:"10",readonly:!0},domProps:{value:t.errorMessage},on:{input:function(e){e.target.composing||(t.errorMessage=e.target.value)}}})])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:0<t.queries.length,expression:"0 < queries.length"}],staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.userId")))])]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userId,expression:"userId"}],staticClass:"form-control view-disabled",attrs:{type:"text",disabled:!0},domProps:{value:t.userId},on:{input:function(e){e.target.composing||(t.userId=e.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.name")))])]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control view-disabled",attrs:{type:"text",disabled:!0},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:0<t.queries.length,expression:"0 < queries.length"}],staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.migrationDate")))])]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.migrationDate,expression:"migrationDate"}],staticClass:"form-control view-disabled",attrs:{type:"text",disabled:!0},domProps:{value:t.migrationDate},on:{input:function(e){e.target.composing||(t.migrationDate=e.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.migrationTime")))])]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.migrationTime,expression:"migrationTime"}],staticClass:"form-control view-disabled",attrs:{type:"text",disabled:!0},domProps:{value:t.migrationTime},on:{input:function(e){e.target.composing||(t.migrationTime=e.target.value)}}})])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:0<t.queries.length,expression:"0 < queries.length"}],staticClass:"col-lg-12",staticStyle:{"margin-top":"1rem"}},[e("div",{staticClass:"form-group",staticStyle:{"margin-bottom":"16px"}},[e("table",{staticClass:"migration-table",attrs:{width:"100%"}},[t._m(0),e("thead",[e("tr",{staticStyle:{"background-color":"#f5f6fb"},attrs:{align:"center"}},[e("th",[t._v(t._s(t.$t("igate.query")))]),e("th",[t._v(t._s(t.$t("igate.migration.includeList")))])])]),t._l(t.queries,(function(a,i){return e("tr",{key:i},[e("td",[t._v(t._s(a.query.queryId)+"("+t._s(a.query.queryName)+")")]),e("td",{attrs:{valign:"top"}},[e("table",{attrs:{width:"100%"}},[e("tr",[e("td",{attrs:{width:"20%"}},[t._v(t._s(t.$t("igate.query")))]),e("td",[e("table",{attrs:{width:"100%"}},[e("tr",[e("td",[t._v(t._s(a.query.queryId)+"("+t._s(a.query.queryName)+")")])]),e("tr")])])]),a.query.inputRecordObject?e("tr",[e("td",{attrs:{width:"30%"}},[t._v(t._s(t.$t("igate.record")))]),e("td",[e("table",{attrs:{width:"100%"}},[e("tr",[e("td",[t._v(" "+t._s(a.query.inputRecordObject.recordId)+"("+t._s(a.query.inputRecordObject.recordName)+") ")])]),a.query.outputRecordObject?e("tr",[e("td",[t._v(" "+t._s(a.query.outputRecordObject.recordId)+"("+t._s(a.query.outputRecordObject.recordName)+") ")])]):t._e()])])]):t._e()])])])}))],2)])])])])},s=[function(){var t=this,e=t._self._c;return e("colgroup",[e("col",{attrs:{width:"50%"}}),e("col",{attrs:{width:"50%"}})])}],n=a(60197),o={name:"MigrationImport",extends:n["default"]},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,null,null),c=d.exports},90144:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.userId")))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.userId,expression:"userId"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:!0},domProps:{value:t.userId},on:{input:function(e){e.target.composing||(t.userId=e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.name")))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:!0},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.migrationDate")))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.migrationDate,expression:"migrationDate"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:!0},domProps:{value:t.migrationDate},on:{input:function(e){e.target.composing||(t.migrationDate=e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.migrationTime")))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.migrationTime,expression:"migrationTime"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:!0},domProps:{value:t.migrationTime},on:{input:function(e){e.target.composing||(t.migrationTime=e.target.value)}}})])])]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("table",{staticClass:"migration-table",attrs:{width:"100%"}},[t._m(0),e("thead",[e("tr",{staticStyle:{"background-color":"#f5f6fb"},attrs:{align:"center"}},[e("th",{staticStyle:{height:"32px"}},[t._v(t._s(t.$t("igate.query")))]),e("th",{staticStyle:{height:"32px"}},[t._v(t._s(t.$t("igate.migration.includeList")))]),e("th",{staticStyle:{height:"32px"}},[t._v(t._s(t.$t("igate.migration.referList")))])])]),t._l(t.queries,(function(a,i){return e("tr",{key:i,staticStyle:{height:"28px"}},[e("td",[t._v(t._s(a.query.queryId)+"("+t._s(a.query.queryName)+")")]),e("td",{attrs:{valign:"top"}},[e("table",{attrs:{width:"100%"}},[e("tr",[e("td",{attrs:{width:"20%"}},[t._v(t._s(t.$t("igate.query")))]),e("td",[e("table",{attrs:{width:"100%"}},[e("tr",[e("td",[t._v(t._s(a.query.queryId)+"("+t._s(a.query.queryName)+")")])])])])]),a.query.inputRecordObject?e("tr",[e("td",{attrs:{width:"30%"}},[t._v(t._s(t.$t("igate.record")))]),e("td",[e("table",{attrs:{width:"100%"}},[e("tr",[e("td",[t._v(t._s(a.query.inputRecordObject.recordId)+"("+t._s(a.query.inputRecordObject.recordName)+")")])]),a.query.outputRecordObject?e("tr",[e("td",[t._v(" "+t._s(a.query.outputRecordObject.recordId)+"("+t._s(a.query.outputRecordObject.recordName)+") ")])]):t._e()])])]):t._e()])]),e("td",{attrs:{valign:"top"}},[e("table",{attrs:{width:"100%"}},[a.referRecords.length?e("tr",[e("td",{attrs:{width:"30%"}},[t._v(t._s(t.$t("igate.record")))]),e("td",[e("table",{attrs:{width:"100%"}},t._l(a.referRecords,(function(a,s){return e("tr",{key:`${i}_${s}`},[e("td",[t._v(t._s(a.recordId)+"("+t._s(a.recordName)+")")])])})),0)])]):t._e()])])])}))],2)])]),t.editor?e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("a",{staticClass:"btn detail btn-primary viewGroup",staticStyle:{float:"right"},attrs:{href:"javascript:void(0);",title:t.$t("head.migration")},on:{click:t.migration}},[t._v(" "+t._s(t.$t("head.migration"))+" ")]),e("a",{staticClass:"btn detail viewGroup",staticStyle:{float:"right",right:"10px"},attrs:{href:"javascript:void(0);",title:t.$t("head.download")},on:{click:t.downloadFile}},[t._v(" "+t._s(t.$t("head.download"))+" ")])])]):t._e()])},s=[function(){var t=this,e=t._self._c;return e("colgroup",[e("col",{attrs:{width:"33%"}}),e("col",{attrs:{width:"33%"}}),e("col",{attrs:{width:"34%"}})])}],n=a(18083),o={name:"MigrationMake",extends:n["default"]},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,null,null),c=d.exports},16311:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var i,s,n=a(1691),o=a(79618),r=a(22278),l={name:"MigrationDetail",extends:n["default"],props:{selectedDetailData:Object},components:{DetailMake:o["default"],DetailImport:r["default"]},data(){return{migrationDataKey:"records",migrationUrl:"/api/entity/record/migration/send",fileUpDownUrl:"/api/entity/record/migration/context"}}},d=l,c=a(43736),p=(0,c.Z)(d,i,s,!1,null,null,null),h=p.exports},22278:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group",staticStyle:{"margin-bottom":"16px"}},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(`${t.$t("head.file")} ${t.$t("head.select")}`))])]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.fileName,expression:"fileName"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:"readonly",placeholder:t.$t("igate.migration.fileSelectError")},domProps:{value:t.fileName},on:{input:function(e){e.target.composing||(t.fileName=e.target.value)}}}),e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","margin-right":"5px"},attrs:{type:"button",title:`${t.$t("head.file")} ${t.$t("head.select")}`},on:{click:t.selectFile}},[t._v(" "+t._s(`${t.$t("head.file")} ${t.$t("head.select")}`)+" ")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",title:t.$t("head.upload")},on:{click:t.uploadFile}},[t._v(" "+t._s(t.$t("head.upload"))+" ")])])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.errorMessage,expression:"errorMessage"}],staticClass:"col-lg-12"},[e("div",{staticClass:"form-group",staticStyle:{"margin-bottom":"16px"}},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.exception")))])]),e("div",{staticClass:"input-group"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.errorMessage,expression:"errorMessage"}],staticClass:"form-control view-disabled",attrs:{rows:"10",readonly:!0},domProps:{value:t.errorMessage},on:{input:function(e){e.target.composing||(t.errorMessage=e.target.value)}}})])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:0<t.records.length,expression:"0 < records.length"}],staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.userId")))])]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userId,expression:"userId"}],staticClass:"form-control view-disabled",attrs:{type:"text",disabled:!0},domProps:{value:t.userId},on:{input:function(e){e.target.composing||(t.userId=e.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.name")))])]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control view-disabled",attrs:{type:"text",disabled:!0},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:0<t.records.length,expression:"0 < records.length"}],staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.migrationDate")))])]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.migrationDate,expression:"migrationDate"}],staticClass:"form-control view-disabled",attrs:{type:"text",disabled:!0},domProps:{value:t.migrationDate},on:{input:function(e){e.target.composing||(t.migrationDate=e.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.migrationTime")))])]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.migrationTime,expression:"migrationTime"}],staticClass:"form-control view-disabled",attrs:{type:"text",disabled:!0},domProps:{value:t.migrationTime},on:{input:function(e){e.target.composing||(t.migrationTime=e.target.value)}}})])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:0<t.records.length,expression:"0 < records.length"}],staticClass:"col-lg-12",staticStyle:{"margin-top":"1rem"}},[e("div",{staticClass:"form-group",staticStyle:{"margin-bottom":"16px"}},[e("table",{staticClass:"migration-table",attrs:{width:"100%"}},[t._m(0),e("thead",[e("tr",{staticStyle:{"background-color":"#f5f6fb"},attrs:{align:"center"}},[e("th",[t._v(t._s(t.$t("igate.record")))]),e("th",[t._v(t._s(t.$t("igate.migration.includeList")))])])]),t._l(t.records,(function(a,i){return e("tr",{key:i},[e("td",[t._v(t._s(a.record.recordId)+"("+t._s(a.record.recordName)+")")]),e("td",{attrs:{valign:"top"}},[e("table",{attrs:{width:"100%"}},[e("tr",[e("td",{attrs:{width:"20%"}},[t._v(t._s(t.$t("igate.record")))]),e("td",[e("table",{attrs:{width:"100%"}},[e("tr",[e("td",[t._v(t._s(a.record.recordId)+"("+t._s(a.record.recordName)+")")])]),e("tr")])])])])])])}))],2)])])])])},s=[function(){var t=this,e=t._self._c;return e("colgroup",[e("col",{attrs:{width:"50%"}}),e("col",{attrs:{width:"50%"}})])}],n=a(60197),o={name:"MigrationImport",extends:n["default"]},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,null,null),c=d.exports},79618:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.userId")))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.userId,expression:"userId"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:!0},domProps:{value:t.userId},on:{input:function(e){e.target.composing||(t.userId=e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.name")))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:!0},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.migrationDate")))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.migrationDate,expression:"migrationDate"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:!0},domProps:{value:t.migrationDate},on:{input:function(e){e.target.composing||(t.migrationDate=e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.migrationTime")))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.migrationTime,expression:"migrationTime"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:!0},domProps:{value:t.migrationTime},on:{input:function(e){e.target.composing||(t.migrationTime=e.target.value)}}})])])]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("table",{staticClass:"migration-table"},[t._m(0),e("thead",[e("tr",{staticStyle:{"background-color":"#f5f6fb"},attrs:{align:"center"}},[e("th",{staticStyle:{height:"32px"}},[t._v(t._s(t.$t("igate.record")))]),e("th",{staticStyle:{height:"32px"}},[t._v(t._s(t.$t("igate.migration.includeList")))]),e("th",{staticStyle:{height:"32px"}},[t._v(t._s(t.$t("igate.migration.referList")))])])]),t._l(t.records,(function(a,i){return e("tr",{key:i,staticStyle:{height:"28px"}},[e("td",[t._v(t._s(a.record.recordId)+"("+t._s(a.record.recordName)+")")]),e("td",{attrs:{valign:"top"}},[e("table",{attrs:{width:"100%"}},[e("tr",[e("td",{attrs:{width:"20%"}},[t._v(t._s(t.$t("igate.record")))]),e("td",[e("table",{attrs:{width:"100%"}},[e("tr",[e("td",[t._v(t._s(a.record.recordId)+"("+t._s(a.record.recordName)+")")])])])])])])]),e("td",{attrs:{valign:"top"}},[e("table",{attrs:{width:"100%"}},[a.referRecords.length?e("tr",[e("td",{attrs:{width:"30%"}},[t._v(t._s(t.$t("igate.record")))]),e("td",[e("table",{attrs:{width:"100%"}},t._l(a.referRecords,(function(a,s){return e("tr",{key:`${i}_${s}`},[e("td",[t._v(t._s(a.recordId)+"("+t._s(a.recordName)+")")])])})),0)])]):t._e()])])])}))],2)])]),t.editor?e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("a",{staticClass:"btn detail btn-primary viewGroup",staticStyle:{float:"right"},attrs:{href:"javascript:void(0);",title:t.$t("head.migration")},on:{click:t.migration}},[t._v(" "+t._s(t.$t("head.migration"))+" ")]),e("a",{staticClass:"btn detail viewGroup",staticStyle:{float:"right",right:"10px"},attrs:{href:"javascript:void(0);",title:t.$t("head.download")},on:{click:t.downloadFile}},[t._v(" "+t._s(t.$t("head.download"))+" ")])])]):t._e()])},s=[function(){var t=this,e=t._self._c;return e("colgroup",[e("col",{attrs:{width:"33%"}}),e("col",{attrs:{width:"33%"}}),e("col",{attrs:{width:"34%"}})])}],n=a(18083),o={name:"MigrationMake",extends:n["default"]},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,null,null),c=d.exports},48997:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var i,s,n=a(1691),o=a(3758),r=a(18001),l={name:"MigrationDetail",extends:n["default"],components:{DetailMake:o["default"],DetailImport:r["default"]},data(){return{migrationDataKey:"services",migrationUrl:"/api/entity/service/migration/send",fileUpDownUrl:"/api/entity/service/migration/context"}}},d=l,c=a(43736),p=(0,c.Z)(d,i,s,!1,null,null,null),h=p.exports},18001:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group",staticStyle:{"margin-bottom":"16px"}},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(`${t.$t("head.file")} ${t.$t("head.select")}`))])]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.fileName,expression:"fileName"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:"readonly",placeholder:t.$t("igate.migration.fileSelectError")},domProps:{value:t.fileName},on:{input:function(e){e.target.composing||(t.fileName=e.target.value)}}}),e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","margin-right":"5px"},attrs:{type:"button",title:`${t.$t("head.file")} ${t.$t("head.select")}`},on:{click:t.selectFile}},[t._v(" "+t._s(`${t.$t("head.file")} ${t.$t("head.select")}`)+" ")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",title:t.$t("head.upload")},on:{click:t.openFlagModal}},[t._v(" "+t._s(t.$t("head.upload"))+" ")])])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.errorMessage,expression:"errorMessage"}],staticClass:"col-lg-12"},[e("div",{staticClass:"form-group",staticStyle:{"margin-bottom":"16px"}},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.exception")))])]),e("div",{staticClass:"input-group"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.errorMessage,expression:"errorMessage"}],staticClass:"form-control view-disabled",attrs:{rows:"10",readonly:!0},domProps:{value:t.errorMessage},on:{input:function(e){e.target.composing||(t.errorMessage=e.target.value)}}})])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:0<t.services.length,expression:"0 < services.length"}],staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.userId")))])]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userId,expression:"userId"}],staticClass:"form-control view-disabled",attrs:{type:"text",disabled:!0},domProps:{value:t.userId},on:{input:function(e){e.target.composing||(t.userId=e.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.name")))])]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control view-disabled",attrs:{type:"text",disabled:!0},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:0<t.services.length,expression:"0 < services.length"}],staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.migrationDate")))])]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.migrationDate,expression:"migrationDate"}],staticClass:"form-control view-disabled",attrs:{type:"text",disabled:!0},domProps:{value:t.migrationDate},on:{input:function(e){e.target.composing||(t.migrationDate=e.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.migrationTime")))])]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.migrationTime,expression:"migrationTime"}],staticClass:"form-control view-disabled",attrs:{type:"text",disabled:!0},domProps:{value:t.migrationTime},on:{input:function(e){e.target.composing||(t.migrationTime=e.target.value)}}})])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:0<t.services.length,expression:"0 < services.length"}],staticClass:"col-lg-12",staticStyle:{"margin-top":"1rem"}},[e("div",{staticClass:"form-group",staticStyle:{"margin-bottom":"16px"}},[e("table",{staticClass:"migration-table",attrs:{width:"100%"}},[e("colgroup",[e("col",{attrs:{width:t.flagRow?"33%":"50%"}}),e("col",{attrs:{width:t.flagRow?"33%":"50%"}}),t.flagRow?e("col",{attrs:{width:"34%"}}):t._e()]),e("thead",[e("tr",{staticStyle:{"background-color":"#f5f6fb"},attrs:{align:"center"}},[e("th",[t._v(t._s(t.$t("igate.service")))]),e("th",[t._v(t._s(t.$t("igate.migration.includeList")))]),t.flagRow?e("th",[t._v(t._s(t.$t("head.process.result")))]):t._e()])]),t._l(t.services,(function(a,i){return e("tr",{key:i},[e("td",[t._v(t._s(a.service.serviceId)+"("+t._s(a.service.serviceName)+")")]),e("td",{attrs:{valign:"top"}},[e("table",{attrs:{width:"100%"}},[e("tr",[e("td",{attrs:{width:"20%"}},[t._v(t._s(t.$t("igate.service")))]),e("td",[e("table",{attrs:{width:"100%"}},[e("tr",[e("td",[t._v(t._s(a.service.serviceId)+"("+t._s(a.service.serviceName)+")")])]),e("tr")])])]),a.service.requestRecordObject?e("tr",[e("td",{attrs:{width:"30%"}},[t._v(t._s(t.$t("igate.record")))]),e("td",[e("table",{attrs:{width:"100%"}},[e("tr",[e("td",[t._v(" "+t._s(a.service.requestRecordObject.recordId)+" ("+t._s(a.service.requestRecordObject.recordName)+") ")])]),a.service.responseRecordObject?e("tr",[e("td",[t._v(" "+t._s(a.service.responseRecordObject.recordId)+" ("+t._s(a.service.responseRecordObject.recordName)+") ")])]):t._e()])])]):t._e(),a.service.operationObject?e("tr",[e("td",{attrs:{width:"30%"}},[t._v(t._s(t.$t("igate.operation")))]),e("td",[e("table",{attrs:{width:"100%"}},[e("tr",[e("td",[t._v(" "+t._s(a.service.operationObject.operationId)+" ("+t._s(a.service.operationObject.operationName)+") ")])])])])]):t._e(),a.service.operationObject&&a.service.operationObject.referenceMappings.length?e("tr",[e("td",{attrs:{width:"30%"}},[t._v(t._s(t.$t("igate.mapping")))]),e("td",[e("table",{attrs:{width:"100%"}},t._l(a.service.operationObject.referenceMappings,(function(a,s){return e("tr",{key:`${i}_${s}`},[e("td",[t._v(" "+t._s(a.mappingObject.mappingId)+" ("+t._s(a.mappingObject.mappingName)+") ")])])})),0)])]):t._e()])]),t.flagRow?e("td",{style:{color:a.result?"red":"black"}},[t._v(" "+t._s(a.result?a.result:t.$t("igate.migration.migration"))+" ")]):t._e()])}))],2)])])])])},s=[],n=a(60197),o={name:"MigrationImport",extends:n["default"],data(){return{flagRow:!1}},methods:{openFlagModal(){if(null===this.fileName)return void this.$alert({type:"warn",message:this.$t("igate.migration.fileSelectError")});const t=this,e=this.$openModal({title:this.$t("igate.migration.select.transaction"),modalWidth:"450px",modalHeight:"300px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t<div class="radio-group">\n\t\t\t\t\t\t\t\t<label class="custom-control custom-radio">\n\t\t\t\t\t\t\t\t\t<input type="radio" name="flagRow" class="custom-control-input"\tv-model="flagRow" value="transaction" />\n\t\t\t\t\t\t\t\t\t<span class="custom-control-label" style="font-weight: bold; font-size: .8rem">Transaction</span>\t\t\t\n\t\t\t\t\t\t\t\t\t<span style="display: inline-block; font-size: .778rem;">{{ $t(\'igate.migration.transaction.processing\') }}</span>\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</label>\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="radio-group">\n\t\t\t\t\t\t\t\t<label class="custom-control custom-radio">\n\t\t\t\t\t\t\t\t\t<input type="radio" name="flagRow" class="custom-control-input"\tv-model="flagRow" value="row" />\n\t\t\t\t\t\t\t\t\t<span class="custom-control-label" style="font-weight: bold; font-size: .8rem">Non-Transaction</span>\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<span style="display: inline-block; font-size: .778rem;">{{ $t(\'igate.migration.non.transaction.processing\') }}</span>\n\t\t\t\t\t\t\t\t</label>\t\n\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>',data(){return{flagRow:null}},methods:{getData(){return this.flagRow}}}],buttonList:[{template:'<button type="button" @click="confirm" class="btn btn-primary">{{ $t(\'head.ok\') }}</button>',methods:{confirm(){if(!e.$refs.content[0].getData())return void this.$alert({type:"warn",message:this.$t("igate.migration.select.transaction.warn")});const a="row"===e.$refs.content[0].getData();t.flagRow=a,t.uploadFile(a),e.hideModal()}}}]})}}},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,null,null),c=d.exports},3758:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.userId")))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.userId,expression:"userId"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:!0},domProps:{value:t.userId},on:{input:function(e){e.target.composing||(t.userId=e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.name")))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:!0},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.migrationDate")))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.migrationDate,expression:"migrationDate"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:!0},domProps:{value:t.migrationDate},on:{input:function(e){e.target.composing||(t.migrationDate=e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.migration.migrationTime")))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.migrationTime,expression:"migrationTime"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:!0},domProps:{value:t.migrationTime},on:{input:function(e){e.target.composing||(t.migrationTime=e.target.value)}}})])])]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("table",{staticClass:"migration-table",attrs:{width:"100%"}},[e("colgroup",[e("col",{attrs:{width:t.flagRow?"25%":"33%"}}),e("col",{attrs:{width:t.flagRow?"25%":"33%"}}),e("col",{attrs:{width:t.flagRow?"25%":"34%"}}),t.flagRow?e("col",{attrs:{width:"25%"}}):t._e()]),e("thead",[e("tr",{staticStyle:{"background-color":"#f5f6fb"},attrs:{align:"center"}},[e("th",[t._v(t._s(t.$t("igate.service")))]),e("th",[t._v(t._s(t.$t("igate.migration.includeList")))]),e("th",[t._v(t._s(t.$t("igate.migration.referList")))]),t.flagRow?e("th",[t._v(t._s(t.$t("head.process.result")))]):t._e()])]),t._l(t.services,(function(a,i){return e("tr",{key:i,staticStyle:{height:"28px"}},[e("td",[t._v(t._s(a.service.serviceId)+"("+t._s(a.service.serviceName)+")")]),e("td",{attrs:{valign:"top"}},[e("table",{attrs:{width:"100%"}},[e("tr",[e("td",{attrs:{width:"20%"}},[t._v(t._s(t.$t("igate.service")))]),e("td",[e("table",{attrs:{width:"100%"}},[e("tr",[e("td",[t._v(t._s(a.service.serviceId)+"("+t._s(a.service.serviceName)+")")])])])])]),a.service.requestRecordObject||a.service.responseRecordObject?e("tr",[e("td",{attrs:{width:"30%"}},[t._v(t._s(t.$t("igate.record")))]),e("td",[e("table",{attrs:{width:"100%"}},[a.service.requestRecordObject?e("tr",[e("td",[t._v(" "+t._s(a.service.requestRecordObject.recordId)+" ("+t._s(a.service.requestRecordObject.recordName)+") ")])]):t._e(),a.service.responseRecordObject?e("tr",[e("td",[t._v(" "+t._s(a.service.responseRecordObject.recordId)+" ("+t._s(a.service.responseRecordObject.recordName)+") ")])]):t._e()])])]):t._e(),a.service.operationObject?e("tr",[e("td",{attrs:{width:"30%"}},[t._v(t._s(t.$t("igate.operation")))]),e("td",[e("table",{attrs:{width:"100%"}},[e("tr",[e("td",[t._v(" "+t._s(a.service.operationObject.operationId)+" ("+t._s(a.service.operationObject.operationName)+") ")])])])])]):t._e(),a.service.operationObject&&a.service.operationObject.referenceMappings.length?e("tr",[e("td",{attrs:{width:"30%"}},[t._v(t._s(t.$t("igate.mapping")))]),e("td",[e("table",{attrs:{width:"100%"}},t._l(a.service.operationObject.referenceMappings,(function(a,s){return e("tr",{key:`${i}_${s}`},[e("td",[t._v(" "+t._s(a.mappingObject.mappingId)+"("+t._s(a.mappingObject.mappingName)+") ")])])})),0)])]):t._e()])]),e("td",{attrs:{valign:"top"}},[e("table",{attrs:{width:"100%"}},[a.referRecords.length?e("tr",[e("td",{attrs:{width:"30%"}},[t._v(t._s(t.$t("igate.record")))]),e("td",[e("table",{attrs:{width:"100%"}},t._l(a.referRecords,(function(a,s){return e("tr",{key:`${i}_${s}`},[e("td",[t._v(t._s(a.recordId)+"("+t._s(a.recordName)+")")])])})),0)])]):t._e(),a.referQueries.length?e("tr",[e("td",{attrs:{width:"30%"}},[t._v(t._s(t.$t("igate.query")))]),e("td",[e("table",{attrs:{width:"100%"}},t._l(a.referQueries,(function(a,s){return e("tr",{key:`${i}_${s}`},[e("td",[t._v(t._s(a.queryId)+"("+t._s(a.queryName)+")")])])})),0)])]):t._e(),a.referOperations.length?e("tr",[e("td",{attrs:{width:"30%"}},[t._v(t._s(t.$t("igate.operation")))]),e("td",[e("table",{attrs:{width:"100%"}},t._l(a.referOperations,(function(a,s){return e("tr",{key:`${i}_${s}`},[e("td",[t._v(t._s(a.operationId)+"("+t._s(a.operationName)+")")])])})),0)])]):t._e(),a.referServices.length?e("tr",[e("td",{attrs:{width:"30%"}},[t._v(t._s(t.$t("igate.service")))]),e("td",[e("table",{attrs:{width:"100%"}},t._l(a.referServices,(function(a,s){return e("tr",{key:`${i}_${s}`},[e("td",[t._v(t._s(a.serviceId)+"("+t._s(a.serviceName)+")")])])})),0)])]):t._e()])]),t.flagRow&&t.isReulstUpdate?e("td",{style:{color:a.result?"red":"black"}},[t._v(" "+t._s(a.result?a.result:t.$t("igate.migration.migration"))+" ")]):t._e()])}))],2)])]),t.editor?e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("a",{staticClass:"btn detail btn-primary viewGroup",staticStyle:{float:"right"},attrs:{href:"javascript:void(0);",title:t.$t("head.migration")},on:{click:t.openFlagModal}},[t._v(" "+t._s(t.$t("head.migration"))+" ")]),e("a",{staticClass:"btn detail viewGroup",staticStyle:{float:"right",right:"10px"},attrs:{href:"javascript:void(0);",title:t.$t("head.download")},on:{click:t.downloadFile}},[t._v(" "+t._s(t.$t("head.download"))+" ")])])]):t._e()])},s=[],n=a(18083),o={name:"MigrationMake",extends:n["default"],methods:{openFlagModal(){if(null===this.fileName)return void this.$alert({type:"warn",message:this.$t("igate.migration.fileSelectError")});const t=this,e=this.$openModal({title:this.$t("igate.migration.select.transaction"),modalWidth:"450px",modalHeight:"300px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t<div class="radio-group">\n\t\t\t\t\t\t\t\t<label class="custom-control custom-radio">\n\t\t\t\t\t\t\t\t\t<input type="radio" name="flagRow" class="custom-control-input"\tv-model="flagRow" value="transaction" />\n\t\t\t\t\t\t\t\t\t<span class="custom-control-label" style="font-weight: bold; font-size: .8rem">Transaction</span>\t\t\t\n\t\t\t\t\t\t\t\t\t<span style="display: inline-block; font-size: .778rem;">{{ $t(\'igate.migration.transaction.processing\') }}</span>\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</label>\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="radio-group">\n\t\t\t\t\t\t\t\t<label class="custom-control custom-radio">\n\t\t\t\t\t\t\t\t\t<input type="radio" name="flagRow" class="custom-control-input"\tv-model="flagRow" value="row" />\n\t\t\t\t\t\t\t\t\t<span class="custom-control-label" style="font-weight: bold; font-size: .8rem">Non-Transaction</span>\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<span style="display: inline-block; font-size: .778rem;">{{ $t(\'igate.migration.non.transaction.processing\') }}</span>\n\t\t\t\t\t\t\t\t</label>\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>',data(){return{flagRow:null}},methods:{getData(){return this.flagRow}}}],buttonList:[{template:'<button type="button" @click="confirm" class="btn btn-primary">{{ $t(\'head.ok\') }}</button>',methods:{async confirm(){if(!e.$refs.content[0].getData())return void this.$alert({type:"warn",message:this.$t("igate.migration.select.transaction.warn")});const a="row"===e.$refs.content[0].getData();t.flagRow=a,t.migration(a),e.hideModal()}}}]})}}},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,null,null),c=d.exports},22605:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return v}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.id")))]),t.getReadonly(t.regExpInfo["recordId"])?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt["recordId"]}/${t.maxLengthCnt["recordId"]})`)+" ")]),e("b",{staticClass:"icon-star"})]),e("div",{class:"detail-content-"+(t.getReadonly(t.regExpInfo["recordId"])?"common":"regExp"),style:{"padding-left":""+(t.getReadonly(t.regExpInfo["recordId"])?"0px":"8px")}},[e("inputText",{ref:"recordId",attrs:{vModel:"recordId",classObject:{"form-control":t.getReadonly(t.regExpInfo["recordId"]),"regExp-text":!t.getReadonly(t.regExpInfo["recordId"]),"view-disabled":!0,dataKey:!0},readonly:t.readonly||t.getReadonly(t.regExpInfo["recordId"]),regExpType:"id"},on:{setLengthCnt:t.setLengthCnt}})],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.name")))]),t.getReadonly(t.regExpInfo["recordName"])?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt["recordName"]}/${t.maxLengthCnt["recordName"]})`)+" ")])]),e("div",{class:"detail-content-"+(t.getReadonly(t.regExpInfo["recordName"])?"common":"regExp"),style:{"padding-left":""+(t.getReadonly(t.regExpInfo["recordName"])?"0px":"8px")}},[e("inputText",{ref:"recordName",attrs:{vModel:"recordName",classObject:{"form-control":t.getReadonly(t.regExpInfo["recordName"]),"regExp-text":!t.getReadonly(t.regExpInfo["recordName"]),"view-disabled":!0,dataKey:!1},readonly:t.readonly||t.getReadonly(t.regExpInfo["recordName"]),regExpType:"name"},on:{setLengthCnt:t.setLengthCnt}})],1)]),e("div",{staticClass:"form-group"},[t._m(0),e("selectBox",{ref:"privateYn",attrs:{vModel:"privateYn",classObject:{"form-control":!0,"view-disabled":!0},readonly:t.readonly||t.getReadonly({isPK:!1,readonly:!1}),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Yn"},orderByKey:!0},optionListName:"privateYnList",optionFor:"option in privateYnList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}}})],1),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("common.type")))]),e("b",{staticClass:"icon-star"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.recordType,expression:"recordType"}],ref:"recordType",staticClass:"form-control view-disabled",attrs:{readonly:t.readonly||t.getReadonly({isPK:!1,readonly:!1})},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.recordType=e.target.multiple?a:a[0]},function(e){"add"===t.mode&&("H"===t.recordType||"R"===t.recordType)&&t.$refs.recordId.setData(t.namingFormatter(t.recordType))}]}},t._l(t.recordTypeArr,(function(a,i){return e("option",{key:i,attrs:{disabled:a.disabled},domProps:{value:a.pk.propertyKey}},[t._v(" "+t._s(t.recordTypeFormatter(a.pk.propertyKey))+" ")])})),0)])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.record.metaDomain")))]),e("b",{staticClass:"icon-star"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.metaDomain,expression:"metaDomain"}],ref:"metaDomain",staticClass:"form-control view-disabled",attrs:{readonly:t.readonly||t.getReadonly({isPK:!1,readonly:!1})},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.metaDomain=e.target.multiple?a:a[0]}}},t._l(t.metaDomainList,(function(a){return e("option",{key:a,attrs:{disabled:a.disabled},domProps:{value:a}},[t._v(" "+t._s(a)+" ")])})),0)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.group")))]),t.getReadonly(t.regExpInfo["recordGroup"])?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt["recordGroup"]}/${t.maxLengthCnt["recordGroup"]})`)+" ")]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"input-group"},[e("inputText",{ref:"recordGroup",attrs:{vModel:"recordGroup",classObject:{"form-control":!0,"view-disabled":!0,dataKey:!0},regExpType:"default",readonly:t.readonly},on:{setLengthCnt:t.setLengthCnt}}),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button",title:t.$t("head.search")},on:{click:function(e){return t.openGroupModal(t.$refs.recordGroup)}}},[e("i",{staticClass:"icon-srch",staticStyle:{"margin-right":"0px"}})]),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button",title:t.$t("head.initialize")},on:{click:()=>{t.$refs.recordGroup.setData(null),t.curLengthCnt.recordGroup=0}}},[e("i",{staticClass:"icon-reset",staticStyle:{"margin-right":"0px"}})])],1)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("common.privilege")))]),e("b",{staticClass:"icon-star"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.privilegeId,expression:"privilegeId"}],ref:"privilegeId",staticClass:"form-control view-disabled",attrs:{readonly:t.readonly||t.getReadonly({isPK:!1,readonly:!1})},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.privilegeId=e.target.multiple?a:a[0]}}},t._l(t.privilegeTypeList,(function(a){return e("option",{key:a.privilegeId,attrs:{disabled:a.disabled},domProps:{value:a.privilegeId}},[t._v(" "+t._s(a.privilegeId)+" ")])})),0)])])]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.description")))]),t.getReadonly(t.regExpInfo["recordDesc"])?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt["recordDesc"]}/${t.maxLengthCnt["recordDesc"]})`)+" ")])]),e("div",{class:"detail-content-"+(t.getReadonly(t.regExpInfo["recordDesc"])?"common":"regExp"),style:{"padding-left":""+(t.getReadonly(t.regExpInfo["recordDesc"])?"0px":"8px")}},[e("textArea",{ref:"recordDesc",attrs:{vModel:"recordDesc",classObject:{"form-control":t.getReadonly(t.regExpInfo["recordDesc"]),"regExp-textarea":!t.getReadonly(t.regExpInfo["recordDesc"]),"view-disabled":!0},readonly:t.readonly||t.getReadonly(t.regExpInfo["recordDesc"]),height:"130px",regExpType:"desc"},on:{setLengthCnt:t.setLengthCnt}})],1)])])])])},s=[function(){var t=this,e=t._self._c;return e("label",{staticClass:"control-label"},[e("span",[t._v("Private")]),e("b",{staticClass:"icon-star"})])}],n=(a(57658),a(63822)),o=a(31823),r=a.n(o),l=a(63516),d=a(37662),c=a(77285),p=a.n(c),h=a(66281),u=a.n(h),m={name:"DetailBasic",extends:l.Z,data(){return{namingRules:null,privilegeTypeList:[],privilegeId:null,recordTypeArr:[],recordType:null,metaDomainList:[],metaDomain:null,keyArr:["recordId","recordName","privilegeId","privateYn","metaDomain","recordType","recordGroup","recordDesc"],regExpInfo:{recordId:{regExpType:"id",isPK:!0,readonly:!1},recordName:{regExpType:"name",isPK:!1,readonly:!1},recordGroup:{regExpType:"default",isPK:!1,readonly:!1},recordDesc:{regExpType:"desc",isPK:!1,readonly:!1}}}},async created(){let t=new d.p0("/api/page/properties"),e=await t.read({pk:{propertyId:"List.Record.Type"},orderByKey:!0});if("ok"!==e.data.result)return;if(this.recordTypeArr=e.data.object.filter((t=>"H"===t.pk.propertyKey||"R"===t.pk.propertyKey)),t=new d.p0("/api/entity/fieldMeta/group/search"),e=await t.read(),"ok"!==e.data.result)return;if(this.metaDomainList=0<e.data.object.length?e.data.object:["internal"],t=new d.p0("/api/entity/privilege/search"),e=await t.read({object:{privilegeType:"b"},limit:null,next:null,reverseOrder:!1}),"ok"!==e.data.result)return;const a=e.data.object,i=this.userInfo.totalUserPrivileges.filter((t=>"b"===t.privilegeType));for(const s of a)this.isUserAdmin?s.disabled=!1:s.disabled="undefined"===typeof i.find((t=>t.privilegeId==s.privilegeId));this.privilegeTypeList=a,t=new d.p0("/api/page/properties"),e=await t.read({pk:{propertyId:"ImgOption.NamingRules"},orderByKey:!0}),"ok"===e.data.result&&(this.namingRules=e.data.object)},computed:{...(0,n.rn)(["userInfo","regExpTypeList"]),...(0,n.Se)(["isUserAdmin"])},methods:{initData(){const t={};if(this.keyArr.forEach((e=>{t[e]="undefined"!==typeof this.detailData[e]&&null!==this.detailData[e]?String(this.detailData[e]):null;const a=Object.keys(this.regExpInfo).includes(e)?this.regExpInfo[e].regExpType:"default";this.setLengthCnt({[e]:0}),this.maxLengthCnt[e]=(0,d.oo)(a).maxLength})),"add"===this.mode&&(t["privateYn"]="N",t["recordType"]||(t["recordType"]="H",t["recordId"]=this.namingFormatter("H"))),"clone"===this.mode){const e=this.namingRules.find((t=>"SaveAsID"===t.pk.propertyKey)).propertyValue;t["recordId"]=e.replace("{0}",t["recordId"])}1===this.metaDomainList.length&&"internal"===this.metaDomainList[0]&&"add"===this.mode&&(t["metaDomain"]="internal");for(const e in this.$refs)this.$refs[e].setData&&this.$refs[e].setData(t[this.$refs[e]._props.vModel]);this.privilegeId=t.privilegeId,this.recordType=t.recordType,this.metaDomain=t.metaDomain},getData(){let t={};for(let e in this.$refs)0!==this.$refs[e].length&&("recordType"===e?t.recordType=this.recordType:"privilegeId"===e?t.privilegeId=this.privilegeId:"metaDomain"===e?t.metaDomain=this.metaDomain:t=r()(t,this.$refs[e].getData()));return this.namingFormatter(t.recordType)===t.recordId&&(t.recordId=null),(0,d.Fh)(t)},namingFormatter(t){return this.namingRules.find((e=>("H"===t?"RecordHeaderPrefix":"RecordReferPrefix")===e.pk.propertyKey)).propertyValue},recordTypeFormatter(t){switch(t){case"C":return"Common data-model";case"H":return"Header data-model";case"R":return"Reference data-model";case"I":return"Individual data-model";case"E":return"Embedded data-model"}},openGroupModal(t){const e=this.$openModal({title:this.$t("head.group"),modalWidth:"450px",modalHeight:"580px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t\t\t<Search :list="searchList" @search="search" ref="search"/>\n\t\t\t\t\t\t\t\t\t<div class="ct-content">\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t:list="buttonList"\n\t\t\t\t\t\t\t\t\t\t\t:viewer="true"\n\t\t\t\t\t\t\t\t\t\t\t:totalCnt="null"\n\t\t\t\t\t\t\t\t\t\t\t:currentCnt="null"\n\t\t\t\t\t\t\t\t\t\t\t@initialize="initialize"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<NoData v-if="!isGridView" />\n\t\t\t\t\t\t\t\t\t\t<div class="table-responsive" style="height: 300px" v-else>\n\t\t\t\t\t\t\t\t\t\t\t<TuiGrid ref="tuiGrid" v-bind="options" @click="rowClicked" />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>',components:{Search:a(96434).Z,Button:a(19286).Z,NoData:a(48578).Z,TuiGrid:a(37856).Grid},data(){return{searchList:[{type:"text",vModel:"recordGroup",label:this.$t("head.group"),placeholder:this.$t("head.searchData")}],buttonList:[{id:"initialize",isUse:!0}],totalCnt:null,isGridView:!1,dataList:[],options:{treeColumnOptions:{name:"recordGroup"},data:[],scrollY:!0,minBodyHeight:"260",bodyHeight:"300",columns:[{hidden:!0,name:"key"},{header:this.$t("head.group"),name:"recordGroup"}]}}},async created(){this.options=(0,d.d_)(this.options);const t=await new d.p0("/api/entity/record/group/search").read();"ok"===t.data.result&&(this.dataList=u()(t.data.object))},methods:{initTreeData(t){const e=[];for(const a of t){const[t,...i]=a.split("."),s=e.find((e=>e.recordGroup===t));let n={};s?n=s:(n={recordGroup:t,key:t},e.push(n));let o=n;for(const e of i){o._children||(o._children=[]);const t=o._children.find((t=>t.recordGroup===e));t?o=t:(o._children.push({recordGroup:e,key:`${o.key}.${e}`}),o=o._children.at(-1))}}return e},search(t){this.isGridView=!0,this.$nextTick((()=>{let e=[];e=p()(t.recordGroup)?this.dataList:this.dataList.filter((e=>e.includes(t.recordGroup)));const a=this.initTreeData(e);this.$refs.tuiGrid.invoke("resetData",a)}))},rowClicked(a){if("undefined"===typeof a.rowKey||"rowHeader"===a.targetType)return;const i=this.$refs.tuiGrid.invoke("getRow",a.rowKey);t.setData(i.key),e.hideModal()},initialize(){this.$refs.search.initialize()}}}]})}}},g=m,f=a(43736),y=(0,f.Z)(g,i,s,!1,null,null,null),v=y.exports},33841:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return f}});var i=function(){var t=this,e=t._self._c;return e("div",{ref:"panel",class:t.panelClass,attrs:{id:"panel"}},[e("div",{staticClass:"panel-dialog"},[e("div",{staticClass:"panel-content",style:t.panelContentStyle},[e("div",{staticClass:"resize-bar"}),e("header",{staticClass:"panel-header sub-bar",attrs:{id:"panel-header"}},["modify"===t.panelMode?e("a",{staticClass:"btn btn-icon backBtn",attrs:{href:"javascript:void(0);",title:t.$t("head.goBackward")},on:{click:t.goPreviousPanel}},[e("i",{staticClass:"icon-left"})]):t._e(),e("h2",{staticClass:"sub-bar-tit",style:{width:`calc(100% - ${"modify"===t.panelMode?208:164}px)`}},[t._v(" "+t._s(t.subBarTitle)+" "),e("span",{staticClass:"sub-bar-selected-tit ellipsis",style:{width:`calc(100% - ${"modify"===t.panelMode?80:65}px)`},attrs:{title:t.selectedInfoTitle?t.selectedInfoTitle.substr(3):""}},[t._v(" "+t._s(t.selectedInfoTitle)+" ")])]),"detail"===t.panelMode&&t.editor&&!t.lockEditor?e("label",{staticClass:"control-label warningLabel",staticStyle:{"padding-bottom":"0px"}},[e("b",{staticClass:"icon-star"}),t._v(" "+t._s(t.$t("head.not.registered.privilege.model.warn"))+" ")]):t._e(),e("div",{staticClass:"ml-auto"},["modify"!==t.panelMode&&"add"!==t.panelMode&&t.lockEditor?e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t(t.detailData.lockUserId===t.userInfo.userId?"common.unlock":"common.lock")},on:{click:t.lockEvt}},[e("img",{attrs:{id:"lockIcon",src:t.getMenuIconUrl(t.detailData.lockUserId===t.userInfo.userId?"unlock":"lock")}})]):t._e(),e("button",{staticClass:"btn-change-layout-horizon btn-icon",attrs:{type:"button",title:t.$t("common.detail.horizontal.view")},on:{click:function(e){return t.changeLayout("vertical")}}},[e("img",{staticClass:"center-block",attrs:{src:t.getMenuIconUrl("horizontal")}})]),e("button",{staticClass:"btn-change-layout-vertical btn-icon",attrs:{type:"button",title:t.$t("common.detail.vertical.view")},on:{click:function(e){return t.changeLayout("horizon")}}},[e("img",{staticClass:"center-block",attrs:{src:t.getMenuIconUrl("vertical")}})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.expand")},on:{click:t.expandCollapsePanel}},[e("i",{staticClass:"icon-expand"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.close")},on:{click:t.closePanel}},[e("i",{staticClass:"icon-close"})])])]),e("ul",{staticClass:"nav nav-tabs flex-shrink-0"},[t._l(t.tabList,(function(a,i){return e("li",{key:a.id,staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:t.selectedIdx===i},attrs:{href:"javascript:void(0);"},domProps:{textContent:t._s(a.label)},on:{click:function(e){return t.changeTab(i)}}})])})),t.toShowResult?e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:t.selectedIdx===t.tabList.length},attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.changeTab(t.tabList.length)}}},[t._v(" "+t._s(t.$t("head.executionResult"))+" ")])]):t._e()],2),e("div",{staticClass:"panel-body tab-content"},[t._l(t.tabList,(function(i,s){return e("div",{key:s,class:{[t.panelMode]:!0,"tab-pane":!0,active:t.selectedIdx===s}},["basic"===i.type?e("DetailBasic",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"property"===i.type?e("DetailProperty",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"grid"===i.type?e("DetailGrid",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"custom"===i.type?e("DetailCustom",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"bundle"===i.type?e(a(14605)(`./detail${i.url}.vue`).default,{ref:"component",refInFor:!0,tag:"component",attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):t._e()],1)})),t.toShowResult?e("DetailResult",{class:{"tab-pane":!0,active:t.selectedIdx===t.tabList.length&&t.showResultTab},attrs:{httpReqResult:t.httpReqResult}}):t._e()],2),e("footer",{staticClass:"panel-footer sub-bar",attrs:{id:"panel-footer"}},["detail"===t.panelMode||"done"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.metaHistoryBtn&&t.metaHistoryPrivilege.viewer?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);"},on:{click:t.goMetaHistoryModal}},[e("i",{staticClass:"icon-eye"}),t._v(t._s(t.$t("common.metaHistory"))+" ")]):t._e(),t.referenceBtn&&t.viewer?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.referenceTreeInfo")},on:{click:t.goReferenceModal}},[e("i",{staticClass:"icon-result"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.referenceTreeInfo")))])]):t._e(),t.dumpBtn&&t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.dump")},on:{click:t.dump}},[t._v(" "+t._s(t.$t("head.dump"))+" ")]):t._e(),t.excelExportBtn&&t.viewer?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.excel.output")},on:{click:t.excelExport}},[e("i",{staticClass:"icon-result"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.excel.output")))])]):t._e(),t.deleteBtn&&t.newEditor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.delete")},on:{click:t.removeInfo}},[e("i",{staticClass:"icon-delete"}),t._v(t._s(t.$t("head.delete"))+" ")]):t._e(),t.updateBtn&&t.newEditor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.update")},on:{click:t.goModifyPanel}},[e("i",{staticClass:"icon-edit"}),t._v(t._s(t.$t("head.update"))+" ")]):t._e(),t.insertBtn&&t.newEditor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:`${t.$t("head.insert")} (${t.$t("head.copy")})`},on:{click:t.goAddInfo}},[e("i",{staticClass:"icon-plus"}),t._v(t._s(`${t.$t("head.insert")} (${t.$t("head.copy")})`)+" ")]):t._e()]):"add"===t.panelMode||"clone"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.insertBtn&&t.newEditor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.insert")},on:{click:t.saveInfo}},[e("i",{staticClass:"icon-plus"}),t._v(t._s(t.$t("head.insert"))+" ")]):t._e()]):"modify"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.updateBtn&&t.newEditor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.update")},on:{click:t.updateInfo}},[e("i",{staticClass:"icon-edit"}),t._v(t._s(t.$t("head.update"))+" ")]):t._e()]):t._e()])])])])},s=[],n=a(63822),o=a(31823),r=a.n(o),l=a(44062),d=a(37662),c=a(66281),p=a.n(c),h={name:"ModelRecordDetail",extends:l.Z,data(){return{lockUserId:null,lockEditor:!1,newEditor:!1,metaHistoryViewer:!1,isClickTabMenu:!1}},computed:{...(0,n.rn)(["userInfo"]),...(0,n.Se)(["isUserAdmin"])},watch:{panelMode(){"done"===this.panelMode&&(this.lockEditor=!0),this.isClickTabMenu||"detail"!==this.panelMode||(this.selectedIdx=1)},lockUserId(){"detail"===this.panelMode&&(this.detailData.lockUserId=this.lockUserId,this.newEditor=this.lockUserId===this.userInfo.userId)}},created(){const{viewer:t}=(0,d.fc)("MetaHistory");this.metaHistoryViewer=t},methods:{changeTab(t){this.$nextTick((()=>{this.$refs.component[t]&&this.$refs.component[t].resize&&this.$refs.component[t].resize()})),l.Z.methods.changeTab.bind(this)(t),this.isClickTabMenu=!0},async loadData(t){if(this.$refs.component.forEach(((t,e)=>{"useInfo"!==this.tabList[e].id&&(this.tabAllData=r()(this.tabAllData,t.getData()))})),"detail"!==this.panelMode&&(0<this.tabAllData.fields.length||this.tabAllData.options&&0<this.tabAllData.options.length)){const t=await new d.p0("/api/entity/record/check").read(this.tabAllData,!0,(t=>{this.tabAllData={},this.showResultTab=!1;const e=e=>t.data.error.some((t=>t.field.startsWith(e)));e("fields")&&(this.changeTab(1),this.detailData.fields=p()(t.data.object.fields),this.detailData.options=p()(t.data.object.options),this.$refs.component[1].resetData()),this.$alert({type:"warn",message:t.data.error.filter((t=>"fields"===t.field)).map((t=>""+((t.className?`${t.className}<hr>`:"")+t.message))).join(",")})}));if("error"===t.data.result)return}t&&t()},openPanel(){if(this.lockUserId=this.detailData.lockUserId,"detail"===this.panelMode){const t=this.userInfo.totalUserPrivileges.find((t=>"b"===t.privilegeType&&t.privilegeId===this.detailData.privilegeId));this.editor&&t?this.isUserAdmin||t.admin?this.lockEditor=!0:this.lockEditor=!this.lockUserId||this.lockUserId===this.userInfo.userId:this.lockEditor=!1}else this.newEditor=this.editor;l.Z.methods.openPanel.bind(this)()},publish(t){0!==this.detailData.fields.length?this.$confirm({type:"warn",message:this.$t("head.deployed.model.warn"),callback:()=>{l.Z.methods.publish.bind(this)(t)}}):this.$alert({type:"warn",message:this.$t("head.no.fields.registered.model.warn")})},async lockEvt(){const t=await new d.p0("/api/entity/record/lock")[this.detailData.lockUserId?"delete":"update"]({recordId:this.detailData.recordId},!0,(()=>{}));if("ok"!==t.data.result)this.$alert({type:"warn",message:`${t.data.error[0].message}`});else{this.lockUserId=this.lockUserId?null:this.userInfo.userId;const t=this.$parent.$children.find((t=>t.$refs.grid)).$refs.grid.$refs.tuiGrid,e=t.invoke("getData").find((t=>t.recordId===this.detailData.recordId)).rowKey;t.invoke("setValue",e,"lockUserId",this.lockUserId),this.$refs.component[3].$children[0].setData(this.lockUserId),this.detailData.lockUserId=this.lockUserId,this.newEditor=this.lockUserId===this.userInfo.userId}}}},u=h,m=a(43736),g=(0,m.Z)(u,i,s,!1,null,null,null),f=g.exports},40073:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return y}});var i=function(){var t=this,e=t._self._c;return e("div",{on:{click:t.gridFocusOut}},[t.readonly?t._e():e("div",{staticClass:"ml-auto form-inline m-full"},[e("button",{ref:"checkAllBtn",staticClass:"btn-icon",attrs:{type:"button",title:t.$t("igate.record.check.all")},on:{click:function(e){return t.$refs.tuiGrid.invoke("checkAll")}}},[e("i",{staticClass:"icon-check"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("igate.record.uncheck.all")},on:{click:function(e){return t.$refs.tuiGrid.invoke("uncheckAll")}}},[e("i",{staticClass:"icon-uncheck"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("igate.record.add.single.field")},on:{click:function(e){return t.addField(1)}}},[e("i",{staticClass:"icon-plus"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("igate.record.add.fields")},on:{click:t.goFieldsAddNumModal}},[e("i",{staticClass:"icon-plus-circle"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("igate.record.delete.fields")},on:{click:t.deleteField}},[e("i",{staticClass:"icon-minus-circle"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("igate.record.reference")},on:{click:function(e){return t.goOtherModelSelectModal("referenceModel")}}},[e("i",{staticClass:"icon-share"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("igate.record.add.full.fields")},on:{click:function(e){return t.goOtherModelSelectModal("addModelFields")}}},[e("i",{staticClass:"icon-created"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("igate.record.index.automatic.numbering")},on:{click:t.indexAutomaticNumbering}},[e("i",{staticClass:"icon-file-text"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("igate.record.dictionary")},on:{click:t.dictionary}},[e("i",{staticClass:"icon-srch"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("igate.fieldMeta")},on:{click:t.openFieldMeta}},[e("i",{staticClass:"icon-file-check"})])]),e("div",{staticClass:"table-responsive"},[t.isLoadColumnInfo?e("TuiGrid",t._b({ref:"tuiGrid"},"TuiGrid",t.options,!1)):t._e()],1)])},s=[],n=(a(57658),a(30541),a(31823)),o=a.n(n),r=a(66281),l=a.n(r),d=a(37856),c=a(37662),p=a(77285),h=a.n(p),u={name:"DetailInfo",props:{mode:String,detailData:Object},components:{TuiGrid:d.Grid},data(){return{isLoadColumnInfo:!1,options:{header:{height:60,complexColumns:[]},columnOptions:{frozenCount:0},treeColumnOptions:{name:"pk.fieldId"},scrollX:!0,draggable:!0,columns:[],contextMenu:({rowKey:t})=>{const e=this.$refs.tuiGrid.invoke("getRow",t);if(!e)return;const a=this.$refs.tuiGrid.invoke("getParentRow",t),i=[{name:"close",label:this.$t("head.close"),action:()=>{}}];let s=[];if(this.readonly||!e||a&&("R"===a.refModelRecordType||"H"===a.refModelRecordType))return[i];if("R"===e.fieldType)return"R"!==e.refModelRecordType&&"H"!==e.refModelRecordType&&(s=[{name:"addSingle",label:this.$t("igate.record.add.single.sub.field"),action:()=>this.addField(1,{parentRowKey:t})},{name:"addMulti",label:this.$t("igate.record.add.multi.sub.field"),action:()=>this.goFieldsAddNumModal({parentRowKey:t})}]),[s,[{name:"delAll",label:this.$t("igate.record.delete.fields.all"),action:()=>this.deleteField(t)}],i];{const n=e._attributes.rowNum;return a||(s=[{name:"addSingle",label:this.$t("igate.record.add.fields.below"),action:()=>this.addField(1,{at:n})}]),[s,[{name:"delSingle",label:this.$t("igate.record.delete.fields"),action:()=>this.deleteField(t)}],i]}},rowHeaders:[{type:"checkbox",header:" "},"rowNum"],editingEvent:"click",onGridMounted:t=>{t.instance.on("click",(t=>{t.nativeEvent.target.closest(".tui-grid-body-container")&&t.nativeEvent.stopPropagation(),this.readonly&&t.stop()})),t.instance.on("dragStart",(t=>{const e=this.$refs.tuiGrid.invoke("getRow",t.rowKey),a=t.floatingRow.getElementsByClassName("tui-grid-floating-tree-cell-content")[0];a.innerText=null===e["pk.fieldId"]?"":(0,c.Xv)(e["pk.fieldId"])})),t.instance.on("drop",(t=>{this.$nextTick(this.resize);const e=this.$refs.tuiGrid.invoke("getRow",t.targetRowKey);e&&e.refModelRecordType?t.stop():t.appended&&t.targetRowKey!==t.rowKey&&(null!==e.fieldType&&"R"===e.fieldType||this.$refs.tuiGrid.invoke("setValue",t.targetRowKey,"fieldType","R"))})),t.instance.on("expand",(()=>{this.$nextTick(this.resize)})),t.instance.on("collapse",(()=>{this.$nextTick(this.resize)}))},onGridUpdated:()=>{this.resize()}},isCtrlDown:!1}},async beforeCreate(){const t=[],e=document.createElement("script");e.type="text/javascript",e.src=(0,c.u5)("/custom/js/xml2json.js"),document.querySelector("#ct").appendChild(e),t.push(new Promise((t=>{e.addEventListener("load",(async()=>{await this.getExtendColumnInfo(),t()}))}))),await Promise.all(t)},async mounted(){document.body.addEventListener("keydown",this.keyDown),c.dc.$on("MainResize",this.resize),c.Gk.$on("MainResize",this.resize),c.bB.$on("MainResize",this.resize),c.QK.$on("MainResize",this.resize),this.$el.addEventListener("change",this.changeCheckbox)},computed:{readonly(){return"detail"===this.mode||"done"===this.mode}},watch:{detailData(){this.resetData()}},methods:{getAllData(){let t={};for(const e in this.$parent.$refs)if(Array.isArray(this.$parent.$refs[e]))this.$parent.$refs[e].forEach((e=>{e.getData&&(t=o()(t,e.getData()))}));else{if(!this.$parent.$refs[e].getData)continue;t=o()(t,this.$parent.$refs[e].getData())}return t},openFieldMeta(){const t=this.getAllData();if(" "===t.metaDomain)return void this.$alert({type:"warn",backdropMode:"full",message:this.$t("head.set.metadomain.basic.info")});const e=this,i=this.$openModal({title:this.$t("igate.fieldMeta"),fullscreen:!0,contentList:[{template:`<AddFieldMeta ref="addFieldMeta" metaDomain="${t.metaDomain}" />`,components:{AddFieldMeta:a(71306)["default"]}}],buttonList:[{template:'<button type="button" @click="confirm" class="btn btn-primary">{{ $t(\'head.ok\') }}</button>',methods:{confirm(){const t=i.$refs.content[0].$refs.addFieldMeta.getData();0!==t.length?(t.forEach((t=>{const a={};e.options.columns.forEach((e=>{a[e.name]="undefined"===typeof t[e.name]?"arrayType"===e.name||"fieldRequireYn"===e.name||"fieldHiddenYn"===e.name?"N":null:t[e.name]})),e.$refs.tuiGrid.invoke("appendRow",a)})),e.resize(),i.hideModal()):this.$alert({type:"warn",message:this.$t("common.no.target.selected")})}}}]})},gridFocusOut(){this.$refs.tuiGrid&&(this.$refs.tuiGrid.invoke("blur"),this.$refs.tuiGrid.invoke("cancelEditing"))},changeCheckbox(t){if("INPUT"!==t.target.tagName)return;if("checkbox"!==t.target.type)return;const{checkedvalue:e,uncheckedvalue:a,name:i,rowkey:s}=t.target.dataset;this.$refs.tuiGrid.invoke("setValue",s,i,t.target.checked?e:a)},formatCopyData(t){const e=[],a=[],i=this.$refs.tuiGrid.invoke("getSelectionRange");for(let n=i.start[1];n<i.end[1]+1;n++){const t=this.$refs.tuiGrid.invoke("getColumns");e.push(t[n].name)}for(let n=i.start[0];n<i.end[0]+1;n++){const i=[],s=this.$refs.tuiGrid.invoke("getRowAt",n).rowKey,o=t?this.$refs.tuiGrid.invoke("getDepth",s):null;e.forEach((t=>{const e=this.$refs.tuiGrid.invoke("getValue",s,t),a={B:"Byte",S:"Short",I:"Int",L:"Long",F:"Float",D:"Double",b:"Boolean",p:"TimeStamp",T:"String",N:"Numeric",P:"PackedDecimal",A:"Raw",R:"Group"};i.push("fieldType"===t?a[e]:e)})),o&&i.unshift(o-1),a.push(i.join("\t"))}document.querySelector(".hd-side > a").focus();const s=document.createElement("textarea");s.style.width="0px",s.style.height="0px",s.value=a.join("\n"),document.body.appendChild(s),s.select(),document.execCommand("copy"),document.querySelector(".hd-side > a").blur()},async keyDown(t){if(0!==this.$el.clientWidth&&(this.isCtrlDown=t.ctrlKey,!this.isCtrlDown||"c"!==t.key&&"C"!==t.key||(this.formatCopyData(!1),"pk.fieldId"===this.$refs.tuiGrid.invoke("getFocusedCell").columnName&&this.$confirm({type:"warn",message:this.$t("igate.record.copy.field.level"),callback:async()=>{this.formatCopyData(!0)}})),this.isCtrlDown&&("v"===t.key||"V"===t.key))){if("INPUT"===t.target.tagName)return;if(this.readonly)return;document.querySelector(".hd-side > a").focus();const e=document.createElement("textarea");e.style.width="0px",e.style.height="0px",document.body.appendChild(e),e.focus(),document.execCommand("paste");const a=await new Promise((t=>{setTimeout((()=>{document.body.removeChild(e),t(e.value)}),0)})),i=[],s=a.split("\n");s.forEach((t=>{const e=t.split("\t");if(!e)return;if(!e[0]&&!e[1])return;isNaN(Number(e[0]))&&e.unshift("0"),e[4]||(e[0]="0");const a={N:"Not",F:"Fixed",V:"Variable"};e[7]=e[7]?a[e[7]]:"Not",i.push({col:e.map((t=>t.trim())),isAppend:!1})}));const n=l()(this.detailData);n.fields=[],await this.copyPasteCovertData(i,0,n);const o=this.initTreeData(n.fields);o.forEach((t=>this.$refs.tuiGrid.invoke("appendTreeRow",t,{parentRowKey:-1}))),this.resize(),document.querySelector(".hd-side > a").blur()}},fieldValidation(t){t.forEach((t=>{this.$refs.tuiGrid.invoke("removeRowClassName",t.rowKey,"red"),t.validateMessage&&this.$refs.tuiGrid.invoke("addRowClassName",t.rowKey,"red"),t.recordObject&&this.fieldValidation(t.recordObject.fields)}))},resetData(){this.$refs.tuiGrid&&(!this.detailData||this.detailData.fields?(this.$refs.tuiGrid.invoke("resetData",this.initTreeData(this.detailData.fields)),this.fieldValidation(this.$refs.tuiGrid.invoke("getData")),this.$nextTick((()=>{this.readonly?(this.$refs.tuiGrid.invoke("getData").forEach((({rowKey:t})=>this.$refs.tuiGrid.invoke("disableRow",t))),this.$refs.tuiGrid.invoke("getColumns").forEach((t=>{t.hidden||this.$refs.tuiGrid.invoke("enableColumn",t.name)}))):this.$refs.tuiGrid.invoke("enable")}))):this.$refs.tuiGrid.invoke("clear"))},async getExtendColumnInfo(){const t=this,e=new c.p0("/api/page/iToolsConfig"),a=await e.read();if("ok"!==a.data.result)return;const i=JSON.parse(xml2json($.parseXML(a.data.object)," ")),s=i.Configuration.Record.GroupHeaders.GroupHeader;s.forEach(((e,a)=>{const i={name:`mergeColumn${a+1}`,header:e["@label"],childNames:[]};e.Column.forEach((e=>{const a={name:"fieldId"===e["@name"]?"pk.fieldId":e["@name"],header:e["@label"],width:e["@width"],align:e["@align"],minWidth:"150"};if("undefined"!==typeof e.availableDefaultValue&&(a.defaultValue=e.availableDefaultValue),"regEdit"===e["@editType"])e["@availableValue"]?a.editor=class{constructor(t){const a=new RegExp(e["@availableValue"],"g"),i=document.createElement("input");i.setAttribute("type","text"),i.classList.add("form-control"),i.pattern=a,i.value=(0,c.Xv)(t.value),this.el=i}getElement(){return this.el}getValue(){return this.el.value}}:(a.editor="text",a.formatter=t=>(0,c.Xv)(t.value?t.value:""));else if("edit"===e["@editType"])"integer"===e["@availableValue"]||"numeric"===e["@availableValue"]?a.editor=class{constructor(t){const e=document.createElement("input");e.setAttribute("type","text"),e.addEventListener("input",(t=>{t.target.value=t.target.value.match(/^-?\d*/)[0]})),e.classList.add("form-control"),e.value=t.value,this.el=e}getElement(){return this.el}getValue(){return this.el.value}}:(a.editor="text","true"===e["@disable"]&&(a.disabled="true"),a.formatter=t=>(0,c.Xv)(t.value?t.value:""));else if("checkbox"===e["@editType"]){let t="Y",i="N";e["@availableValue"]&&e["@availableValue"].split(",").forEach((e=>{"true"==e.split("=")[1]?t=e.split("=")[0]:i=e.split("=")[0]})),a.align="center",a.formatter=e=>`<input type="checkbox" \n\t\t\t\t\t\t\t\t\t\t${t===e.value?"checked":""} ${e.row._attributes.disabled?"disabled":""}\n\t\t\t\t\t\t\t\t\t\tdata-rowkey="${e.row.rowKey}" data-name="${e.column.name}" data-checkedValue="${t}" data-unCheckedValue="${i}">`}else"select"===e["@editType"]?(a.editor=class{constructor(t){const a=document.createElement("select");a.classList.add("form-control"),a.style.minWidth="unset",e["@availableValue"].split(",").forEach((e=>{const i=document.createElement("option");i.setAttribute("value",e.split("=")[0]),i.innerText=e.split("=")[1],t.value===e.split("=")[0]&&i.setAttribute("selected","selected"),a.appendChild(i)})),this.el=a}getElement(){return this.el}getValue(){return this.el.value}},a.formatter=t=>{if(null===t.value)return"";let a=null;return e["@availableValue"].split(",").forEach((e=>{e.split("=")[0]===t.value&&(a=e.split("=")[1])})),(0,c.Xv)(a)},a.copyOptions={useFormattedValue:!0}):"codec"===e["@editType"]?(a.renderer=class{constructor(t){const e=document.createElement("span");e.style.padding="4px 5px",e.innerHTML=t.value?(0,c.Xv)(t.value):"",this.el=e}getElement(){return this.el}render(t){this.el.innerHTML=t.value?(0,c.Xv)(t.value):""}},a.editor=class{constructor(e){const a=document.createElement("span");a.classList.add("input-group");const i=document.createElement("input");i.type="text",i.classList.add("form-control"),i.classList.add("view-disabled"),i.setAttribute("readonly","readonly"),i.value=e.value?(0,c.Xv)(e.value):"";const s=document.createElement("i");s.classList.add("icon-srch"),s.style="margin: 8px; cursor: pointer;",s.addEventListener("click",(()=>{t.openActivityModal(e.rowKey)})),a.appendChild(i),a.appendChild(s),this.el=a}getElement(){return this.el}getValue(){return this.el.firstChild.value}},a.formatter=({value:t})=>t?(0,c.Xv)(t):""):a.escapeHTML=!0;this.options.columns.push(a),i.childNames.push(e["@name"])})),this.options.header.complexColumns.push(i)})),this.options=(0,c.d_)(this.options),this.isLoadColumnInfo=!0,h()(this.detailData)?this.$nextTick((()=>{this.resize()})):this.$nextTick((()=>{this.resetData(),this.resize()}))},openActivityModal(t){const e=this,i=this.$openModal({title:this.$t("igate.activity"),modalWidth:"1000px",contentList:[{template:'<div>\n                                <Search :list="searchList" @search="search" ref="search"/>\n                                    <Main\n                                    :buttonList="buttonList"\n                                    :gridInfo="gridInfo"\n                                    :gridSearchObj="gridSearchObj"\n                                    :gridType="\'modalBasic\'"\n                                    :viewer="true"\n                                    @rowClicked="rowClicked"\n                                    @initialize="initialize"\n                                />\n                            </div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:[{type:"text",vModel:"activityId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"select",vModel:"activityType",label:this.$t("common.type"),val:"C",readonly:!0,optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Activity.ActivityType"},orderByKey:!0},optionListName:"activityTypes",optionFor:"option in activityTypes",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue",optionIf:"'C' === option.pk.propertyKey"}},{type:"text",vModel:"activityDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0}],gridInfo:{url:"/api/entity/activity/search",totalCntUrl:"/api/entity/activity/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"activityId",header:this.$t("head.id")},{name:"activityName",header:this.$t("head.name")},{name:"activityType",header:this.$t("common.type"),val:"C",formatter:({row:t})=>{const e={F:"igate.activity.type.control",A:"igate.activity.type.activity",S:"igate.activity.type.service",C:"igate.activity.type.codec",T:"igate.activity.type.transform",I:"igate.activity.type.internal",H:"igate.activity.type.telegram.handler"};return this.$t(e[t.activityType])}},{name:"activityDesc",header:this.$t("head.description")}]}},gridSearchObj:{}}},methods:{search(t){this.gridSearchObj=t},rowClicked(a){e.$refs.tuiGrid.invoke("setValue",t,"codecId",a.activityId),e.$refs.tuiGrid.invoke("cancelEditing"),e.$refs.tuiGrid.invoke("startEditing",t,"codecId"),i.hideModal()},initialize(){this.$refs.search.initialize()}}}]})},initTreeData(t,e){if(!t)return;t=l()(t);const a=[];return t.forEach((t=>{if(delete t.rowKey,t["pk.fieldId"]=t.pk.fieldId,t["pk.recordId"]=t.pk.recordId,!h()(t.options)){for(const e in t.options)t[e]=t.options[e]?t.options[e]:"Y";delete t.options}t._attributes||(t._attributes={}),e?(t._attributes.disabled=!0,t._attributes.className={row:["refModelField"]}):this.options.columns.forEach((e=>{null!==t[e.name]&&"undefined"!==typeof t[e.name]||(t[e.name]="undefined"===typeof e.defaultValue?null:e.defaultValue)})),t.recordObject&&(t.fieldType="R",t._attributes.expanded=!0,"E"!==t.recordObject.recordType&&(t.refModelRecordType=t.recordObject.recordType),t._children=this.initTreeData(t.recordObject.fields,"undefined"===typeof e?"E"!==t.recordObject.recordType:e)),delete t.pk,delete t.options,delete t.recordObject,delete t.lvl,a.push(t)})),a},resize(){this.$refs.tuiGrid&&setTimeout((()=>{const t=document.getElementById("panel"),e=t.getElementsByClassName("panel-body")[0],a=getComputedStyle(e),i=(0,c.tJ)(a.getPropertyValue("padding-left")),s=(0,c.tJ)(a.getPropertyValue("padding-right")),n=(0,c.tJ)(a.getPropertyValue("padding-top")),o=(0,c.tJ)(a.getPropertyValue("padding-bottom")),r=e.clientWidth-i-s,l=e.clientHeight-n-o-5-(this.readonly?0:32);this.$refs.tuiGrid.invoke("setWidth",r),this.$refs.tuiGrid.invoke("setHeight",l)}),0)},goFieldsAddNumModal(t){const e=this,a=this.$openModal({title:this.$t("igate.record.number.add.fields"),modalWidth:"250px",modalHeight:"180px",contentList:[{template:'<div><input type="text" class="form-control" v-model="addCnt" maxlength="2" @input="addCnt = addCnt.replace(/[^0-9]/g, \'\')"></div>',data(){return{addCnt:1}},methods:{getData(){return this.addCnt}}}],buttonList:[{template:'<button type="button" @click="confirm" class="btn btn-primary">{{ $t(\'head.ok\') }}</button>',methods:{confirm(){e.addField(a.$refs.content[0].getData(),t),a.hideModal()}}}]})},addField(t,e={}){for(let a=0;a<t;a++){const t={};this.options.columns.forEach((e=>{let a=null;"arrayType"!==e.name&&"fieldRequireYn"!==e.name&&"fieldHiddenYn"!==e.name||(a="N"),t[e.name]="undefined"===typeof e.defaultValue?a:e.defaultValue})),this.$refs.tuiGrid.invoke("appendRow",t,e)}this.resize()},deleteField(t){if(0!==this.$refs.tuiGrid.invoke("getRowCount")){if("number"===typeof t)this.$refs.tuiGrid.invoke("removeRow",t);else{const t=this.$refs.tuiGrid.invoke("getCheckedRowKeys");if(0===t.length)return void this.$alert({type:"warn",message:this.$t("head.no.target.selected")});t.forEach((t=>{const e=this.$refs.tuiGrid.invoke("getRow",t);null!=e&&this.$refs.tuiGrid.invoke("removeRow",t)}))}this.$refs.tuiGrid.invoke("blur"),this.resize()}else this.$alert({type:"warn",message:this.$t("head.no.target")})},goOtherModelSelectModal(t){const e=this.getAllData(),i=this,s=this.$openModal({title:"referenceModel"===t?this.$t("igate.record.reference"):this.$t("igate.record.add.full.fields"),modalWidth:"800px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t  \t       <Search :list="searchList" @search="search" ref="search" />\n\t\t\t\t\t\t\t   \t\t   <Main\n\t\t\t\t\t\t\t\t\t       :buttonList="buttonList"\n\t\t\t\t\t\t\t\t   \t\t   :gridInfo="gridInfo"\n\t\t\t\t\t\t\t\t   \t\t   :gridSearchObj="gridSearchObj"\n\t\t\t\t\t\t\t\t   \t\t   :gridType="\'modalBasic\'"\n\t\t\t\t\t\t\t\t   \t\t   :viewer="true"\n\t\t\t\t\t\t\t\t   \t\t   @rowClicked="rowClicked"\n\t\t\t\t\t\t\t\t   \t\t   @initialize="initialize"\n\t\t\t\t\t\t\t   \t\t\t/>\n\t\t\t\t\t\t   \t\t\t</div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{gridSearchObj:{},buttonList:[{id:"initialize",isUse:!0}],searchList:[{type:"text",vModel:"recordId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"recordName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"select",vModel:"recordType",label:this.$t("common.type"),val:"referenceModel"===t?e.recordType:"",optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Record.Type"},orderByKey:!0},optionListName:"recordType",optionFor:"option in recordType",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue",optionIf:"referenceModel"===t?`option.pk.propertyKey === '${e.recordType}'`:"option.pk.propertyKey != 'E' && option.pk.propertyKey != 'c'",optionEntireValue:"referenceModel"===t?e.recordType:"",isViewAll:"referenceModel"!==t}},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],gridInfo:{url:"/api/entity/record/search",totalCntUrl:"/api/entity/record/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"recordId",width:"35%"},{header:this.$t("head.name"),name:"recordName",width:"35%"},{header:this.$t("common.type"),name:"recordType",align:"center",formatter:({value:t})=>(0,c.Xv)(this.recordTypeList.find((e=>e.pk.propertyKey===t)).propertyValue),width:"15%"},{header:this.$t("common.privilege"),name:"privilegeId",width:"15%"}]}},recordTypeList:[]}},async created(){const t=new c.p0("/api/page/properties"),e=await t.read({pk:{propertyId:"List.Record.Type"},orderByKey:!0});"ok"===e.data.result&&(this.recordTypeList=e.data.object)},methods:{initialize(){this.$refs.search.initialize()},search(t){this.gridSearchObj=t},async rowClicked(e){if(e.recordId===i.detailData.recordId)this.$alert({type:"warn",message:this.$t("igate.record.same.modelId")});else{const a=new c.p0("/api/entity/record/object"),n=await a.read({recordId:e.recordId});if("ok"!==n.data.result)return;if("referenceModel"===t){const t=i.initTreeData([{pk:{fieldId:e.recordId,recordId:i.detailData.recordId},fieldName:e.recordName,fieldType:"R",recordObject:{fields:n.data.object.fields,recordType:n.data.object.recordType},subRecordId:e.recordId,arrayType:"N",fieldRequireYn:"N",fieldHiddenYn:"N"}]);t.forEach((t=>{i.$refs.tuiGrid.invoke("appendTreeRow",t,{parentRowKey:"-1"})}))}else{if(null===n.data.object.fields||0===n.data.object.fields.length)return void this.$alert({type:"warn",message:this.$t("igate.record.no.field.modelId")});i.$refs.tuiGrid.invoke("appendRows",i.initTreeData(n.data.object.fields))}s.hideModal(),i.resize()}}}}]})},indexAutomaticNumbering(){0!==this.$refs.tuiGrid.invoke("getRowCount")?this.$confirm({type:"warn",message:this.$t("head.reset.automatic.numbering"),callback:()=>{let t=0;for(let e=0;e<this.$refs.tuiGrid.invoke("getRowCount");e++){const a=this.$refs.tuiGrid.invoke("getRowAt",e);null===this.$refs.tuiGrid.invoke("getParentRow",a.rowKey)&&this.$refs.tuiGrid.invoke("setValue",a.rowKey,"fieldIndex",(""+ ++t).padStart(4,"0"))}}}):this.$alert({type:"warn",message:this.$t("head.no.target")})},dictionary(){if(0===this.$refs.tuiGrid.invoke("getRowCount"))return void this.$alert({type:"warn",message:this.$t("head.no.target.selected")});const t=this.getAllData(),{recordId:e,recordGroup:a,privilegeId:i,metaDomain:s,fields:n}=t;for(let o=0;o<n.length;o++)if(!n[o].pk.fieldId&&!n[o].fieldName)return void this.$alert({type:"warn",message:this.$t("igate.record.enter.all.fieldId")});s&&0===s.trim().length?this.$alert({type:"warn",message:this.$t("head.set.metadomain.basic.info")}):this.$confirm({type:"warn",message:this.$t("head.dictionary.searching"),callback:async()=>{const t=new c.p0("/api/entity/record/applyMeta"),n=await t.create({recordId:e,recordGroup:a,privilegeId:i,metaDomain:s,...this.getData()});"ok"===n.data.result&&(this.$refs.tuiGrid.invoke("resetData",this.initTreeData(n.data.object.fields)),this.resize())}})},getData(){this.$refs.tuiGrid.invoke("blur"),this.$refs.tuiGrid.invoke("cancelEditing");const t=["rowKey","rowSpanMap","sortKey","uniqueKey","_attributes","_disabledPriority","_leaf","_relationListItemMap","validateMessage"],e=["FieldTrim","FieldFullWidth","FieldHttpType","SchemaType","XmlName","FieldHttpName"],a=i=>{i.fieldId&&(i.fieldId=i["pk.fieldId"]),t.forEach((t=>{delete i[t]}));const s=[];e.forEach((t=>{"undefined"!==typeof i[t]&&null!==i[t]&&"none"!==i[t]&&"N"!==i[t]&&0!==i[t].trim().length&&("FieldTrim"===t||"FieldFullWidth"===t?s.push(`${t}`):s.push(`${t}=${i[t]}`))}));const n=i.table;let o,r;for(const t in n)"undefined"!==typeof n[t]&&null!==n[t]&&"N"!==n[t]&&("column"===t?o=n[t]:"flag"===t?r=n[t]:s.push(`table.${t}`));for(const t in o)o[t]&&s.push(`table.column.${t}=${o[t]}`);for(const t in r)r[t]&&s.push(`table.flag.${t}=${r[t]}`);i.fieldOptions=0<s.length?s.join(","):null,"R"===i.fieldType&&(i.recordObject={fields:[],recordType:i.refModelRecordType?i.refModelRecordType:"E"});const d=l()(i._children);return delete i._children,0===d.length||(d.forEach((t=>{i.recordObject.fields.push(l()((0,c.Fh)(this.$refs.tuiGrid.invoke("getRow",t.rowKey))))})),i.recordObject.fields.forEach((t=>{a(t)}))),i},i=[];for(let s=0;s<this.$refs.tuiGrid.invoke("getRowCount");s++){const t=this.$refs.tuiGrid.invoke("getRowAt",s);null===this.$refs.tuiGrid.invoke("getParentRow",t.rowKey)&&i.push(a(l()((0,c.Fh)(t))))}return{fields:i}},async copyPasteCovertData(t,e,a){if(a)for(let i=e;i<t.length;i++){const{col:e,isAppend:s}=t[i];if(s)continue;const n=Number(e[0]);if(0===a.fields.length||n===a.fields[a.fields.length-1].lvl){const s={lvl:n,pk:{recordId:a.id,fieldId:e[1]},fieldName:e[2],fieldIndex:e[3],fieldType:(()=>{const t={Byte:"B",Short:"S",Int:"I",Long:"L",Float:"F",Double:"D",TimeStamp:"p",String:"T",Numeric:"N",PackedDecimal:"P",Raw:"A",Record:"R",Group:"R"};return t[e[4]]})(),fieldLength:e[5]?Number(e[5]):0,fieldScale:e[6]?Number(e[6]):0,arrayType:(()=>{const t={Not:"N",Fixed:"F",Variable:"V"};return e[7]?t[e[7]]:"N"})(),referenceFieldId:e[8],fieldDefaultValue:e[9],fieldHiddenYn:e[10]?e[10].charAt(0):"N",fieldRequireYn:e[11]?e[11].charAt(0):"N",fieldValidValue:e[12],codecId:e[13],fieldOptions:e[14],subRecordId:null,recordObject:null};if("R"===s.fieldType){const t={fields:[]};if("Y"===e[15]){t.id=e[16];const a=new c.p0("/api/entity/record/object"),i=await a.read({recordId:t.id});"ok"===i.data.result&&(t.fields=i.data.object.fields),t.recordType="R"}else t.id=`${a.id}@${s.pk.fieldId}`,t.recordType="E";s.subRecordId=t.id,s.recordObject=t}a.fields.push(s),t[i].isAppend=!0}else{if(!(n>a.fields[a.fields.length-1].lvl))break;await this.copyPasteCovertData(t,i,a.fields[a.fields.length-1].recordObject)}}}},beforeDestroy(){const t=document.querySelector("#ct");t&&t.querySelectorAll("script").forEach((e=>{t.removeChild(e)})),c.dc.$off("MainResize",this.resize),c.Gk.$off("MainResize",this.resize),c.bB.$off("MainResize",this.resize),c.QK.$off("MainResize",this.resize),document.body.removeEventListener("keydown",this.keyDown),this.$el.removeEventListener("change",this.changeCheckbox)}},m=u,g=a(43736),f=(0,g.Z)(m,i,s,!1,null,"46f870a6",null),y=f.exports},4891:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return f}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"propertyTab"},[e("div",{staticClass:"form-table form-table-responsive"},[e("div",{staticClass:"form-table-head"},[t.readonly?t._e():e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.insert")},on:{click:t.addProperty}},[e("i",{staticClass:"icon-plus-circle"})]),t._l(t.detailInfo.content,(function(a,i){return e("label",{key:i,staticClass:"col"},[t._v(t._s(a.label))])}))],2),e("div",{staticClass:"form-table-wrap"},t._l(t.propertyList,(function(a,i){return e("div",{key:`${a.idx}`,staticClass:"form-table-body"},[t.readonly?t._e():e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.delete")},on:{click:function(e){return t.removeProperty(i)}}},[e("i",{staticClass:"icon-minus-circle"})]),t._l(t.detailInfo.content,(function(s,n){return e("div",{key:`${a.idx}_${n}`,staticClass:"col"},[e("div",{class:"detail-content-"+(t.regExpTypeList.includes(s.type)&&!t.getReadonly(s)?"regExp":"common")},["text"===s.type?e("inputText",{ref:`component_${i}_${n}`,refInFor:!0,attrs:{vModel:s.vModel,classObject:{"form-control":t.getReadonly(s),[`regExp-${s.type}`]:!t.getReadonly(s),"view-disabled":!0,dataKey:s.isRequired},val:a[s.vModel],regExpType:s.regExpType,readonly:t.readonly||s.readonly},on:{setLengthCnt:e=>t.setLengthCnt({[`${s.vModel}_${i}`]:e[s.vModel]})}}):"dataList"===s.type?e("dataList",{ref:`component_${i}_${n}`,refInFor:!0,attrs:{vModel:s.vModel,classObject:{"form-control":t.getReadonly(s),[`regExp-${s.type}`]:!t.getReadonly(s),"view-disabled":!0,dataKey:s.isRequired},val:a[s.vModel],readonly:t.readonly||s.readonly,optionInfo:s.optionInfo,regExpType:s.regExpType},on:{setLengthCnt:e=>t.setLengthCnt({[`${s.vModel}_${i}`]:e[s.vModel]}),changeEvt:function(e){return t.changeEvt(e,i)}}}):t._e(),t.regExpTypeList.includes(s.type)&&!t.getReadonly(s)?e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt[`${s.vModel}_${i}`]} /${t.maxLengthCnt[`${s.vModel}_${i}`]})`)+" ")]):t._e()],1)])}))],2)})),0)])])},s=[],n=(a(57658),a(63822)),o=a(77285),r=a.n(o),l=a(31823),d=a.n(l),c=a(37662),p=a(21783),h={name:"RecordExtendInfo",extends:p.Z,async created(){const{data:{object:t}}=await new c.p0("/api/page/properties").read({pk:{propertyId:"Property.Record"},orderByKey:!0});this.recordPropertyList=t},data(){return{recordPropertyList:[]}},computed:{...(0,n.rn)(["isTools"])},methods:{setPropertyList(){!r()(this.detailData)&&this.detailData.recordOptions?(this.propertyList=[],this.detailData.recordOptions.split(",").forEach((t=>{const e=t.split("="),a=e[0],i=e[1];let s="";const n=this.recordPropertyList.find((t=>t.pk.propertyKey===a));if(n){const{propertyDesc:t}=n;s=t}this.propertyList.push({idx:(0,c.Fs)(),"pk.propertyKey":a,propertyValue:i,propertyDesc:s})})),this.regexpElmList=this.detailInfo.content.filter((t=>this.regExpTypeList.includes(t.type))),this.propertyList.forEach(((t,e)=>{this.regexpElmList.forEach((a=>{const i=`${a.vModel}_${e}`;this.setLengthCnt({[i]:t[a.vModel]?t[a.vModel].length:0}),this.maxLengthCnt[i]=(0,c.oo)(a.regExpType?a.regExpType:"default").maxLength}))}))):this.propertyList=[]},changeEvt({value:t},e){const a=this.recordPropertyList.find((e=>e.pk.propertyKey===t));let i="",s="";if(a){const{propertyValue:t,propertyDesc:e}=a;i=t,s=e}this.propertyList[e]["propertyValue"]=i,this.propertyList[e]["propertyDesc"]=s},getData(){let t="";for(let e=0;e<this.propertyList.length;e++){let a={};this.detailInfo.content.forEach(((t,i)=>{a=d()(a,this.$refs[`component_${e}_${i}`][0].getData())})),null!==a["pk.propertyKey"]&&(null!==a["propertyValue"]&&(t+=a["pk.propertyKey"]+"="+a["propertyValue"]+","))}return 0<t.length&&(t=t.substring(0,t.length-1)),{recordOptions:t}}}},u=h,m=a(43736),g=(0,m.Z)(u,i,s,!1,null,null,null),f=g.exports},23309:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return g}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{ref:"topology",style:t.topologyStyle})])},s=[],n=(a(57658),a(92584)),o=a.n(n),r=a(66281),l=a.n(r),d=a(37856),c=a(37662),p={name:"DetailWorkFlow",props:{detailData:Object},data(){return{scriptUrlList:["/custom/js/xml2json.js"],isScriptLoad:!1,jsonObj:null,imgObj:{Break:{imgName:"break",img:null},Case:{imgName:"case",img:null},Condition:{imgName:"condition",img:null},Continue:{imgName:"continue",img:null},Default:{imgName:"default",img:null},End:{imgName:"end",img:null},FaultHandlers:{imgName:"faultHandler",img:null},ForEach:{imgName:"for",img:null},Fork:{imgName:"fork",img:null},Activity:{imgName:"activity",img:null,imgCustom:null},Operation:{imgName:"operation",img:null},Query:{imgName:"query",img:null},InvokeActivity:{imgName:"activity",img:null},InvokeOperation:{imgName:"operation",img:null},ReThrow:{imgName:"rethrow",img:null},Start:{imgName:"start",img:null},Scope:{imgName:"scope",img:null},Script:{imgName:"script",img:null},Switch:{imgName:"switch",img:null},Throw:{imgName:"throw",img:null},While:{imgName:"while",img:null},Service:{imgName:"service",img:null},Response:{imgName:"activity",img:null}},isDetailExist:{Script:!0,ForEach:!0,Operation:!0,InvokeOperation:!0,Activity:!0,InvokeActivity:!0,Fork:!0,Condition:!0,FaultHandlers:!0,Throw:!0,While:!0,Case:!0,Query:!0,Service:!0,Response:!0},topologyStyle:{width:null,height:null}}},async created(){const t=[];this.scriptUrlList.forEach((e=>{const a=document.createElement("script");a.type="text/javascript",a.src=(0,c.u5)(e),document.querySelector("#ct").appendChild(a),t.push(new Promise((t=>{a.addEventListener("load",(()=>{t()}))})))})),await Promise.all(t);for(const e in this.imgObj)this.imgObj[e].img=new Image,this.imgObj[e].img.src=a(18766)(`./${this.imgObj[e].imgName}.png`),"Activity"===e&&(this.imgObj[e].imgCustom=new Image,this.imgObj[e].imgCustom.src=a(48381));this.isScriptLoad=!0,this.initData()},watch:{detailData:{deep:!0,handler(){this.initData()}}},methods:{initData(){if(!this.detailData.operationRuleStr)return;if(!this.isScriptLoad)return;const t=xml2json($.parseXML(this.detailData.operationRuleStr.replaceAll("&quot;","quot;")),"");this.jsonObj=JSON.parse(t.replaceAll("quot;",'\\"')),this.refreshWorkflow()},async refreshWorkflow(){const t=o()({container:this.$refs.topology}),e=t.container().querySelectorAll("canvas")[2],a=e.getContext("2d"),i=[],s=[];this.createTopology(a,this.jsonObj.Operation,i,s),s.forEach((t=>{const e=i.find((e=>e.data.id===t.data.source)),a=e.data.nodeType;"Start"===a&&s.find((e=>t.data.source===e.data.source))||"Script"===a&&s.find((e=>t.data.source===e.data.source))||"FaultHandlers"===a?t.data.value=t.data.value?t.data.value:`#${t.data.orgData["@order"]}`:"Activity"===a&&s.find((e=>t.data.source===e.data.source))&&(t.data.value=`#${t.data.orgData["@order"]}`+t.data.value?` ${t.data.value}`:"")})),t.add(i),t.add(s);const n=localStorage.getItem("theme")&&"moon"===localStorage.getItem("theme");t.style().selector("node").style({width:t=>a.measureText(t._private.data.name).width+60,height:"20",label:"data(name)","font-size":"12px","text-valign":"center","text-halign":"center","background-color":n?"#1f2337":"#fff",color:n?"#fff":"#151826","border-width":"1","border-color":n?"#8a8b92":"#808080","text-margin-x":"7px","overlay-color":n?"#fff":"#000",shape:()=>"round-rectangle"}).selector("edge").style({width:"1","line-color":n?"#8a8b92":"#808080","target-arrow-color":n?"#8a8b92":"#808080","target-arrow-shape":"triangle","curve-style":"bezier",label:"data(value)","font-size":"11px",color:n?"#fff":"#151826"}).selector('node[isGroup="true"]').style({"text-valign":"top","text-halign":"center","min-height":"150",padding:"5"}).update();let r=[];const l=i.filter((t=>"Activity"===t.data.nodeType)).map((t=>t.data.orgData["@id"]));if(0<l.length){const t=new c.p0("/api/entity/activity/search"),e={object:{},limit:null,next:null,reverseOrder:!1};l.forEach(((t,a)=>{e.object[`activityIdList[${a}]`]=t}));const a=await t.read(e);"ok"===a.data.result&&(r=a.data.object)}t.onRender((()=>{let e=0,i=0;t.nodes().forEach((t=>{e=Math.max(e,t._private.bodyBounds.x2+t._private.bodyBounds.w),i=Math.max(i,t._private.bodyBounds.y2+t._private.bodyBounds.h)}));const s=document.getElementById("panel"),n=s.getElementsByClassName("panel-body")[0],o=getComputedStyle(n),l=(0,c.tJ)(o.getPropertyValue("padding-left")),d=(0,c.tJ)(o.getPropertyValue("padding-right")),p=(0,c.tJ)(o.getPropertyValue("padding-top")),h=(0,c.tJ)(o.getPropertyValue("padding-bottom"));e=Math.max(e,n.clientWidth-(l+d)),i=Math.max(i,n.clientHeight-(p+h)),this.topologyStyle.width=`${e}px`,this.topologyStyle.height=`${i}px`,a.beginPath(),t.nodes().each((t=>{if(t._private.data.nodeType){let e=null;if("Activity"===t._private.data.nodeType){const a=r.filter((e=>e.activityId===t._private.data.orgData["@id"]));e=0===a.length||"undefined"===typeof a[0].activityProject?this.imgObj[t._private.data.nodeType].img:this.imgObj[t._private.data.nodeType].imgCustom}else e=this.imgObj[t._private.data.nodeType]?this.imgObj[t._private.data.nodeType].img:this.imgObj["Default"].img;a.drawImage(e,t._private.rscratch.labelX-t._private.rscratch.labelWidth/2-e.width+5,t._private.rscratch.labelY-(0===t._private.children.length?e.height/2:e.height))}})),a.closePath()})),t.on("tap","node",(async e=>{const a=e.target,i=a._private.data.nodeType;if(this.isDetailExist[i]&&a.selected())if(["Query","Service","Response"].find((t=>t===i))){const t=a._private.data;let e=null;for(let a=0;a<t.orgData.Parameter.length;a++){let i=t.orgData.Parameter[a]["@desc"];if(-1<i.toLowerCase().indexOf("mapping")){e=t.orgData.Parameter[a].Value["#cdata"];break}}if(e){const t=new c.p0("/api/entity/mapping/object"),a=await t.read({mappingId:e.substring(1,e.length-1)});"ok"===a.data.result?(localStorage.removeItem("selectedRowMapping"),localStorage.setItem("selectedRowMapping",JSON.stringify({mappingId:a.data.object.mappingId,mappingType:a.data.object.mappingType})),(0,c.RB)(101020)):this.$alert({type:"warn",message:a.data.error[0].className+(a.data.error[0].message?"<hr/>"+a.data.error[0].message:""),isXSSMode:!1})}}else{const e=this.getDetailInfo(a,t);this.$openModal({title:e.title,titleClickEvt:e.titleClickEvt,modalWidth:e.size,modalHeight:"460px",contentList:[{template:e.bodyHtml,components:{TuiGrid:d.Grid},data(){return{gridOptions:e.gridOptions}}}]})}})),window.workflowResize=()=>{t.resize();const e=localStorage.getItem("theme")&&"moon"===localStorage.getItem("theme");t.style().selector("node").style({"background-color":e?"#1f2337":"#fff",color:e?"#fff":"#151826","border-color":e?"#8a8b92":"#808080","overlay-color":e?"#fff":"#000"}).selector("edge").style({"line-color":e?"#8a8b92":"#808080","target-arrow-color":e?"#8a8b92":"#808080",color:e?"#fff":"#151826"}).update()},c.bB.$off("MainResize",window.workflowResize),c.bB.$on("MainResize",window.workflowResize),t.userZoomingEnabled(!1),t.userPanningEnabled(!1)},createTopology(t,e,a,i,s){const n=(0,c.Fs)(),o={minX:Number.MAX_SAFE_INTEGER,maxX:0,minY:Number.MAX_SAFE_INTEGER,maxY:0};for(const r in e.Activities){const d=e.Activities[r];if(!d)return;const c=Array.isArray(d)?d:[d];c.forEach((e=>{if(a.push({group:"nodes",data:{id:`${e["@index"]}_${n}`,name:e["@desc"],nodeType:r,orgData:l()(e)},position:{x:Number(e["@xPos"]),y:Number(e["@yPos"])}}),isNaN(e["@index"])||(a[a.length-1].data.name+=` #${e["@index"]}`),a[a.length-1].position.x+=(t.measureText(a[a.length-1].data.name).width+60)/2,a[a.length-1].position.y+=10,e.Activities&&(a[a.length-1].position.y+=15),s&&(a[a.length-1].data.parent=s.data.id,a[a.length-1].position.x+=s.position.x,a[a.length-1].position.y+=s.position.y,o.minX=Math.min(o.minX,a[a.length-1].position.x),o.minY=Math.min(o.minY,a[a.length-1].position.y),o.maxX=Math.max(o.maxX,a[a.length-1].position.x),o.maxY=Math.max(o.maxY,a[a.length-1].position.y)),e.Activities){a[a.length-1].data.isGroup="true";const n=this.createTopology(t,e,a,i,l()(a[a.length-1]));s&&(o.minX=Math.min(o.minX,n.minX),o.minY=Math.min(o.minY,n.minY),o.maxX=Math.max(o.maxX,n.maxX),o.maxY=Math.max(o.maxY,n.maxY))}}))}if(s&&(a.push({group:"nodes",data:{id:`start_${n}`,name:"Start",nodeType:"Start",parent:s.data.id},position:{x:(o.maxX+o.minX)/2,y:s.position.y}}),a.push({group:"nodes",data:{id:`end_${n}`,name:"End",nodeType:"End",parent:s.data.id},position:{x:(o.maxX+o.minX)/2,y:o.maxY+40}}),o.maxY+=40),e.Transitions&&e.Transitions.Transition){const t=Array.isArray(e.Transitions.Transition)?e.Transitions.Transition:[e.Transitions.Transition];t.forEach(((t,e)=>{i.push({group:"edges",data:{id:`edge${e+1}_${n}`,source:`${t["@from"]}_${n}`,target:`${t["@to"]}_${n}`,value:t["@desc"]?t["@desc"]:"",orgData:l()(t)}})}))}if(s)return o},getDetailInfo(t,e){const a={title:"",size:"",bodyHtml:"",gridOptions:null},i=t._private.data,s=i.nodeType;if(["Script"].find((t=>t===s)))a.title=s,a.size="550px",a.bodyHtml+=`\n                    <div class="form-group">\n                        <textarea class="form-control" style="width: 500px; height: 300px;" disabled="disabled">\n                            ${(0,c.Xv)(i.orgData.Value["#cdata"])}\n                        </textarea>\n                    </div>                                        \n                `;else if(["While","Case"].find((t=>t===s)))a.title=s,a.size="550px",a.bodyHtml+=`\n                    <div class="form-group">\n                        <textarea class="form-control" style="width: 500px; height: 300px;" disabled="disabled">\n                            ${(0,c.Xv)(i.orgData.Condition.Value["#cdata"])}\n                        </textarea>         \n                    </div>                                           \n                `;else{if(a.title=s,a.size="550px",a.bodyHtml+='\n                    <div class="form-group"style="width: 500px;">\n                        <TuiGrid ref="tuiGrid" v-bind="gridOptions" />\n                    </div>\n                ',a.gridOptions={columns:[],data:[],bodyHeight:270},["ForEach","Operation","InvokeOperation","Fork","Activity","InvokeActivity"].find((t=>t===s))){a.gridOptions.columns=[{name:"@type",header:this.$t("head.type"),width:"20%"},{name:"@from",header:this.$t("common.type"),width:"15%",align:"center"},{name:"@cdata",header:this.$t("common.property.value"),width:"35%"},{name:"@desc",header:this.$t("common.desc"),width:"30%"}],"Activity"===s&&i.orgData["@id"]&&(a.title+=`(id: ${(0,c.Xv)(i.orgData["@id"])})`,a.titleClickEvt=this.openActivityNewTab.bind(this,(0,c.Xv)(i.orgData["@id"])));const t=Array.isArray(i.orgData.Parameter)?i.orgData.Parameter:[i.orgData.Parameter];a.gridOptions.data=t.map((t=>t?(t["@cdata"]=t.Value["#cdata"],t):{"@type":null,"@from":null,"@cdata":null,"@desc":null}))}else if(["FaultHandlers","Condition"].find((t=>t===s))){let t=null;"FaultHandlers"===s?(a.gridOptions.columns=[{name:"@type",header:this.$t("common.type"),width:"30%"},{name:"@target",header:this.$t("dashboard.head.target"),width:"30%"},{name:"@desc",header:this.$t("common.desc"),width:"40%"}],t=["Catch","CatchAll"]):"Condition"===s&&(a.gridOptions.columns=[{name:"@type",header:this.$t("common.condition"),width:"30%"},{name:"@target",header:this.$t("dashboard.head.target"),width:"30%"},{name:"@desc",header:this.$t("common.desc"),width:"40%"}],t=["When","Others"]),t.forEach((t=>{if(!i.orgData[t])return;const s=Array.isArray(i.orgData[t])?i.orgData[t]:[i.orgData[t]];s.forEach((s=>{let n="";e.edges(`[source = "${i.id}"]`).forEach((t=>{if(s["@target"]!==t._private.data.target.split("_")[0])return;const a=e.nodes(`[id = "${t._private.data.target}"]`);n=`[${a[0]._private.data.name}] [${a[0]._private.data.orgData["@index"]}]`})),a.gridOptions.data.push({"@type":t,"@target":n,"@desc":s["@desc"]})}))}))}else["Throw"].find((t=>t===s))&&(a.gridOptions.columns=[{name:"@name",header:this.$t("head.name"),width:"50%"},{name:"@type",header:this.$t("head.type"),width:"15%"},{name:"@from",header:this.$t("common.type"),width:"20%"},{name:"@cdata",header:this.$t("common.property.value"),width:"15%"}],Array.isArray(i.orgData.Parameter)&&(a.title+=` ( ${this.$t("common.error.name")} : ${i.orgData.Parameter[0].Value["#cdata"]})`,a.gridOptions.data=i.orgData.Parameter.slice(1).map(((t,e)=>(t["@cdata"]=t.Value["#cdata"],t["@name"]=`arg # ${e+1} [ ${t["@type"]} (${t["@desc"]}) ] : (${t["@from"]}) ${t.Value["#cdata"]}`,t)))));a.gridOptions.onGridMounted=t=>{a.gridOptions.onGridUpdated(t)},a.gridOptions=(0,c.d_)(a.gridOptions)}return a},openActivityNewTab(t){localStorage.removeItem("selectedMenuPathIdListNewTab"),localStorage.removeItem("searchObj"),localStorage.setItem("selectedMenuPathIdListNewTab",JSON.stringify(["100000","102000","102060"])),localStorage.setItem("searchObj",JSON.stringify({activityId:t})),window.open(location.href)}},beforeDestroy(){delete window.workflowResize,document.querySelector("#ct").querySelectorAll("script").forEach((t=>{document.querySelector("#ct").removeChild(t)}))}},h=p,u=a(43736),m=(0,u.Z)(h,i,s,!1,null,null,null),g=m.exports},46972:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return d}});var i=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{height:"100%"}},[e("div",{staticClass:"col-lg-12",staticStyle:{"min-height":"270px",height:"100%"}},[e("div",{staticClass:"form-group",staticStyle:{height:"100%"}},[t._m(0),e("div",{staticClass:"input-group",staticStyle:{height:"calc(100% - 25px)"}},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.detailData.operationRuleStr,expression:"detailData.operationRuleStr"}],staticClass:"form-control view-disabled",staticStyle:{height:"100%"},attrs:{readonly:"readonly"},domProps:{value:t.detailData.operationRuleStr},on:{input:function(e){e.target.composing||t.$set(t.detailData,"operationRuleStr",e.target.value)}}})])])])])},s=[function(){var t=this,e=t._self._c;return e("label",{staticClass:"control-label"},[e("span",[t._v("XML")])])}],n={name:"DetailXML",props:{detailData:Object}},o=n,r=a(43736),l=(0,r.Z)(o,i,s,!1,null,null,null),d=l.exports},33974:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",t._l(t.detailInfo.content,(function(a,i){return e("div",{key:i,staticClass:"row frm-row"},t._l(a,(function(s,n){return e("div",{key:n,class:"col-lg-"+12/a.length},t._l(s,(function(a,s){return e("div",{key:s,staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(a.label)+" "),t.regExpTypeList.includes(a.type)&&!t.getReadonly(a)?e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt[a.vModel]}/${t.maxLengthCnt[a.vModel]})`)+" ")]):t._e()]),a.isPK||a.isRequired?e("b",{staticClass:"icon-star"}):t._e()]),e("div",{class:"detail-content-"+(t.regExpTypeList.includes(a.type)&&!t.getReadonly(a)?"regExp":"common"),style:{"padding-left":""+(t.regExpTypeList.includes(a.type)&&!t.getReadonly(a)?"8px":"0px")}},["text"===a.type?e("inputText",{ref:`inputText_${i}_${n}_${s}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":t.getReadonly(a),[`regExp-${a.type}`]:!t.getReadonly(a),"view-disabled":!0,dataKey:a.isPK},readonly:t.readonly||t.getReadonly(a),regExpType:a.regExpType},on:{setLengthCnt:t.setLengthCnt}}):"select"===a.type?e("selectBox",{ref:"cacheYn"===a.vModel?"cacheYn":"cipherYn"===a.vModel?"cipherYn":`selectBox_${i}_${n}_${s}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":!0,"view-disabled":!0},readonly:t.readonly||t.getReadonly(a),optionInfo:a.optionInfo,isEvent:"cacheYn"===a.vModel||"cipherYn"===a.vModel},on:{changeEvt:t.changeInputType}}):"dataList"===a.type?e("dataList",{ref:`dataList_${i}_${n}_${s}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":t.getReadonly(a),[`regExp-${a.type}`]:!t.getReadonly(a),"view-disabled":!0},readonly:t.readonly||t.getReadonly(a),optionInfo:a.optionInfo,regExpType:a.regExpType},on:{setLengthCnt:t.setLengthCnt}}):"textarea"===a.type?e("textArea",{ref:`textArea_${i}_${n}_${s}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":t.getReadonly(a),[`regExp-${a.type}`]:!t.getReadonly(a),"view-disabled":!0},readonly:t.readonly||t.getReadonly(a),height:a.height,regExpType:a.regExpType},on:{setLengthCnt:t.setLengthCnt}}):"singleDaterange"===a.type?e("dateRange",{ref:`dateRange_${i}_${n}_${s}`,refInFor:!0,attrs:{vModel:a.vModel,readonly:t.readonly||t.getReadonly(a)}}):t._e(),"password"===a.type?e("passWord",{ref:"propertyValue"===a.vModel?"propertyValue":`passWord_${i}_${n}_${s}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":t.getReadonly(a),[`regExp-${a.type}`]:!t.getReadonly(a),"view-disabled":!0},readonly:t.readonly||t.getReadonly(a),inputType:t.inputType,regExpType:a.regExpType},on:{setLengthCnt:t.setLengthCnt}}):"modal"===a.type?e("div",{staticClass:"input-group"},[e("inputText",{ref:`inputText_${i}_${n}_${s}`,refInFor:!0,attrs:{vModel:a.vModel,classObject:{"form-control":!0,"view-disabled":!0,dataKey:a.isPK},readonly:!0}}),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button"},on:{click:function(e){return t.openModal(a.modalInfo,t.$refs[`inputText_${i}_${n}_${s}`])}}},[e("i",{staticClass:"icon-srch"}),t._v(t._s(t.$t("head.search"))+" ")]),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button"},on:{click:function(e){t.$refs[`inputText_${i}_${n}_${s}`][0].setData(null)}}},[e("i",{staticClass:"icon-reset",staticStyle:{"margin-right":"0px"}})])],1):t._e()],1)])})),0)})),0)})),0)},s=[],n=a(63822),o=a(31823),r=a.n(o),l=a(63516),d={name:"PropertyBasicInfo",extends:l.Z,data(){return{inputType:null}},methods:{changeInputType(){const t=r()(this.$refs.cipherYn[0].getData(),this.$refs.cacheYn[0].getData());this.$refs.propertyValue[0].type="Y"===t.cipherYn?"password":"text"}},computed:{...(0,n.rn)(["regExpTypeList"])},watch:{detailData(){this.$nextTick((()=>{this.changeInputType()}))}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},92897:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return g}});var i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"AnalyzeModal"}},[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:`${t.$t("igate.query")} ${t.$t("head.test")}`},on:{click:function(e){return t.openRecordModal("I")}}},[t._v(" "+t._s(t.$t("igate.query.create.input.model"))+" ")]),e("div",{staticClass:"table-responsive",staticStyle:{"margin-top":"0.5rem"}},[e("TuiGrid",t._b({ref:"analyzeRequestGrid"},"TuiGrid",t.options,!1))],1)])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:`${t.$t("igate.query")} ${t.$t("head.test")}`},on:{click:function(e){return t.openRecordModal("O")}}},[t._v(" "+t._s(t.$t("igate.query.create.output.model"))+" ")]),e("div",{staticClass:"table-responsive",staticStyle:{"margin-top":"0.5rem"}},[e("TuiGrid",t._b({ref:"analyzeResultGrid"},"TuiGrid",t.options,!1))],1)])])])])},s=[],n=(a(57658),a(66281)),o=a.n(n),r=a(31823),l=a.n(r),d=a(37856),c=a(37662),p={name:"AnalyzeModal",props:{mode:String,config:Object},components:{TuiGrid:d.Grid},data(){return{analyzeRequest:null,analyzeResult:null,queryInfo:null,namingRules:[],options:{treeColumnOptions:{name:"fieldName"},columns:[{name:"fieldName",header:this.$t("head.id")},{name:"fieldType",header:this.$t("common.type"),align:"center",formatter:({row:t})=>{let e="";if("R"===t.fieldType)e+="Group";else{const a={B:"Byte",S:"Short",I:"Int",L:"Long",F:"Float",D:"Double",T:"String",N:"Numeric",P:"Decimal",A:"Raw",p:"Timestamp",b:"Boolean",R:"Record",v:"Individual"};e+=`${a[t.fieldType]}(${t.fieldLength})`,"N"!=t.arrayType&&(e+=`[${t.arrayType}]`)}return e}}],onGridMounted:t=>{t.instance.on("expand",(()=>{setTimeout((()=>{this.resize()}),0)})),t.instance.on("collapse",(()=>{setTimeout((()=>{this.resize()}),0)}))},onGridUpdated:()=>{this.resize()}}}},async created(){this.config&&(this.analyzeRequest=this.config.analyzeRequest,this.analyzeResult=this.config.analyzeResult,this.queryInfo=this.config.queryInfo),this.options=(0,c.d_)(this.options);const t=await new c.p0("/api/page/properties").read({pk:{propertyId:"ImgOption.NamingRules"},orderByKey:!0});"ok"===t.data.result&&(this.namingRules=t.data.object,c.dc.$on("MainResize",this.resize),c.Gk.$on("MainResize",this.resize),c.bB.$on("MainResize",this.resize),c.QK.$on("MainResize",this.resize))},mounted(){this.config&&this.initGrid(),this.resize()},methods:{initGrid(){"B"===this.queryInfo.queryType?this.$refs.analyzeRequestGrid.invoke("resetData",[this.initTreeData(this.analyzeRequest)]):(this.$refs.analyzeRequestGrid.invoke("resetData",[]),this.analyzeRequest.forEach((t=>{this.$refs.analyzeRequestGrid.invoke("appendRow",t)}))),"S"===this.queryInfo.queryType?this.$refs.analyzeResultGrid.invoke("resetData",[this.initTreeData(this.analyzeResult)]):(this.$refs.analyzeResultGrid.invoke("resetData",[]),this.analyzeResult.forEach((t=>{this.$refs.analyzeResultGrid.invoke("appendRow",t)})))},initTreeData(t){const e={pk:{fieldId:"body",recordId:null},fieldId:"body",fieldName:"body",fieldType:"R",fieldRequireYn:"N",fieldLength:0,fieldScale:0,fieldOrder:0,fieldHiddenYn:"N",arrayType:"V",_attributes:{expanded:!0},_children:[]};return t.forEach((t=>{e._children.push(t)})),e},async openRecordModal(t){const e="I"===t?this.queryInfo.inputRecordId:"O"===t?this.queryInfo.outputRecordId:null;e?this.$confirm({type:"warn",message:this.$t("igate.record.copy.overwrite.warn",{0:this.$t("igate.query"),1:"I"===t?this.$t("head.request"):this.$t("head.response")}),callback:()=>{this.createRecord(t)}}):this.createRecord(t)},createRecord(t){const{queryId:e,queryName:i,queryType:s,queryGroup:n,privilegeId:r,privateYn:d}=this.queryInfo,p="I"===t?"Input":"Output",h=this.namingFormatter(`Query${p}RecordID`),u=this.namingFormatter(`Query${p}RecordName`),m=h.replace("{0}",e),g=("I"===t?this.$refs.analyzeRequestGrid:this.$refs.analyzeResultGrid).invoke("getData"),f="I"===t&&"B"===s||"O"===t&&"S"===s,y={recordObject:{recordId:m,recordName:u.replace("{0}",i||e),recordType:"I",recordGroup:n,privilegeId:r,privateYn:d,fields:(f?[g[0]]:g).map(((t,e)=>{if(t.pk={fieldId:t.fieldName,recordId:m},t.fieldIndex=String(e+1).padStart(4,"0"),"R"===t.fieldType){const e=`${m}@${t.fieldId}`;t.recordObject={recordId:e,recordDesc:e,privilegeId:r,recordGroup:n,recordType:"E",subRecordId:e,fields:t._children.map((t=>(t.pk={fieldId:t.fieldName,recordId:e},t)))},delete t._children}return delete t.rowKey,t}))}},v=this,b=this.$openModal({title:this.$t("igate.record"),fullscreen:!0,contentList:[{template:'<RecordModal ref="RecordModal" :mode="mode" :config="config" :prefix="prefix"/>',components:{RecordModal:a(91306)["default"]},data(){return{prefix:"query",mode:"modify",config:{modalType:t,modalData:y}}}}],buttonList:(()=>this.readonly?null:[{template:'<button type="button" @click="confirm" class="btn btn-primary">\n\t\t\t\t\t\t\t\t\t\t\t   {{ $t(\'head.ok\') }}\n\t\t\t\t\t\t\t\t\t\t   </button>',methods:{getAllData(){const t=b.$refs.content[0].$refs.RecordModal;let e={};for(const a in t.$refs)t.$refs[a].getData&&(e=l()(e,t.$refs[a].getData()));return o()(e)},async confirm(){const e=b.$refs.content[0].$refs.RecordModal,a=this.getAllData();if(" "===a.metaDomain)return void this.$alert({type:"warn",message:this.$t("head.set.metadomain.basic.info")});const i=await new c.p0("/api/entity/record/check").read(a,!0,(t=>{const a=e=>t.data.error.some((t=>t.field.startsWith(e)));a("fields")&&(e.changeTab(1),e.recordObjData.fields=o()(t.data.object.fields),e.recordObjData.options=o()(t.data.object.options),e.$refs.detailInfo.resetData()),this.$alert({type:"warn",message:t.data.error.filter((t=>"fields"===t.field)).map((t=>""+((t.className?`${t.className}<hr>`:"")+t.message))).join(",")})}));"error"!==i.data.result&&(v.setRecordData({type:t,data:this.getAllData()}),b.hideModal())}}}])()})},setRecordData(t){this.$emit("setRecordData",t)},namingFormatter(t){return this.namingRules.find((e=>t===e.pk.propertyKey)).propertyValue},resize(){setTimeout((()=>{if(!this.$refs.analyzeRequestGrid||!this.$refs.analyzeResultGrid)return;const t=document.getElementById("AnalyzeModal"),e=t.getElementsByClassName("col-lg-6")[0],a=getComputedStyle(e),i=(0,c.tJ)(a.getPropertyValue("padding-left")),s=(0,c.tJ)(a.getPropertyValue("padding-right")),n=e.clientWidth-i-s,o="undefined"===typeof t.getElementsByClassName("btn")?t.getElementsByClassName("btn")[0].clientHeight:24,r=t.parentNode.clientHeight-o-48-1;this.$refs.analyzeRequestGrid.invoke("setWidth",n),this.$refs.analyzeRequestGrid.invoke("setHeight",r),this.$refs.analyzeResultGrid.invoke("setWidth",n),this.$refs.analyzeResultGrid.invoke("setHeight",r)}),0)}}},h=p,u=a(43736),m=(0,u.Z)(h,i,s,!1,null,null,null),g=m.exports},51635:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var i=function(){var t=this,e=t._self._c;return e("div",{ref:"panel",class:t.panelClass,attrs:{id:"panel"}},[e("div",{staticClass:"panel-dialog"},[e("div",{staticClass:"panel-content",style:t.panelContentStyle},[e("div",{staticClass:"resize-bar"}),e("header",{staticClass:"panel-header sub-bar",attrs:{id:"panel-header"}},["modify"===t.panelMode?e("a",{staticClass:"btn btn-icon backBtn",attrs:{href:"javascript:void(0);",title:t.$t("head.goBackward")},on:{click:t.goPreviousPanel}},[e("i",{staticClass:"icon-left"})]):t._e(),e("h2",{staticClass:"sub-bar-tit",style:{width:`calc(100% - ${"modify"===t.panelMode?208:164}px )`}},[t._v(" "+t._s(t.subBarTitle)+" "),e("span",{staticClass:"sub-bar-selected-tit ellipsis",style:{width:`calc(100% - ${"modify"===t.panelMode?80:65}px )`},attrs:{title:t.selectedInfoTitle?t.selectedInfoTitle.substr(3):""}},[t._v(" "+t._s(t.selectedInfoTitle)+" ")])]),"detail"===t.panelMode&&t.editor&&!t.lockEditor?e("label",{staticClass:"control-label warningLabel",staticStyle:{"padding-bottom":"0px"}},[e("b",{staticClass:"icon-star"}),t._v(t._s(t.$t("head.not.registered.privilege.query.warn"))+" ")]):t._e(),e("div",{staticClass:"ml-auto"},["modify"!==t.panelMode&&"add"!==t.panelMode&&t.lockEditor?e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t(t.detailData.lockUserId===t.userInfo.userId?"common.unlock":"common.lock")},on:{click:t.lockEvt}},[e("img",{attrs:{id:"lockIcon",src:t.getMenuIconUrl(t.detailData.lockUserId===t.userInfo.userId?"unlock":"lock")}})]):t._e(),e("button",{staticClass:"btn-change-layout-horizon btn-icon",attrs:{type:"button",title:t.$t("common.detail.horizontal.view")},on:{click:function(e){return t.changeLayout("vertical")}}},[e("img",{staticClass:"center-block",attrs:{src:t.getMenuIconUrl("horizontal")}})]),e("button",{staticClass:"btn-change-layout-vertical btn-icon",attrs:{type:"button",title:t.$t("common.detail.vertical.view")},on:{click:function(e){return t.changeLayout("horizon")}}},[e("img",{staticClass:"center-block",attrs:{src:t.getMenuIconUrl("vertical")}})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.expand")},on:{click:t.expandCollapsePanel}},[e("i",{staticClass:"icon-expand"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.close")},on:{click:t.closePanel}},[e("i",{staticClass:"icon-close"})])])]),e("ul",{staticClass:"nav nav-tabs flex-shrink-0"},[t._l(t.tabList,(function(a,i){return e("li",{key:a.id,staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:t.selectedIdx===i},attrs:{href:"javascript:void(0);"},domProps:{textContent:t._s(a.label)},on:{click:function(e){return t.changeTab(i)}}})])})),t.toShowResult?e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:t.selectedIdx===t.tabList.length},attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.changeTab(t.tabList.length)}}},[t._v(" "+t._s(t.$t("head.executionResult"))+" ")])]):t._e()],2),e("div",{staticClass:"panel-body tab-content"},[t._l(t.tabList,(function(i,s){return e("div",{key:s,class:{[t.panelMode]:!0,"tab-pane":!0,active:t.selectedIdx===s}},["basic"===i.type?e("DetailBasic",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode},on:{changeQueryId:t.changeQueryId}}):"property"===i.type?e("DetailProperty",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"grid"===i.type?e("DetailGrid",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"custom"===i.type?e("DetailCustom",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"bundle"===i.type?e(a(14605)(`./detail${i.url}.vue`).default,{ref:"component",refInFor:!0,tag:"component",attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode,newQueryId:t.queryId}}):t._e()],1)})),t.toShowResult?e("DetailResult",{class:{"tab-pane":!0,active:t.selectedIdx===t.tabList.length&&t.showResultTab},attrs:{httpReqResult:t.httpReqResult}}):t._e()],2),e("footer",{staticClass:"panel-footer sub-bar",attrs:{id:"panel-footer"}},["detail"===t.panelMode||"done"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.metaHistoryBtn&&t.metaHistoryPrivilege.viewer?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);"},on:{click:t.goMetaHistoryModal}},[e("i",{staticClass:"icon-eye"}),t._v(t._s(t.$t("common.metaHistory"))+" ")]):t._e(),t.referenceBtn&&t.viewer?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.referenceTreeInfo")},on:{click:t.goReferenceModal}},[e("i",{staticClass:"icon-result"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.referenceTreeInfo")))])]):t._e(),t.dumpBtn&&t.newEditor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.dump")},on:{click:t.dump}},[t._v(" "+t._s(t.$t("head.dump"))+" ")]):t._e(),t.deleteBtn&&t.newEditor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.delete")},on:{click:t.removeInfo}},[e("i",{staticClass:"icon-delete"}),t._v(t._s(t.$t("head.delete"))+" ")]):t._e(),t.updateBtn&&t.newEditor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.update")},on:{click:t.goModifyPanel}},[e("i",{staticClass:"icon-edit"}),t._v(t._s(t.$t("head.update"))+" ")]):t._e(),t.insertBtn&&t.newEditor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:`${t.$t("head.insert")} (${t.$t("head.copy")})`},on:{click:t.goAddInfo}},[e("i",{staticClass:"icon-plus"}),t._v(t._s(`${t.$t("head.insert")} (${t.$t("head.copy")})`)+" ")]):t._e()]):"add"===t.panelMode||"clone"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.insertBtn&&t.newEditor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.insert")},on:{click:t.saveInfo}},[e("i",{staticClass:"icon-plus"}),t._v(t._s(t.$t("head.insert"))+" ")]):t._e()]):"modify"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.updateBtn&&t.newEditor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.update")},on:{click:t.updateInfo}},[e("i",{staticClass:"icon-edit"}),t._v(t._s(t.$t("head.update"))+" ")]):t._e()]):t._e()])])])])},s=[],n=a(44062),o=a(63822),r=a(37662),l={name:"InterfaceDetail",extends:n.Z,data(){return{lockUserId:null,lockEditor:!1,newEditor:!1,isCloneIdCheck:!1,queryId:null,namingRules:[]}},computed:{...(0,o.rn)(["userInfo"]),...(0,o.Se)(["isUserAdmin"])},watch:{panelMode(){this.$refs.component[0].detailInfo.content.forEach((t=>{t.forEach((t=>{t.forEach((t=>{if("add"===this.panelMode||"clone"===this.panelMode){if(t.readonly="queryId"!==t.vModel,"queryId"!==t.vModel)return;t.formatter=t=>{if("clone"===this.panelMode){const e=this.namingRules.find((t=>"SaveAsID"===t.pk.propertyKey)).propertyValue;return e.replace("{0}",t)}return t}}else t.readonly=!1}))}))}))},lockUserId(){"detail"===this.panelMode&&(this.detailData.lockUserId=this.lockUserId,this.newEditor=this.lockUserId===this.userInfo.userId)}},async created(){const t=await new r.p0("/api/page/properties").read({pk:{propertyId:"ImgOption.NamingRules"},orderByKey:!0});"ok"===t.data.result&&(this.namingRules=t.data.object)},methods:{saveInfo(){"clone"!==this.panelMode||this.isCloneIdCheck?n.Z.methods.saveInfo.bind(this)():this.$alert({type:"warn",message:this.$t("igate.duplicate.check",{0:`${this.$t("head.id")}`})})},openPanel(){if(this.isCloneIdCheck=!1,this.lockUserId=this.detailData.lockUserId,"detail"===this.panelMode){const t=this.userInfo.totalUserPrivileges.find((t=>"b"===t.privilegeType&&t.privilegeId===this.detailData.privilegeId));this.editor&&t?this.isUserAdmin||t.admin?this.lockEditor=!0:this.lockEditor=!this.lockUserId||this.lockUserId===this.userInfo.userId:this.lockEditor=!1}else"add"!==this.panelMode&&"clone"!==this.panelMode||(this.selectedIdx=0),this.newEditor=this.editor;n.Z.methods.openPanel.bind(this)()},changeQueryId(t){this.isCloneIdCheck=!0,this.queryId=t},changeTab(t){if(("add"===this.panelMode||"clone"===this.panelMode)&&0!==t&&this.tabList.length!==t){const t=this.checkValidate();if(!t)return void this.$alert({type:"warn",message:"add"===this.panelMode?this.$t("igate.change.tab.required.warn",{0:`${this.$t("igate.query")}`}):this.$t("igate.duplicate.check",{0:`${this.$t("head.id")}`})})}this.selectedIdx=t,this.$nextTick((()=>{r.bB.$emit("MainResize")}))},checkValidate(){if("add"===this.panelMode){const t=this.$refs.component[0].getData();return delete t.queryName,delete t.queryDesc,Object.keys(t).every((e=>t[e]))}{let t=!1;return this.$refs.component[0].detailInfo.content.forEach((e=>{e.forEach((e=>{e.forEach((e=>{"queryId"===e.vModel&&(t=e.readonly)}))}))})),t}},async lockEvt(){const t=await new r.p0("/api/entity/query/lock")[this.detailData.lockUserId?"delete":"update"]({queryId:this.detailData.queryId},!0,(()=>{}));if("ok"!==t.data.result)this.$alert({type:"warn",message:`${t.data.error[0].message}`});else{this.lockUserId=this.lockUserId?null:this.userInfo.userId;const t=this.$parent.$children.find((t=>t.$refs.grid)).$refs.grid.$refs.tuiGrid,e=t.invoke("getData").find((t=>t.queryId===this.detailData.queryId)).rowKey;t.invoke("setValue",e,"lockUserId",this.lockUserId),this.$refs.component[2].$children[0].setData(this.lockUserId),this.detailData.lockUserId=this.lockUserId,this.newEditor=this.lockUserId===this.userInfo.userId}}}},d=l,c=a(43736),p=(0,c.Z)(d,i,s,!1,null,null,null),h=p.exports},44416:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"ExecuteModal"},on:{click:t.gridFocusOut}},[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:`${t.$t("igate.query")} ${t.$t("head.execute")}`},on:{click:t.queryExecute}},[t._v(" "+t._s(`${t.$t("igate.query")} ${t.$t("head.execute")}`)+" ")])])]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("ul",{staticClass:"collapse-list collapse-list-result m-0"},[e("li",{staticClass:"collapse-item",attrs:{id:"searchConditionTitle"}},[e("button",{ref:"searchConditionTitleBtn",staticClass:"collapse-link",attrs:{type:"button","data-toggle":"collapse","data-target":"#searchCondition"},on:{click:t.resize}},[e("span",[t._v(t._s(t.$t("head.search"))+" "+t._s(t.$t("common.condition")))])]),e("div",{staticClass:"collapse show",attrs:{id:"searchCondition"}},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"table-responsive"},[e("TuiGrid",t._b({ref:"sampleDataGrid"},"TuiGrid",t.sampleDataGridOptions,!1))],1)])])])])]),e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[t.isGridView?e("div",{staticClass:"table-responsive"},[e("TuiGrid",t._b({ref:"resultDataGrid"},"TuiGrid",t.resultDataGridOptions,!1))],1):e("NoData")],1)])])])},s=[],n=(a(57658),a(48578)),o=a(37856),r=a(37662),l={name:"ExecuteModal",props:{mode:String,config:Object},components:{NoData:n.Z,TuiGrid:o.Grid},data(){return{requestParamField:this.config.requestParamField,resultParamField:this.config.resultParamField,queryInfo:this.config.queryInfo,isGridView:!1,sampleDataGridOptions:{columns:[{name:"fieldName",header:this.$t("head.id")},{name:"parameterValue",header:this.$t("igate.query.value"),editor:class{constructor(t){const e=document.createElement("input");e.setAttribute("type","text"),e.classList.add("form-control"),e.value=(0,r.Xv)(t.value),this.el=e}getElement(){return this.el}getValue(){return this.el.value}}}],onGridMounted:t=>{t.instance.off("dblclick"),t.instance.on("click",(({nativeEvent:t,nativeEvent:{target:e}})=>{e.closest(".tui-grid-body-container")&&t.stopPropagation()}))}},resultDataGridOptions:{scrollX:!0,columns:[]}}},created(){this.sampleDataGridOptions=(0,r.d_)(this.sampleDataGridOptions),this.resultDataGridOptions=(0,r.d_)(this.resultDataGridOptions),r.dc.$on("MainResize",this.resize),r.Gk.$on("MainResize",this.resize),r.bB.$on("MainResize",this.resize),r.QK.$on("MainResize",this.resize)},mounted(){this.initGrid()},methods:{initGrid(){this.$refs.sampleDataGrid.invoke("resetData",this.requestParamField)},async queryExecute(){this.$refs.sampleDataGrid.invoke("blur");const t={};for(const s in this.queryInfo)s.startsWith("inputRecord")||s.startsWith("outputRecord")||(t[s]=this.queryInfo[s]);t.parameterFields=[],this.$refs.sampleDataGrid.invoke("getData").forEach((e=>{t.parameterFields.push({fieldName:e.fieldName,fieldType:e.fieldType,parameterValue:e.parameterValue})}));const e=await new r.p0("/api/query/sampleResult").read(t);if("ok"!==e.data.result)return;const a=[],i=[];e.data.object.forEach(((t,e)=>{const s={};0===e?t.forEach((t=>{a.push({name:t,header:t,align:"center"})})):(t.forEach(((t,e)=>{s[a[e].name]=t})),i.push(s))})),this.isGridView=!0,this.$nextTick((()=>{this.$refs.resultDataGrid.invoke("setColumns",a),this.$refs.resultDataGrid.invoke("resetData",i),this.resize()}))},resize(){if(!this.$refs.sampleDataGrid)return;const t=document.getElementById("ExecuteModal"),e=t.getElementsByClassName("row")[0],a=getComputedStyle(e),i=(0,r.tJ)(a.getPropertyValue("margin-bottom")),s=t.parentNode.clientHeight-e.clientHeight-i-42,n=s/3;this.$refs.sampleDataGrid.invoke("setWidth",t.clientWidth),this.$refs.sampleDataGrid.invoke("setHeight",n),this.isGridView&&setTimeout((()=>{const e=this.$refs.searchConditionTitleBtn.classList.contains("collapsed");this.$refs.resultDataGrid.invoke("setWidth",t.clientWidth),this.$refs.resultDataGrid.invoke("setHeight",s-this.$refs.searchConditionTitleBtn.clientHeight-(e?0:n)-20)}),0)},gridFocusOut(){this.$refs.sampleDataGrid&&(this.$refs.sampleDataGrid.invoke("blur"),this.$refs.sampleDataGrid.invoke("cancelEditing"))}}},d=l,c=a(43736),p=(0,c.Z)(d,i,s,!1,null,null,null),h=p.exports},56904:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return y}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("common.type")))]),e("b",{staticClass:"icon-star"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.object.queryType,expression:"object.queryType"}],staticClass:"form-control view-disabled",attrs:{readonly:t.readonly},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.object,"queryType",e.target.multiple?a:a[0])}}},t._l(t.queryTypes,(function(a){return e("option",{key:a.pk.propertyKey,domProps:{value:a.pk.propertyKey}},[t._v(" "+t._s(a.propertyValue)+" ")])})),0)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.log"))+" ")])]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.object.queryLogYn,expression:"object.queryLogYn"}],staticClass:"form-control view-disabled",attrs:{readonly:t.readonly},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.object,"queryLogYn",e.target.multiple?a:a[0])}}},t._l(t.queryLogList,(function(a){return e("option",{key:a.pk.propertyKey,domProps:{value:a.pk.propertyKey}},[t._v(" "+t._s(a.propertyValue)+" ")])})),0)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.query.datasource")))]),e("b",{staticClass:"icon-star"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.object.dataSource,expression:"object.dataSource"}],staticClass:"form-control view-disabled",attrs:{readonly:t.readonly},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.object,"dataSource",e.target.multiple?a:a[0])}}},t._l(t.dataSourceList,(function(a){return e("option",{key:a.pk.propertyKey,domProps:{value:a.pk.propertyKey}},[t._v(" "+t._s(a.pk.propertyKey)+" - "+t._s(a.propertyValue)+" ")])})),0)])]),e("div",{staticClass:"col-lg-6"},[t.readonly?t._e():e("label",{staticClass:"control-label warningLabel"},[e("span",[t._v(" "+t._s(t.$t("igate.query.record.after.analyzing.warn"))+" ")])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.query.input.dataModel")))])]),e("div",{staticClass:"input-group",attrs:{title:t.inputRecordName}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputRecordName,expression:"inputRecordName"}],staticClass:"form-control view-disabled ellipsis",attrs:{type:"text",readonly:"readonly"},domProps:{value:t.inputRecordName},on:{input:function(e){e.target.composing||(t.inputRecordName=e.target.value)}}}),e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.open"),disabled:!t.readonly&&!t.inputRecordName},on:{click:function(e){return t.openRecordModal("input")}}},[e("i",{staticClass:"icon-link"})]),t.readonly?t._e():e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.initialize"),disabled:!t.readonly&&!t.inputRecordName},on:{click:function(e){return t.removeRecord("input")}}},[e("i",{staticClass:"icon-reset"})])])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.query.output.dataModel")))]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"input-group",attrs:{title:t.outputRecordName}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.outputRecordName,expression:"outputRecordName"}],staticClass:"form-control view-disabled ellipsis",attrs:{type:"text",readonly:"readonly"},domProps:{value:t.outputRecordName},on:{input:function(e){e.target.composing||(t.outputRecordName=e.target.value)}}}),e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.open"),disabled:!t.readonly&&!t.outputRecordName},on:{click:function(e){return t.openRecordModal("output")}}},[e("i",{staticClass:"icon-link"})]),t.readonly?t._e():e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.initialize"),disabled:!t.readonly&&!t.outputRecordName},on:{click:function(e){return t.removeRecord("output")}}},[e("i",{staticClass:"icon-reset"})])])])])]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label",staticStyle:{"justify-content":"space-between"}},[e("div",{staticStyle:{"margin-top":"1rem"}},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(t.$t("igate.query.statement"))+" "),t.readonly?t._e():e("span",{staticClass:"letterLength"},[t._v(" ("+t._s(t.object["queryStatement"]?t.object["queryStatement"].length:0)+"/"+t._s(t.descMaxLength)+") ")])]),e("b",{staticClass:"icon-star"})])])]),e("div",{staticStyle:{"margin-bottom":"0.5rem"}},[t.readonly?t._e():e("a",{staticClass:"btn",staticStyle:{"margin-right":"0.5rem"},attrs:{href:"javascript:void(0);",title:`${t.$t("igate.query")} ${t.$t("igate.query.analyze")}`},on:{click:function(e){return t.queryAnalyze()}}},[e("i",{staticClass:"icon-result"}),t._v(" "+t._s(t.$t("igate.query.analyze"))+" ")]),!t.readonly&&t.isSelectType?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:`${t.$t("igate.query")} ${t.$t("head.test")}`,disabled:!t.successAnalyze},on:{click:function(e){return t.queryTest()}}},[e("i",{staticClass:"icon-play"}),t._v(" "+t._s(t.$t("head.test"))+" ")]):t._e()]),e("div",{class:"detail-content-"+(t.readonly?"common":"regExp"),style:{"padding-left":""+(t.readonly?"0px":"8px")}},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.object.queryStatement,expression:"object.queryStatement"}],class:{"form-control":t.readonly,"regExp-text":!t.readonly,"view-disabled":!0,dataKey:!0},staticStyle:{"min-height":"200px"},attrs:{readonly:t.readonly,maxlength:t.descMaxLength},domProps:{value:t.object.queryStatement},on:{input:[function(e){e.target.composing||t.$set(t.object,"queryStatement",e.target.value)},t.inputEvt]}})])])])])])},s=[],n=(a(57658),a(63822)),o=a(66281),r=a.n(o),l=a(31823),d=a.n(l),c=a(37662),p=a(77285),h=a.n(p),u={name:"RumtimeInfo",props:{detailData:Object,mode:String,newQueryId:String},data(){return{queryTypes:[],dataSourceList:[],queryLogList:[],inputRecordName:null,inputRecordObject:{},outputRecordName:null,outputRecordObject:{},requestParamField:[],resultParamField:[],successAnalyze:!1,namingRules:[],object:{queryId:null,queryName:null,privilegeId:null,privateYn:null,queryGroup:null,queryType:null,queryLogYn:null,dataSource:null,inputRecordId:null,inputRecordObject:null,outputRecordId:null,outputRecordObject:null,queryStatement:null,queryDesc:null},keyArr:["queryType","queryLogYn","dataSource","inputRecordId","inputRecordObject","outputRecordId","outputRecordObject","queryStatement"],httpReqList:[{url:"/api/page/properties",param:{pk:{propertyId:"List.Query.QueryType"},orderByKey:!0},itemName:"queryTypes"},{url:"/api/page/properties",param:{pk:{propertyId:"List.Query.DataSource"},orderByKey:!0},itemName:"dataSourceList"},{url:"/api/page/properties",param:{pk:{propertyId:"List.Yn"},orderByKey:!0},itemName:"queryLogList"},{url:"/api/page/properties",param:{pk:{propertyId:"ImgOption.NamingRules"},orderByKey:!0},itemName:"namingRules"}],keyMaxLength:null,nameMaxLength:null,defaultMaxLength:null,descMaxLength:null}},async created(){this.descMaxLength=(0,c.oo)("desc").maxLength;try{for await(const t of this.httpReqList){const e=await new c.p0(t.url).read(t.param?t.param:null);if("ok"!==e.data.result)throw e.data;this[t.itemName]=e.data.object}}catch(t){this.$alert({type:"warn",message:this.$t("head.error.load.data.warn")})}},computed:{...(0,n.rn)(["menuList","userInfo"]),...(0,n.Se)(["isUserAdmin"]),readonly(){return"detail"===this.mode||"done"===this.mode},isSelectType(){return"F"===this.object.queryType||"S"===this.object.queryType}},watch:{detailData(){for(const i in this.object)this.object[i]="queryLogYn"===i?"N":null;if(this.inputRecordName=null,this.outputRecordName=null,this.inputRecordObject={},this.outputRecordObject={},this.successAnalyze=!1,"add"===this.mode)return;const t=this.detailData.inputRecordId&&this.detailData.inputRecordId===this.detailData.outputRecordId;this.object=(0,c.Fh)(this.detailData);const{inputRecordObject:e,outputRecordObject:a}=this.object;e&&(this.inputRecordObject={...e},t&&(this.object.outputRecordObject={...e},this.outputRecordObject=r()(e))),a&&(this.outputRecordObject={...a}),this.inputRecordName=this.setRecordName(this.inputRecordObject),this.outputRecordName=this.setRecordName(this.outputRecordObject)},newQueryId(){this.object.queryId=this.newQueryId,h()(this.inputRecordObject)||(this.inputRecordObject={...r()(this.inputRecordObject),recordId:this.namingFormatter("QueryInputRecordID"),recordName:this.namingFormatter("QueryInputRecordName")},this.object.inputRecordId=this.inputRecordObject.recordId,this.object.inputRecordObject=this.inputRecordObject,this.detailData.inputRecordId===this.detailData.outputRecordId&&(this.object.outputRecordId=this.outputRecordObject.recordId,this.object.outputRecordObject=null,this.outputRecordObject={})),h()(this.outputRecordObject)||(this.outputRecordObject={...r()(this.outputRecordObject),recordId:this.namingFormatter("QueryOutputRecordID"),recordName:this.namingFormatter("QueryOutputRecordName")},this.object.outputRecordId=this.outputRecordObject.recordId,this.object.outputRecordObject=this.outputRecordObject),this.inputRecordName=this.setRecordName(this.inputRecordObject),this.outputRecordName=this.setRecordName(this.outputRecordObject)}},methods:{getData(){const t={};for(const e of this.keyArr)t[e]=this.object[e];return t},async queryAnalyze(){const t=this.$parent.$refs.component.find((t=>"DetailBasic"===t.$options.name)),e=t.getData();if(!e.queryId)return void this.$alert({type:"warn",message:this.$t("igate.enter.id")});if(!e.privateYn)return void this.$alert({type:"warn",message:this.$t("igate.select.private")});if(" "===e.privilegeId)return void this.$alert({type:"warn",message:this.$t("igate.select.permission")});if(!e.queryGroup)return void this.$alert({type:"warn",message:this.$t("igate.enter.group")});if(!this.object.queryType)return void this.$alert({type:"warn",message:this.$t("igate.select.type")});if(!this.object.dataSource)return void this.$alert({type:"warn",message:this.$t("igate.select.dataSource")});if(!this.object.queryStatement)return void this.$alert({type:"warn",message:this.$t("igate.enter.statement")});this.requestParamField=[],this.resultParamField=[];const i=await new c.p0("/api/query/analyzeRequest").read(this.object);if("ok"!==i.data.result)return;this.requestParamField=i.data.object;let s=[];if(this.isSelectType){const t=await new c.p0("/api/query/analyzeResult").read(this.object);if("ok"!==t.data.result)return;this.successAnalyze=!0,s=t.data.object,this.resultParamField=s}else{const t="B"===this.object.queryType?"V":"N";s.push({fieldName:"count",fieldType:"N",fieldRequireYn:"N",fieldScale:0,fieldOrder:0,fieldLength:8,fieldHiddenYn:"N",arrayType:t,readOnly:!0})}const n=this;this.$openModal({title:this.$t("igate.query.analyze"),fullscreen:!0,contentList:[{template:'<AnalyzeModal ref="AnalyzeModal" :mode="mode" :config="config" @setRecordData="setRecordData"/>',components:{AnalyzeModal:a(92897)["default"]},data(){return{mode:n.mode,config:{analyzeRequest:i.data.object,analyzeResult:s,queryInfo:{...n.object,...e}}}},methods:{setRecordData(t){const{type:e,data:a}=t,i="I"===e?"input":"output",s=r()(a);n.object[`${i}RecordObject`]=s,n.object[`${i}RecordId`]=s.recordId,n[`${i}RecordObject`]=s,n[`${i}RecordName`]=n.setRecordName(s)}}}]})},async queryTest(){if(0===this.resultParamField.length)return void this.$alert({type:"warn",message:this.$t("igate.query.after.analyzing.warn")});const t=this;this.$openModal({title:`${this.$t("igate.query")} ${this.$t("head.execute")}`,fullscreen:!0,contentList:[{template:'<ExecuteModal ref="ExecuteModal" :mode="mode" :config="config"/>',components:{ExecuteModal:a(44416)["default"]},data(){return{mode:t.mode,config:{requestParamField:t.requestParamField,resultParamField:t.resultParamField,queryInfo:t.object}}}}]})},openRecordModal(t){const e="input"===t?{id:"inputRecordObject",name:this.inputRecordName}:{id:"outputRecordObject",name:this.outputRecordName};if(!e.name)return void this.$alert({type:"warn",message:this.$t("head.no.data.warn")});const i=this,s=(0,c.Fh)(r()(this.object));s.recordObject=this[e.id];const n=this.$openModal({title:this.$t("igate.record"),fullscreen:!0,contentList:[{template:'<RecordModal ref="RecordModal" :prefix="prefix" :mode="mode" :config="config"/>',components:{RecordModal:a(91306)["default"]},data(){return{prefix:"query",mode:i.mode,config:{modalType:t,modalData:s}}}}],buttonList:(()=>this.readonly?null:[{template:'<button type="button" @click="confirm" class="btn btn-primary">\n\t\t\t\t\t\t\t\t\t\t\t   {{ $t(\'head.ok\') }}\n\t\t\t\t\t\t\t\t\t\t   </button>',methods:{getAllData(){const t=n.$refs.content[0].$refs.RecordModal;let e={};for(const a in t.$refs)t.$refs[a].getData&&(e=d()(e,t.$refs[a].getData()));return r()(e)},confirm(){let e=this.getAllData();for(const a in e)i[`${t}RecordObject`][a]=e[a];i.object[`${t}RecordId`]=i[`${t}RecordObject`]["recordId"],i.object[`${t}RecordObject`]=i[`${t}RecordObject`],i.object[`${t}RecordName`]=i.setRecordName(i[`${t}RecordObject`]),n.hideModal()}}}])()})},async removeRecord(t){const e={object:this[`${t}RecordObject`],className:"com.inzent.igate.repository.meta.Record"},a=await new c.p0("/api/reference/entity").read(e);"error"!==a.data.result&&(a.data.object.referencing&&a.data.object.referencing[0].referencing?this.$alert({type:"warn",message:this.$t("igate.query.already.use.model")}):(this[`${t}RecordName`]=null,this[`${t}RecordObject`]=null,this.object[`${t}RecordId`]=null,this.object[`${t}RecordObject`]=null))},inputEvt(t){this.object["queryStatement"]=t.target.value,this.object["queryStatement"]=this.object["queryStatement"].replace(new RegExp((0,c.oo)("desc").regExp,"g"),""),this.successAnalyze=!1},setRecordName(t){const e=t&&t.recordId?t.recordId:"",a=this.inputRecordObject&&t.recordName?t.recordName:"";return e+(a?` - ${a}`:a)},namingFormatter(t){const e=this.namingRules.find((e=>t===e.pk.propertyKey)).propertyValue;return e.replace("{0}",this.newQueryId)}}},m=u,g=a(43736),f=(0,g.Z)(m,i,s,!1,null,null,null),y=f.exports},94474:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(t.$t("igate.interface"))+" "+t._s(t.$t("head.id"))+" "),e("span",{staticClass:"letterLength"},[t._v(" ("+t._s(t.object["interfaceId"]?t.object["interfaceId"].length:0)+"/"+t._s(t.keyMaxLength)+") ")])]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"detail-content-regExp",staticStyle:{"padding-left":"8px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.object.interfaceId,expression:"object.interfaceId"}],staticClass:"regExp-text view-disabled dataKey",attrs:{type:"text",readonly:t.readonly,maxlength:t.keyMaxLength},domProps:{value:t.object.interfaceId},on:{input:[function(e){e.target.composing||t.$set(t.object,"interfaceId",e.target.value)},function(e){return t.inputEvt("id","interfaceId",e)}],change:t.changeServiceId}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.interface"))+" "+t._s(t.$t("common.type")))]),e("b",{staticClass:"icon-star"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.object.interfaceType,expression:"object.interfaceType"}],staticClass:"form-control view-disabled",attrs:{readonly:t.readonly},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.object,"interfaceType",e.target.multiple?a:a[0])}}},t._l(t.interfaceTypeList,(function(a){return e("option",{key:a.pk.propertyKey,domProps:{value:a.pk.propertyKey}},[t._v(" "+t._s(a.propertyValue)+" ")])})),0)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(t.$t("igate.interface"))+" "+t._s(t.$t("head.name"))+" "),e("span",{staticClass:"letterLength"},[t._v(" ("+t._s(t.object["interfaceName"]?t.object["interfaceName"].length:0)+"/"+t._s(t.nameMaxLength)+") ")])])]),e("div",{staticClass:"detail-content-regExp",staticStyle:{"padding-left":"8px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.object.interfaceName,expression:"object.interfaceName"}],staticClass:"regExp-text view-disabled",attrs:{type:"text",readonly:t.readonly,maxlength:t.nameMaxLength},domProps:{value:t.object.interfaceName},on:{input:[function(e){e.target.composing||t.$set(t.object,"interfaceName",e.target.value)},function(e){return t.inputEvt("name","interfaceName",e)}]}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(t.$t("igate.interface"))+" "+t._s(t.$t("head.description"))+" "),e("span",{staticClass:"letterLength"},[t._v(" ("+t._s(t.object["interfaceDesc"]?t.object["interfaceDesc"].length:0)+"/"+t._s(t.descMaxLength)+") ")])])]),e("div",{staticClass:"detail-content-regExp",staticStyle:{"padding-left":"8px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.object.interfaceDesc,expression:"object.interfaceDesc"}],staticClass:"regExp-text view-disabled",attrs:{type:"text",readonly:t.readonly,maxlength:t.descMaxLength},domProps:{value:t.object.interfaceDesc},on:{input:[function(e){e.target.composing||t.$set(t.object,"interfaceDesc",e.target.value)},function(e){return t.inputEvt("desc","interfaceDesc",e)}]}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.interface.metaDomain")))])]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.object.metaDomain,expression:"object.metaDomain"}],staticClass:"form-control view-disabled",attrs:{readonly:t.readonly},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.object,"metaDomain",e.target.multiple?a:a[0])}}},t._l(t.metaDomainList,(function(a){return e("option",{key:a,domProps:{value:a}},[t._v(" "+t._s(a)+" ")])})),0)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(`${t.$t("igate.interface")} ${t.$t("head.schedule")} ${t.$t("common.type")}`))]),e("b",{staticClass:"icon-star"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.object.scheduleType,expression:"object.scheduleType"}],staticClass:"form-control view-disabled",attrs:{readonly:t.readonly},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.object,"scheduleType",e.target.multiple?a:a[0])}}},t._l(t.scheduleTypeList,(function(a){return e("option",{key:a.propertyValue,domProps:{value:a.pk.propertyKey}},[t._v(" "+t._s(a.propertyValue)+" ")])})),0)])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.interface.record.request")))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.object.requestRecordId,expression:"object.requestRecordId"}],staticClass:"form-control view-disabled dataKey",attrs:{type:"text",readonly:!0},domProps:{value:t.object.requestRecordId},on:{input:function(e){e.target.composing||t.$set(t.object,"requestRecordId",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.interface.record.response")))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.object.responseRecordId,expression:"object.responseRecordId"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:!0},domProps:{value:t.object.responseRecordId},on:{input:function(e){e.target.composing||t.$set(t.object,"responseRecordId",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.interface.group")))]),e("span",{staticClass:"letterLength"},[t._v(" ("+t._s(t.interfaceGroupEdit?t.interfaceGroupEdit.length:0)+"/"+t._s(t.defaultMaxLength)+") ")]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"input-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.interfaceGroupSelect,expression:"interfaceGroupSelect"}],staticClass:"form-control view-disabled",attrs:{readonly:t.readonly},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.interfaceGroupSelect=e.target.multiple?a:a[0]}}},t._l(t.interfaceGroupList,(function(a){return e("option",{key:a,domProps:{value:a}},[t._v(" "+t._s(a)+" ")])})),0),e("input",{directives:[{name:"model",rawName:"v-model",value:t.interfaceGroupEdit,expression:"interfaceGroupEdit"}],staticClass:"form-control view-disabled",staticStyle:{"margin-left":"5px"},attrs:{type:"text",readonly:t.readonly,maxlength:t.defaultMaxLength},domProps:{value:t.interfaceGroupEdit},on:{input:[function(e){e.target.composing||(t.interfaceGroupEdit=e.target.value)},t.interfaceGroupEvt]}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.interface.execute.privilege")))]),e("b",{staticClass:"icon-star"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.object.privilegeId,expression:"object.privilegeId"}],staticClass:"form-control view-disabled",attrs:{readonly:t.readonly},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.object,"privilegeId",e.target.multiple?a:a[0])}}},t._l(t.executePrivilegeIdList,(function(a){return e("option",{key:a.privilegeId,domProps:{value:a.privilegeId}},[t._v(" "+t._s(a.privilegeId)+" ")])})),0)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.adapter"))+" "+t._s(t.$t("head.id")))]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.object.adapterId,expression:"object.adapterId"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:!0},domProps:{value:t.object.adapterId},on:{input:function(e){e.target.composing||t.$set(t.object,"adapterId",e.target.value)}}}),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button"},on:{click:t.openAdapterModal}},[e("i",{staticClass:"icon-srch"}),t._v(t._s(t.$t("head.search"))+" ")]),e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button",title:t.$t("head.initialize")},on:{click:function(e){t.object.adapterId=null}}},[e("i",{staticClass:"icon-reset",staticStyle:{"margin-right":"0px"}})])])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(`${t.$t("igate.interface")} ${t.$t("igate.adapter.disabledYn")}`))]),e("b",{staticClass:"icon-star"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.object.disabledYn,expression:"object.disabledYn"}],staticClass:"form-control view-disabled",attrs:{readonly:t.readonly},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.object,"disabledYn",e.target.multiple?a:a[0])}}},t._l(t.disabledYnList,(function(a){return e("option",{key:a.propertyValue,domProps:{value:a.pk.propertyKey}},[t._v(" "+t._s(a.propertyValue)+" ")])})),0)])])])])},s=[],n=a(63516),o=a(37662),r={name:"BasicInfo",extends:n.Z,data(){return{object:{interfaceType:null,interfaceId:null,interfaceName:null,interfaceDesc:null,metaDomain:null,requestRecordId:null,responseRecordId:null,interfaceGroup:null,privilegeId:null,adapterId:null,scheduleType:null,disabledYn:null},interfaceTypeList:[],interfaceGroupList:[],executePrivilegeIdList:[],metaDomainList:[],scheduleTypeList:[],disabledYnList:[],interfaceGroupSelect:null,interfaceGroupEdit:null,keyMaxLength:null,nameMaxLength:null,descMaxLength:null,defaultMaxLength:null}},async created(){this.keyMaxLength=(0,o.oo)("id").maxLength,this.nameMaxLength=(0,o.oo)("name").maxLength,this.descMaxLength=(0,o.oo)("desc").maxLength,this.defaultMaxLength=(0,o.oo)("default").maxLength;const t=[{url:"/api/page/properties",param:{pk:{propertyId:"List.Interface.InterfaceType"},orderByKey:!0},itemName:"interfaceTypeList"},{url:"/api/entity/fieldMeta/group/search",itemName:"metaDomainList"},{url:"/api/entity/interface/group/search",itemName:"interfaceGroupList"},{url:"/api/entity/privilege/search",param:{object:{privilegeType:"b"},limit:null,next:null,reverseOrder:!1},itemName:"executePrivilegeIdList"},{url:"/api/page/properties",param:{pk:{propertyId:"List.Interface.ScheduleType"},orderByKey:!0},itemName:"scheduleTypeList"},{url:"/api/page/properties",param:{pk:{propertyId:"List.Yn"},orderByKey:!0},itemName:"disabledYnList"}];try{for await(const e of t){const t=await new o.p0(e.url).read(e.param?e.param:null);if("ok"!==t.data.result)throw t.data;this[e.itemName]=t.data.object}}catch(e){this.$alert({type:"warn",message:this.$t("head.fail.notice")})}},methods:{inputEvt(t,e,a){this.object[e]=a.target.value,this.object[e]=this.object[e].replace(new RegExp((0,o.oo)(t).regExp,"g"),"")},interfaceGroupEvt(){this.interfaceGroupEdit=event.target.value,this.interfaceGroupEdit=this.interfaceGroupEdit.replace(new RegExp((0,o.oo)("default").regExp,"g"),"")},getData(){return this.object.interfaceGroup=this.interfaceGroupSelect,this.interfaceGroupEdit&&(this.object.interfaceGroup?this.object.interfaceGroup+=`.${this.interfaceGroupEdit}`:this.object.interfaceGroup=this.interfaceGroupEdit),this.object},changeServiceId(){this.object.requestRecordId=`SFD_${this.object.interfaceId}_I`,this.object.responseRecordId=`SFD_${this.object.interfaceId}_O`},openAdapterModal(){const t=this,e=this.$openModal({title:this.$t("igate.adapter"),modalWidth:"1000px",contentList:[{template:'<div>\n                                <Search :list="searchList" @search="search" ref="search"/>\n                                    <Main\n                                    :buttonList="buttonList"\n                                    :gridInfo="gridInfo"\n                                    :gridSearchObj="gridSearchObj"\n                                    :gridType="\'modalBasic\'"\n                                    :viewer="true"\n                                    @rowClicked="rowClicked"\n                                    @initialize="initialize"\n                                />\n                            </div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:[{type:"text",vModel:"adapterId",label:`${this.$t("igate.adapter")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"text",vModel:"adapterName",label:`${this.$t("igate.adapter")} ${this.$t("head.name")}`,placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"text",vModel:"adapterDesc",label:`${this.$t("igate.adapter")} ${this.$t("head.description")}`,placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0}],gridInfo:{url:"/api/entity/adapter/search",totalCntUrl:"/api/entity/adapter/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:`${this.$t("igate.adapter")} ${this.$t("head.id")}`,name:"adapterId",width:"20%"},{header:`${this.$t("igate.adapter")} ${this.$t("head.name")}`,name:"adapterName",width:"20%"},{header:`${this.$t("igate.adapter")} ${this.$t("head.description")}`,name:"adapterDesc",width:"20%"},{header:this.$t("igate.adapter.structure.request"),name:"requestStructure",width:"20%"},{header:this.$t("igate.adapter.structure.response"),name:"responseStructure",width:"20%"}]}},gridSearchObj:{}}},methods:{search(t){this.gridSearchObj=t},rowClicked(a){t.object.adapterId=a.adapterId,e.hideModal()},initialize(){this.$refs.search.initialize()}}}]})}}},l=r,d=a(43736),c=(0,d.Z)(l,i,s,!1,null,null,null),p=c.exports},56697:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return y}});var i=function(){var t=this,e=t._self._c;return e("div",{ref:"panel",attrs:{id:"panel"}},[t._m(0),e("ul",{staticClass:"nav nav-tabs flex-shrink-0"},[t._l(t.tabList,(function(a,i){return e("li",{key:a.id,staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:t.selectedIdx===i},attrs:{href:"javascript:void(0);"},domProps:{textContent:t._s(a.label)},on:{click:function(e){return t.changeTab(i)}}})])})),t.toShowResult?e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:t.selectedIdx===t.tabList.length},attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.changeTab(t.tabList.length)}}},[t._v(" "+t._s(t.$t("head.executionResult"))+" ")])]):t._e()],2),e("div",{staticClass:"panel-body tab-content",style:{height:t.panelBodyHeight}},[e("div",{class:{[t.panelMode]:!0,"tab-pane":!0,active:0===t.selectedIdx}},[e(a(14605)(`./detail${t.tabList[0].url}.vue`).default,{ref:"BasicInfo",tag:"component",attrs:{detailInfo:t.tabList[0],detailData:t.detailData,mode:t.panelMode}})],1),e("div",{class:{[t.panelMode]:!0,"tab-pane":!0,active:1===t.selectedIdx}},[e(a(14605)(`./detail${t.tabList[1].url}.vue`).default,{ref:"requestModel",tag:"component",attrs:{detailInfo:t.tabList[1],detailData:t.inputStructData,mode:t.panelMode}})],1),e("div",{class:{[t.panelMode]:!0,"tab-pane":!0,active:2===t.selectedIdx}},[e(a(14605)(`./detail${t.tabList[2].url}.vue`).default,{ref:"responseModel",tag:"component",attrs:{detailInfo:t.tabList[2],detailData:t.outputStructData,mode:t.panelMode}})],1),t.toShowResult?e("DetailResult",{class:{"tab-pane":!0,active:t.selectedIdx===t.tabList.length&&t.showResultTab},attrs:{httpReqResult:t.httpReqResult}}):t._e()],1),e("footer",{staticClass:"panel-footer sub-bar",attrs:{id:"panel-footer"}},["add"===t.panelMode||"clone"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.insertBtn&&t.editor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);"},on:{click:t.saveInfo}},[e("i",{staticClass:"icon-plus"}),t._v(t._s(t.$t("head.insert"))+" ")]):t._e()]):t._e()])])},s=[function(){var t=this,e=t._self._c;return e("header",{staticClass:"panel-header sub-bar",attrs:{id:"panel-header"}},[e("h2",{staticClass:"sub-bar-tit"})])}],n=(a(57658),a(44062)),o=a(37662),r=a(31823),l=a.n(r),d=a(77285),c=a.n(d),p=a(66281),h=a.n(p),u={name:"Detail",extends:n.Z,data(){return{panelMode:"add",inputStructData:{},outputStructData:{},panelBodyHeight:null}},props:{mode:{type:String,default:"detail"},pk:Array,buttonList:Array,detailTabList:Array,info:Object,cudUrl:String,viewer:Boolean,editor:Boolean,recordData:Object},watch:{cudUrl:{immediate:!0,handler(){this.httpReq=new o.p0(`${this.cudUrl}`)}},recordData:{immediate:!0,handler(){c()(this.recordData)||(this.detailData={},this.inputStructData=this.initTreeData(this.recordData.requestRecordObject),this.outputStructData=this.initTreeData(this.recordData.responseRecordObject))}},selectedIdx(){1===this.selectedIdx?this.$refs.requestModel.getDataList():2===this.selectedIdx&&this.$refs.responseModel.getDataList()}},mounted(){o.dc.$on("MainResize",this.resize),o.Gk.$on("MainResize",this.resize),o.QK.$on("MainResize",this.resize),this.resize()},methods:{resize(){const t=document.getElementById("ct"),e=getComputedStyle(t),a=(0,o.tJ)(e.getPropertyValue("padding-top")),i=(0,o.tJ)(e.getPropertyValue("padding-bottom")),s=document.querySelector(".ct-header").offsetHeight,n=document.querySelector(".panel-header").offsetHeight,r=document.querySelector("#panel").querySelector(".nav").offsetHeight,l=document.querySelector(".panel-footer").offsetHeight;this.panelBodyHeight=window.innerHeight-a-i-s-n-r-l+"px"},changeTab(t){for(const e in this.$refs)this.$refs[e].resize&&this.$nextTick((()=>{this.$refs[e].resize()}));this.selectedIdx=t},async saveInfo(){const t=h()(this.recordData);delete t.disabledYn,delete t.scheduleType,this.tabAllData=l()(this.tabAllData,this.$refs.BasicInfo.getData()),this.tabAllData=l()(this.tabAllData,t),this.tabAllData=l()(this.tabAllData,{interfaceServices:[]});const e=await this.httpReq.create({entity:this.tabAllData},!0);this.setData(e)},setData(t){const e="ok"===t.data.result;this.httpReqResult={state:e,content:e?t.data.response:t.data.error},this.selectedIdx=this.tabList.length,this.showResultTab=!0,e?(this.panelMode="add",this.$alert({type:"normal",isXSSMode:!0,message:`${this.$t("head.insert.notice")}<hr>${this.$t("igate.sap.insert.msg")}`}),this.$emit("changeDetailView")):this.tabAllData={}},initTreeData(t){const e={fieldId:t.recordId,fieldName:t.recordId,fieldType:t.recordType,_children:[]};return t.fields.forEach((t=>{const a={fieldId:t.pk.fieldId,fieldName:t.fieldName,fieldType:t.fieldType};if(t.recordObject){const e=this.initTreeData(t.recordObject);a._children=[...e._children]}e._children.push(a)})),e}}},m=u,g=a(43736),f=(0,g.Z)(m,i,s,!1,null,null,null),y=f.exports},87981:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-responsive"},[t.isViewGrid?e("TuiGrid",t._b({ref:"tuiGrid"},"TuiGrid",t.options,!1)):t._e()],1)},s=[],n=a(37856),o=a(37662),r=a(31823),l=a.n(r),d={name:"DetailGrid",components:{TuiGrid:n.Grid},props:{mode:String,detailInfo:Object,detailData:Object},data(){return{options:{},isViewGrid:!0}},created(){o.dc.$on("MainResize",this.resize),o.Gk.$on("MainResize",this.resize),o.bB.$on("MainResize",this.resize),o.QK.$on("MainResize",this.resize),this.options=(0,o.d_)(l()(this.detailInfo.options,{onGridMounted:t=>{t.instance.expandAll()}}))},mounted(){this.getDataList()},watch:{detailData(){this.getDataList()}},methods:{getDataList(){this.isViewGrid=!1;let t=this.detailData._children;t=t.map((t=>(0,o.Np)(t))),this.options.data=t,this.$nextTick((()=>{this.isViewGrid=!0,setTimeout((()=>{this.resize()}),0)}))},resize(){if(!this.$refs.tuiGrid)return;const t=document.getElementById("ct"),e=getComputedStyle(t),a=(0,o.tJ)(e.getPropertyValue("padding-left")),i=(0,o.tJ)(e.getPropertyValue("padding-right")),s=document.querySelector(".panel-body"),n=getComputedStyle(s),r=(0,o.tJ)(n.getPropertyValue("padding-left")),l=(0,o.tJ)(n.getPropertyValue("padding-right"));let d=window.innerWidth;if(d-=a+i,d-=r+l,992<=window.innerWidth&&document.getElementById("sidebar")&&!document.body.classList.contains("sidebar-toggled")){const t=document.getElementById("sidebar"),e=getComputedStyle(t),a=(0,o.tJ)(e.getPropertyValue("margin-left")),i=(0,o.tJ)(e.getPropertyValue("margin-right"));d-=t.offsetWidth+a+i}this.$el.style.width=`${d}px`,this.$refs.tuiGrid.invoke("setWidth",d)}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},35148:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(t.$t("igate.service"))+" "+t._s(t.$t("head.id"))+" "),e("span",{staticClass:"letterLength"},[t._v(" ("+t._s(t.object["serviceId"]?t.object["serviceId"].length:0)+"/"+t._s(t.keyMaxLength)+") ")])]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"detail-content-regExp",staticStyle:{"padding-left":"8px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.object.serviceId,expression:"object.serviceId"}],staticClass:"regExp-text view-disabled dataKey",attrs:{type:"text",readonly:t.readonly,maxlength:t.keyMaxLength},domProps:{value:t.object.serviceId},on:{input:[function(e){e.target.composing||t.$set(t.object,"serviceId",e.target.value)},function(e){return t.inputEvt("id","serviceId",e)}],change:t.changeServiceId}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.service"))+" "+t._s(t.$t("common.type")))]),e("b",{staticClass:"icon-star"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.object.serviceType,expression:"object.serviceType"}],staticClass:"form-control view-disabled",attrs:{readonly:t.readonly},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.object,"serviceType",e.target.multiple?a:a[0])}}},t._l(t.serviceTypeList,(function(a){return e("option",{key:a.pk.propertyKey,domProps:{value:a.pk.propertyKey}},[t._v(" "+t._s(a.propertyValue)+" ")])})),0)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(t.$t("igate.service"))+" "+t._s(t.$t("head.name"))+" "),e("span",{staticClass:"letterLength"},[t._v(" ("+t._s(t.object["serviceName"]?t.object["serviceName"].length:0)+"/"+t._s(t.nameMaxLength)+") ")])])]),e("div",{staticClass:"detail-content-regExp",staticStyle:{"padding-left":"8px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.object.serviceName,expression:"object.serviceName"}],staticClass:"regExp-text view-disabled",attrs:{type:"text",readonly:t.readonly,maxlength:t.nameMaxLength},domProps:{value:t.object.serviceName},on:{input:[function(e){e.target.composing||t.$set(t.object,"serviceName",e.target.value)},function(e){return t.inputEvt("name","serviceName",e)}]}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(t.$t("igate.service"))+" "+t._s(t.$t("head.description"))+" "),e("span",{staticClass:"letterLength"},[t._v(" ("+t._s(t.object["serviceDesc"]?t.object["serviceDesc"].length:0)+"/"+t._s(t.descMaxLength)+") ")])])]),e("div",{staticClass:"detail-content-regExp",staticStyle:{"padding-left":"8px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.object.serviceDesc,expression:"object.serviceDesc"}],staticClass:"regExp-text view-disabled",attrs:{type:"text",readonly:t.readonly,maxlength:t.descMaxLength},domProps:{value:t.object.serviceDesc},on:{input:[function(e){e.target.composing||t.$set(t.object,"serviceDesc",e.target.value)},function(e){return t.inputEvt("desc","serviceDesc",e)}]}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.service.metaDomain")))])]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.object.metaDomain,expression:"object.metaDomain"}],staticClass:"form-control view-disabled",attrs:{readonly:t.readonly},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.object,"metaDomain",e.target.multiple?a:a[0])}}},t._l(t.metaDomainList,(function(a){return e("option",{key:a,domProps:{value:a}},[t._v(" "+t._s(a)+" ")])})),0)])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.service.record.request")))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.object.requestRecordId,expression:"object.requestRecordId"}],staticClass:"form-control view-disabled dataKey",attrs:{type:"text",readonly:!0},domProps:{value:t.object.requestRecordId},on:{input:function(e){e.target.composing||t.$set(t.object,"requestRecordId",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.service.record.response")))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.object.responseRecordId,expression:"object.responseRecordId"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:!0},domProps:{value:t.object.responseRecordId},on:{input:function(e){e.target.composing||t.$set(t.object,"responseRecordId",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.service.group")))]),e("span",{staticClass:"letterLength"},[t._v(" ("+t._s(t.serviceGroupEdit?t.serviceGroupEdit.length:0)+"/"+t._s(t.defaultMaxLength)+") ")]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"input-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.serviceGroupSelect,expression:"serviceGroupSelect"}],staticClass:"form-control view-disabled",attrs:{readonly:t.readonly},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.serviceGroupSelect=e.target.multiple?a:a[0]}}},t._l(t.serviceGroupList,(function(a){return e("option",{key:a,domProps:{value:a}},[t._v(" "+t._s(a)+" ")])})),0),e("input",{directives:[{name:"model",rawName:"v-model",value:t.serviceGroupEdit,expression:"serviceGroupEdit"}],staticClass:"form-control view-disabled",staticStyle:{"margin-left":"5px"},attrs:{type:"text",readonly:t.readonly,maxlength:t.defaultMaxLength},domProps:{value:t.serviceGroupEdit},on:{input:[function(e){e.target.composing||(t.serviceGroupEdit=e.target.value)},t.serviceGroupEditEvt]}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.service.execute.privilege")))]),e("b",{staticClass:"icon-star"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.object.privilegeId,expression:"object.privilegeId"}],staticClass:"form-control view-disabled",attrs:{readonly:t.readonly},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.object,"privilegeId",e.target.multiple?a:a[0])}}},t._l(t.executePrivilegeIdList,(function(a){return e("option",{key:a.privilegeId,domProps:{value:a.privilegeId}},[t._v(" "+t._s(a.privilegeId)+" ")])})),0)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.adapter"))+" "+t._s(t.$t("head.id")))]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.object.adapterId,expression:"object.adapterId"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:!0},domProps:{value:t.object.adapterId},on:{input:function(e){e.target.composing||t.$set(t.object,"adapterId",e.target.value)}}}),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button"},on:{click:t.openAdapterModal}},[e("i",{staticClass:"icon-srch"}),t._v(t._s(t.$t("head.search"))+" ")]),e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button",title:t.$t("head.initialize")},on:{click:function(e){t.object.adapterId=null}}},[e("i",{staticClass:"icon-reset",staticStyle:{"margin-right":"0px"}})])])])])])])},s=[],n=a(63516),o=a(37662),r={name:"BasicInfo",extends:n.Z,data(){return{object:{serviceType:null,serviceId:null,serviceName:null,serviceDesc:null,metaDomain:null,requestRecordId:null,responseRecordId:null,serviceGroup:null,privilegeId:null,adapterId:null},serviceTypeList:[],serviceGroupList:[],executePrivilegeIdList:[],metaDomainList:[],serviceGroupSelect:null,serviceGroupEdit:null,keyMaxLength:null,nameMaxLength:null,descMaxLength:null,defaultMaxLength:null}},async created(){this.keyMaxLength=(0,o.oo)("id").maxLength,this.nameMaxLength=(0,o.oo)("name").maxLength,this.descMaxLength=(0,o.oo)("desc").maxLength,this.defaultMaxLength=(0,o.oo)("default").maxLength;const t=[{url:"/api/page/properties",param:{pk:{propertyId:"List.Service.ServiceType"},orderByKey:!0},itemName:"serviceTypeList"},{url:"/api/entity/fieldMeta/group/search",itemName:"metaDomainList"},{url:"/api/entity/service/group/search",itemName:"serviceGroupList"},{url:"/api/entity/privilege/search",param:{object:{privilegeType:"b"},limit:null,next:null,reverseOrder:!1},itemName:"executePrivilegeIdList"}];try{for await(const e of t){const t=await new o.p0(e.url).read(e.param?e.param:null);if("ok"!==t.data.result)throw t.data;this[e.itemName]=t.data.object}}catch(e){this.$alert({type:"warn",message:this.$t("head.fail.notice")})}},methods:{inputEvt(t,e,a){this.object[e]=a.target.value,this.object[e]=this.object[e].replace(new RegExp((0,o.oo)(t).regExp,"g"),"")},serviceGroupEditEvt(){this.serviceGroupEdit=event.target.value,this.serviceGroupEdit=this.serviceGroupEdit.replace(new RegExp((0,o.oo)("default").regExp,"g"),"")},getData(){return this.object.serviceGroup=this.serviceGroupSelect,this.serviceGroupEdit&&(this.object.serviceGroup?this.object.serviceGroup+=`.${this.serviceGroupEdit}`:this.object.serviceGroup=this.serviceGroupEdit),this.object},changeServiceId(){this.object.requestRecordId=`SFD_${this.object.serviceId}_I`,this.object.responseRecordId=`SFD_${this.object.serviceId}_O`},openAdapterModal(){const t=this,e=this.$openModal({title:this.$t("igate.adapter"),modalWidth:"1000px",contentList:[{template:'<div>\n                                <Search :list="searchList" @search="search" ref="search"/>\n                                    <Main\n                                    :buttonList="buttonList"\n                                    :gridInfo="gridInfo"\n                                    :gridSearchObj="gridSearchObj"\n                                    :gridType="\'modalBasic\'"\n                                    :viewer="true"\n                                    @rowClicked="rowClicked"\n                                    @initialize="initialize"\n                                />\n                            </div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:[{type:"text",vModel:"adapterId",label:`${this.$t("igate.adapter")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"text",vModel:"adapterName",label:`${this.$t("igate.adapter")} ${this.$t("head.name")}`,placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"text",vModel:"adapterDesc",label:`${this.$t("igate.adapter")} ${this.$t("head.description")}`,placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0}],gridInfo:{url:"/api/entity/adapter/search",totalCntUrl:"/api/entity/adapter/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:`${this.$t("igate.adapter")} ${this.$t("head.id")}`,name:"adapterId",width:"20%"},{header:`${this.$t("igate.adapter")} ${this.$t("head.name")}`,name:"adapterName",width:"20%"},{header:`${this.$t("igate.adapter")} ${this.$t("head.description")}`,name:"adapterDesc",width:"20%"},{header:this.$t("igate.adapter.structure.request"),name:"requestStructure",width:"20%"},{header:this.$t("igate.adapter.structure.response"),name:"responseStructure",width:"20%"}]}},gridSearchObj:{}}},methods:{search(t){this.gridSearchObj=t},rowClicked(a){t.object.adapterId=a.adapterId,e.hideModal()},initialize(){this.$refs.search.initialize()}}}]})}}},l=r,d=a(43736),c=(0,d.Z)(l,i,s,!1,null,null,null),p=c.exports},8606:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return g}});var i=function(){var t=this,e=t._self._c;return e("div",{ref:"panel",attrs:{id:"panel"}},[t._m(0),e("ul",{staticClass:"nav nav-tabs flex-shrink-0"},[t._l(t.tabList,(function(a,i){return e("li",{key:a.id,staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:t.selectedIdx===i},attrs:{href:"javascript:void(0);"},domProps:{textContent:t._s(a.label)},on:{click:function(e){return t.changeTab(i)}}})])})),t.toShowResult?e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:t.selectedIdx===t.tabList.length},attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.changeTab(t.tabList.length)}}},[t._v(" "+t._s(t.$t("head.executionResult"))+" ")])]):t._e()],2),e("div",{staticClass:"panel-body tab-content",style:{height:t.panelBodyHeight}},[e("div",{class:{[t.panelMode]:!0,"tab-pane":!0,active:0===t.selectedIdx}},[e(a(14605)(`./detail${t.tabList[0].url}.vue`).default,{ref:"BasicInfo",tag:"component",attrs:{detailInfo:t.tabList[0],detailData:t.detailData,mode:t.panelMode}})],1),e("div",{class:{[t.panelMode]:!0,"tab-pane":!0,active:1===t.selectedIdx}},[e(a(14605)(`./detail${t.tabList[1].url}.vue`).default,{ref:"requestModel",tag:"component",attrs:{detailInfo:t.tabList[1],detailData:t.inputStructData,mode:t.panelMode}})],1),e("div",{class:{[t.panelMode]:!0,"tab-pane":!0,active:2===t.selectedIdx}},[e(a(14605)(`./detail${t.tabList[2].url}.vue`).default,{ref:"responseModel",tag:"component",attrs:{detailInfo:t.tabList[2],detailData:t.outputStructData,mode:t.panelMode}})],1),t.toShowResult?e("DetailResult",{class:{"tab-pane":!0,active:t.selectedIdx===t.tabList.length&&t.showResultTab},attrs:{httpReqResult:t.httpReqResult}}):t._e()],1),e("footer",{staticClass:"panel-footer sub-bar",attrs:{id:"panel-footer"}},["add"===t.panelMode||"clone"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.insertBtn&&t.editor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);"},on:{click:t.saveInfo}},[e("i",{staticClass:"icon-plus"}),t._v(t._s(t.$t("head.insert"))+" ")]):t._e()]):t._e()])])},s=[function(){var t=this,e=t._self._c;return e("header",{staticClass:"panel-header sub-bar",attrs:{id:"panel-header"}},[e("h2",{staticClass:"sub-bar-tit"})])}],n=(a(57658),a(44062)),o=a(37662),r=a(31823),l=a.n(r),d=a(77285),c=a.n(d),p={name:"Detail",extends:n.Z,props:{buttonList:Array,detailTabList:Array,info:Object,cudUrl:String,viewer:Boolean,editor:Boolean,recordData:Object},data(){return{panelMode:"add",inputStructData:{},outputStructData:{},panelBodyHeight:null}},watch:{cudUrl:{immediate:!0,handler(){this.httpReq=new o.p0(`${this.cudUrl}`)}},recordData:{immediate:!0,handler(){c()(this.recordData)||(this.inputStructData=this.initTreeData(this.recordData.requestRecordObject),this.outputStructData=this.initTreeData(this.recordData.responseRecordObject))}},selectedIdx(){1===this.selectedIdx?this.$refs.requestModel.getDataList():2===this.selectedIdx&&this.$refs.responseModel.getDataList()}},mounted(){o.dc.$on("MainResize",this.resize),o.Gk.$on("MainResize",this.resize),o.QK.$on("MainResize",this.resize),this.resize()},methods:{resize(){const t=document.getElementById("ct"),e=getComputedStyle(t),a=(0,o.tJ)(e.getPropertyValue("padding-top")),i=(0,o.tJ)(e.getPropertyValue("padding-bottom")),s=document.querySelector(".ct-header").offsetHeight,n=document.querySelector(".panel-header").offsetHeight,r=document.querySelector("#panel").querySelector(".nav").offsetHeight,l=document.querySelector(".panel-footer").offsetHeight;this.panelBodyHeight=window.innerHeight-a-i-s-n-r-l+"px"},changeTab(t){for(const e in this.$refs)this.$refs[e].resize&&this.$nextTick((()=>{this.$refs[e].resize()}));this.selectedIdx=t},async saveInfo(){this.tabAllData=l()(this.tabAllData,this.$refs.BasicInfo.getData()),this.tabAllData=l()(this.tabAllData,this.recordData);const t=await this.httpReq.create({entity:this.tabAllData},!0);this.setData(t)},setData(t){const e="ok"===t.data.result;this.httpReqResult={state:e,content:e?t.data.response:t.data.error},this.selectedIdx=this.tabList.length,this.showResultTab=!0,e?(this.panelMode="add",this.$alert({type:"normal",isXSSMode:!0,message:`${this.$t("head.insert.notice")}<hr>${this.$t("igate.sap.insert.msg")}`}),this.$emit("changeDetailView")):this.tabAllData={}},initTreeData(t){const e={fieldId:t.recordId,fieldName:t.recordId,fieldType:t.recordType,_children:[]};return t.fields.forEach((t=>{const a={fieldId:t.pk.fieldId,fieldName:t.fieldName,fieldType:t.fieldType};if(t.recordObject){const e=this.initTreeData(t.recordObject);a._children=[...e._children]}e._children.push(a)})),e}}},h=p,u=a(43736),m=(0,u.Z)(h,i,s,!1,null,null,null),g=m.exports},41619:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-responsive"},[t.isViewGrid?e("TuiGrid",t._b({ref:"tuiGrid"},"TuiGrid",t.options,!1)):t._e()],1)},s=[],n=a(37856),o=a(37662),r=a(31823),l=a.n(r),d={name:"DetailGrid",components:{TuiGrid:n.Grid},props:{mode:String,detailInfo:Object,detailData:Object},data(){return{options:{},isViewGrid:!0}},created(){o.dc.$on("MainResize",this.resize),o.Gk.$on("MainResize",this.resize),o.bB.$on("MainResize",this.resize),o.QK.$on("MainResize",this.resize),this.options=(0,o.d_)(l()(this.detailInfo.options,{onGridMounted:t=>{t.instance.expandAll()}}))},mounted(){this.getDataList()},watch:{detailData(){this.getDataList()}},methods:{getDataList(){this.isViewGrid=!1;let t=this.detailData._children;t=t.map((t=>(0,o.Np)(t))),this.options.data=t,this.$nextTick((()=>{this.isViewGrid=!0,setTimeout((()=>{this.resize()}),0)}))},resize(){if(!this.$refs.tuiGrid)return;const t=document.getElementById("ct"),e=getComputedStyle(t),a=(0,o.tJ)(e.getPropertyValue("padding-left")),i=(0,o.tJ)(e.getPropertyValue("padding-right")),s=document.querySelector(".panel-body"),n=getComputedStyle(s),r=(0,o.tJ)(n.getPropertyValue("padding-left")),l=(0,o.tJ)(n.getPropertyValue("padding-right"));let d=window.innerWidth;if(d-=a+i,d-=r+l,992<=window.innerWidth&&document.getElementById("sidebar")&&!document.body.classList.contains("sidebar-toggled")){const t=document.getElementById("sidebar"),e=getComputedStyle(t),a=(0,o.tJ)(e.getPropertyValue("margin-left")),i=(0,o.tJ)(e.getPropertyValue("margin-right"));d-=t.offsetWidth+a+i}this.$el.style.width=`${d}px`,this.$refs.tuiGrid.invoke("setWidth",d)}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},15436:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return m}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.adapter"))+" "+t._s(t.$t("head.id")))]),e("b",{staticClass:"icon-star"})]),t.readonly?t._e():e("label",{staticClass:"control-label warningLabel"},[e("span",[t._v(t._s(t.$t("igate.serviceRecognize.changeWarn")))])]),e("div",{staticClass:"input-group"},[e("inputText",{ref:"pk.adapterId",attrs:{vModel:"pk.adapterId",classObject:{"form-control":!0,"view-disabled":!0,dataKey:!0},readonly:!0}}),t.readonly||"modify"===t.mode?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button"},on:{click:t.openAdapterModal}},[e("i",{staticClass:"icon-srch"}),t._v(t._s(t.$t("head.search"))+" ")]),t.readonly||"modify"===t.mode?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button",title:t.$t("head.initialize")},on:{click:function(e){t.$refs["pk.adapterId"].setData(null)}}},[e("i",{staticClass:"icon-reset",staticStyle:{"margin-right":"0px"}})])],1)])]),e("div",{staticClass:"col-lg-6"})]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(t.$t("igate.telegramValue"))+" "),t.getReadonly({isPK:!0})?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt["pk.telegramValue"]}/${t.maxLengthCnt["pk.telegramValue"]})`)+" ")])]),e("b",{staticClass:"icon-star"})]),e("div",{class:"detail-content-"+(t.getReadonly({isPK:!0})?"common":"regExp"),style:{"padding-left":""+(t.getReadonly({isPK:!0})?"0px":"8px")}},[e("inputText",{ref:"pk.telegramValue",attrs:{vModel:"pk.telegramValue",classObject:{"form-control":t.getReadonly({isPK:!0}),["regExp-text"]:!t.getReadonly({isPK:!0}),"view-disabled":!0,dataKey:!0},readonly:t.readonly||t.getReadonly({isPK:!0}),regExpType:"value"},on:{setLengthCnt:t.setLengthCnt}})],1)])]),e("div",{staticClass:"col-lg-6"})]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.service"))+" "+t._s(t.$t("head.id"))+" ")]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"input-group"},[e("inputText",{ref:"serviceId",attrs:{vModel:"serviceId",classObject:{"form-control":!0,"view-disabled":!0},readonly:!0}}),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button"},on:{click:t.openServiceModal}},[e("i",{staticClass:"icon-srch"}),t._v(t._s(t.$t("head.search"))+" ")]),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button",title:t.$t("head.initialize")},on:{click:function(e){t.$refs["serviceId"].setData(null)}}},[e("i",{staticClass:"icon-reset",staticStyle:{"margin-right":"0px"}})])],1)])]),e("div",{staticClass:"col-lg-6"})])])},s=[],n=a(63822),o=a(31823),r=a.n(o),l=a(63516),d=a(37662),c={name:"ServiceRecognizeBasicInfo",extends:l.Z,data(){return{keyArr:["pk.adapterId","pk.telegramValue","serviceId"]}},computed:{...(0,n.rn)(["regExpTypeList"])},methods:{getData(){let t={};for(let e in this.$refs)0!==this.$refs[e].length&&(t=r()(t,this.$refs[e].getData()));return t},initData(){const t={};this.keyArr.forEach((e=>{t[e]="undefined"!==typeof this.detailData[e]&&null!==this.detailData[e]?String(this.detailData[e]):null}));for(const e in this.$refs)this.$refs[e].setData&&this.$refs[e].setData(t[this.$refs[e]._props.vModel]);this.setLengthCnt({"pk.telegramValue":t["pk.telegramValue"]?t["pk.telegramValue"].length:0}),this.maxLengthCnt["pk.telegramValue"]=(0,d.oo)("value").maxLength},openAdapterModal(){const t=this,e=this.$openModal({title:this.$t("igate.adapter"),modalWidth:"1000px",contentList:[{template:'<div>\n                                <Search :list="searchList" @search="search" ref="search"/>\n                                    <Main\n                                    :buttonList="buttonList"\n                                    :gridInfo="gridInfo"\n                                    :gridSearchObj="gridSearchObj"\n                                    :gridType="\'modalBasic\'"\n                                    :viewer="true"\n                                    @rowClicked="rowClicked"\n                                    @initialize="initialize"\n                                />\n                            </div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:[{type:"text",vModel:"adapterId",label:this.$t("head.id"),placeholder:this.$t("head.searchId")},{type:"text",vModel:"adapterName",label:this.$t("head.name"),placeholder:this.$t("head.searchName")},{type:"text",vModel:"adapterDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment")},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0}],gridInfo:{url:"/api/entity/adapter/search",totalCntUrl:"/api/entity/adapter/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"adapterId",width:"20%"},{header:this.$t("head.name"),name:"adapterName",width:"20%"},{header:this.$t("head.description"),name:"adapterDesc",width:"20%"},{header:this.$t("igate.adapter.structure.request"),name:"requestStructure",width:"20%"},{header:this.$t("igate.adapter.structure.response"),name:"responseStructure",width:"20%"}]}},gridSearchObj:{}}},methods:{search(t){this.gridSearchObj=t},rowClicked(a){t.$refs["pk.adapterId"].setData(a.adapterId),t.$refs["serviceId"].setData(null),e.hideModal()},initialize(){this.$refs.search.initialize()}}}]})},openServiceModal(){const t=this,e=this.$openModal({title:this.$t("igate.service"),modalWidth:"1000px",contentList:[{template:'<div>\n                                <Search :list="searchList" @search="search" ref="search"/>\n                                    <Main\n                                    :buttonList="buttonList"\n                                    :gridInfo="gridInfo"\n                                    :gridSearchObj="gridSearchObj"\n                                    :gridType="\'modalBasic\'"\n                                    :viewer="true"\n                                    @rowClicked="rowClicked"\n                                    @initialize="initialize"\n                                />\n                            </div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:[{type:"text",vModel:"serviceId",label:this.$t("head.id"),placeholder:this.$t("head.searchId")},{type:"text",vModel:"serviceName",label:this.$t("head.name"),placeholder:this.$t("head.searchName")},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0}],gridInfo:{url:"/api/entity/service/search",totalCntUrl:"/api/entity/service/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"serviceId",width:"25%"},{header:this.$t("head.name"),name:"serviceName",width:"25%"},{header:this.$t("head.description"),name:"serviceDesc",width:"25%"},{header:this.$t("common.type"),name:"serviceType",width:"25%"}]}},gridSearchObj:{}}},methods:{search(t){this.gridSearchObj=t},rowClicked(a){t.$refs["serviceId"].setData(a.serviceId),e.hideModal()},initialize(){this.$refs.search.initialize()}}}]})}}},p=c,h=a(43736),u=(0,h.Z)(p,i,s,!1,null,null,null),m=u.exports},43541:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return y}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("header",{staticClass:"sub-bar sub-bar-comp"},[e("h3",{staticClass:"sub-bar-text"},[t._v(" "+t._s(t.$t("head.basic.info"))+" ")])])])]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(t.$t("head.id"))+" "),t.readonly||t.readonlyServiceId?t._e():e("span",{staticClass:"letterLength"},[t._v(" ("+t._s(t.object.serviceId?t.object.serviceId.length:0)+"/"+t._s(t.keyMaxLength)+") ")])]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"input-group"},[e("span",{staticStyle:{flex:"1 1 auto"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.object.serviceId,expression:"object.serviceId"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:t.readonly||t.readonlyServiceId,maxlength:t.keyMaxLength},domProps:{value:t.object.serviceId},on:{input:[function(e){e.target.composing||t.$set(t.object,"serviceId",e.target.value)},function(e){return t.inputEvt("id","serviceId",e)}]}})]),t.readonly||t.readonlyServiceId?t._e():e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{type:"button",title:this.$t("head.id.check")},on:{click:function(e){return t.checkServiceId()}}},[e("i",{staticClass:"icon-file-check"})])])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(t.$t("head.name"))+" "),t.readonlyExcludingId?t._e():e("span",{staticClass:"letterLength"},[t._v(" ("+t._s(t.object.serviceName?t.object.serviceName.length:0)+"/"+t._s(t.nameMaxLength)+") ")])])]),e("div",{class:"detail-content-"+(t.readonlyExcludingId?"common":"regExp"),style:{"padding-left":""+(t.readonlyExcludingId?"0px":"8px")}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.object.serviceName,expression:"object.serviceName"}],class:{"form-control":t.readonlyExcludingId,"regExp-text":!t.readonlyExcludingId,"view-disabled":!0,dataKey:!0},attrs:{type:"text",readonly:t.readonlyExcludingId,maxlength:t.nameMaxLength},domProps:{value:t.object.serviceName},on:{input:[function(e){e.target.composing||t.$set(t.object,"serviceName",e.target.value)},function(e){return t.inputEvt("name","serviceName",e)}]}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("common.type")))]),e("b",{staticClass:"icon-star"})]),t.readonly?t._e():e("label",{staticClass:"control-label warningLabel"},[e("span",[t._v(t._s(t.$t("igate.service.type.change.warn")))])]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.object.serviceType,expression:"object.serviceType"}],staticClass:"form-control view-disabled",attrs:{readonly:t.readonlyExcludingId},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.object,"serviceType",e.target.multiple?a:a[0])},t.resetAdapterId]}},t._l(t.serviceTypeList,(function(a){return e("option",{key:a.pk.propertyKey,domProps:{value:a.pk.propertyKey}},[t._v(" "+t._s(a.propertyValue)+" ")])})),0)])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.private")))]),e("b",{staticClass:"icon-star"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.object.privateYn,expression:"object.privateYn"}],staticClass:"form-control view-disabled",attrs:{readonly:t.readonlyExcludingId},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.object,"privateYn",e.target.multiple?a:a[0])}}},t._l(t.privateYnList,(function(a){return e("option",{key:a.pk.propertyKey,domProps:{value:a.pk.propertyKey}},[t._v(" "+t._s(a.propertyValue)+" ")])})),0)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(t.$t("head.group"))+" "),t.readonlyExcludingId?t._e():e("span",{staticClass:"letterLength"},[t._v(" ("+t._s(t.object["serviceGroup"]?t.object["serviceGroup"].length:0)+"/"+t._s(t.defaultMaxLength)+") ")])]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.object.serviceGroup,expression:"object.serviceGroup"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:t.readonlyExcludingId},domProps:{value:t.object.serviceGroup},on:{input:function(e){e.target.composing||t.$set(t.object,"serviceGroup",e.target.value)}}}),t.readonly?t._e():e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.search"),maxlength:t.defaultMaxLength,disabled:t.readonlyExcludingId},on:{input:function(e){return t.inputEvt("value","serviceGroup",e)},click:function(e){return t.openGroupModal()}}},[e("i",{staticClass:"icon-srch"})]),t.readonly?t._e():e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.initialize"),disabled:t.readonlyExcludingId},on:{click:function(e){t.object.serviceGroup=null}}},[e("i",{staticClass:"icon-reset"})])])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("common.privilege")))]),e("b",{staticClass:"icon-star"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.object.privilegeId,expression:"object.privilegeId"}],staticClass:"form-control view-disabled",attrs:{readonly:t.readonlyExcludingId},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.object,"privilegeId",e.target.multiple?a:a[0])}}},t._l(t.privilegeTypeList,(function(a){return e("option",{key:a.privilegeId,attrs:{disabled:a.disabled},domProps:{value:a.privilegeId}},[t._v(" "+t._s(a.privilegeId)+" ")])})),0)])])])]),e("div",{staticClass:"col-lg-3"},[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("header",{staticClass:"sub-bar sub-bar-comp"},[e("h3",{staticClass:"sub-bar-text"},[t._v(t._s(t.$t("head.runTime.info")))])])])]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.adapter"))+" "+t._s(t.$t("head.id")))]),e("b",{staticClass:"icon-star"})]),t.readonly?t._e():e("label",{staticClass:"control-label warningLabel"},[e("span",[t._v(t._s(t.$t("igate.service.adapterId.change.warn")))])]),e("div",{staticClass:"input-group",attrs:{title:t.object.adapterId}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.object.adapterId,expression:"object.adapterId"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:"readonly"},domProps:{value:t.object.adapterId},on:{input:function(e){e.target.composing||t.$set(t.object,"adapterId",e.target.value)}}}),t.readonly&&!t.isTools?e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.open")},on:{click:function(e){return t.clickEvt("adapterId")}}},[e("i",{staticClass:"icon-link"})]):t._e(),t.readonly?t._e():e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{type:"button",disabled:t.readonlyExcludingId},on:{click:t.openAdapterModal}},[e("i",{staticClass:"icon-srch"})]),t.readonly?t._e():e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.initialize"),disabled:t.readonlyExcludingId},on:{click:t.resetAdapterId}},[e("i",{staticClass:"icon-reset"})])])]),"add"===t.mode&&"Table"===t.object.serviceType?e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.service"))+" "+t._s(t.$t("head.table")))])]),t.readonly?t._e():e("label",{staticClass:"control-label warningLabel"},[e("span",[t._v(t._s(t.$t("igate.service.table.warn")))])]),e("div",{staticClass:"input-group",attrs:{title:t.serviceTable}},[e("span",{staticStyle:{flex:"1 1 auto"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.serviceTable,expression:"serviceTable"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:"readonly"},domProps:{value:t.serviceTable},on:{input:function(e){e.target.composing||(t.serviceTable=e.target.value)}}})]),t.readonly?t._e():e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.search"),disabled:!t.object.adapterId||0===t.serviceTableList.length},on:{click:t.openTableModal}},[e("i",{staticClass:"icon-srch"})]),t.readonly?t._e():e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.initialize"),disabled:!t.object.adapterId||0===t.serviceTableList.length},on:{click:t.resetServiceTable}},[e("i",{staticClass:"icon-reset"})])])]):t._e(),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.operation")))])]),e("div",{staticClass:"input-group",attrs:{title:t.operationName}},[e("input",{staticClass:"form-control view-disabled ellipsis",attrs:{type:"text",readonly:"readonly"},domProps:{value:t.operationName}}),t.readonly?e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.open")},on:{click:function(e){return t.openOperationModal()}}},[e("i",{staticClass:"icon-link"})]):e("div",[e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t(t.operationName?"head.update":"head.insert"),disabled:t.isNotRunTimeAdapter||!t.readonly&&t.readonlyExcludingId},on:{click:function(e){return t.openOperationModal(t.operationName?"modify":"add")}}},[e("i",{class:"icon-"+(t.operationName?"link":"plus")})]),e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.initialize"),disabled:t.isNotRunTimeAdapter||t.readonlyExcludingId},on:{click:t.removeOperation}},[e("i",{staticClass:"icon-reset"})])])])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.activity")))])]),e("div",{staticClass:"input-group",attrs:{title:t.object.serviceActivity}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.object.serviceActivity,expression:"object.serviceActivity"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:"readonly"},domProps:{value:t.object.serviceActivity},on:{input:function(e){e.target.composing||t.$set(t.object,"serviceActivity",e.target.value)}}}),t.readonly&&!t.isTools?e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.open")},on:{click:function(e){return t.clickEvt("serviceActivity")}}},[e("i",{staticClass:"icon-link"})]):t._e(),t.readonly?t._e():e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{type:"button",disabled:t.readonlyExcludingId},on:{click:function(e){return t.openActivityModal()}}},[e("i",{staticClass:"icon-srch"})]),t.readonly?t._e():e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.initialize"),disabled:t.readonlyExcludingId},on:{click:function(e){t.object.serviceActivity=null}}},[e("i",{staticClass:"icon-reset"})])])])])])]),e("div",{staticClass:"col-lg-3"},[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("header",{staticClass:"sub-bar sub-bar-comp"},[e("h3",{staticClass:"sub-bar-text"},[t._v(t._s(t.$t("igate.record.data.model")))])])])]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.fieldMeta.metaDomain")))]),e("b",{staticClass:"icon-star"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.object.metaDomain,expression:"object.metaDomain"}],staticClass:"form-control view-disabled",attrs:{readonly:t.readonlyExcludingId},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.object,"metaDomain",e.target.multiple?a:a[0])}}},t._l(t.metaDomainList,(function(a){return e("option",{key:a,domProps:{value:a}},[t._v(" "+t._s(a)+" ")])})),0)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.service.request.model")))])]),e("div",{staticClass:"input-group",attrs:{title:t.requestRecordName}},[e("input",{staticClass:"form-control view-disabled ellipsis",attrs:{type:"text",readonly:"readonly"},domProps:{value:t.requestRecordName}}),t.readonly?e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.open")},on:{click:function(e){return t.openRecordMngModal("I")}}},[e("i",{staticClass:"icon-link"})]):e("div",[e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t(t.requestRecordName?"head.update":"head.insert"),disabled:t.readonlyExcludingId},on:{click:function(e){return t.openRecordMngModal("I",t.requestRecordName?"update":"create")}}},[e("i",{class:"icon-"+(t.requestRecordName?"link":"plus")})]),e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.search"),disabled:t.readonlyExcludingId},on:{click:function(e){return t.openRecordSrchModal("I")}}},[e("i",{staticClass:"icon-srch"})]),e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.initialize"),disabled:t.readonlyExcludingId},on:{click:function(e){return t.resetRecord("I")}}},[e("i",{staticClass:"icon-reset"})])])])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.service.response.model")))])]),e("div",{staticClass:"input-group",attrs:{title:t.responseRecordName}},[e("input",{staticClass:"form-control view-disabled ellipsis",attrs:{type:"text",readonly:"readonly"},domProps:{value:t.responseRecordName}}),t.readonly?e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.open")},on:{click:function(e){return t.openRecordMngModal("O")}}},[e("i",{staticClass:"icon-link"})]):e("div",[e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t(t.responseRecordName?"head.update":"head.insert"),disabled:t.readonlyExcludingId},on:{click:function(e){return t.openRecordMngModal("O",t.responseRecordName?"update":"create")}}},[e("i",{class:"icon-"+(t.responseRecordName?"link":"plus")})]),e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.search"),disabled:t.readonlyExcludingId},on:{click:function(e){return t.openRecordSrchModal("O")}}},[e("i",{staticClass:"icon-srch"})]),e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.initialize"),disabled:t.readonlyExcludingId},on:{click:function(e){return t.resetRecord("O")}}},[e("i",{staticClass:"icon-reset"})])])])])])])])]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(t.$t("head.description"))+" "),t.readonlyExcludingId?t._e():e("span",{staticClass:"letterLength"},[t._v(" ("+t._s(t.object["serviceDesc"]?t.object["serviceDesc"].length:0)+"/"+t._s(t.descMaxLength)+") ")])])]),e("div",{class:"detail-content-"+(t.readonlyExcludingId?"common":"regExp"),style:{"padding-left":""+(t.readonlyExcludingId?"0px":"8px")}},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.object.serviceDesc,expression:"object.serviceDesc"}],class:{"form-control":t.readonlyExcludingId,"regExp-text":!t.readonlyExcludingId,"view-disabled":!0,dataKey:!0},staticStyle:{"min-height":"150px"},attrs:{readonly:t.readonlyExcludingId,maxlength:t.descMaxLength},domProps:{value:t.object.serviceDesc},on:{input:[function(e){e.target.composing||t.$set(t.object,"serviceDesc",e.target.value)},function(e){return t.inputEvt("desc","serviceDesc",e)}]}})])])])])])},s=[],n=(a(57658),a(63822)),o=a(66281),r=a.n(o),l=a(77285),d=a.n(l),c=a(31823),p=a.n(c),h=a(37662),u={name:"ServiceBasicInfo",props:{detailData:Object,useMappingId:Object,mode:String,isModal:Boolean},data(){return{extendInfo:null,runTimeAdapter:null,serviceTypeList:[],privateYnList:[],privilegeTypeList:[],metaDomainList:[],namingRules:[],requestRecordObject:{},responseRecordObject:{},readonlyServiceId:!1,isNotRunTimeAdapter:!0,serviceTable:null,serviceTableList:[],serviceTableColumns:[],object:{serviceId:null,serviceName:null,serviceType:null,privilegeId:null,serviceGroup:null,privateYn:null,adapterId:null,operationId:null,serviceActivity:null,metaDomain:null,requestRecordId:null,requestRecordObject:null,responseRecordId:null,responseRecordObject:null,serviceDesc:null},keyMaxLength:null,nameMaxLength:null,defaultMaxLength:null,descMaxLength:null,validateList:["serviceId","serviceType","serviceGroup","privateYn","privilegeId","adapterId","metaDomain"],httpReqList:[{url:"/api/page/properties",param:{pk:{propertyId:"List.Service.ServiceType"},orderByKey:!0},itemName:"serviceTypeList"},{url:"/api/entity/fieldMeta/group/search",itemName:"metaDomainList"},{url:"/api/page/properties",param:{pk:{propertyId:"List.Yn"},orderByKey:!0},itemName:"privateYnList"},{url:"/api/page/properties",param:{pk:{propertyId:"IgtOption.Runtime"},orderByKey:!0},itemName:"runTimeAdapter"},{url:"/api/entity/privilege/search",param:{object:{privilegeType:"b"},limit:null,next:null,reverseOrder:!1},itemName:"privilegeTypeList"},{url:"/api/page/properties",param:{pk:{propertyId:"ImgOption.NamingRules"},orderByKey:!0},itemName:"namingRules"}],operationInfo:null}},computed:{...(0,n.rn)(["menuList","userInfo","isTools"]),...(0,n.Se)(["isUserAdmin"]),readonly(){return"detail"===this.mode||"done"===this.mode},readonlyExcludingId(){return this.readonly||!this.readonlyServiceId},operationName(){return this.operationInfo?`${this.operationInfo.operationId} - ${this.operationInfo.operationName}`:""},requestRecordName(){const t=this.requestRecordObject&&this.requestRecordObject.recordId?this.requestRecordObject.recordId:"",e=this.requestRecordObject&&this.requestRecordObject.recordName?this.requestRecordObject.recordName:"";return t+(e?` - ${e}`:e)},responseRecordName(){const t=this.responseRecordObject&&this.responseRecordObject.recordId?this.responseRecordObject.recordId:"",e=this.responseRecordObject&&this.responseRecordObject.recordName?this.responseRecordObject.recordName:"";return t+(e?` - ${e}`:e)}},watch:{async detailData(){for(const t in this.object)this.object[t]="privateYn"===t?"N":null;if(this.serviceTable=null,this.serviceTableList=[],this.operationInfo=null,this.requestRecordObject={},this.responseRecordObject={},this.readonlyServiceId="modify"===this.mode,1===this.metaDomainList.length&&"internal"===this.metaDomainList[0]&&"add"===this.mode&&(this.object.metaDomain="internal"),"add"!==this.mode){for(const t in this.detailData){const e=this.detailData[t];"serviceProperties"!==t&&(t.startsWith("requestRecordObject")?this.requestRecordObject[t.replace("requestRecordObject.","")]=e:t.startsWith("responseRecordObject")?this.responseRecordObject[t.replace("responseRecordObject.","")]=e:this.object[t]=e)}if(this.object.requestRecordId&&this.object.requestRecordId===this.object.responseRecordId&&(this.responseRecordObject=r()(this.requestRecordObject)),"clone"===this.mode)this.object.serviceId=this.namingFormatter("SaveAsID");else if(this.object.operationId){const{data:{object:t}}=await new h.p0("/api/entity/operation/object").read({operationId:this.object.operationId});this.operationInfo=t}}},"object.adapterId"(){this.runTimeAdapter&&(this.isNotRunTimeAdapter=this.runTimeAdapter!==this.object.adapterId,this.isNotRunTimeAdapter&&(this.object.operationId=null,this.operationInfo=null))},"detailData.lockUserId"(){this.object.lockUserId=this.detailData.lockUserId}},async created(){this.keyMaxLength=(0,h.oo)("id").maxLength,this.nameMaxLength=(0,h.oo)("name").maxLength,this.descMaxLength=(0,h.oo)("desc").maxLength,this.defaultMaxLength=(0,h.oo)("default").maxLength;const t=[];this.httpReqList.forEach((e=>{t.push(new Promise(((t,a)=>{(async()=>{const i=await new h.p0(e.url).read(e.param?e.param:null);if("ok"===i.data.result){if("privilegeTypeList"===e.itemName){const t=i.data.object,e=this.userInfo.totalUserPrivileges.filter((t=>"b"===t.privilegeType));for(const a of t)this.isUserAdmin?a.disabled=!1:a.disabled="undefined"===typeof e.find((t=>t.privilegeId==a.privilegeId));this.privilegeTypeList=t}else"runTimeAdapter"===e.itemName?(this.runTimeAdapter=i.data.object.find((t=>"Adapter"===t.pk.propertyKey)).propertyValue,this.object.adapterId&&(this.isNotRunTimeAdapter=this.runTimeAdapter!==this.object.adapterId)):"metaDomainList"===e.itemName?this.metaDomainList=0<i.data.object.length?i.data.object:["internal"]:this[e.itemName]=i.data.object;t(i)}else a(i)})()})))}));try{const e=await Promise.all(t);for(const t of e)if("error"===t.data.result)throw t.data}catch(e){this.$alert({type:"warn",message:this.$t("head.error.load.data.warn")})}this.extendInfo=this.$parent.$refs.component[1]},methods:{getData(){return this.operationInfo&&(this.operationInfo.operationRuleDirty=!0,delete this.operationInfo.operationRule),{...this.object,requestRecordObject:this.object.requestRecordId?this.requestRecordObject:null,responseRecordObject:this.object.responseRecordId?this.object.requestRecordId===this.object.responseRecordId?this.requestRecordObject:this.responseRecordObject:null,operationObject:this.operationInfo?this.operationInfo:null}},inputEvt(t,e,a){this.object[e]=a.target.value,this.object[e]=this.object[e].replace(new RegExp((0,h.oo)(t).regExp,"g"),"")},openGroupModal(){const t=this,e=this.$openModal({title:this.$t("head.group"),modalWidth:"450px",modalHeight:"580px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t\t\t<Search :list="searchList" @search="search" ref="search"/>\n\t\t\t\t\t\t\t\t\t<div class="ct-content">\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t:list="buttonList"\n\t\t\t\t\t\t\t\t\t\t\t:viewer="true"\n\t\t\t\t\t\t\t\t\t\t\t:totalCnt="null"\n\t\t\t\t\t\t\t\t\t\t\t:currentCnt="null"\n\t\t\t\t\t\t\t\t\t\t\t@initialize="initialize"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<NoData v-if="!isGridView" />\n\t\t\t\t\t\t\t\t\t\t<div class="table-responsive" style="height: 300px" v-else>\n\t\t\t\t\t\t\t\t\t\t\t<TuiGrid ref="tuiGrid" v-bind="options" @click="rowClicked" />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>',components:{Search:a(96434).Z,Button:a(19286).Z,NoData:a(48578).Z,TuiGrid:a(37856).Grid},data(){return{searchList:[{type:"text",vModel:"serviceGroup",label:this.$t("head.group"),placeholder:this.$t("head.searchData")}],buttonList:[{id:"initialize",isUse:!0}],totalCnt:null,isGridView:!1,dataList:[],options:{treeColumnOptions:{name:"serviceGroup"},data:[],scrollY:!0,minBodyHeight:"260",bodyHeight:"300",columns:[{hidden:!0,name:"key"},{header:this.$t("head.group"),name:"serviceGroup"}]}}},async created(){this.options=(0,h.d_)(this.options);const t=await new h.p0("/api/entity/service/group/search").read();"ok"===t.data.result&&(this.dataList=r()(t.data.object))},methods:{initTreeData(t){const e=[];for(const a of t){const[t,...i]=a.split("."),s=e.find((e=>e.serviceGroup===t));let n={};s?n=s:(n={serviceGroup:t,key:t},e.push(n));let o=n;for(const e of i){o._children||(o._children=[]);const t=o._children.find((t=>t.serviceGroup===e));t?o=t:(o._children.push({serviceGroup:e,key:`${o.key}.${e}`}),o=o._children.at(-1))}}return e},search(t){this.isGridView=!0,this.$nextTick((()=>{let e=[];e=d()(t.serviceGroup)?this.dataList:this.dataList.filter((e=>e.includes(t.serviceGroup)));const a=this.initTreeData(e);this.$refs.tuiGrid.invoke("resetData",a)}))},rowClicked(a){if("undefined"===typeof a.rowKey||"rowHeader"===a.targetType)return;const i=this.$refs.tuiGrid.invoke("getRow",a.rowKey);t.object.serviceGroup=i.key,e.hideModal()},initialize(){this.$refs.search.initialize()}}}]})},openAdapterModal(){const t=this,e=this.$openModal({title:this.$t("igate.adapter"),modalWidth:"1000px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t\t\t<Search :list="searchList" @search="search" ref="search"/>\n\t\t\t\t\t\t\t\t\t\t<Main\n\t\t\t\t\t\t\t\t\t\t:buttonList="buttonList"\n\t\t\t\t\t\t\t\t\t\t:gridInfo="gridInfo"\n\t\t\t\t\t\t\t\t\t\t:gridSearchObj="gridSearchObj"\n\t\t\t\t\t\t\t\t\t\t:gridType="\'modalBasic\'"\n\t\t\t\t\t\t\t\t\t\t:viewer="true"\n\t\t\t\t\t\t\t\t\t\t@rowClicked="rowClicked"\n\t\t\t\t\t\t\t\t\t\t@initialize="initialize"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t  </div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:[{type:"text",vModel:"adapterId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"text",vModel:"adapterName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"text",vModel:"adapterDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0}],gridInfo:{url:"/api/entity/adapter/search",totalCntUrl:"/api/entity/adapter/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"adapterId",width:"20%"},{header:this.$t("head.name"),name:"adapterName",width:"20%"},{header:this.$t("head.description"),name:"adapterDesc",width:"20%"},{header:this.$t("igate.adapter.structure.request"),name:"requestStructure",width:"20%"},{header:this.$t("igate.adapter.structure.response"),name:"responseStructure",width:"20%"}]}},gridSearchObj:{}}},methods:{search(t){this.gridSearchObj=t},async rowClicked(a){if("Table"===t.object.serviceType){t.resetAdapterId();const e=await new h.p0("/api/databaseMeta/table").read({adapterId:a.adapterId},!0,(()=>{}));"ok"===e.data.result&&(t.serviceTableList=r()(e.data.object))}t.object.adapterId=a.adapterId,e.hideModal()},initialize(){this.$refs.search.initialize()}}}]})},resetAdapterId(){this.object.adapterId=null,this.serviceTableList=[],this.object.operationId=null,this.operationInfo=null,this.serviceTable&&this.resetServiceTable()},resetServiceTable(){this.serviceTable=null,this.resetRecord("I"),this.extendInfo&&!this.extendInfo.propertyList||this.extendInfo.propertyList.forEach(((t,e)=>{"table.name"===t["pk.propertyKey"]&&this.extendInfo.removeProperty(e)}))},openTableModal(){if(this.validateList.some((t=>d()(this.object[t]))))return void this.$alert({type:"warn",message:this.$t("igate.service.validation.warn")});const t=this,e=this.$openModal({title:`${this.$t("igate.service")} ${this.$t("head.table")}`,modalWidth:"450px",modalHeight:"580px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t\t\t<Search :list="searchList" @search="search" ref="search"/>\n\t\t\t\t\t\t\t\t\t<div class="ct-content">\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t:list="buttonList"\n\t\t\t\t\t\t\t\t\t\t\t:viewer="true"\n\t\t\t\t\t\t\t\t\t\t\t:totalCnt="null"\n\t\t\t\t\t\t\t\t\t\t\t:currentCnt="null"\n\t\t\t\t\t\t\t\t\t\t\t@initialize="initialize"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<NoData v-if="!isGridView" />\n\t\t\t\t\t\t\t\t\t\t<div class="table-responsive" style="height: 300px" v-else>\n\t\t\t\t\t\t\t\t\t\t\t<TuiGrid ref="tuiGrid" v-bind="options" @click="rowClicked" />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>',components:{Search:a(96434).Z,Button:a(19286).Z,NoData:a(48578).Z,TuiGrid:a(37856).Grid},data(){return{searchList:[{type:"text",vModel:"serviceTable",label:this.$t("head.table"),placeholder:this.$t("head.searchData")}],buttonList:[{id:"initialize",isUse:!0}],totalCnt:null,isGridView:!1,dataList:t.serviceTableList,options:{data:[],scrollY:!0,minBodyHeight:"260",bodyHeight:"300",columns:[{header:this.$t("head.table"),name:"TABLE_NAME"}]}}},async created(){this.options=(0,h.d_)(this.options)},methods:{search(t){this.isGridView=!0,this.$nextTick((()=>{let e=[];e=d()(t.serviceTable)?this.dataList:this.dataList.filter((e=>e.TABLE_NAME.includes(t.serviceTable))),this.$refs.tuiGrid.invoke("resetData",e)}))},rowClicked(a){if(!this.$refs.tuiGrid.invoke("getRow",a.rowKey))return;t.serviceTable=this.$refs.tuiGrid.invoke("getRow",a.rowKey).TABLE_NAME;const i="table.name";let s;if(t.extendInfo.propertyList.forEach(((t,e)=>{i===t["pk.propertyKey"]&&(s=e)})),0<=s)t.extendInfo.propertyList[s].propertyValue=t.serviceTable;else{const e=t.extendInfo.propertyList.length,a={idx:(0,h.Fs)()};t.extendInfo.detailInfo.content.forEach((a=>{const s=`${a.vModel}_${e}`;t.extendInfo.setLengthCnt({[s]:i.length}),t.extendInfo.maxLengthCnt[s]=(0,h.oo)(a.regExpType?a.regExpType:"default").maxLength})),a["pk.propertyKey"]=i,a["propertyValue"]=t.serviceTable,a["propertyDesc"]=t.extendInfo.servicePropertyList.find((t=>t.pk.propertyKey===i)).propertyDesc,t.extendInfo.propertyList.push(a)}t.setServiceTableColumn(),e.hideModal()},initialize(){this.$refs.search.initialize()}}}]})},namingFormatter(t,e=this.object.serviceId){const a=this.namingRules.find((e=>t===e.pk.propertyKey)).propertyValue;return a.replace("{0}",e)},async setServiceTableColumn(){const t=await new h.p0("/api/databaseMeta/column").read({adapterId:this.object.adapterId,tableName:this.serviceTable,isInterface:!1});this.serviceTableColumns=t.data.object,this.requestRecordObject={fields:this.serviceTableColumns,recordId:this.namingFormatter("ServiceRequestRecordID"),recordName:this.namingFormatter("ServiceRequestRecordName",this.object.serviceName?this.object.serviceName:this.object.serviceId),recordType:"I",recordGroup:this.object.serviceGroup,metaDomain:this.object.metaDomain,privateYn:this.object.privateYn,privilegeId:this.object.privilegeId},this.object.requestRecordId=this.requestRecordObject.recordId},openActivityModal(){const t=this,e=this.$openModal({title:this.$t("igate.activity"),modalWidth:"1000px",contentList:[{template:'<div>\n                                <Search :list="searchList" @search="search" ref="search"/>\n                                    <Main\n                                    :buttonList="buttonList"\n                                    :gridInfo="gridInfo"\n                                    :gridSearchObj="gridSearchObj"\n                                    :gridType="\'modalBasic\'"\n                                    :viewer="true"\n                                    @rowClicked="rowClicked"\n                                    @initialize="initialize"\n                                />\n                            </div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:[{type:"text",vModel:"activityId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"select",vModel:"activityType",label:this.$t("common.type"),val:"S",readonly:!0,optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Activity.ActivityType"},orderByKey:!0},optionListName:"activityTypes",optionFor:"option in activityTypes",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue",optionIf:"option.pk.propertyKey === 'S'",isViewAll:!1}},{type:"text",vModel:"activityDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0}],gridInfo:{url:"/api/entity/activity/search",totalCntUrl:"/api/entity/activity/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"activityId",header:this.$t("head.id")},{name:"activityName",header:this.$t("head.name")},{name:"activityType",header:this.$t("common.type"),val:"H",formatter:({row:t})=>{const e={F:"igate.activity.type.control",A:"igate.activity.type.activity",S:"igate.activity.type.service",C:"igate.activity.type.codec",T:"igate.activity.type.transform",I:"igate.activity.type.internal",H:"igate.activity.type.telegram.handler"};return this.$t(e[t.activityType])}},{name:"activityDesc",header:this.$t("head.description")}]}},gridSearchObj:{}}},methods:{search(t){this.gridSearchObj=t},rowClicked(a){t.object.serviceActivity=a.activityId,e.hideModal()},initialize(){this.$refs.search.initialize()}}}]})},async openOperationModal(t){let e=null;if(this.readonly&&!this.object.operationId)return void this.$alert({type:"warn",message:this.$t("head.no.data.warn")});if("add"===t){if(!this.object.serviceId)return void this.$alert({type:"warn",message:this.$t("igate.enter.id")});if(!this.object.serviceGroup)return void this.$alert({type:"warn",message:this.$t("igate.enter.group")});if(!this.object.privilegeId)return void this.$alert({type:"warn",message:this.$t("head.select.permissions")});let t='<?xml version="1.0" encoding="UTF-8"?>';t+=`<Operation serviceId="${this.object.serviceId}">`,t+="<Variables>",t+='<Variable type="com.inzent.igate.message.Record" name="responseRecord" desc="Response Record" isParameter="true" canEdit="false"/>',t+='<Variable type="com.inzent.igate.repository.meta.Service" name="service" desc="Service Information" isParameter="true" canEdit="false"/>',t+='<Variable type="com.inzent.igate.message.Record" name="requestRecord" desc="Request Record" isParameter="true" canEdit="false"/>',t+="</Variables>",t+="<Activities>",t+='<Start uniqueKey="0000" index="1" desc="Start" xPos="91" yPos="70" >',t+='<Parameter type="com.inzent.igate.message.Record" desc="Response Record" from="Variable" dynamic="false">',t+="<Value><![CDATA[responseRecord]]></Value>",t+="</Parameter>",t+='<Parameter type="com.inzent.igate.repository.meta.Service" desc="Service Information" from="Variable" dynamic="false">',t+="<Value><![CDATA[service]]></Value>",t+="</Parameter>",t+='<Parameter type="com.inzent.igate.message.Record" desc="Request Record" from="Variable" dynamic="false">',t+="<Value><![CDATA[requestRecord]]></Value>",t+="</Parameter>",t+="</Start>",t+='<End uniqueKey="0001" index="2" desc="End" xPos="93" yPos="170"/>',t+="</Activities>",t+="<Transitions>",t+='<Transition from="1" to="2" order="1" fromTerminal="bottom" toTerminal="top">',t+="<bendPoints/>",t+="</Transition>",t+="</Transitions>",t+="</Operation>",e={operationId:this.namingFormatter("ServiceOperationID",this.object.serviceId),operationName:this.namingFormatter("ServiceOperationName",this.object.serviceName?this.object.serviceName:this.object.serviceId),privilegeId:this.object.privilegeId,privateYn:this.object.privateYn,operationType:"S",operationLogLevel:"N/A",xaTransactionAttribute:"S",operationGroup:this.object.serviceGroup,operationDesc:"",operationRuleStr:t,operationRuleDirty:!0,referenceMappings:[]}}else e=r()(this.operationInfo);const i={...this.object,requestRecordObject:this.object.requestRecordId?this.requestRecordObject:null,responseRecordObject:this.object.responseRecordId?this.object.requestRecordId===this.object.responseRecordId?this.requestRecordObject:this.responseRecordObject:null},s=!0,n=!this.readonly,o=this.object.operationId?"modify":"add",l=this,d=this.$openModal({title:this.$t("igate.operation"),fullscreen:!0,contentList:[{template:'<OperationService id="operationServiceModal" :info="operationInfo" :mod="mod" :editFunc="editFunc" :serviceInfo="serviceInfo" :serviceViewer="viewer" :serviceEditor="editor" />',components:{OperationService:a(58486)["default"]},data(){return{operationInfo:e,serviceInfo:i,viewer:s,editor:n,mod:o,editFunc:t=>{l.operationInfo=t,l.object.operationId=l.operationInfo.operationId,d.hideModal()}}}}],buttonList:n?[{template:'<div>\n\t\t\t\t\t\t\t\t               <button type="button" class="btn btn-primary" @click="setOperation">\n\t\t\t\t\t\t\t\t\t\t\t       <i class="icon-edit"></i>{{ $t(\'head.ok\') }}\n\t\t\t\t\t\t\t\t\t\t\t   </button>\n\t\t\t\t\t\t\t\t\t\t   </div>',methods:{async setOperation(){l.operationInfo=await d.$refs.content[0].$children[0].getData(),l.object.operationId=l.operationInfo.operationId,d.hideModal()}}}]:null})},async openRecordMngModal(t,e){const i="I"===t?"request":"response";if("detail"===this.mode&&!this[`${i}RecordName`])return void this.$alert({type:"warn",message:this.$t("head.no.data.warn")});const s={},n="create"===e?(0,h.Fh)(r()(this.object)):this[`${i}RecordObject`];if("create"===e){if([...this.validateList,"serviceName"].forEach((t=>{n[t]&&(s[t]=n[t])})),this.validateList.some((t=>d()(s[t]))))return void this.$alert({type:"warn",message:this.$t("igate.service.validation.warn")})}else s.recordObject=n;const o=this,l=this.$openModal({title:this.$t("igate.record"),fullscreen:!0,contentList:[{template:'<RecordModal ref="RecordModal" :config="config" :mode="mode" :prefix="prefix" />',components:{RecordModal:a(91306)["default"]},data(){return{prefix:"service",mode:(()=>{const t={create:"add",update:"modify",copy:"copy"};return o.readonly?o.mode:t[e]})(),config:{modalType:t,modalData:s}}}}],buttonList:(()=>this.readonly?null:[{template:(()=>"create"===e?'<button type="button" @click="confirm" class="btn btn-primary">\n\t\t\t\t\t\t\t\t\t\t\t   {{ $t(\'head.insert\') }}\n\t\t\t\t\t\t\t\t\t\t   </button>':'<button type="button" @click="confirm" class="btn btn-primary">\n\t\t\t\t\t\t\t\t\t\t\t   {{ $t(\'head.update\') }}\n\t\t\t\t\t\t\t\t\t\t   </button>')(),data(){return{}},methods:{getAllData(){const t=l.$refs.content[0].$refs.RecordModal;let e={};for(const a in t.$refs)t.$refs[a].getData&&(e=p()(e,t.$refs[a].getData()));return r()(e)},async confirm(){const e=l.$refs.content[0].$refs.RecordModal,a=this.getAllData(),i=await new h.p0("/api/entity/record/check").read(a,!0,(t=>{const a=e=>t.data.error.some((t=>t.field.startsWith(e)));a("fields")&&(e.changeTab(1),e.recordObjData.fields=r()(t.data.object.fields),e.recordObjData.options=r()(t.data.object.options),e.$refs.detailInfo.resetData()),this.$alert({type:"warn",message:t.data.error.filter((t=>"fields"===t.field)).map((t=>""+((t.className?`${t.className}<hr>`:"")+t.message))).join(",")})}));"error"!==i.data.result&&("I"===t?(o.object.requestRecordId=a.recordId,o.requestRecordObject=r()(a)):(o.object.responseRecordId=a.recordId,o.responseRecordObject=r()(a)),l.hideModal())}}}])()})},openRecordSrchModal(t){if(this.useMappingId&&this.useMappingId[t])return void this.$alert({type:"warn",message:this.$t("igate.interface.mapping.referenced",{0:this.useMappingId[t]})});const e="I"===t&&!this.requestRecordName||"O"===t&&!this.selectedResponseRecordId;if(e){const t=r()(this.object);for(const e of this.validateList)if(!t[e])return void this.$alert({type:"warn",message:this.$t("igate.service.validation.warn")})}const i=this,s=this.$openModal({title:this.$t("igate.record"),modalWidth:"700px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t\t\t\t<Search :list="searchList" @search="search" ref="search"/>\n\t\t\t\t\t\t\t\t\t\t\t<Main\n\t\t\t\t\t\t\t\t\t\t\t:buttonList="buttonList"\n\t\t\t\t\t\t\t\t\t\t\t:gridInfo="gridInfo"\n\t\t\t\t\t\t\t\t\t\t\t:gridSearchObj="gridSearchObj"\n\t\t\t\t\t\t\t\t\t\t\t:gridType="\'modalBasic\'"\n\t\t\t\t\t\t\t\t\t\t\t:viewer="true"\n\t\t\t\t\t\t\t\t\t\t\t@rowClicked="rowClicked"\n\t\t\t\t\t\t\t\t\t\t\t@initialize="initialize"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:[{type:"text",vModel:"recordId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"text",vModel:"recordName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0}],gridInfo:{url:"/api/entity/record/search",totalCntUrl:"/api/entity/record/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"recordId",width:"40%"},{header:this.$t("head.name"),name:"recordName",width:"40%"},{header:`${this.$t("common.privilege")}`,name:"privilegeId",width:"20%"}]}},gridSearchObj:{}}},methods:{search(t){t.recordType="I",this.gridSearchObj=t},async rowClicked(e){const a=await new h.p0("/api/entity/record/object").read({recordId:e.recordId});if("ok"!==a.data.result)return;const n=a.data.object;d()("I"===t?i.requestRecordName:i.responseRecordName)?(this.setData(n),s.hideModal()):this.$confirm({type:"warn",message:this.$t("igate.record.copy.overwrite.warn",{0:this.$t("igate.service"),1:"I"===t?this.$t("head.request"):this.$t("head.response")}),callback:()=>{this.setData(n),s.hideModal()}})},initialize(){this.$refs.search.initialize()},setData(e){"I"===t?(i.object.requestRecordId=e.recordId,i.requestRecordObject=r()(e)):(i.object.responseRecordId=e.recordId,i.responseRecordObject=r()(e))}}}]})},resetRecord(t){const e="I"===t?"request":"response";if("I"===t){if(!this[`${e}RecordObject`])return;if(!this[`${e}RecordObject`].recordId)return}if(this.useMappingId&&this.useMappingId[t])this.$alert({type:"warn",message:this.$t("igate.interface.mapping.referenced",{0:this.useMappingId[t]})});else{this.object[`${e}RecordId`]=null,this[`${e}RecordObject`]=null;const t=(0,h.Fh)(this.object);if(!t[`${e}RecordObject`])return;for(const a in t[`${e}RecordObject`])delete this.object[`${e}RecordObject.${a}`]}},async checkServiceId(){if(!this.object.serviceId)return void this.$alert({type:"warn",message:this.$t("igate.enter.id")});const t=await new h.p0("/api/entity/service/object").read({serviceId:this.object.serviceId},!1,(()=>{}));if("ok"===t.data.result)return void this.$alert({type:"warn",message:this.$t("head.overlap.id.warn")});if(this.readonlyServiceId=!0,"clone"!==this.mode)return;this.object.operationId=null;const e=this.object.serviceName?this.object.serviceName:this.object.serviceId;d()(this.requestRecordObject)||(this.requestRecordObject={...r()(this.requestRecordObject),recordId:this.namingFormatter("ServiceRequestRecordID"),recordName:this.namingFormatter("ServiceRequestRecordName",e)},this.object.requestRecordId===this.object.responseRecordId&&(this.object.responseRecordId=this.requestRecordObject.recordId,this.responseRecordObject=null),this.object.requestRecordId=this.requestRecordObject.recordId),d()(this.responseRecordObject)||(this.responseRecordObject={...r()(this.responseRecordObject),recordId:this.namingFormatter("ServiceResponseRecordID"),recordName:this.namingFormatter("ServiceResponseRecordName",e)},this.object.responseRecordId=this.responseRecordObject.recordId)},clickEvt(t){const e=this.object[t];if(!e)return void this.$alert({type:"warn",message:this.$t("head.no.data.warn")});let a="",i={};"adapterId"===t?(a="202030",i={adapterId:e}):(a="102060",i={activityId:e}),(0,h.RB)(a,(()=>{localStorage.removeItem("searchObj"),localStorage.setItem("searchObj",JSON.stringify(i))}))},removeOperation(){this.$confirm({type:"warn",message:this.$t("head.delete.service.operation"),callback:()=>{this.object.operationId=null,this.operationInfo=null}})}}},m=u,g=a(43736),f=(0,g.Z)(m,i,s,!1,null,null,null),y=f.exports},37891:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return m}});var i=function(){var t=this,e=t._self._c;return e("div",{ref:"panel",class:t.panelClass,attrs:{id:"panel"}},[e("div",{staticClass:"panel-dialog"},[e("div",{staticClass:"panel-content",style:t.panelContentStyle},[e("div",{staticClass:"resize-bar"}),e("header",{staticClass:"panel-header sub-bar",attrs:{id:"panel-header"}},["modify"===t.panelMode?e("a",{staticClass:"btn btn-icon backBtn",attrs:{href:"javascript:void(0);",title:t.$t("head.goBackward")},on:{click:t.goPreviousPanel}},[e("i",{staticClass:"icon-left"})]):t._e(),e("h2",{staticClass:"sub-bar-tit",style:{width:`calc(100% - ${"modify"===t.panelMode?208:164}px )`}},[t._v(" "+t._s(t.subBarTitle)+" "),e("span",{staticClass:"sub-bar-selected-tit ellipsis",style:{width:`calc(100% - ${"modify"===t.panelMode?80:65}px )`},attrs:{title:t.selectedInfoTitle?t.selectedInfoTitle.substr(3):""}},[t._v(" "+t._s(t.selectedInfoTitle)+" ")])]),"detail"===t.panelMode&&t.editor&&!t.lockEditor?e("label",{staticClass:"control-label warningLabel",staticStyle:{"padding-bottom":"0px"}},[e("b",{staticClass:"icon-star"}),t._v(t._s(t.$t("head.not.registered.privilege.service.warn"))+" ")]):t._e(),e("div",{staticClass:"ml-auto"},["modify"!==t.panelMode&&"add"!==t.panelMode&&t.lockEditor?e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t(t.detailData.lockUserId===t.userInfo.userId?"common.unlock":"common.lock")},on:{click:t.lockEvt}},[e("img",{attrs:{id:"lockIcon",src:t.getMenuIconUrl(t.detailData.lockUserId===t.userInfo.userId?"unlock":"lock")}})]):t._e(),e("button",{staticClass:"btn-change-layout-horizon btn-icon",attrs:{type:"button",title:t.$t("common.detail.horizontal.view")},on:{click:function(e){return t.changeLayout("vertical")}}},[e("img",{staticClass:"center-block",attrs:{src:t.getMenuIconUrl("horizontal")}})]),e("button",{staticClass:"btn-change-layout-vertical btn-icon",attrs:{type:"button",title:t.$t("common.detail.vertical.view")},on:{click:function(e){return t.changeLayout("horizon")}}},[e("img",{staticClass:"center-block",attrs:{src:t.getMenuIconUrl("vertical")}})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.expand")},on:{click:t.expandCollapsePanel}},[e("i",{staticClass:"icon-expand"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.close")},on:{click:t.closePanel}},[e("i",{staticClass:"icon-close"})])])]),e("ul",{staticClass:"nav nav-tabs flex-shrink-0"},[t._l(t.tabList,(function(a,i){return e("li",{key:a.id,staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:t.selectedIdx===i},attrs:{href:"javascript:void(0);"},domProps:{textContent:t._s(a.label)},on:{click:function(e){return t.changeTab(i)}}})])})),t.toShowResult?e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:t.selectedIdx===t.tabList.length},attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.changeTab(t.tabList.length)}}},[t._v(" "+t._s(t.$t("head.executionResult"))+" ")])]):t._e()],2),e("div",{staticClass:"panel-body tab-content"},[t._l(t.tabList,(function(i,s){return e("div",{key:s,class:{[t.panelMode]:!0,"tab-pane":!0,active:t.selectedIdx===s}},["basic"===i.type?e("DetailBasic",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"property"===i.type?e("DetailProperty",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"grid"===i.type?e("DetailGrid",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"custom"===i.type?e("DetailCustom",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):"bundle"===i.type?e(a(14605)(`./detail${i.url}.vue`).default,{ref:"component",refInFor:!0,tag:"component",attrs:{detailInfo:i,detailData:t.detailData,mode:t.panelMode}}):t._e()],1)})),t.toShowResult?e("DetailResult",{class:{"tab-pane":!0,active:t.selectedIdx===t.tabList.length&&t.showResultTab},attrs:{httpReqResult:t.httpReqResult}}):t._e()],2),e("footer",{staticClass:"panel-footer sub-bar",attrs:{id:"panel-footer"}},["detail"===t.panelMode||"done"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.metaHistoryBtn&&t.metaHistoryPrivilege.viewer?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);"},on:{click:t.goMetaHistoryModal}},[e("i",{staticClass:"icon-eye"}),t._v(t._s(t.$t("common.metaHistory"))+" ")]):t._e(),t.referenceBtn&&t.viewer?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.referenceTreeInfo")},on:{click:t.goReferenceModal}},[e("i",{staticClass:"icon-result"}),e("span",{staticClass:"hide"},[t._v(t._s(t.$t("head.referenceTreeInfo")))])]):t._e(),t.dumpBtn&&t.newEditor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.dump")},on:{click:t.dump}},[t._v(" "+t._s(t.$t("head.dump"))+" ")]):t._e(),t.deleteBtn&&t.newEditor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.delete")},on:{click:t.removeInfo}},[e("i",{staticClass:"icon-delete"}),t._v(t._s(t.$t("head.delete"))+" ")]):t._e(),t.updateBtn&&t.newEditor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);",title:t.$t("head.update")},on:{click:t.goModifyPanel}},[e("i",{staticClass:"icon-edit"}),t._v(t._s(t.$t("head.update"))+" ")]):t._e(),t.insertBtn&&t.newEditor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:`${t.$t("head.insert")} (${t.$t("head.copy")})`},on:{click:t.goAddInfo}},[e("i",{staticClass:"icon-plus"}),t._v(t._s(`${t.$t("head.insert")} (${t.$t("head.copy")})`)+" ")]):t._e()]):"add"===t.panelMode||"clone"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.insertBtn&&t.newEditor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.insert")},on:{click:t.saveInfo}},[e("i",{staticClass:"icon-plus"}),t._v(t._s(t.$t("head.insert"))+" ")]):t._e()]):"modify"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.updateBtn&&t.newEditor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);",title:t.$t("head.update")},on:{click:t.updateInfo}},[e("i",{staticClass:"icon-edit"}),t._v(t._s(t.$t("head.update"))+" ")]):t._e()]):t._e()])])])])},s=[],n=a(63822),o=a(44062),r=a(31823),l=a.n(r),d=a(37662),c={name:"ServiceDetail",extends:o.Z,data(){return{serviceTabList:[],lockUserId:null,lockEditor:!1,newEditor:!1}},computed:{...(0,n.rn)(["userInfo"]),...(0,n.Se)(["isUserAdmin"])},watch:{lockUserId(){"detail"===this.panelMode&&(this.detailData.lockUserId=this.lockUserId,this.newEditor=this.lockUserId===this.userInfo.userId)}},methods:{saveInfo(){"clone"!==this.panelMode||this.$refs.component[0].readonlyServiceId?o.Z.methods.saveInfo.bind(this)():this.$alert({type:"warn",message:this.$t("igate.duplicate.check",{0:`${this.$t("head.id")}`})})},async loadData(t){this.$refs.component.forEach(((t,e)=>{"custom"!==this.tabList[e].type&&t.getData&&(this.tabAllData=l()(this.tabAllData,t.getData()))})),await this.validateServicePolicy()&&-1===this.tabList.findIndex((t=>"custom"===t.type))&&t&&t()},async validateServicePolicy(){if(!this.tabAllData.adapterId||!this.tabAllData.serviceType)return!0;const t=await new d.p0("/api/entity/servicePolicy/object").read({pk:{adapterId:this.tabAllData.adapterId,serviceType:this.tabAllData.serviceType}},!1,(()=>{this.$alert({type:"warn",message:this.$t("igate.service.check.servicePolicy",{0:this.tabAllData.adapterId,1:this.tabAllData.serviceType})})}));return"ok"===t.data.result},openPanel(){if(this.lockUserId=this.detailData.lockUserId,"detail"===this.panelMode){const t=this.userInfo.totalUserPrivileges.find((t=>"b"===t.privilegeType&&t.privilegeId===this.detailData.privilegeId));this.editor&&t?this.isUserAdmin||t.admin?this.lockEditor=!0:this.lockEditor=!this.lockUserId||this.lockUserId===this.userInfo.userId:this.lockEditor=!1}else this.newEditor=this.editor;o.Z.methods.openPanel.bind(this)()},async lockEvt(){const t=await new d.p0("/api/entity/service/lock")[this.detailData.lockUserId?"delete":"update"]({serviceId:this.detailData.serviceId},!0,(()=>{}));if("ok"!==t.data.result)this.$alert({type:"warn",message:`${t.data.error[0].message}`});else{this.lockUserId=this.lockUserId?null:this.userInfo.userId;const t=this.$parent.$children.find((t=>t.$refs.grid)).$refs.grid.$refs.tuiGrid,e=t.invoke("getData").find((t=>t.serviceId===this.detailData.serviceId)).rowKey;t.invoke("setValue",e,"lockUserId",this.lockUserId),this.$refs.component[2].$children[0].setData(this.lockUserId),this.detailData.lockUserId=this.lockUserId,this.newEditor=this.lockUserId===this.userInfo.userId}}}},p=c,h=a(43736),u=(0,h.Z)(p,i,s,!1,null,null,null),m=u.exports},41424:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return g}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"propertyTab"},[e("div",{staticClass:"form-table form-table-responsive"},[e("div",{staticClass:"form-table-head"},[t.readonly?t._e():e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.insert")},on:{click:t.addProperty}},[e("i",{staticClass:"icon-plus-circle"})]),t._l(t.detailInfo.content,(function(a,i){return e("label",{key:i,staticClass:"col"},[t._v(t._s(a.label))])}))],2),e("div",{staticClass:"form-table-wrap"},t._l(t.propertyList,(function(a,i){return e("div",{key:`${a.idx}`,staticClass:"form-table-body"},[t.readonly?t._e():e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.delete")},on:{click:function(e){return t.removeProperty(i)}}},[e("i",{staticClass:"icon-minus-circle"})]),t._l(t.detailInfo.content,(function(s,n){return e("div",{key:`${a.idx}_${n}`,staticClass:"col"},[e("div",{class:"detail-content-"+(t.regExpTypeList.includes(s.type)&&!t.getReadonly(s)?"regExp":"common")},["text"===s.type?e("inputText",{ref:`component_${i}_${n}`,refInFor:!0,attrs:{vModel:s.vModel,classObject:{"form-control":t.getReadonly(s),[`regExp-${s.type}`]:!t.getReadonly(s),"view-disabled":!0,dataKey:s.isRequired},val:a[s.vModel],regExpType:s.regExpType,readonly:t.readonly||s.readonly,changeEvt:s.changeEvt},on:{setLengthCnt:e=>t.setLengthCnt({[`${s.vModel}_${i}`]:e[s.vModel]})}}):"dataList"===s.type?e("dataList",{ref:`component_${i}_${n}`,refInFor:!0,attrs:{vModel:s.vModel,classObject:{"form-control":t.getReadonly(s),[`regExp-${s.type}`]:!t.getReadonly(s),"view-disabled":!0,dataKey:s.isRequired},val:a[s.vModel],readonly:t.readonly||s.readonly,optionInfo:s.optionInfo,regExpType:s.regExpType},on:{setLengthCnt:e=>t.setLengthCnt({[`${s.vModel}_${i}`]:e[s.vModel]}),changeEvt:function(e){return t.setServiceProperty(e.value,i,!0)}}}):t._e(),t.regExpTypeList.includes(s.type)&&!t.getReadonly(s)?e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.curLengthCnt[`${s.vModel}_${i}`]} /${t.maxLengthCnt[`${s.vModel}_${i}`]})`)+" ")]):t._e()],1)])}))],2)})),0)])])},s=[],n=a(77285),o=a.n(n),r=a(66997),l=a.n(r),d=a(37662),c=a(21783),p={name:"serviceExtendInfo",extends:c.Z,data(){return{servicePropertyList:[]}},methods:{removeProperty(t){if("add"===this.mode&&"table.name"===this.propertyList[t]["pk.propertyKey"]){const t=this.$parent.$refs.component[0];t.serviceTable=null,t.resetRecord("I")}this.propertyList.splice(t,1),this.curLengthCnt={},this.maxLengthCnt={},this.$nextTick((()=>{this.propertyList.forEach(((t,e)=>{this.detailInfo.content.forEach(((t,a)=>{const i=`${t.vModel}_${e}`,s=this.$refs[`component_${e}_${a}`][0].getData();this.setLengthCnt({[i]:l()(s[t.vModel])?0:String(s[t.vModel]).length}),this.maxLengthCnt[i]=(0,d.oo)(t.regExpType?t.regExpType:"default").maxLength}))}))}))},async setPropertyList(){const{data:{object:t}}=await new d.p0("/api/page/properties").read({pk:{propertyId:"Property.Service"},orderByKey:!0});this.servicePropertyList=t,o()(this.detailData)?this.propertyList=[]:("undefined"!==typeof this.detailData[this.detailInfo.dataKey]?(this.propertyList=[...this.detailData[this.detailInfo.dataKey]],this.regexpElmList=this.detailInfo.content.filter((t=>this.regExpTypeList.includes(t.type))),this.propertyList.forEach(((t,e)=>{this.setServiceProperty(t.pk.propertyKey,e),t.idx=(0,d.Fs)(),this.regexpElmList.forEach((a=>{const i=`${a.vModel}_${e}`;this.setLengthCnt({[i]:t[a.vModel]?t[a.vModel].length:0}),this.maxLengthCnt[i]=(0,d.oo)(a.regExpType?a.regExpType:"default").maxLength}))}))):this.propertyList=[],this.propertyList=this.propertyList.map((t=>(0,d.Np)(t))))},setServiceProperty(t,e,a=!1){if("add"===this.mode&&"table.name"===t)return this.$alert({type:"warn",message:this.$t("igate.service.table.property.warn")}),void this.$refs[`component_${e}_0`][0].setData();const i=this.servicePropertyList.find((e=>e.pk.propertyKey===t));let s="",n="";if(i){const{propertyValue:t,propertyDesc:e}=i;s=t,n=e}a&&(this.propertyList[e]["propertyValue"]=s),this.propertyList[e]["pk.propertyKey"]=t,this.propertyList[e]["propertyDesc"]=n}}},h=p,u=a(43736),m=(0,u.Z)(h,i,s,!1,null,null,null),g=m.exports},72637:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var i,s,n=a(63822),o=a(37662),r=a(44062),l={name:"Detail",extends:r.Z,computed:{...(0,n.rn)(["userInfo"])},methods:{loadData(t){const e=/^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i,a=/^\d{3}-\d{3,4}-\d{4}$/,i=/^\d{2,3}-\d{3,4}-\d{4}$/;r.Z.methods.loadData.call(this,(()=>{if("detail"!==this.panelMode&&"done"!==this.panelMode){const t=this.tabAllData.email&&!e.test(this.tabAllData.email)?"email":this.tabAllData.mobilephone&&!a.test(this.tabAllData.mobilephone)?"mobilephone":this.tabAllData.telephone&&!i.test(this.tabAllData.telephone)?"telephone":null;if(null!==t)return void this.$alert({type:"warn",isXSSMode:!0,message:this.$t(`head.user.${t}.format.warn`)})}this.tabAllData.newPassword=(0,o.vC)(this.tabAllData.newPassword),t&&t()}))},async setData(t,e,a,i=null,s=!0){if("ok"===t.data.result&&("add"===this.panelMode||"clone"===this.panelMode)){const e=await this.httpReq.read({userId:this.tabAllData.userId});t.data.object=e.data.object}r.Z.methods.setData.call(this,t,e,(()=>{"add"!==this.panelMode&&"clone"!==this.panelMode||delete this.cloneInfo.newPassword,a&&a()}),i,s)},async getTargetObj(){if(null!==this.panelMode){if(this.detailData={},"add"!==this.panelMode){const t={};for(const a in this.cloneInfo)-1!==this.pk.indexOf(a)&&(t[a]=this.cloneInfo[a]);const e=await this.httpReq.read(t);if("ok"!==e.data.result)return;this.detailData=(0,o.Np)(e.data.object)}else{const t=await this.httpReq.read({userId:this.userInfo.userId});if("ok"!==t.data.result)return;this.detailData={totalUserPrivileges:t.data.object.totalUserPrivileges}}this.setButtonList(),this.openPanel(),this.setSelectedInfoTitle()}}}},d=l,c=a(43736),p=(0,c.Z)(d,i,s,!1,null,null,null),h=p.exports},36291:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"userPrivileges"},[t.isReadOnlyMode?t._e():e("div",{staticClass:"btn-group",staticStyle:{"margin-bottom":"10px"},attrs:{role:"group"}},[e("a",{staticClass:"btn admin",staticStyle:{"font-size":"0.8rem","min-width":"auto"},on:{click:t.allAdmin}},[t._v(" "+t._s(t.$t("common.user.privilege.all"))+" "+t._s(t.$t("common.user.privilege.admin"))+" ")]),e("a",{staticClass:"btn member",staticStyle:{"font-size":"0.8rem","min-width":"auto"},on:{click:t.allMember}},[t._v(" "+t._s(t.$t("common.user.privilege.all"))+" "+t._s(t.$t("common.user.privilege.member"))+" ")]),e("a",{staticClass:"btn none",staticStyle:{"font-size":"0.8rem","min-width":"auto"},on:{click:t.allNone}},[t._v(" "+t._s(t.$t("common.user.privilege.all"))+" "+t._s(t.$t("common.user.privilege.none"))+" ")])]),e("table",{staticClass:"table"},[t._m(0),e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("common.user.privilege.grade")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("common.privilege"))+t._s(t.$t("head.type")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("common.privilege")))])])]),e("tbody",t._l(t.totalUserPrivileges,(function(a,i){return e("tr",{key:i},[e("td",{staticClass:"text-center view-disabled align-middle authGrade"},[e("select",{directives:[{name:"model",rawName:"v-model",value:a.privilegeName,expression:"elm.privilegeName"}],class:{"form-control":!0,"view-disabled":!0,[`${a.privilegeName.toLowerCase()}`]:!0},attrs:{readonly:t.isReadOnlyMode||a.readonly},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"privilegeName",e.target.multiple?i:i[0])}}},[e("option",{attrs:{value:"None"}},[t._v(t._s(t.$t("common.user.privilege.none")))]),e("option",{attrs:{value:"Admin"}},[t._v(t._s(t.$t("common.user.privilege.admin")))]),e("option",{attrs:{value:"Member"}},[t._v(t._s(t.$t("common.user.privilege.member")))])])]),e("td",{staticClass:"px-1"},[e("input",{staticClass:"form-control view-disabled",attrs:{type:"text",disabled:"disabled"},domProps:{value:a.privilegeType===t.isSystem?t.$t("common.privilege.type.system"):a.privilegeType===t.isBusiness?t.$t("common.privilege.type.business"):t.$t("common.role")}})]),e("td",{staticClass:"px-1"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.privilegeId,expression:"elm.privilegeId"}],staticClass:"form-control view-disabled",attrs:{type:"text",disabled:"disabled"},domProps:{value:a.privilegeId},on:{input:function(e){e.target.composing||t.$set(a,"privilegeId",e.target.value)}}})])])})),0)])])},s=[function(){var t=this,e=t._self._c;return e("colgroup",[e("col",{attrs:{width:"5%"}}),e("col",{attrs:{width:"5%"}}),e("col",{attrs:{width:"45%"}})])}],n=a(66281),o=a.n(n),r=a(63822),l={name:"UserDetailPrivileges",props:{detailData:Object,mode:String},data(){return{totalUserPrivileges:[],isSystem:"S",isBusiness:"b"}},watch:{detailData(){this.setTotalUserPrivileges()}},computed:{...(0,r.rn)(["userInfo"]),...(0,r.Se)(["isUserAdmin"]),isReadOnlyMode(){return"detail"===this.mode||"done"===this.mode}},methods:{getAuthFix(t){if(this.isUserAdmin)return!1;if(this.userInfo.totalUserPrivileges.find((t=>"UserEditor"===t.privilegeId&&"undefined"===typeof t.onlyFrontPrivilege)))return!1;{const e=this.userInfo.totalUserPrivileges.find((({roleType:e,privilegeId:a,admin:i})=>(t.role?"R":"p")===e&&a===t.privilegeId&&i));return!e}},setTotalUserPrivileges(){this.detailData.totalUserPrivileges&&(this.totalUserPrivileges=o()(this.detailData.totalUserPrivileges).map((t=>(t.privilegeName="None",t))),"add"===this.mode?this.totalUserPrivileges.forEach((t=>{t.admin=!1,t.member=!1,t.privilegeName="None",t.readonly=this.getAuthFix(t)})):this.totalUserPrivileges.forEach((t=>{t.privilegeName=t.admin?"Admin":t.member?"Member":"None",t.readonly=this.getAuthFix(t)})))},allAdmin(){this.totalUserPrivileges.forEach((t=>{this.getAuthFix(t)||(t.privilegeName="Admin")}))},allMember(){this.totalUserPrivileges.forEach((t=>{this.getAuthFix(t)||(t.privilegeName="Member")}))},allNone(){this.totalUserPrivileges.forEach((t=>{this.getAuthFix(t)||(t.privilegeName="None")}))},getData(){return{totalUserPrivileges:this.totalUserPrivileges.map((t=>("None"===t.privilegeName?(t.admin=!1,t.member=!1):"Member"===t.privilegeName?(t.admin=!1,t.member=!0):(t.admin=!0,t.member=!1),t)))}}}},d=l,c=a(43736),p=(0,c.Z)(d,i,s,!1,null,null,null),h=p.exports},25064:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(t.$t("igate.service"))+" "+t._s(t.$t("head.id"))+" "),e("span",{staticClass:"letterLength"},[t._v(" ("+t._s(t.object["serviceId"]?t.object["serviceId"].length:0)+"/"+t._s(t.keyMaxLength)+") ")])]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"detail-content-regExp",staticStyle:{"padding-left":"8px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.object.serviceId,expression:"object.serviceId"}],staticClass:"regExp-text view-disabled dataKey",attrs:{type:"text",readonly:t.readonly,maxlength:t.keyMaxLength},domProps:{value:t.object.serviceId},on:{input:[function(e){e.target.composing||t.$set(t.object,"serviceId",e.target.value)},function(e){return t.inputEvt("id","serviceId",e)}],change:t.changeServiceId}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.service"))+" "+t._s(t.$t("common.type")))]),e("b",{staticClass:"icon-star"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.object.serviceType,expression:"object.serviceType"}],staticClass:"form-control view-disabled",attrs:{readonly:t.readonly},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.object,"serviceType",e.target.multiple?a:a[0])}}},t._l(t.serviceTypeList,(function(a){return e("option",{key:a.pk.propertyKey,domProps:{value:a.pk.propertyKey}},[t._v(" "+t._s(a.propertyValue)+" ")])})),0)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(t.$t("igate.service"))+" "+t._s(t.$t("head.name"))+" "),e("span",{staticClass:"letterLength"},[t._v(" ("+t._s(t.object["serviceName"]?t.object["serviceName"].length:0)+"/"+t._s(t.nameMaxLength)+") ")])])]),e("div",{staticClass:"detail-content-regExp",staticStyle:{"padding-left":"8px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.object.serviceName,expression:"object.serviceName"}],staticClass:"regExp-text view-disabled",attrs:{type:"text",readonly:t.readonly,maxlength:t.nameMaxLength},domProps:{value:t.object.serviceName},on:{input:[function(e){e.target.composing||t.$set(t.object,"serviceName",e.target.value)},function(e){return t.inputEvt("name","serviceName",e)}]}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(t.$t("igate.service"))+" "+t._s(t.$t("head.description"))+" "),e("span",{staticClass:"letterLength"},[t._v(" ("+t._s(t.object["serviceDesc"]?t.object["serviceDesc"].length:0)+"/"+t._s(t.descMaxLength)+") ")])])]),e("div",{staticClass:"detail-content-regExp",staticStyle:{"padding-left":"8px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.object.serviceDesc,expression:"object.serviceDesc"}],staticClass:"regExp-text view-disabled",attrs:{type:"text",readonly:t.readonly,maxlength:t.descMaxLength},domProps:{value:t.object.serviceDesc},on:{input:[function(e){e.target.composing||t.$set(t.object,"serviceDesc",e.target.value)},function(e){return t.inputEvt("desc","serviceDesc",e)}]}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.service.metaDomain")))])]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.object.metaDomain,expression:"object.metaDomain"}],staticClass:"form-control view-disabled",attrs:{readonly:t.readonly},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.object,"metaDomain",e.target.multiple?a:a[0])}}},t._l(t.metaDomainList,(function(a){return e("option",{key:a,domProps:{value:a}},[t._v(" "+t._s(a)+" ")])})),0)])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.service.record.request")))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.object.requestRecordId,expression:"object.requestRecordId"}],staticClass:"form-control view-disabled dataKey",attrs:{type:"text",readonly:!0},domProps:{value:t.object.requestRecordId},on:{input:function(e){e.target.composing||t.$set(t.object,"requestRecordId",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.service.record.response")))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.object.responseRecordId,expression:"object.responseRecordId"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:!0},domProps:{value:t.object.responseRecordId},on:{input:function(e){e.target.composing||t.$set(t.object,"responseRecordId",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.service.group")))]),e("span",{staticClass:"letterLength"},[t._v(" ("+t._s(t.serviceGroupEdit?t.serviceGroupEdit.length:0)+"/"+t._s(t.defaultMaxLength)+") ")]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"input-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.serviceGroupSelect,expression:"serviceGroupSelect"}],staticClass:"form-control view-disabled",attrs:{readonly:t.readonly},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.serviceGroupSelect=e.target.multiple?a:a[0]}}},t._l(t.serviceGroupList,(function(a){return e("option",{key:a,domProps:{value:a}},[t._v(" "+t._s(a)+" ")])})),0),e("input",{directives:[{name:"model",rawName:"v-model",value:t.serviceGroupEdit,expression:"serviceGroupEdit"}],staticClass:"form-control view-disabled",staticStyle:{"margin-left":"5px"},attrs:{type:"text",readonly:t.readonly,maxlength:t.defaultMaxLength},domProps:{value:t.serviceGroupEdit},on:{input:[function(e){e.target.composing||(t.serviceGroupEdit=e.target.value)},t.serviceGroupEditEvt]}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.service.execute.privilege")))]),e("b",{staticClass:"icon-star"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.object.privilegeId,expression:"object.privilegeId"}],staticClass:"form-control view-disabled",attrs:{readonly:t.readonly},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.object,"privilegeId",e.target.multiple?a:a[0])}}},t._l(t.executePrivilegeIdList,(function(a){return e("option",{key:a.privilegeId,domProps:{value:a.privilegeId}},[t._v(" "+t._s(a.privilegeId)+" ")])})),0)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.adapter"))+" "+t._s(t.$t("head.id")))]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.object.adapterId,expression:"object.adapterId"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:!0},domProps:{value:t.object.adapterId},on:{input:function(e){e.target.composing||t.$set(t.object,"adapterId",e.target.value)}}}),t.readonly?t._e():e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button"},on:{click:t.openAdapterModal}},[e("i",{staticClass:"icon-srch"}),t._v(t._s(t.$t("head.search"))+" ")]),e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button",title:t.$t("head.initialize")},on:{click:function(e){t.object.adapterId=null}}},[e("i",{staticClass:"icon-reset",staticStyle:{"margin-right":"0px"}})])])])])])])},s=[],n=a(63516),o=a(37662),r={name:"BasicInfo",extends:n.Z,data(){return{object:{service:null,endpoint:null,operation:null,serviceType:null,serviceId:null,serviceName:null,serviceDesc:null,metaDomain:null,requestRecordId:null,responseRecordId:null,serviceGroup:null,privilegeId:null,adapterId:null},serviceTypeList:[],serviceGroupList:[],executePrivilegeIdList:[],metaDomainList:[],serviceGroupSelect:null,serviceGroupEdit:null,keyMaxLength:null,nameMaxLength:null,descMaxLength:null,defaultMaxLength:null}},async created(){this.keyMaxLength=(0,o.oo)("id").maxLength,this.nameMaxLength=(0,o.oo)("name").maxLength,this.descMaxLength=(0,o.oo)("desc").maxLength,this.defaultMaxLength=(0,o.oo)("default").maxLength;const t=[{url:"/api/page/properties",param:{pk:{propertyId:"List.Service.ServiceType"},orderByKey:!0},itemName:"serviceTypeList"},{url:"/api/entity/fieldMeta/group/search",itemName:"metaDomainList"},{url:"/api/entity/service/group/search",itemName:"serviceGroupList"},{url:"/api/entity/privilege/search",param:{object:{privilegeType:"b"},limit:null,next:null,reverseOrder:!1},itemName:"executePrivilegeIdList"}];try{for await(const e of t){const t=await new o.p0(e.url).read(e.param?e.param:null);if("ok"!==t.data.result)throw t.data;this[e.itemName]=t.data.object}}catch(e){this.$alert({type:"warn",message:this.$t("head.fail.notice")})}},methods:{inputEvt(t,e,a){this.object[e]=a.target.value,this.object[e]=this.object[e].replace(new RegExp((0,o.oo)(t).regExp,"g"),"")},serviceGroupEditEvt(){this.serviceGroupEdit=event.target.value,this.serviceGroupEdit=this.serviceGroupEdit.replace(new RegExp((0,o.oo)("default").regExp,"g"),"")},getData(){return this.object.serviceGroup=this.serviceGroupSelect,this.serviceGroupEdit&&(this.object.serviceGroup?this.object.serviceGroup+=`.${this.serviceGroupEdit}`:this.object.serviceGroup=this.serviceGroupEdit),this.object},changeServiceId(){this.object.requestRecordId=`SFD_${this.object.serviceId}_I`,this.object.responseRecordId=`SFD_${this.object.serviceId}_O`},openAdapterModal(){const t=this,e=this.$openModal({title:this.$t("igate.adapter"),modalWidth:"1000px",contentList:[{template:'<div>\n                                <Search :list="searchList" @search="search" ref="search"/>\n                                    <Main\n                                    :buttonList="buttonList"\n                                    :gridInfo="gridInfo"\n                                    :gridSearchObj="gridSearchObj"\n                                    :gridType="\'modalBasic\'"\n                                    :viewer="true"\n                                    @rowClicked="rowClicked"\n                                    @initialize="initialize"\n                                />\n                            </div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:[{type:"text",vModel:"adapterId",label:`${this.$t("igate.adapter")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"text",vModel:"adapterName",label:`${this.$t("igate.adapter")} ${this.$t("head.name")}`,placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"text",vModel:"adapterDesc",label:`${this.$t("igate.adapter")} ${this.$t("head.description")}`,placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0}],gridInfo:{url:"/api/entity/adapter/search",totalCntUrl:"/api/entity/adapter/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:`${this.$t("igate.adapter")} ${this.$t("head.id")}`,name:"adapterId",width:"20%"},{header:`${this.$t("igate.adapter")} ${this.$t("head.name")}`,name:"adapterName",width:"20%"},{header:`${this.$t("igate.adapter")} ${this.$t("head.description")}`,name:"adapterDesc",width:"20%"},{header:this.$t("igate.adapter.structure.request"),name:"requestStructure",width:"20%"},{header:this.$t("igate.adapter.structure.response"),name:"responseStructure",width:"20%"}]}},gridSearchObj:{}}},methods:{search(t){this.gridSearchObj=t},rowClicked(a){t.object.adapterId=a.adapterId,e.hideModal()},initialize(){this.$refs.search.initialize()}}}]})}}},l=r,d=a(43736),c=(0,d.Z)(l,i,s,!1,null,null,null),p=c.exports},62200:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return g}});var i=function(){var t=this,e=t._self._c;return e("div",{ref:"panel",attrs:{id:"panel"}},[t._m(0),e("ul",{staticClass:"nav nav-tabs flex-shrink-0"},[t._l(t.tabList,(function(a,i){return e("li",{key:a.id,staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:t.selectedIdx===i},attrs:{href:"javascript:void(0);"},domProps:{textContent:t._s(a.label)},on:{click:function(e){return t.changeTab(i)}}})])})),t.toShowResult?e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:t.selectedIdx===t.tabList.length},attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.changeTab(t.tabList.length)}}},[t._v(" "+t._s(t.$t("head.executionResult"))+" ")])]):t._e()],2),e("div",{staticClass:"panel-body tab-content"},[e("div",{class:{[t.panelMode]:!0,"tab-pane":!0,active:0===t.selectedIdx}},[e(a(14605)(`./detail${t.tabList[0].url}.vue`).default,{ref:"BasicInfo",tag:"component",attrs:{detailInfo:t.tabList[0],detailData:t.detailData,mode:t.panelMode}})],1),e("div",{class:{[t.panelMode]:!0,"tab-pane":!0,active:1===t.selectedIdx}},[e(a(14605)(`./detail${t.tabList[1].url}.vue`).default,{ref:"requestModel",tag:"component",attrs:{detailInfo:t.tabList[1],detailData:t.inputStructData,mode:t.panelMode}})],1),e("div",{class:{[t.panelMode]:!0,"tab-pane":!0,active:2===t.selectedIdx}},[e(a(14605)(`./detail${t.tabList[2].url}.vue`).default,{ref:"responseModel",tag:"component",attrs:{detailInfo:t.tabList[2],detailData:t.outputStructData,mode:t.panelMode}})],1),t.toShowResult?e("DetailResult",{class:{"tab-pane":!0,active:t.selectedIdx===t.tabList.length&&t.showResultTab},attrs:{httpReqResult:t.httpReqResult}}):t._e()],1),e("footer",{staticClass:"panel-footer sub-bar",attrs:{id:"panel-footer"}},["add"===t.panelMode||"clone"===t.panelMode?e("div",{staticClass:"ml-auto"},[t.insertBtn&&t.editor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);"},on:{click:t.saveInfo}},[e("i",{staticClass:"icon-plus"}),t._v(t._s(t.$t("head.insert"))+" ")]):t._e()]):t._e()])])},s=[function(){var t=this,e=t._self._c;return e("header",{staticClass:"panel-header sub-bar",attrs:{id:"panel-header"}},[e("h2",{staticClass:"sub-bar-tit"})])}],n=(a(57658),a(44062)),o=a(37662),r=a(31823),l=a.n(r),d=a(66281),c=a.n(d),p={name:"Detail",extends:n.Z,props:{buttonList:Array,detailTabList:Array,info:Object,cudUrl:String,viewer:Boolean,editor:Boolean,additionalData:Object},data(){return{panelMode:"add",searchData:{},inputStructData:{},outputStructData:{}}},watch:{cudUrl:{immediate:!0,handler(){this.httpReq=new o.p0(`${this.cudUrl}`)}},additionalData:{immediate:!0,deep:!0,handler(){this.searchData=c()(this.additionalData.searchData),this.inputStructData=this.initTreeData(this.additionalData.structData.input.record),this.outputStructData=this.initTreeData(this.additionalData.structData.output.record)}},selectedIdx(){1===this.selectedIdx?this.$refs.requestModel.getDataList():2===this.selectedIdx&&this.$refs.responseModel.getDataList()}},methods:{changeTab(t){for(const e in this.$refs)this.$refs[e].resize&&this.$nextTick((()=>{this.$refs[e].resize()}));this.selectedIdx=t},async saveInfo(){this.tabAllData=l()(this.tabAllData,{address:this.additionalData.address,entity:this.$refs.BasicInfo.getData()}),this.tabAllData=l()(this.tabAllData,this.searchData);const t=await this.httpReq.create(this.tabAllData,!0);this.setData(t)},setData(t){const e="ok"===t.data.result;this.httpReqResult={state:e,content:e?t.data.response:t.data.error},this.selectedIdx=this.tabList.length,this.showResultTab=!0,e?(this.panelMode="add",this.$alert({type:"normal",isXSSMode:!0,message:`${this.$t("head.insert.notice")}<hr>${this.$t("igate.webService.insert.msg")}`}),this.$emit("changeDetailView")):this.tabAllData={}},initTreeData(t){const e={nodeId:t.recordId,nodeName:t.recordId,nodeType:t.recordType,_children:[]};return t.fields.forEach((t=>{const a={nodeId:t.pk.fieldId,nodeName:t.fieldName,nodeType:t.fieldType};if(t.recordObject){const e=this.initTreeData(t.recordObject);a._children=[...e._children]}e._children.push(a)})),e}}},h=p,u=a(43736),m=(0,u.Z)(h,i,s,!1,null,null,null),g=m.exports},47619:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-responsive"},[t.isViewGrid?e("TuiGrid",t._b({ref:"tuiGrid"},"TuiGrid",t.options,!1)):t._e()],1)},s=[],n=a(37856),o=a(37662),r=a(31823),l=a.n(r),d={name:"DetailGrid",components:{TuiGrid:n.Grid},props:{mode:String,detailInfo:Object,detailData:Object},data(){return{options:{},isViewGrid:!0}},created(){o.dc.$on("MainResize",this.resize),o.Gk.$on("MainResize",this.resize),o.bB.$on("MainResize",this.resize),o.QK.$on("MainResize",this.resize),this.options=(0,o.d_)(l()(this.detailInfo.options,{onGridMounted:t=>{t.instance.expandAll()}}))},mounted(){this.getDataList()},watch:{detailData(){this.getDataList()}},methods:{getDataList(){this.isViewGrid=!1;let t=this.detailData._children;t=t.map((t=>(0,o.Np)(t))),this.options.data=t,this.$nextTick((()=>{this.isViewGrid=!0,setTimeout((()=>{this.resize()}),0)}))},resize(){if(!this.$refs.tuiGrid)return;const t=document.getElementById("ct"),e=getComputedStyle(t),a=(0,o.tJ)(e.getPropertyValue("padding-left")),i=(0,o.tJ)(e.getPropertyValue("padding-right")),s=document.querySelector(".panel-body"),n=getComputedStyle(s),r=(0,o.tJ)(n.getPropertyValue("padding-left")),l=(0,o.tJ)(n.getPropertyValue("padding-right"));let d=window.innerWidth;if(d-=a+i,d-=r+l,992<=window.innerWidth&&document.getElementById("sidebar")&&!document.body.classList.contains("sidebar-toggled")){const t=document.getElementById("sidebar"),e=getComputedStyle(t),a=(0,o.tJ)(e.getPropertyValue("margin-left")),i=(0,o.tJ)(e.getPropertyValue("margin-right"));d-=t.offsetWidth+a+i}this.$el.style.width=`${d}px`,this.$refs.tuiGrid.invoke("setWidth",d)}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},5605:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i,s,n=a(63822),o=a(30650),r=a(33310),l=a(37662),d={name:"Activity",extends:o.Z,components:{Detail:r["default"]},created(){const t=(0,l.fc)(this.pageInfo.privilegeType);this.viewer=t.viewer,this.editor=t.editor},async mounted(){if(this.isTools){const t=JSON.parse(sessionStorage.getItem("externalMenuParam"));if(t&&t.activityId){const e=await new l.p0(this.cudUrl).read({activityId:t.activityId});if(delete t.activityId,sessionStorage.setItem("externalMenuParam",JSON.stringify(t)),"ok"!==e.data.result)return;this.initDetail("detail",e.data.object)}else this.$nextTick((()=>{setTimeout((()=>{this.initDetail("add")}),0)}))}localStorage.getItem("searchObj")?this.initNewTabSearchObj():this.$nextTick((()=>{this.search(this.$refs.search.getSearchObj())})),localStorage.getItem("detailObj")&&this.$nextTick((()=>{const t=JSON.parse(localStorage.getItem("detailObj"));t.isExpandDetailView=!0,localStorage.removeItem("detailObj"),this.initDetail("detail",t)}))},data(){return{cudUrl:"/api/entity/activity/object",viewer:null,editor:null,searchList:[{type:"text",vModel:"activityId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"activityName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"select",vModel:"activityType",label:this.$t("common.type"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Activity.ActivityType"},orderByKey:!0},optionListName:"activityTypes",optionFor:"option in activityTypes",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"groupModal",vModel:"activityGroup",label:this.$t("head.group"),placeholder:this.$t("head.searchData"),modalInfo:{title:this.$t("head.group"),search:{list:[{type:"text",vModel:"activityGroup",label:this.$t("head.group"),placeholder:this.$t("head.searchData")}]},grid:{url:"/api/entity/activity/group/search",options:{treeColumnOptions:{name:"activityGroup"},data:[],scrollY:!0,minBodyHeight:"260",bodyHeight:"300",columns:[{hidden:!0,name:"key"},{header:this.$t("head.group"),name:"activityGroup"}]}},rowClickedCallback:t=>t.key}},{type:"modal",vModel:"activityProject",label:this.$t("igate.javaProject"),placeholder:this.$t("head.searchData"),modalInfo:{title:this.$t("igate.javaProject"),search:{list:[{type:"text",vModel:"projectId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/javaProject/search",totalCntUrl:"/api/entity/javaProject/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"projectId"},{header:this.$t("head.name"),name:"projectName"},{header:this.$t("head.description"),name:"projectDesc"}]}},rowClickedCallback:t=>t.projectId}},{type:"text",vModel:"activityDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"add",isUse:!0},{id:"initialize",isUse:!0},{id:"newTab",isUse:!0}],gridInfo:{url:"/api/entity/activity/search",totalCntUrl:"/api/entity/activity/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"activityId",header:this.$t("head.id"),width:"15%"},{name:"activityName",header:this.$t("head.name"),width:"20%"},{name:"activityType",header:this.$t("common.type"),align:"center",width:"15%",formatter:({row:t})=>{const e={F:"igate.activity.type.control",A:"igate.activity.type.activity",S:"igate.activity.type.service",C:"igate.activity.type.codec",T:"igate.activity.type.transform",I:"igate.activity.type.internal",H:"igate.activity.type.telegram.handler"};return this.$t(e[t.activityType])}},{name:"activityGroup",header:this.$t("head.group"),width:"15%"},{name:"activityProject",header:this.$t("igate.javaProject"),width:"10%"},{name:"activityDesc",header:this.$t("head.description"),width:"25%"}]}},gridSearchObj:{},gridType:"mainBasic",detailPk:["activityId"],controlUrl:"/api/entity/activity/control",controlParams:t=>t,detailInfo:{},isDetailView:!1,detailMode:null,detailButtonList:[{id:"insert",isUse:!0},{id:"update",isUse:!0},{id:"delete",isUse:!this.isTools},{id:"load",isUse:t=>t.loadable},{id:"dump",isUse:!0,dumpUrl:"/api/entity/activity/dump"},{id:"reference",isUse:!0,className:"com.inzent.igate.repository.meta.Activity"}],detailTabList:[{type:"basic",label:this.$t("head.basic.info"),content:[[[{type:"text",vModel:"activityId",label:this.$t("head.id"),isPK:!0,regExpType:"id"},{type:"text",vModel:"activityName",label:this.$t("head.name"),regExpType:"name"},{type:"select",vModel:"activityType",label:this.$t("common.type"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Activity.ActivityType"},orderByKey:!0},optionListName:"activityTypes",optionFor:"option in activityTypes",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue",optionDisabled:`option.pk.propertyKey === 'F' && 'detail' !== '${this.detailMode}'`},isRequired:!0}],[{type:"text",vModel:"activityClassName",label:this.$t("igate.activity.className"),regExpType:"className",isRequired:!0},{type:"select",vModel:"activityLogLevel",label:this.$t("head.log.level"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.LogLevel"},orderByKey:!1},optionListName:"logLevels",optionFor:"option in logLevels",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"},isRequired:!0}],[{type:"modal",vModel:"activityProject",label:this.$t("igate.javaProject"),modalInfo:{title:this.$t("igate.javaProject"),search:{list:[{type:"text",vModel:"projectId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/javaProject/search",totalCntUrl:"/api/entity/javaProject/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"projectId"},{header:this.$t("head.name"),name:"projectName"},{header:this.$t("head.description"),name:"projectDesc"}]}},rowClickedCallback:t=>t.projectId}},{type:"text",vModel:"activityGroup",label:this.$t("head.group"),isRequired:!0},{type:"modal",vModel:"executePrivilegeId",label:this.$t("common.privilege"),modalInfo:{title:this.$t("common.privilege"),search:{list:[{type:"text",vModel:"privilegeId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"text",vModel:"privilegeDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"select",vModel:"privilegeType",label:this.$t("common.type"),val:"b",optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Privilege.Type"},orderByKey:!0},optionListName:"privilegeType",optionFor:"option in privilegeType",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue",optionIf:"'b' === option.pk.propertyKey",isViewAll:!1}},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/privilege/search",totalCntUrl:"/api/entity/privilege/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"privilegeId"},{header:this.$t("common.type"),name:"privilegeType",formatter:({row:t})=>"S"===t.privilegeType?this.$t("common.privilege.type.system"):this.$t("common.privilege.type.business")},{header:this.$t("head.description"),name:"privilegeDesc"}]}},rowClickedCallback:t=>t.privilegeId}}]],[[{type:"textarea",vModel:"activityDesc",label:this.$t("head.description"),regExpType:"desc"}]]]},{type:"property",label:"Parameter",dataKey:"activityParameters",content:[{type:"dataList",vModel:"parameterType",regExpType:"id",label:this.$t("common.type"),optionInfo:{url:"/api/entity/activity/parameterTypes",optionListName:"parameterTypeList",optionFor:"option in parameterTypeList",optionValue:"option",optionText:"option"}},{type:"text",vModel:"parameterDesc",label:this.$t("head.description"),regExpType:"desc"}]}]}},computed:{...(0,n.rn)(["isTools"])}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},92254:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"basic"},[e("div",{staticClass:"ct-content"},[e("Detail",{ref:"detail",attrs:{info:t.detailInfo,buttonList:t.detailButtonList,cudUrl:t.cudUrl,viewer:t.viewer,editor:t.editor}})],1)])},s=[],n=a(30650),o=a(75521),r=a(37662),l={name:"AdapterWizard",extends:n.Z,components:{Detail:o["default"]},created(){const t=(0,r.fc)("AdapterWizard");this.viewer=t.viewer,this.editor=t.editor},mounted(){this.initNewTabSearchObj()},methods:{},data(){return{cudUrl:"/api/wizard/adapter",viewer:null,editor:null,detailInfo:{},isDetailView:!1,detailMode:null,detailButtonList:[{id:"newTab",isUse:!0},{id:"initialize",isUse:!0},{id:"insert",isUse:!0}]}}},d=l,c=a(43736),p=(0,c.Z)(d,i,s,!1,null,null,null),h=p.exports},16446:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var i,s,n=a(30650),o=a(25990),r=a(37662),l={name:"Adapter",extends:n.Z,components:{Detail:o["default"]},created(){const t=(0,r.fc)(this.pageInfo.privilegeType);this.viewer=t.viewer,this.editor=t.editor},async mounted(){let t=await new r.p0("/api/page/properties").read({pk:{propertyId:"List.Adapter.Queuemode"},orderByKey:!0});"ok"===t.data.result&&(this.queueModeList=t.data.object),t=await new r.p0("/api/page/properties").read({pk:{propertyId:"List.Adapter.Type"},orderByKey:!0}),"ok"===t.data.result&&(this.adapterTypeList=t.data.object),localStorage.getItem("searchObj")?this.initNewTabSearchObj():this.$nextTick((()=>this.search(this.$refs.search.getSearchObj()))),localStorage.getItem("detailObj")&&this.$nextTick((()=>{const t=JSON.parse(localStorage.getItem("detailObj"));t.isExpandDetailView=!0,localStorage.removeItem("detailObj"),this.initDetail("detail",t)}))},data(){return{adapterTypeList:[],queueModeList:[],cudUrl:"/api/entity/adapter/object",viewer:null,editor:null,searchList:[{type:"text",vModel:"adapterId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"adapterName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"select",vModel:"adapterType",label:this.$t("common.type"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Adapter.Type"},orderByKey:!0},optionListName:"adapterTypeList",optionFor:"option in adapterTypeList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"select",vModel:"queueMode",label:`${this.$t("head.queue")} ${this.$t("head.mode")}`,optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Adapter.Queuemode"},orderByKey:!0},optionListName:"queueModeList",optionFor:"option in queueModeList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"text",vModel:"adapterDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0},{id:"newTab",isUse:!0},{id:"add",isUse:!0}],gridInfo:{url:"/api/entity/adapter/search",totalCntUrl:"/api/entity/adapter/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"adapterId",header:this.$t("head.id"),width:"20%"},{name:"adapterName",header:this.$t("head.name"),width:"30%"},{name:"adapterType",header:this.$t("common.type"),align:"center",width:"10%",formatter:({row:t})=>{const e=this.adapterTypeList.find((e=>e.pk.propertyKey===t.adapterType));return e?(0,r.Xv)(e.propertyValue):""}},{name:"queueMode",header:this.$t("head.queue")+" "+this.$t("head.mode"),align:"center",width:"10%",formatter:({row:t})=>{const e=this.queueModeList.find((e=>e.pk.propertyKey===t.queueMode));return e?(0,r.Xv)(e.propertyValue):""}},{name:"adapterDesc",header:this.$t("head.description"),width:"30%"}]}},gridSearchObj:{},gridType:"mainBasic",detailPk:["adapterId"],controlUrl:"/api/entity/adapter/control",controlParams:t=>({adapterId:t.adapterId,instance:null}),detailInfo:{},isDetailView:!1,detailMode:null,detailButtonList:[{id:"insert",isUse:!0},{id:"update",isUse:!0},{id:"delete",isUse:!0},{id:"guide",isUse:!0,url:"/manual/Property Reference.htm#_topic_AdapterProperty"},{id:"externalGuide",isUse:!0,url:"/manual/External Guide.htm"},{id:"dump",isUse:!0,dumpUrl:"/api/entity/adapter/dump"},{id:"start",isUse:!0},{id:"stop",isUse:!0},{id:"reference",isUse:!0,className:"com.inzent.igate.repository.meta.Adapter"}],detailTabList:[{type:"bundle",label:this.$t("head.basic.info"),url:"/adapter/BasicInfo"},{type:"bundle",label:`${this.$t("igate.adapter")} ${this.$t("igate.operation")}`,url:"/adapter/OperationInfo"},{type:"bundle",label:`${this.$t("igate.adapter")} ${this.$t("head.property")}`,url:"/adapter/PropertyInfo"},{type:"bundle",label:this.$t("igate.connector"),url:"/adapter/ConnectorInfo"},{type:"bundle",label:this.$t("igate.adapter.queue.deploies"),url:"/adapter/DeploiesInfo"}]}}},d=l,c=a(43736),p=(0,c.Z)(d,i,s,!1,null,null,null),h=p.exports},44582:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var i,s,n=a(37662),o=a(30650),r={name:"apimCatalog",extends:o.Z,created(){const t=(0,n.fc)(this.pageInfo.privilegeType);this.viewer=t.viewer,this.editor=t.editor},mounted(){localStorage.getItem("searchObj")?this.initNewTabSearchObj():this.$nextTick((()=>{this.search(this.$refs.search.getSearchObj())})),localStorage.getItem("detailObj")&&this.$nextTick((()=>{const t=JSON.parse(localStorage.getItem("detailObj"));t.isExpandDetailView=!0,localStorage.removeItem("detailObj"),this.initDetail("detail",t)}))},data(){return{cudUrl:"/api/entity/apimApi/object",viewer:null,editor:null,searchList:[{type:"text",vModel:"pk.catalogId",label:this.$t("igate.param.id",{0:"Catalog"}),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"pk.apiId",label:this.$t("igate.param.id",{0:"Api"}),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"dataList",vModel:"privilegeId",label:this.$t("common.privilege"),placeholder:this.$t("head.searchData"),regExpType:"searchId",optionInfo:{url:"/api/entity/privilege/search",params:{object:{privilegeType:"b"},limit:null,next:null,reverseOrder:!1},optionListName:"privilegeTypeList",optionFor:"option in privilegeTypeList",optionValue:"option.privilegeId",optionText:"option.privilegeId"}},{type:"text",vModel:"catalogPath",label:this.$t("head.path"),placeholder:this.$t("head.searchData"),regExpType:"value"},{type:"text",vModel:"catalogMethod",label:this.$t("head.method"),placeholder:this.$t("head.searchData"),regExpType:"value"},{type:"modal",vModel:"remoteAdapterId",label:`${this.$t("igate.adapter")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"searchId",modalInfo:{title:this.$t("igate.adapter"),search:{list:[{type:"text",vModel:"adapterId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"adapterName",label:this.$t("common.type"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"text",vModel:"adapterDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/adapter/search",totalCntUrl:"/api/entity/adapter/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"adapterId"},{header:this.$t("head.name"),name:"adapterName"},{header:this.$t("head.description"),name:"adapterDesc"},{header:this.$t("igate.adapter.structure.request"),name:"requestStructure"},{header:this.$t("igate.adapter.structure.response"),name:"responseStructure"}]}},rowClickedCallback:t=>t.adapterId}},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0},{id:"newTab",isUse:!0}],gridInfo:{url:"/api/entity/apimApi/search",totalCntUrl:"/api/entity/apimApi/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"pk.catalogId",header:this.$t("igate.param.id",{0:"Catalog"})},{name:"pk.apiId",header:this.$t("igate.param.id",{0:"Api"})},{name:"catalogPath",header:this.$t("head.path")},{name:"catalogMethod",header:this.$t("head.method")},{name:"remoteAdapterId",header:`${this.$t("igate.adapter")} ${this.$t("head.id")}`}]}},gridSearchObj:{},gridType:"mainBasic",detailPk:["pk.catalogId","pk.apiId"],detailInfo:{},isDetailView:!1,detailMode:null,detailButtonList:[{id:"update",isUse:!0}],detailTabList:[{type:"bundle",label:this.$t("head.basic.info"),url:"/apim/api/BasicInfo"},{type:"bundle",label:this.$t("igate.security"),url:"/apim/api/ApiSecurity"},{type:"bundle",label:this.$t("igate.response"),url:"/apim/api/ApiResponse"},{type:"basic",label:this.$t("head.resource.inuse.info"),content:[[[{type:"text",vModel:"lockUserId",label:this.$t("head.lock.userId"),readonly:!0},{type:"text",vModel:"updateVersion",label:this.$t("head.updateVersion"),readonly:!0,val:"0"}],[{type:"text",vModel:"updateUserId",label:this.$t("head.update.userId"),readonly:!0},{type:"text",vModel:"updateTimestamp",label:this.$t("head.update.timestamp"),readonly:!0,formatter:t=>(0,n.GD)(t)}]]]}]}}},l=r,d=a(43736),c=(0,d.Z)(l,i,s,!1,null,null,null),p=c.exports},19682:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var i,s,n=a(37662),o=a(30650),r={name:"apimApplication",extends:o.Z,created(){const t=(0,n.fc)(this.pageInfo.privilegeType);this.viewer=t.viewer,this.editor=t.editor},mounted(){localStorage.getItem("searchObj")?this.initNewTabSearchObj():this.$nextTick((()=>{this.search(this.$refs.search.getSearchObj())})),localStorage.getItem("detailObj")&&this.$nextTick((()=>{const t=JSON.parse(localStorage.getItem("detailObj"));t.isExpandDetailView=!0,localStorage.removeItem("detailObj"),this.initDetail("detail",t)}))},data(){return{cudUrl:"/api/entity/apimApplication/object",viewer:null,editor:null,searchList:[{type:"text",vModel:"pk.customerId",label:this.$t("igate.param.id",{0:this.$t("igate.customer")}),placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"text",vModel:"pk.applicationId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"text",vModel:"applicationName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"text",vModel:"applicationDesc",label:this.$t("common.desc"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0},{id:"newTab",isUse:!0},{id:"add",isUse:!0}],gridInfo:{url:"/api/entity/apimApplication/search",totalCntUrl:"/api/entity/apimApplication/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"pk.customerId",header:this.$t("igate.param.id",{0:this.$t("igate.customer")})},{name:"pk.applicationId",header:this.$t("head.id")},{name:"applicationName",header:this.$t("head.name")},{name:"applicationDesc",header:this.$t("common.desc")}]}},gridSearchObj:{},gridType:"mainBasic",detailPk:["pk.customerId","pk.applicationId"],detailInfo:{},isDetailView:!1,detailMode:null,detailButtonList:[{id:"insert",isUse:!0},{id:"update",isUse:!0},{id:"delete",isUse:!0}],detailTabList:[{type:"bundle",label:this.$t("head.basic.info"),url:"/apim/app/BasicInfo"},{type:"bundle",label:this.$t("head.ip"),url:"/apim/app/ApplicationIp"},{type:"bundle",label:"Catalogs & Securities",url:"/apim/app/ApplicationCatalogsSecurities"}]}}},l=r,d=a(43736),c=(0,d.Z)(l,i,s,!1,null,null,null),p=c.exports},2457:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var i,s,n=a(37662),o=a(38440),r=a(30650),l={name:"apimApplicationRequestRequest",extends:r.Z,components:{Detail:o["default"]},created(){const t=(0,n.fc)(this.pageInfo.privilegeType);this.viewer=t.viewer,this.editor=t.editor},mounted(){localStorage.getItem("searchObj")?this.initNewTabSearchObj():this.$nextTick((()=>{this.search(this.$refs.search.getSearchObj())})),localStorage.getItem("detailObj")&&this.$nextTick((()=>{const t=JSON.parse(localStorage.getItem("detailObj"));t.isExpandDetailView=!0,localStorage.removeItem("detailObj"),this.initDetail("detail",t)}))},data(){return{cudUrl:"/api/entity/apimApplicationRequest/object",viewer:null,editor:null,searchList:[{type:"text",vModel:"pk.customerId",label:this.$t("igate.param.id",{0:this.$t("igate.customer")}),placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"text",vModel:"applicationName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"text",vModel:"applicationDesc",label:this.$t("common.desc"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"select",vModel:"applicationRequestStatus",label:this.$t("head.status"),val:" ",optionInfo:{isViewAll:!0,optionFor:"option in [\n\t\t\t\t\t\t\t{ value: 'R', name: 'REQUEST'},\n\t\t\t\t\t\t\t{ value: 'A', name: 'ALLOWED'},\n\t\t\t\t\t\t\t{ value: 'D', name: 'REQUEST'},\n\t\t\t\t\t\t\t{ value: 'I', name: 'DENIED'}\n\t\t\t\t\t\t]",optionValue:"option.value",optionText:"option.name"}},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0},{id:"newTab",isUse:!0}],gridInfo:{url:"/api/entity/apimApplicationRequest/search",totalCntUrl:"/api/entity/apimApplicationRequest/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"pk.applicationRequestDateTime",header:this.$t("igate.traceLog.requestTimestamp"),align:"center",formatter:t=>(0,n.GD)(t.value)},{name:"pk.customerId",header:this.$t("igate.param.id",{0:this.$t("igate.customer")})},{name:"pk.applicationId",header:this.$t("head.id")},{name:"applicationName",header:this.$t("head.name")},{name:"applicationRequestStatus",header:this.$t("head.status"),align:"center",formatter:({row:t})=>{const e=[{value:"R",name:"REQUEST"},{value:"A",name:"ALLOWED"},{value:"D",name:"REQUEST"},{value:"I",name:"DENIED"}],{name:a}=e.find((({value:e})=>e===t.applicationRequestStatus));return a}},{name:"applicationDesc",header:this.$t("common.desc")}]}},gridSearchObj:{},gridType:"mainBasic",detailPk:["pk.applicationRequestDateTime","pk.customerId","pk.applicationId"],detailInfo:{},isDetailView:!1,detailMode:null,detailButtonList:[{id:"allow",isUse:!0},{id:"deny",isUse:!0}],detailTabList:[{type:"bundle",label:this.$t("head.basic.info"),url:"/apim/appRequest/BasicInfo"},{type:"bundle",label:this.$t("head.ip"),url:"/apim/appRequest/ApplicationRequestIp"},{type:"bundle",label:"Catalog",url:"/apim/appRequest/ApplicationRequestCatalog"},{type:"bundle",label:this.$t("igate.security"),url:"/apim/appRequest/ApplicationRequestSecurity"}]}}},d=l,c=a(43736),p=(0,c.Z)(d,i,s,!1,null,null,null),h=p.exports},40215:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var i,s,n=a(37662),o=a(30650),r=a(77689),l={name:"apimCatalog",extends:o.Z,components:{Detail:r["default"]},created(){const t=(0,n.fc)(this.pageInfo.privilegeType);this.viewer=t.viewer,this.editor=t.editor},mounted(){localStorage.getItem("searchObj")?this.initNewTabSearchObj():this.$nextTick((()=>{this.search(this.$refs.search.getSearchObj())})),localStorage.getItem("detailObj")&&this.$nextTick((()=>{const t=JSON.parse(localStorage.getItem("detailObj"));t.isExpandDetailView=!0,localStorage.removeItem("detailObj"),this.initDetail("detail",t)}))},data(){return{cudUrl:"/api/entity/apimCatalog/object",viewer:null,editor:null,searchList:[{type:"text",vModel:"catalogId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"catalogName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"dataList",vModel:"privilegeId",label:this.$t("common.privilege"),placeholder:this.$t("head.searchData"),regExpType:"searchId",optionInfo:{url:"/api/entity/privilege/search",params:{object:{privilegeType:"b"},limit:null,next:null,reverseOrder:!1},optionListName:"privilegeTypeList",optionFor:"option in privilegeTypeList",optionValue:"option.privilegeId",optionText:"option.privilegeId"}},{type:"modal",vModel:"adapterId",label:`${this.$t("igate.adapter")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"searchId",modalInfo:{title:this.$t("igate.adapter"),search:{list:[{type:"text",vModel:"adapterId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"adapterName",label:this.$t("common.type"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"text",vModel:"adapterDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/adapter/search",totalCntUrl:"/api/entity/adapter/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"adapterId"},{header:this.$t("head.name"),name:"adapterName"},{header:this.$t("head.description"),name:"adapterDesc"},{header:this.$t("igate.adapter.structure.request"),name:"requestStructure"},{header:this.$t("igate.adapter.structure.response"),name:"responseStructure"}]}},rowClickedCallback:t=>t.adapterId}},{type:"text",vModel:"catalogUrl",label:this.$t("igate.url"),placeholder:this.$t("head.searchData"),regExpType:"value"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0},{id:"newTab",isUse:!0},{id:"add",isUse:!0}],gridInfo:{url:"/api/entity/apimCatalog/search",totalCntUrl:"/api/entity/apimCatalog/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"catalogId",header:this.$t("head.id")},{name:"catalogName",header:this.$t("head.name")},{name:"privilegeId",header:this.$t("common.privilege")},{name:"adapterId",header:`${this.$t("igate.adapter")} ${this.$t("head.id")}`},{name:"catalogUrl",header:this.$t("igate.url")}]}},gridSearchObj:{},gridType:"mainBasic",detailPk:["catalogId"],detailInfo:{},isDetailView:!1,detailMode:null,detailButtonList:[{id:"insert",isUse:!0},{id:"update",isUse:!0},{id:"delete",isUse:!0},{id:"generate",isUse:!0}],detailTabList:[{type:"bundle",label:this.$t("head.basic.info"),url:"/apim/catalog/BasicInfo"},{type:"bundle",label:this.$t("igate.yaml.editor"),url:"/apim/catalog/Editor"},{type:"bundle",label:this.$t("igate.security"),url:"/apim/catalog/CatalogSecurity"},{type:"bundle",label:this.$t("igate.response"),url:"/apim/catalog/CatalogResponse"},{type:"basic",label:this.$t("head.resource.inuse.info"),content:[[[{type:"text",vModel:"lockUserId",label:this.$t("head.lock.userId"),readonly:!0},{type:"text",vModel:"updateVersion",label:this.$t("head.updateVersion"),readonly:!0,val:"0"}],[{type:"text",vModel:"updateUserId",label:this.$t("head.update.userId"),readonly:!0},{type:"text",vModel:"updateTimestamp",label:this.$t("head.update.timestamp"),readonly:!0,formatter:t=>(0,n.GD)(t)}]]]}]}},methods:{add(){this.$confirm({type:"warn",message:"YAML 파일을 업로드 하시겠습니까?",callback:()=>{this.openFileModal()},cancel:()=>{this.initDetail("add")}})},openFileModal(){const t=this,e=this.$openModal({title:`${this.$t("head.file")} ${this.$t("head.select")}`,modalWidth:"500px",modalHeight:"220px",contentList:[{template:'\n\t\t\t\t\t\t\t<div class="row frm-row">\n\t\t\t\t\t\t\t\t<div class="col-lg-12">\n\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t<label class="control-label">{{ $t(\'head.file\') }} {{ $t(\'head.select\') }}</label>\n\t\t\t\t\t\t\t\t\t\t<div class="input-group">\n\t\t\t\t\t\t\t\t\t\t\t<input class="form-control view-disabled" v-model="fileName" type="text" readonly="readonly" :placeholder="$t(\'igate.migration.fileSelectError\')" />\n\t\t\t\t\t\t\t\t\t\t\t<button type="button" class="btn" @click="fileSelect" style="margin-left: 5px; margin-right: 5px;">{{ $t(\'head.file\') }} {{ $t(\'head.select\') }}</button>\n\t\t\t\t\t\t\t\t\t\t\t<button type="button" class="btn btn-primary" @click="fileUpload" >{{ $t(\'head.upload\') }}</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\t        \n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t',data(){return{fileName:null,catalogDocument:null}},methods:{fileSelect(){this.catalogDocument=null;const t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("accept",".yml,.yaml"),t.style.display="none",t.addEventListener("change",(t=>{const e=t.target.files[0].name;if("yml"!=e.substring(e.length-3)&&"yaml"!=e.substring(e.length-4))return void this.$alert({type:"warn",message:"yml, yaml 파일 형식만 가능합니다."});this.fileName=(0,n.Xv)(e);const a=new FileReader;a.readAsText(t.target.files[0],"utf-8"),a.onload=()=>{this.catalogDocument=a.result}})),t.click()},fileUpload(){null!==this.catalogDocument?(t.initDetail("add",{catalogDocument:this.catalogDocument}),e.hideModal()):this.$alert({type:"warn",message:this.$t("igate.migration.fileSelectError")})}}}]})}}},d=l,c=a(43736),p=(0,c.Z)(d,i,s,!1,null,null,null),h=p.exports},66604:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return m}});var i,s,n=a(30650),o=a(67970),r=a(63859),l=a(37662),d=a(63822),c={name:"BatchLog",extends:n.Z,components:{Main:o["default"],Detail:r["default"]},created(){const t=(0,l.fc)(this.pageInfo.privilegeType);this.viewer=t.viewer,this.editor=t.editor;const e=[{name:"transactionId",header:`${this.$t("head.transaction")} ${this.$t("head.id")}`,width:"17%"},{name:"logCode",header:`${this.$t("head.log")} ${this.$t("head.classification")}`,align:"center",width:"5%",formatter:t=>{const e=this.logCodeModeList.find((({pk:{propertyKey:e}})=>e===t.value.charAt(0))),a=this.logCodeStatus.find((({pk:{propertyKey:e}})=>e===t.value.charAt(1)));return(0,l.Xv)(`${e?e.propertyValue:t.value.charAt(0)}${a?` ${a.propertyValue}`:t.value.charAt(1)}`)}},{name:"adapterId",header:`${this.$t("igate.adapter")} ${this.$t("head.id")}`,width:"5%"},{name:"interfaceServiceId",header:`${this.$t("igate.interface")} ${this.$t("igate.service")} ${this.$t("head.id")}`,width:"10%"},{name:"exceptionCode",header:this.$t("igate.exceptionCode"),align:"center",width:"10%"},{name:"startTimestamp",header:this.$t("igate.traceLog.requestTimestamp"),align:"center",width:"10%",formatter:t=>(0,l.GD)(t.value)},{name:"endTimestamp",header:this.$t("igate.traceLog.responseTimestamp"),align:"center",width:"10%",formatter:t=>(0,l.GD)(t.value)},{name:"instanceId",header:`${this.$t("igate.instance")} ${this.$t("head.id")}`,width:"6%"},{name:"connectorId",header:`${this.$t("igate.connector")} ${this.$t("head.id")}`,width:"10%"},{name:"fileRepository",header:this.$t("igate.fileRepository"),align:"center",width:"7%",formatter:({row:t})=>t.fileName&&this.hasNewTabPrivilege("FileRepositoryViewer")?'<div><a type="button" class="btn-m icon-srch"></a></div>':"<div><a>-</a></div>"},{name:"safMessage",header:this.$t("igate.batchLog.retryInfo"),align:"center",width:"5%",formatter:({row:t})=>t.exceptionCode&&this.hasNewTabPrivilege("SafMessageViewer")?'<div><a type="button" class="btn-m icon-srch"></a></div>':"<div><a>-</a></div>"},{name:"traceLog",header:this.$t("igate.batchLog.logInfo"),align:"center",width:"5%",formatter:()=>this.hasNewTabPrivilege("TraceLogViewer")?'<div><a type="button" class="btn-m icon-srch"></a></div>':"<div><a>-</a></div>"}];this.isTools&&(e.splice(e.length-3,3),e[3].width="18%",e[8].width="19%"),this.gridInfo.options.columns=e},async mounted(){let t=await new l.p0("/api/page/properties").read({pk:{propertyId:"List.BatchLog.logCode.mode"},orderByKey:!0});"ok"===t.data.result&&(this.logCodeModeList=t.data.object),t=await new l.p0("/api/page/properties").read({pk:{propertyId:"List.BatchLog.logCode.status"},orderByKey:!0}),"ok"===t.data.result&&(this.logCodeStatus=t.data.object),t=await new l.p0("/api/page/properties").read({pk:{propertyId:"List.Instance.InstanceType"},orderByKey:!0}),"ok"===t.data.result&&(this.instanceTypeList=t.data.object),this.initNewTabSearchObj()},computed:{...(0,d.rn)(["userInfo","isTools"])},methods:{hasNewTabPrivilege(t){return this.userInfo.totalUserPrivileges.find((e=>t===e.privilegeId))},rowClicked(t){this.detailTabList[0].content[0][0][0].clickEvt=t.exceptionCode?t=>{(0,l.RB)("103010",(()=>{localStorage.removeItem("searchObj"),localStorage.setItem("searchObj",JSON.stringify({transactionId:t.getData().transactionId}))}))}:null,this.initDetail("detail",t)}},data(){return{instanceTypeList:[],logCodeModeList:[],logCodeStatus:[],cudUrl:"/api/entity/batchLog/object",viewer:null,editor:null,searchList:[{type:"singleDaterange",vModel:"fromLogDateTime",label:this.$t("head.from"),dateRangeType:"from"},{type:"singleDaterange",vModel:"toLogDateTime",label:this.$t("head.to"),dateRangeType:"to"},{type:"text",vModel:"transactionId",label:`${this.$t("head.transaction")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"logCode",label:`${this.$t("head.log")} ${this.$t("head.classification")}`,placeholder:this.$t("head.searchData")},{type:"modal",modalInfo:{title:this.$t("igate.instance"),search:{list:[{type:"text",vModel:"instanceId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"instanceNode",label:this.$t("igate.instance.node"),placeholder:this.$t("head.searchData")},{type:"select",vModel:"instanceType",label:this.$t("common.type"),val:"T",optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Instance.InstanceType"},orderByKey:!0},optionListName:"instanceTypes",optionFor:"option in instanceTypes",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue",optionIf:"'T' === option.pk.propertyKey",isViewAll:!1}},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/instance/search",totalCntUrl:"/api/entity/instance/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"instanceId",header:this.$t("head.id"),width:"25%"},{name:"instanceType",header:this.$t("common.type"),width:"25%",formatter:({row:t})=>{const e=this.instanceTypeList.find((e=>e.pk.propertyKey===t.instanceType));return e?(0,l.Xv)(e.propertyValue):""}},{name:"instanceAddress",header:this.$t("igate.instance.address"),width:"25%"},{name:"instanceNode",header:this.$t("igate.instance.node"),width:"25%"}]}},rowClickedCallback:t=>t.instanceId},vModel:"instanceId",label:`${this.$t("igate.instance")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"modal",vModel:"adapterId",label:`${this.$t("igate.adapter")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"searchId",modalInfo:{title:this.$t("igate.adapter"),search:{list:[{type:"text",vModel:"adapterId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"adapterName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"text",vModel:"adapterDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/adapter/search",totalCntUrl:"/api/entity/adapter/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"adapterId",header:this.$t("head.id"),width:"20%"},{name:"adapterName",header:this.$t("head.name"),width:"20%"},{name:"adapterDesc",header:this.$t("head.description"),width:"20%"},{name:"requestStructure",header:this.$t("igate.adapter.structure.request"),width:"20%"},{name:"responseStructure",header:this.$t("igate.adapter.structure.response"),width:"20%"}]}},rowClickedCallback:function(t){return t.adapterId}}},{type:"modal",vModel:"connectorId",label:`${this.$t("igate.connector")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"searchId",modalInfo:{title:this.$t("igate.connector"),search:{list:[{type:"text",vModel:"connectorId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"connectorName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/connector/search",totalCntUrl:"/api/entity/connector/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"connectorId",header:this.$t("head.id"),width:"25%"},{name:"connectorName",header:this.$t("head.name"),width:"25%"},{name:"connectorDesc",header:this.$t("head.description"),width:"25%"},{name:"connectorType",header:this.$t("common.type"),width:"25%"}]}},rowClickedCallback:function(t){return t.connectorId}}},{type:"text",vModel:"sessionId",label:`${this.$t("igate.connectorControl.session")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"remoteAddr",label:this.$t("head.ip"),placeholder:this.$t("head.searchId"),regExpType:"ip"},{type:"modal",vModel:"interfaceServiceId",label:`${this.$t("igate.interface")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"searchId",modalInfo:{title:this.$t("igate.interface"),search:{list:[{type:"text",vModel:"interfaceId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"interfaceName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/interface/search",totalCntUrl:"/api/entity/interface/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"interfaceId"},{header:this.$t("head.name"),name:"interfaceName"},{header:this.$t("head.description"),name:"interfaceDesc"},{header:this.$t("common.type"),name:"interfaceType"}]}},rowClickedCallback:t=>t.interfaceId}},{type:"modal",vModel:"interfaceServiceId",label:`${this.$t("igate.service")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"searchId",modalInfo:{title:this.$t("igate.service"),search:{list:[{type:"text",vModel:"serviceId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"serviceName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/service/search",totalCntUrl:"/api/entity/service/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"serviceId",header:this.$t("head.id"),width:"25%"},{name:"serviceName",header:this.$t("head.name"),width:"25%"},{name:"serviceDesc",header:this.$t("head.description"),width:"25%"},{name:"serviceType",header:this.$t("common.type"),width:"25%"}]}},rowClickedCallback:t=>t.serviceId}},{type:"singleDate",vModel:"fileDate",label:`${this.$t("head.file")} ${this.$t("head.date")}`,placeholder:this.$t("head.searchFileStamp")},{type:"text",vModel:"fileName",label:`${this.$t("head.file")} ${this.$t("head.name")}`,placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"text",vModel:"tableLastKey",label:this.$t("igate.batchLog.tableLastKey"),placeholder:this.$t("head.searchData")},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0},{id:"refresh",isUse:!0},{id:"newTab",isUse:!0}],gridInfo:{url:"/api/entity/batchLog/search",totalCntUrl:"/api/entity/batchLog/count",paging:{isUse:!0,side:"client"},options:{columns:null}},gridSearchObj:{},gridType:"mainBasic",detailPk:["pk.logDateTime","pk.logId"],detailInfo:{},isDetailView:!1,detailMode:null,detailButtonList:[],detailTabList:[{type:"basic",label:this.$t("head.basic.info"),content:[[[{type:"text",vModel:"transactionId",label:`${this.$t("head.transaction")} ${this.$t("head.id")}`},{type:"text",vModel:"adapterId",label:`${this.$t("igate.adapter")} ${this.$t("head.id")}`,clickEvt:t=>{const e=t.getData().adapterId;e?(0,l.RB)("202030",(()=>{localStorage.removeItem("searchObj"),localStorage.setItem("searchObj",JSON.stringify({adapterId:e}))})):this.$alert({type:"warn",message:this.$t("head.no.data.warn")})}},{type:"text",vModel:"remoteAddr",label:this.$t("common.metaHistory.updateRemoteAddress")},{type:"text",vModel:"fileName",label:`${this.$t("head.file")} ${this.$t("head.name")}`},{type:"text",vModel:"tableLastKey",label:this.$t("igate.batchLog.tableLastKey")},{type:"text",vModel:"exceptionMessage",label:this.$t("head.exception.message")}],[{type:"text",vModel:"logCode",label:`${this.$t("head.log")} ${this.$t("head.classification")}`,formatter:t=>{if(null===t)return"";const e=this.logCodeModeList.find((({pk:{propertyKey:e}})=>e===t.charAt(0))),a=this.logCodeStatus.find((({pk:{propertyKey:e}})=>e===t.charAt(1)));return(0,l.Xv)(`${e?e.propertyValue:t.charAt(0)}${a?` ${a.propertyValue}`:t.charAt(1)}`)}},{type:"text",vModel:"connectorId",label:`${this.$t("igate.connector")} ${this.$t("head.id")}`,clickEvt:t=>{const e=t.getData().connectorId;e?(0,l.RB)("202020",(()=>{localStorage.removeItem("searchObj"),localStorage.setItem("searchObj",JSON.stringify({connectorId:e}))})):this.$alert({type:"warn",message:this.$t("head.no.data.warn")})}},{type:"text",vModel:"interfaceServiceId",label:`${this.$t("igate.interface")} ${this.$t("igate.service")} ${this.$t("head.id")}`},{type:"text",vModel:"fileSequence",label:`${this.$t("head.file")} ${this.$t("head.sequence")}`},{type:"text",vModel:"safId",label:`${this.$t("igate.saf")} ${this.$t("head.id")}`,clickEvt:t=>{const e=t.getData().safId;e?(0,l.RB)("103060",(()=>{localStorage.removeItem("searchObj"),localStorage.setItem("searchObj",JSON.stringify({"pk.safId":e}))})):this.$alert({type:"warn",message:this.$t("head.no.data.warn")})}},{type:"text",vModel:"startTimestamp",label:this.$t("igate.transactionRestriction.time.start"),formatter:t=>(0,l.GD)(t)}],[{type:"text",vModel:"instanceId",label:`${this.$t("igate.instance")} ${this.$t("head.id")}`},{type:"text",vModel:"sessionId",label:`${this.$t("igate.connectorControl.session")} ${this.$t("head.id")}`},{type:"text",vModel:"fileDate",label:`${this.$t("head.file")} ${this.$t("head.date")}`},{type:"text",vModel:"tableSequence",label:`${this.$t("head.table")} ${this.$t("head.sequence")}`},{type:"text",vModel:"exceptionCode",label:this.$t("igate.exceptionCode")},{type:"text",vModel:"endTimestamp",label:this.$t("igate.transactionRestriction.time.end"),formatter:t=>(0,l.GD)(t)}]]]}]}}},p=c,h=a(43736),u=(0,h.Z)(p,i,s,!1,null,null,null),m=u.exports},67970:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var i,s,n=a(54215),o=a(37662),r=a(63822),l={name:"Main",extends:n.Z,computed:{...(0,r.rn)(["userInfo"])},methods:{hasNewTabPrivilege(t){return this.userInfo.totalUserPrivileges.find((e=>t===e.privilegeId))},rowClicked(t){const e=this.$refs.grid.getGrid().invoke("getFocusedCell").columnName;let a=null;"traceLog"===e&&this.hasNewTabPrivilege("TraceLogViewer")?a={menuId:"103020",param:{transactionId:t.transactionId}}:"safMessage"===e&&t.exceptionCode&&this.hasNewTabPrivilege("SafMessageViewer")?a={menuId:"103060",param:{transactionId:t.transactionId}}:"fileRepository"===e&&t.fileName&&this.hasNewTabPrivilege("FileRepositoryViewer")&&(a={menuId:"103040",param:{"pk.fileMode":t.logCode.charAt(0),"pk.fileDate":t.fileDate,"pk.adapterId":t.adapterId,"pk.fileName":t.fileName}}),a&&(0,o.RB)(a.menuId,(()=>{localStorage.removeItem("searchObj"),localStorage.setItem("searchObj",JSON.stringify(a.param))})),this.$emit("rowClicked",t)}}},d=l,c=a(43736),p=(0,c.Z)(d,i,s,!1,null,null,null),h=p.exports},2472:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var i,s,n=a(30650),o=a(54801),r=a(37662),l={name:"Adapter",extends:n.Z,components:{Detail:o["default"]},created(){const t=(0,r.fc)(this.pageInfo.privilegeType);this.viewer=t.viewer,this.editor=t.editor},mounted(){localStorage.getItem("searchObj")?this.initNewTabSearchObj():this.$nextTick((()=>{this.search(this.$refs.search.getSearchObj())}))},data(){return{cudUrl:"/api/entity/calendar/object",viewer:null,editor:null,searchList:[{type:"text",vModel:"calendarId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"calendarName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"text",vModel:"calendarDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0},{id:"newTab",isUse:!0},{id:"add",isUse:!0},{id:"excelImport",isUse:!0,importUrl:"/api/entity/calendar/upload"},{id:"excelExport",isUse:!0,exportUrl:"/api/entity/calendar/download"}],gridInfo:{url:"/api/entity/calendar/search",totalCntUrl:"/api/entity/calendar/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"calendarId",header:this.$t("head.id"),width:"30%"},{name:"calendarName",header:this.$t("head.name"),width:"30%"},{name:"calendarDesc",header:this.$t("head.description"),width:"40%"}]}},gridSearchObj:{},gridType:"mainBasic",detailPk:["calendarId","holidayDate"],controlParams:t=>t,detailInfo:{},isDetailView:!1,detailMode:null,detailButtonList:[{id:"insert",isUse:!0},{id:"update",isUse:!0},{id:"delete",isUse:!0},{id:"dump",isUse:!0,dumpUrl:"/api/entity/calendar/dump"}],detailTabList:[{type:"basic",label:this.$t("head.basic.info"),url:"/calendar/Detail",content:[[[{type:"text",vModel:"calendarId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),isPK:!0,regExpType:"id"},{type:"text",vModel:"calendarName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"select",vModel:"saturdayYn",isPK:!0,label:this.$t("igate.calendar.saturday"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Yn"},orderByKey:!0},optionListName:"calendarSaturday",optionFor:"option in calendarSaturday",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"select",vModel:"sundayYn",isPK:!0,label:this.$t("igate.calendar.sunday"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Yn"},orderByKey:!0},optionListName:"calendarSunday",optionFor:"option in calendarSunday",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}}],[],[]],[[{type:"textarea",vModel:"calendarDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"}]]]},{type:"bundle",label:this.$t("igate.calendar.date.detail"),url:"/calendar/CalendarHoliday"}]}}},d=l,c=a(43736),p=(0,c.Z)(d,i,s,!1,null,null,null),h=p.exports},5089:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var i,s,n=a(30650),o=a(2141),r=a(37662),l={name:"Connector",extends:n.Z,components:{Detail:o["default"]},created(){const t=(0,r.fc)(this.pageInfo.privilegeType);this.viewer=t.viewer,this.editor=t.editor},async mounted(){const t=await new r.p0("/api/page/properties").read({pk:{propertyId:"List.Connector.Type"},orderByKey:!0});"ok"===t.data.result&&(this.connectorTypeList=t.data.object),localStorage.getItem("searchObj")?this.initNewTabSearchObj():this.$nextTick((()=>this.search(this.$refs.search.getSearchObj())))},data(){return{connectorTypeList:[],cudUrl:"/api/entity/connector/object",viewer:null,editor:null,searchList:[{type:"text",vModel:"connectorId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"connectorName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"modal",vModel:"adapterId",label:`${this.$t("igate.adapter")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"searchId",modalInfo:{title:this.$t("igate.adapter"),search:{list:[{type:"text",vModel:"adapterId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"adapterName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"text",vModel:"adapterDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/adapter/search",totalCntUrl:"/api/entity/adapter/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"adapterId",width:"20%"},{header:this.$t("head.name"),name:"adapterName",width:"20%"},{header:this.$t("head.description"),name:"adapterDesc",width:"20%"},{header:this.$t("igate.adapter.structure.request"),name:"requestStructure",width:"20%"},{header:this.$t("igate.adapter.structure.response"),name:"responseStructure",width:"20%"}]}},rowClickedCallback:t=>t.adapterId}},{type:"text",vModel:"socketAddress",label:"Socket Address",placeholder:this.$t("head.searchData")},{type:"text",vModel:"socketPort",label:"Socket Port",placeholder:this.$t("head.searchData"),regExpType:"num"},{type:"select",vModel:"connectorType",label:this.$t("common.type"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Connector.Type"},orderByKey:!0},optionListName:"connectorTypeList",optionFor:"option in connectorTypeList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"text",vModel:"connectorDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0},{id:"newTab",isUse:!0},{id:"add",isUse:!0}],gridInfo:{url:"/api/entity/connector/search",totalCntUrl:"/api/entity/connector/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"connectorId",header:this.$t("head.id"),width:"15%"},{name:"connectorName",header:this.$t("head.name"),width:"20%"},{name:"adapterId",header:`${this.$t("igate.adapter")} ${this.$t("head.id")}`,width:"15%"},{name:"connectorType",header:this.$t("common.type"),width:"20%",align:"center",formatter:({row:t})=>{const e=this.connectorTypeList.find((e=>e.pk.propertyKey===t.connectorType));return e?(0,r.Xv)(e.propertyValue):""}},{name:"connectorDesc",header:this.$t("head.description"),width:"30%"}]}},gridSearchObj:{},gridType:"mainBasic",detailPk:["connectorId"],controlUrl:"/api/entity/connector/control",controlParams:t=>({connectorId:t.connectorId,instance:null}),detailInfo:{},isDetailView:!1,detailMode:null,detailButtonList:[{id:"insert",isUse:!0},{id:"update",isUse:!0},{id:"delete",isUse:!0},{id:"guide",isUse:!0,url:"/manual/Connector Guide.htm"},{id:"dump",isUse:!0,dumpUrl:"/api/entity/connector/dump"},{id:"start",isUse:!0},{id:"stop",isUse:!0},{id:"stopForce",isUse:!0},{id:"interrupt",isUse:!0},{id:"block",isUse:({requestDirection:t})=>"O"===t||"B"===t},{id:"unblock",isUse:({requestDirection:t})=>"O"===t||"B"===t}],detailTabList:[{type:"bundle",label:this.$t("head.basic.info"),url:"/connector/BasicInfo"},{type:"bundle",label:`${this.$t("igate.connector")} ${this.$t("head.property")}`,url:"/connector/PropertyInfo"},{type:"property",label:this.$t("igate.adapter"),dataKey:"connectorAdapters",addRowInfo:{type:"modal",modalInfo:{title:this.$t("igate.adapter"),search:{list:[{type:"text",vModel:"adapterId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"text",vModel:"adapterName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"text",vModel:"adapterDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/adapter/search",totalCntUrl:"/api/entity/adapter/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"adapterId",width:"20%"},{header:this.$t("head.name"),name:"adapterName",width:"20%"},{header:this.$t("head.description"),name:"adapterDesc",width:"20%"},{header:this.$t("igate.adapter.structure.request"),name:"requestStructure",width:"20%"},{header:this.$t("igate.adapter.structure.response"),name:"responseStructure",width:"20%"}]}},rowClickedCallback:function(t,e){return{duplicate:0!==e.length&&e.some((function(e){return e["pk.adapterId"]===t.adapterId})),propertyInfo:{"pk.adapterId":t.adapterId}}}}},content:[{type:"text",vModel:"pk.adapterId",label:`${this.$t("igate.adapter")} ${this.$t("head.id")}`,readonly:!0,clickEvt:t=>{(0,r.RB)("202030",(()=>{localStorage.removeItem("searchObj"),localStorage.setItem("searchObj",JSON.stringify({adapterId:t.getData()["pk.adapterId"]}))}))}}]},{type:"bundle",label:`${this.$t("igate.instance")} ${this.$t("head.id")}`,url:"/connector/DeploiesInfo"}]}}},d=l,c=a(43736),p=(0,c.Z)(d,i,s,!1,null,null,null),h=p.exports},3e4:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var i,s,n=a(30650),o=a(37662),r={name:"ConnectorControl",extends:n.Z,created(){const t=(0,o.fc)(this.pageInfo.privilegeType);this.viewer=t.viewer,this.editor=t.editor},mounted(){localStorage.getItem("searchObj")&&this.initNewTabSearchObj()},data(){return{cudUrl:"/api/entity/connector/object",viewer:null,editor:null,searchList:[{type:"select",vModel:"instanceId",label:`${this.$t("igate.instance")} ${this.$t("head.id")}`,optionInfo:{url:"/api/entity/instance/search",params:{object:{},limit:null,next:null,reverseOrder:!1},optionListName:"instanceList",optionFor:"option in instanceList",optionValue:"option.instanceId",optionText:"option.instanceId",optionIf:"option.instanceType == 'T'"}},{type:"select",vModel:"statusInfo",label:`${this.$t("head.status")} ${this.$t("head.info")}`,optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Connector.StatusInfo"},orderByKey:!0},optionListName:"connectorStatusList",optionFor:"option in connectorStatusList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"modal",modalInfo:{title:this.$t("igate.adapter"),search:{list:[{type:"text",vModel:"adapterId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"adapterName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"text",vModel:"adapterDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/adapter/search",totalCntUrl:"/api/entity/adapter/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"adapterId",header:this.$t("head.id"),width:"20%"},{name:"adapterName",header:this.$t("head.name"),width:"20%"},{name:"adapterDesc",header:this.$t("head.description"),width:"20%"},{name:"requestStructure",header:this.$t("igate.adapter.structure.request"),width:"20%"},{name:"responseStructure",header:this.$t("igate.adapter.structure.response"),width:"20%"}]}},rowClickedCallback:t=>t.adapterId},vModel:"adapterId",label:`${this.$t("igate.adapter")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"modal",modalInfo:{title:this.$t("igate.connector"),search:{list:[{type:"text",vModel:"connectorId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"connectorName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"select",vModel:"connectorType",label:this.$t("common.type"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Connector.Type"},orderByKey:!0},optionListName:"connectorTypes",optionFor:"option in connectorTypes",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"text",vModel:"connectorDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/connector/search",totalCntUrl:"/api/entity/connector/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"connectorId",header:this.$t("head.id")},{name:"connectorName",header:this.$t("head.name")},{name:"connectorDesc",header:this.$t("head.description")}]}},rowClickedCallback:t=>t.connectorId},vModel:"connectorId",label:`${this.$t("igate.connector")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"connectorName",label:`${this.$t("igate.connector")} ${this.$t("head.name")}`,placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"text",vModel:"socketAddress",label:"Socket Address",placeholder:this.$t("head.searchData")},{type:"text",vModel:"socketPort",label:"Socket Port",placeholder:this.$t("head.searchData"),regExpType:"num"},{type:"text",vModel:"connectorDesc",label:`${this.$t("igate.connector")} ${this.$t("head.description")}`,placeholder:this.$t("head.searchComment"),regExpType:"desc"}],buttonList:[{id:"initialize",isUse:!0},{id:"newTab",isUse:!0},{id:"start",isUse:!0},{id:"stop",isUse:!0},{id:"stopForce",isUse:!0},{id:"interrupt",isUse:!0},{id:"block",isUse:!1},{id:"unblock",isUse:!1}],gridInfo:{url:"/api/entity/connector/snapshot",totalCntUrl:null,paging:{isUse:!1,side:"client"},options:{rowHeaders:["checkbox"],header:{height:60,complexColumns:[{name:"sessioninfo",header:`${this.$t("igate.connectorControl.session")} ${this.$t("head.info")}`,childNames:["sessionCount","sessionInuse","sessionMaxCount"]},{name:"threadinfo",header:this.$t("igate.connectorControl.threadInfo"),childNames:["threadCount","threadInuse","threadMax"]}]},onGridMounted:t=>{const e=t=>{const e=t||[],a=0!==e.length&&e.every((t=>"O"===t.requestDirection||"B"===t.requestDirection));this.buttonList=[{id:"initialize",isUse:!0},{id:"newTab",isUse:!0},{id:"start",isUse:!0},{id:"stop",isUse:!0},{id:"stopForce",isUse:!0},{id:"interrupt",isUse:!0},{id:"block",isUse:a},{id:"unblock",isUse:a}]};e(),t.instance.on("checkAll",(t=>{e(t.instance.getCheckedRows())})),t.instance.on("uncheckAll",(()=>{e()})),t.instance.on("click",(t=>{"columnHeader"===t.targetType&&"_checked"!==t.columnName||(e(t.instance.getCheckedRows()),"processResult"===t.columnName&&" "!==t.instance.getFormattedValue(t.rowKey,"processResult")&&window.$alert({type:"normal",message:t.instance.getFormattedValue(t.rowKey,"processResult")}))}))},columns:[{name:"instanceId",header:`${this.$t("igate.instance")} ${this.$t("head.id")}`,align:"left",width:"7%"},{name:"status",header:`${this.$t("head.status")} ${this.$t("head.info")}`,align:"center",width:"7%",formatter:t=>{let e="",a="#151826";const i=t.row.status;"Down"===i||"Starting"===i||"Stoping"===i?e="":"Normal"===i?(e="#62d36f",a="white"):"Error"===i?(e="#ed3137",a="white"):"Fail"===i?(e="#9932a1",a="white"):"Warn"===i?(e="#b7bf22",a="white"):(e="#4e464f",a="white");const s=document.createElement("div");s.style.width="100%",s.style.height="100%",s.style.backgroundColor=e,s.style.color=a,t.row.statusCause&&s.setAttribute("title",t.row.statusCause.split("\n").map((t=>(0,o.Xv)(t))).join("\n")),s.innerText=t.row.status.toString();const n=document.createElement("span");return n.appendChild(s),n.innerHTML}},{name:"adapterId",header:`${this.$t("igate.adapter")} ${this.$t("head.id")}`,align:"left",width:"7%"},{name:"connectorId",header:`${this.$t("igate.connector")} ${this.$t("head.id")}`,align:"left",width:"11%"},{name:"connectorName",header:`${this.$t("igate.connector")} ${this.$t("head.name")}`,align:"left",width:"10%"},{name:"socketAddress",header:"Socket Address",align:"left",width:"10%"},{name:"socketPort",header:"Socket Port",align:"center",width:"5%"},{name:"connectorDesc",header:`${this.$t("igate.connector")} ${this.$t("head.description")}`,align:"left",width:"10%"},{name:"sessionCount",header:this.$t("igate.connectorControl.create"),align:"right",width:"3%",formatter:t=>(0,o.Wb)(t.row.sessionCount.toString())},{name:"sessionInuse",header:this.$t("igate.connectorControl.inuse"),align:"right",width:"3%",formatter:t=>(0,o.Wb)(t.row.sessionInuse.toString())},{name:"sessionMaxCount",header:this.$t("igate.connectorControl.max"),align:"right",width:"3%",formatter:t=>"2147483647"==t.row.sessionMaxCount?"MAX":(0,o.Wb)(t.row.sessionMaxCount.toString())},{name:"threadCount",header:this.$t("igate.connectorControl.create"),align:"right",width:"3%",formatter:t=>(0,o.Wb)(t.row.threadCount.toString())},{name:"threadInuse",header:this.$t("igate.connectorControl.inuse"),align:"right",width:"3%",formatter:t=>(0,o.Wb)(t.row.threadInuse.toString())},{name:"threadMax",header:this.$t("igate.connectorControl.max"),align:"right",width:"3%",formatter:t=>"2147483647"==t.row.threadMax?"MAX":(0,o.Wb)(t.row.threadMax.toString())},{name:"processResult",header:this.$t("head.process.result"),defaultValue:" ",width:"15%"}]}},gridSearchObj:{},gridType:"mainBasic",controlUrl:"/api/entity/connector/control",controlObjectUrl:"/api/entity/connector/object",controlParams:t=>t}}},l=r,d=a(43736),c=(0,d.Z)(l,i,s,!1,null,null,null),p=c.exports},8295:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e(t.component,{ref:"component",tag:"component",attrs:{containerInfo:t.containerInfo,dashConstInfo:t.dashConstInfo,viewer:t.viewer,editor:t.editor},on:{changeContainer:t.changeContainer}})},s=[],n=(a(57658),a(37662)),o=a(68419),r=a(85636),l=a(61041),d={name:"Dashboard",props:{pageInfo:{type:Object,default:()=>({})}},data(){return{component:null,containerInfo:null,dashConstInfo:null,scriptUrlList:["/custom/js/sketch.min.js"],cssNameList:["dashboard","gicon","theme.dark"],viewer:!1,editor:!1}},async created(){const t=[];this.cssNameList.forEach((e=>{const a=document.createElement("link");a.id=`dashboard_${e}`,a.rel="stylesheet",a.type="text/css",a.href=(0,n.u5)(`/custom/css/${e}.css`),document.head.appendChild(a),t.push(new Promise((t=>{a.addEventListener("load",(()=>{t()}))})))})),this.scriptUrlList.forEach((e=>{const a=document.createElement("script");a.type="text/javascript",a.src=(0,n.u5)(e),document.querySelector("#ct").appendChild(a),t.push(new Promise((t=>{a.addEventListener("load",(()=>{t()}))})))})),await Promise.all(t);const e=(0,n.fc)(this.pageInfo.privilegeType);this.viewer=e.viewer,this.editor=e.editor;const a=await new n.p0("/api/page/definition").read({menuUrl:"/Dashboard"});"ok"===a.data.result&&(this.dashConstInfo=new Function(`${a.data.object} return info;`)(),this.component=o["default"])},methods:{changeContainer(t,e){this.component=null,this.$nextTick((()=>{this.containerInfo=null,"add"===t?(this.component=r["default"],this.containerInfo=e):"modify"===t?(this.component=l["default"],this.containerInfo=e):"view"===t&&(this.component=o["default"])}))}},beforeDestroy(){document.querySelectorAll("[id*=dashboard_]").forEach((t=>{document.head.removeChild(t)})),document.querySelector("#ct")&&document.querySelector("#ct").querySelectorAll("script").forEach((t=>{document.querySelector("#ct").removeChild(t)}))}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},85636:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return v}});var i=function(){var t=this,e=t._self._c;return e("div",[e("DashboardConfigStructure",{ref:"dashboardConfigStructure",attrs:{mod:"add",containerInfoOrg:t.containerInfo,dashConstInfo:t.dashConstInfo},on:{changeContainer:t.changeContainer}},[e("template",{slot:"dashboardRbtnConfigArea"},[e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);"},on:{click:t.saveContainer}},[t._v(" "+t._s(t.$t("head.save"))+" ")])])],2)],1)},s=[],n=a(63822),o=a(19229),r=a.n(o),l=a(31823),d=a.n(l),c=a(66281),p=a.n(c),h=a(80140),u=a(37662),m={name:"DashboardAdd",props:{containerInfo:Object,dashConstInfo:Object},components:{DashboardConfigStructure:h["default"]},computed:{...(0,n.rn)(["userInfo"])},methods:{async saveContainer(){if(0===this.$refs.dashboardConfigStructure.componentList.length)return void this.$alert({type:"alert",message:this.$t("dashboard.deploy.noComponent")});let t=!0,e=null;const a=this.$refs.dashboardConfigStructure.containerOptions;for(const n in a){if((n.startsWith("xViewMinData")||n.startsWith("xViewTrans")||n.startsWith("xViewYAxisMax"))&&!r()(a[n])){e=this.$t("dashboard.enter.xview.numericalCheck"),t=!1;break}if(n.startsWith("xViewTrans")&&(a[n]<.1||a[n]>1)){e=this.$t("dashboard.enter.xview.rangeCheck"),t=!1;break}if((n.startsWith("datatable")||n.startsWith("exceptionLog")||n.startsWith("instanceSummary"))&&!r()(a[n])){e=this.$t("dashboard.enter.number"),t=!1;break}}if(!t)return this.$alert({type:"warn",message:e}),!1;const i=new u.p0("/api/monitoring/container"),s=await i.create(d()({...p()(this.containerInfo),monitorComponents:p()(this.$refs.dashboardConfigStructure.componentList).map((t=>(t.containerId=this.containerInfo.containerId,t)))},{...p()(this.$refs.dashboardConfigStructure.containerInfo),monitorContainerUsers:[{pk:{containerId:this.containerInfo.containerId,containerUserId:this.userInfo.userId},selectYn:"Y",containerOptions:JSON.stringify(a)}]}),!0);"ok"===s.data.result&&(this.$alert({type:"normal",message:this.$t("dashboard.add.success")}),this.changeContainer())},changeContainer(){this.unloadContainer(),this.$emit("changeContainer","view")},unloadContainer(){this.$refs.dashboardConfigStructure.unloadContainer()}}},g=m,f=a(43736),y=(0,f.Z)(g,i,s,!1,null,null,null),v=y.exports},45370:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"columnChartRoot"},[e("canvas",{ref:"columnChart"})])},s=[],n=(a(57658),a(34531)),o=a.n(n),r=a(13513),l={name:"DashboardColumnChart",props:{options:Object},computed:{fontColor(){return"Y"===this.options.darkmodeYn?"#ffffff":"#151826"},filteredColor(){return"Y"===this.options.darkmodeYn?"#292e47":"#ffffff"},axisLineColor(){return"Y"===this.options.darkmodeYn?"#666666":"#f0f1f6"}},mounted(){this.initColumnChart()},data(){return{chartObj:null,chartDataArr:[]}},methods:{initColumnChart(){const t=6,e=(0,r.WX)(null,t),a=e.maxValue,i=e.stepSize,s=this.$refs.columnChart.getContext("2d"),n=this;this.chartObj=new(o())(s,{type:"bar",data:{targetInfoList:[],labels:[],datasets:[{label:"",backgroundColor:[],borderColor:[],borderWidth:1,data:[]}]},options:{onHover(t){if(!n.options.isUseClickEvt)return;const e=(0,r.OL)(this.ctx.canvas,t);let a=!1;const i=this.chart;this.data.datasets.forEach(((t,s)=>{i.controller.getDatasetMeta(s).data.forEach((t=>{const i=t._model.x-t._model.width/2,s=i+t._model.width;i<=e.x&&s>=e.x&&0<=e.y&&t._chart.height>=e.y&&(a=!0)}))})),i.canvas.style.cursor=a?"pointer":"default"},onClick(t){if(!n.options.isUseClickEvt)return;const e=(0,r.OL)(this.ctx.canvas,t),a=this.chart;this.data.datasets.forEach(((t,i)=>{a.controller.getDatasetMeta(i).data.forEach((t=>{const a=t._model.x-t._model.width/2,i=a+t._model.width;a<=e.x&&i>=e.x&&0<=e.y&&t._chart.height>=e.y&&n.$emit("filter-target",{targetId:n.chartObj.data.targetInfoList[t._index].targetId})}))}))},legend:{display:!1},title:{display:!1},animation:{duration:1,onComplete:t=>{const e=t.chart;s.beginPath(),s.textAlign="center",t.chart.data.datasets.forEach(((t,a)=>{e.controller.getDatasetMeta(a).data.forEach(((e,a)=>{s.fillStyle=this.fontColor,s.fillText((0,r.Ai)(t.data[a],this.options.unitType,"elapsed"===this.options.itemId?["ms","s","m","h","d"]:null),e._model.x,e._model.y-5),this.chartObj.data.targetInfoList[a].isFiltered&&(s.fillStyle=o().helpers.color(this.filteredColor).alpha(.8).rgbString(),s.fillRect(e._model.x-e._model.width/2,0,e._model.width,e._chart.height))}))}))}},hover:{animationDuration:0},responsive:!0,maintainAspectRatio:!1,responsiveAnimationDuration:0,tooltips:{enabled:!1},layout:{padding:{left:25,right:30,top:20,bottom:5}},scales:{yAxes:[{display:!0,ticks:{fontColor:this.fontColor,beginAtZero:!0,min:0,max:a,stepSize:i,maxTicksLimit:t,minRotation:0,maxRotation:0,callback:t=>(0,r.Ai)(t,this.options.unitType,"elapsed"===this.options.itemId?["ms","s","m","h","d"]:null)},gridLines:{color:this.axisLineColor,zeroLineColor:this.axisLineColor}}],xAxes:[{ticks:{fontColor:this.fontColor}}]}}})},addTarget(t){this.chartObj.data.targetInfoList.push({targetId:t.targetId,isFiltered:!1,color:t.color}),this.chartObj.data.labels.push(t.targetName),this.chartObj.data.datasets[0].backgroundColor.push(o().helpers.color(t.color).alpha(.6).rgbString()),this.chartObj.data.datasets[0].borderColor.push(t.color)},updateTarget(t,e){let a=null;for(let i=0;i<this.chartObj.data.targetInfoList.length;i++)if(t===this.chartObj.data.targetInfoList[i].targetId){a=i;break}null!==a&&(this.chartObj.data.targetInfoList[a].color=e.color,this.chartObj.data.datasets[0].backgroundColor[a]=o().helpers.color(e.color).alpha(.6).rgbString(),this.chartObj.data.datasets[0].borderColor[a]=e.color)},deleteTarget(t){let e=null;for(let a=0;a<this.chartObj.data.targetInfoList.length;a++)if(t===this.chartObj.data.targetInfoList[a].targetId){e=a;break}null!==e&&(this.chartObj.data.targetInfoList.splice(e,1),this.chartObj.data.labels.splice(e,1),this.chartObj.data.datasets[0].backgroundColor.splice(e,1),this.chartObj.data.datasets[0].borderColor.splice(e,1),this.chartDataArr.splice(e,1),this.chartObj.data.datasets[0].data.splice(e,1))},addData(t){this.chartDataArr=t},setInterval(){if(0===this.chartDataArr.length)return;const t=[];this.chartObj.data.targetInfoList.forEach((e=>{const a=e.targetId,i=this.chartDataArr.filter((t=>t.targetId===a));t.push(0<i.length?i[0].y:null)})),this.chartObj.data.datasets[0].data=t;const e=Math.max.apply(null,this.chartDataArr.map((t=>t.y))),a=6,i=(0,r.WX)(e,a),s=i.maxValue,n=i.stepSize;this.chartObj.options.scales.yAxes[0].ticks.max=s,this.chartObj.options.scales.yAxes[0].ticks.stepSize=n,this.chartObj.options.scales.yAxes[0].ticks.maxTicksLimit=a,this.chartObj.update(),this.chartDataArr=[]},filterData({targetId:t,isFiltered:e}){const a=this.chartObj.data.targetInfoList.find((e=>e.targetId===t));a&&(a.isFiltered=e,this.chartObj.update())},draw(){this.chartObj.update()},unload(){this.chartDataArr=[],this.chartObj&&this.chartObj.destroy()}}},d=l,c=a(43736),p=(0,c.Z)(d,i,s,!1,null,"325b0248",null),h=p.exports},80140:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return v}});var i=function(){var t=this,e=t._self._c;return e("DashboardStructure",{ref:"dashboardStructure",attrs:{containerInfo:t.containerInfoOrg,containerOptions:t.containerOptions},on:{initDashboardStructure:t.initDashboardConfigStructure}},[e("template",{slot:"dashboardLbtnArea"},[e("a",{staticClass:"btn btn-icon",attrs:{href:"javascript:void(0);",title:t.$t("dashboard.head.back")},on:{click:t.changeContainer}},[e("i",{staticClass:"icon-left"})])]),e("template",{slot:"dashboardRbtnArea"},[e("button",{class:t.toggleWidgetBtnClass,attrs:{type:"button"},on:{click:t.toggleWidget}},[e("span",{staticClass:"custom-control-label"},[t._v(t._s(t.$t("dashboard.head.add.widget")))])]),t.isSafari?t._e():e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);"},on:{click:t.openModal}},[e("i",{staticClass:"icon-eye"}),t._v(" "+t._s(t.$t("dashboard.head.setting"))+" ")]),e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);"},on:{click:t.previewContainer}},[e("i",{staticClass:"icon-eye"}),t._v(" "+t._s(t.$t("dashboard.head.full.screen"))+" ")]),e("a",{staticClass:"btn",attrs:{id:"redoContainer",href:"javascript:void(0);",disabled:t.redoDisabled},on:{click:function(e){return t.setContainerState("redo")}}},[e("i",{staticClass:"icon-left"}),t._v(" "+t._s(t.$t("head.goBackward"))+" ")]),e("a",{staticClass:"btn",attrs:{id:"undoContainer",href:"javascript:void(0);",disabled:t.undoDisabled},on:{click:function(e){return t.setContainerState("undo")}}},[e("i",{staticClass:"icon-right"}),t._v(" "+t._s(t.$t("head.goForward"))+" ")]),e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);"},on:{click:t.resetContainer}},[e("i",{staticClass:"icon-reset"}),t._v(" "+t._s(t.$t("head.initialize"))+" ")]),t._t("dashboardRbtnConfigArea")],2),e("template",{slot:"dashboardBodyArea"},[t.isEmpty?e("div",{staticClass:"card w-100 h-100",attrs:{id:"dashboardEmpty"}},[e("div",{staticClass:"empty"},[e("p",[t._v(t._s(t.$t("dashboard.drag.widget")))]),e("img",{staticClass:"center-block",attrs:{src:a(87932),alt:""}})])]):e(t.dashBodyComp,{tag:"component",attrs:{dashBodyStyle:t.dashBodyStyle}})],1),e("template",{slot:"dashboardWidgetArea"},[e("div",{class:t.widgetClass,style:t.widgetStyle,attrs:{id:"widget"}},[e("h2",{staticClass:"h2 flex-shrink-0"},[t._v(t._s(t.$t("dashboard.head.add.widget")))]),e("section",{staticClass:"widget"},[e("header",{staticClass:"sub-bar flex-shrink-0"},[e("h3",{staticClass:"sub-bar-text"},[t._v(t._s(t.$t("dashboard.head.widget")))])]),e("ul",{ref:"perfItemList",staticClass:"widget-item-list scrollbar-inner"},t._l(t.perfItemList,(function(a,i){return e("li",{key:i,staticClass:"nav-link",attrs:{"data-item-id":a.itemId,title:`${t.dashboardWidget[a.itemId].name}\n${t.dashboardWidget[a.itemId].desc}`}},[e("i",{class:a.itemIcon}),t._v(" "+t._s(t.dashboardWidget[a.itemId].name)+" ")])})),0)])])])],2)},s=[],n=(a(57658),a(63822)),o=a(66281),r=a.n(o),l=a(31823),d=a.n(l),c=a(66997),p=a.n(c),h=a(37662),u=a(2089),m={name:"DashboardConfigStructure",props:{mod:String,containerInfoOrg:Object,dashConstInfo:Object},components:{DashboardStructure:u["default"]},data(){return{isEmpty:!0,toggleWidgetBtnClass:{"custom-control":!0,"custom-switch":!0,"btn-widget":!0,checked:!1},widgetClass:{card:!0,open:!1},widgetStyle:{height:"auto"},instanceList:[],adapterList:[],connectorList:[],queueList:[],threadList:[],externalLineList:[],perfItemList:[],dashboardWidget:{cpuUsage:{name:this.$t("dashboard.widget.cpuUsage"),desc:this.$t("dashboard.widget.cpuUsage.desc")},connectorSummary:{name:this.$t("dashboard.widget.connectorSummary"),desc:this.$t("dashboard.widget.connectorSummary.desc")},externalLineStatus:{name:this.$t("dashboard.widget.externalLineSummary"),desc:this.$t("dashboard.widget.externalLineSummary.desc")},fileMainUsage:{name:this.$t("dashboard.widget.diskUsage"),desc:this.$t("dashboard.widget.diskUsage.desc")},fileMainUsed:{name:this.$t("dashboard.widget.diskUsed"),desc:this.$t("dashboard.widget.diskUsed.desc")},heapUsage:{name:this.$t("dashboard.widget.memoryUsage"),desc:this.$t("dashboard.widget.memoryUsage.desc")},heapUsed:{name:this.$t("dashboard.widget.memoryUsed"),desc:this.$t("dashboard.widget.memoryUsed.desc")},instanceSummary:{name:this.$t("dashboard.widget.instanceSummary"),desc:this.$t("dashboard.widget.instanceSummary.desc")},activeTransaction:{name:this.$t("dashboard.widget.livedTransaction"),desc:this.$t("dashboard.widget.livedTransaction.desc")},queueSummary:{name:this.$t("dashboard.widget.queueSummary"),desc:this.$t("dashboard.widget.queueSummary.desc")},threadPoolSummary:{name:this.$t("dashboard.widget.threadSummary"),desc:this.$t("dashboard.widget.threadSummary.desc")},deal:{name:this.$t("dashboard.widget.transactionCount"),desc:this.$t("dashboard.widget.transactionCount.desc")},elapsed:{name:this.$t("dashboard.widget.transactionElapsed"),desc:this.$t("dashboard.widget.transactionElapsed.desc")},xView:{name:this.$t("dashboard.widget.xView"),desc:this.$t("dashboard.widget.xView.desc")},transaction:{name:this.$t("dashboard.widget.dateTable"),desc:this.$t("dashboard.widget.dateTable.desc")},transactionFlowSummary:{name:this.$t("dashboard.transaction.flow.summary"),desc:this.$t("dashboard.transaction.flow.summary.desc")},exceptionLog:{name:this.$t("dashboard.widget.exceptionLog"),desc:this.$t("dashboard.widget.exceptionLog.desc")}},dashBodyComp:{template:"<span/>"},containerInfo:{darkmodeYn:"Y",remarkYn:"Y"},componentList:[],componentDataMapping:{},containerHistoryList:[],currentContainerHistory:{},containerOptions:{},redoDisabled:!0,undoDisabled:!0,dashBodyStyle:{height:"100%",width:"100%",maxHeight:null},isSafari:/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},computed:{...(0,n.rn)(["userInfo"])},async created(){this.containerOptions={},"modify"===this.mod&&(this.containerInfo.darkmodeYn=this.containerInfoOrg.darkmodeYn,this.containerInfo.remarkYn=this.containerInfoOrg.remarkYn,this.componentList=r()(this.containerInfoOrg.monitorComponents),this.$nextTick((()=>{this.containerOptions=r()(this.containerInfoOrg.monitorContainerUsers.find((t=>t.pk.containerUserId===this.userInfo.userId)).containerOptions)}))),this.setContainerHistory()},mounted(){this.toggleTheme(),this.resize(),h.dc.$on("MainResize",this.resize)},methods:{async initDashboardConfigStructure({parentData:t}){if(t){document.querySelector("#dashboard").classList.add("edit-mode","widget-set-mode"),await this.getTargetInfo();const{perfItemList:e}=t;this.perfItemList=e,this.$nextTick((()=>{this.initEvent(),this.initDraw()}))}document.querySelector("#ct").classList.add("ct-dashboard")},async getTargetInfo(){try{const t=new h.p0("/api/monitoring/component"),e=await t.read();if("ok"!==e.data.result)throw"Error Init Target Info";const{instanceList:a,adapterList:i,connectorList:s,queueList:n,threadList:o,externalLineList:r}=e.data.object;this.instanceList=a,this.adapterList=i,this.connectorList=s,this.queueList=n,this.threadList=o,this.externalLineList=r}catch(t){console.log(t)}},initEvent(){$(this.$refs.perfItemList.querySelectorAll("li")).draggable({cursor:"pointer",revert:!0,scroll:!1,helper:"clone",appendTo:document.querySelector(".wrap")}),$(document.querySelector("#containerBody")).droppable({drop:(t,e)=>{if(!this.isEmpty)return;this.componentList.push(this.$refs.dashboardStructure.getBasicComponentStruct());const a=this.componentList[this.componentList.length-1];a.componentId=(0,h.Fs)(),a.pComponentId="-1",a.componentOrder=1,a.componentWidth="100%",a.componentHeight="100%",a.componentType="G";const i=document.createElement("div");i.setAttribute("id","root"),i.style.width=a.componentWidth,i.style.height=a.componentHeight,this.componentDataMapping[a.componentId]=a,this.componentList.push(this.$refs.dashboardStructure.getBasicComponentStruct());const s=this.componentList[this.componentList.length-1];s.componentId=(0,h.Fs)(),s.pComponentId=a.componentId,s.componentOrder=1,s.componentWidth="100%",s.componentHeight="100%",s.componentType="C",s.itemId=e.draggable[0].getAttribute("data-item-id");const n=this.perfItemList.find((t=>t.itemId==s.itemId));s.componentName=n.itemName;const o=this.getDefaultType(n);s.chartType=o.chartType,s.targetType=o.targetType,s.unitType=o.unitType,s.inoutType=o.inoutType,this.componentDataMapping[s.componentId]=s,this.setContainerHistory(),this.initDraw()}})},toggleWidget(){this.toggleWidgetBtnClass.checked=!this.toggleWidgetBtnClass.checked,this.widgetClass.open=!this.widgetClass.open},toggleTheme(){document.querySelector(".wrap").classList["Y"===this.containerInfo.darkmodeYn?"add":"remove"]("dark")},previewContainer(){const t=document.documentElement;t.requestFullScreen?t.requestFullScreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()},appendComponentTag(t,e){const a=document.createElement("div");a.style.height=t.componentHeight,"-1"===t.pComponentId?a.setAttribute("id","root"):a.style.width=t.componentWidth,a.setAttribute("component-id",t.componentId),this.componentDataMapping[a.getAttribute("component-id")]=t,"h"==t.componentTypeDirection?a.classList.add("component-horizontal"):"v"==t.componentTypeDirection&&a.classList.add("component-vertical");const i=this.componentList.filter((e=>e.pComponentId===t.componentId)).sort(((t,e)=>t.componentOrder-e.componentOrder));if(0<i.length&&i.forEach((t=>{if("G"===t.componentType)this.appendComponentTag(t,a);else{const e=this.perfItemList.find((e=>e.itemId===t.itemId)),i=document.createElement("div");i.setAttribute("component-id",t.componentId),this.componentDataMapping[i.getAttribute("component-id")]=t,i.classList.add("component"),i.style.width=t.componentWidth,i.style.height=t.componentHeight;const s=document.createElement("section");s.classList.add("card");const n=document.createElement("h2");n.classList.add("card-header");const o=document.createElement("ul"),r=document.createElement("li");r.classList.add("nav-link");const l=document.createElement("i");l.classList.add(this.perfItemList.find((e=>e.itemId==t.itemId)).itemIcon);const d=document.createElement("span");d.innerText=e.itemName,r.appendChild(l),r.appendChild(d),o.appendChild(r),n.appendChild(o);const c=document.createElement("div");c.classList.add("card-body"),c.style.paddingTop="0px";const u=this.$refs.dashboardStructure.getTypeList(e);let m=`\n\t\t\t\t\t\t\t<div class="widget-set">\n\t\t\t\t\t\t\t\t<div class="row">\n\t\t\t\t\t\t\t\t\t<div class="col-6">\n\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">${this.$t("dashboard.head.name")}</label>\n\t\t\t\t\t\t\t\t\t\t\t<input type="text" name="componentName" class="form-control" value="${t.componentName}">\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">${this.$t("dashboard.head.chartType")}</label>\n\t\t\t\t\t\t\t\t\t\t\t<select name="chartType" class="form-control">\n\t\t\t\t\t\t\t\t\t\t\t\t${(()=>{let e="";return u.chartTypeList.forEach((a=>{const i=a.value===t.chartType;e+=`<option value="${a.value}" ${i?"selected":""}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t${(0,h.Xv)(a.name)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>`})),e})()}\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="col-6">\n\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">${this.$t("dashboard.head.target")}</label>\n\t\t\t\t\t\t\t\t\t\t\t<select name="targetType" class="form-control">\n\t\t\t\t\t\t\t\t\t\t\t\t${(()=>{let e="";return u.targetTypeList.forEach((a=>{const i=a.value===t.targetType;e+=`<option value="${a.value}" ${i?"selected":""}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t${(0,h.Xv)(a.name)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>`})),e})()}\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t${(()=>{if("EXTERNALLINE"===t.targetType||"INSTANCE"===t.targetType)return"";let e="";const a=0<t.monitorComponentTargets.length?(0,h.Xv)(t.monitorComponentTargets[0].pk.componentTargetId):"";e+=`<select name="selectedTarget" class="form-control" title="${a}">`;let i=null,s=[];return"ADAPTER"===t.targetType?(i="adapterId",s=this.adapterList):"CONNECTOR"===t.targetType?(i="connectorId",s=this.connectorList):"QUEUE"===t.targetType?(i="adapterId",s=this.queueList):"THREAD"===t.targetType&&(i="threadPoolId",s=this.threadList),s.forEach((a=>{const s=0<t.monitorComponentTargets.length&&a[i]==t.monitorComponentTargets[0].pk.componentTargetId;e+=`<option value="${a[i]}" ${s?"selected":""}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t${(0,h.Xv)(a[i])}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t        </option>`})),e+="</select>",e})()}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t${(()=>{if(0===u.inoutTypeList.length)return"";let e="";const a="INSTANCE"===t.targetType;return e+=`<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">${this.$t("dashboard.head.inoutType")}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select name="inoutType" class="form-control" ${a?'disabled="disabled"':""}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t${(()=>{let e="";return u.inoutTypeList.forEach((a=>{const i=a.value===t.inoutType;e+=`\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value="${a.value}" ${i?"selected":""}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t${(0,h.Xv)(a.name)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t`})),e})()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>`,e})()}\n\t\t\t\t\t\t\t\t\t\t${(()=>{if("XVIEW"!==t.chartType)return"";const e=`xViewYAxisMax_${t.componentId}`,a=`xViewTrans_${t.componentId}`,i=`xViewMinData_${t.componentId}`,{xViewDefaultYAxisMax:s,xViewDefaultTrans:n,xViewDefaultxMinData:o}=this.dashConstInfo;return this.containerOptions[e]=p()(this.containerOptions[e])?s:Number(this.containerOptions[e]),this.containerOptions[a]=p()(this.containerOptions[a])?n:Number(this.containerOptions[a]),this.containerOptions[i]=p()(this.containerOptions[i])?o:Number(this.containerOptions[i]),`\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">${this.$t("dashboard.xview.yAxis.max")}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="text" name="xViewYAxisMax" class="form-control" maxlength="8" value="${this.containerOptions[e]}">\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">${this.$t("dashboard.xview.data.trans")}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="text" name="xViewTrans" class="form-control" value="${this.containerOptions[a].toFixed(1)}">\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">${this.$t("dashboard.xview.data.min")}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="text" name="xViewMinData" class="form-control" value="${this.containerOptions[i]}">\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t`})()}\n\t\t\t\t\t\t\t\t\t\t${(()=>{if("DATATABLE"!==t.chartType&&"EXCEPTIONLOG"!==t.chartType)return"";const e="DATATABLE"===t.chartType,a=`${e?"datatable":"exceptionLog"}RowCnt_${t.componentId}`,{datatableDefaultRowCnt:i,exceptionLogDefaultRowCnt:s}=this.dashConstInfo;return this.containerOptions[a]=p()(this.containerOptions[a])?e?i:s:Number(this.containerOptions[a]),`\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">${this.$t("dashboard.row.cnt")}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="text" name="${e?"datatableRowCnt":"exceptionLogRowCnt"}" class="form-control" maxlength="2" value="${this.containerOptions[a]}">\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t`})()}\n\t\t\t\t\t\t\t\t\t\t${(()=>{if("INSTANCE"!==t.chartType)return"";const e=`instanceSummaryColCnt_${t.componentId}`,{instanceSummaryDefaultColCnt:a}=this.dashConstInfo;return this.containerOptions[e]=p()(this.containerOptions[e])?a:Number(this.containerOptions[e]),`<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       <label class="control-label">${this.$t("dashboard.col.cnt")}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   <input type="text" name="instanceSummaryColCnt" class="form-control" maxlength="2" value="${this.containerOptions[e]}"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t   </div>`})()}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`;c.innerHTML=m,s.appendChild(n),s.appendChild(c),i.appendChild(s);const g=document.createElement("div");g.classList.add("componentDelete"),i.appendChild(g);const f=document.createElement("div");f.classList.add("componentDroppable","top"),f.setAttribute("data-type","t");const y=document.createElement("div");y.classList.add("componentDroppable","bottom"),y.setAttribute("data-type","b");const v=document.createElement("div");v.classList.add("componentDroppable","left"),v.setAttribute("data-type","l");const b=document.createElement("div");b.classList.add("componentDroppable","right"),b.setAttribute("data-type","r"),i.appendChild(f),i.appendChild(y),i.appendChild(v),i.appendChild(b),a.appendChild(i)}})),!e)return a;e.appendChild(a)},initDraw(){if(0===this.componentList.length)this.isEmpty=!0,this.dashBodyComp={template:"<span/>"};else{this.isEmpty=!1;const t=this;this.dashBodyComp={template:`\n\t\t\t\t\t\t<div :style="dashBodyStyle">\n\t\t\t\t\t\t\t${this.appendComponentTag(this.componentList.find((t=>"-1"===t.pComponentId))).outerHTML}\n\t\t\t\t\t\t</div>\t\n\t\t\t\t\t`,props:{dashBodyStyle:Object},mounted(){t.resize(),t.initComponentEvent()}}}},initComponentEvent(){$(document.querySelectorAll(".componentDroppable")).droppable({tolerance:"pointer",drop:(i,s)=>{const n=i.target.getAttribute("data-type"),o=this.componentDataMapping[i.target.parentNode.parentNode.getAttribute("component-id")].componentTypeDirection,r=s.draggable[0].getAttribute("data-item-id"),l=t=>{const e=document.querySelector("#root").querySelectorAll(".component, .component-horizontal, .component-vertical").length;if(2>e)t(i.target.parentNode);else{const e=[i.target.parentNode];let a=i.target.parentNode.parentNode;while(1){if(1<a.querySelectorAll(".component, .component-horizontal, .component-vertical").length&&e.push(a),"root"===a.getAttribute("id"))break;a=a.parentNode}let s=null;const o=this.$openModal({title:`${this.$t("dashboard.head.add.widget")} ${this.$t("head.type")}`,modalWidth:"400px",modalHeight:"200px",contentList:[{template:'<select v-model="selectedGroupIdx" class="form-control" @change="groupChange">\n\t\t\t\t\t\t\t\t\t\t\t\t\t               <option v-for="(group, idx) in groupArr" :key="idx" :value="idx">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       {{ $t(\'dashboard.component\') + \'_\' + (idx + 1) }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   </option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t           </select>',data(){return{selectedGroupIdx:0,groupArr:e}},mounted(){this.groupChange()},methods:{groupChange(){this.removeHover(),s=this.groupArr[this.selectedGroupIdx];const t=document.createElement("div");t.classList.add("addHover"),s.insertBefore(t,s.firstChild);const e=document.createElement("div");let a,i,o,r;e.classList.add("addAreaHover"),"l"==n?(a="5%",i="5%",o="40%",r="90%"):"t"==n?(a="5%",i="5%",o="90%",r="40%"):"r"==n?(a="5%",i="55%",o="40%",r="90%"):"b"==n&&(a="55%",i="5%",o="90%",r="40%"),e.style.top=a,e.style.left=i,e.style.width=o,e.style.height=r,s.insertBefore(e,s.firstChild)},removeHover(){document.querySelectorAll(".addHover, .addAreaHover").forEach((t=>{t.parentNode.removeChild(t)}))}},destroyed(){this.removeHover()}}],buttonList:[{template:'<button type="button" @click="confirm" class="btn btn-primary">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       {{ $t(\'head.ok\') }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   </button>',methods:{confirm(){t(s),o.hideModal()}}}]})}};l("l"===n||"r"===n?o&&"h"!==o?t=>{t.classList.contains("component")?e(t,n,"h",r):a(t,n,r),this.setContainerHistory(),this.initDraw()}:e=>{e.classList.contains("component")?t(e,n,"h",r):a(e,n,r),this.setContainerHistory(),this.initDraw()}:o&&"v"!=o?t=>{t.classList.contains("component")?e(t,n,"v",r):a(t,n,r),this.setContainerHistory(),this.initDraw()}:e=>{e.classList.contains("component")?t(e,n,"v",r):a(e,n,r),this.setContainerHistory(),this.initDraw()})}});const t=(t,e,a,i)=>{const s=this.componentDataMapping[t.parentNode.getAttribute("component-id")];s.componentTypeDirection=a;const n=this.componentDataMapping[t.getAttribute("component-id")];this.componentList.push(this.$refs.dashboardStructure.getBasicComponentStruct());const o=this.componentList[this.componentList.length-1];o.componentId=(0,h.Fs)(),o.pComponentId=s.componentId,o.componentType="C",o.itemId=i;const r=this.perfItemList.find((t=>t.itemId==o.itemId));o.componentName=r.itemName;const l=this.getDefaultType(r);o.chartType=l.chartType,o.targetType=l.targetType,o.unitType=l.unitType,o.inoutType=l.inoutType;const d="h"===a?`${(n.componentWidth.replace(/[^.0-9]/g,"")/2).toFixed(4)}%`:"100%",c="h"===a?"100%":`${(n.componentHeight.replace(/[^.0-9]/g,"")/2).toFixed(4)}%`;n.componentWidth=d,n.componentHeight=c,o.componentWidth=d,o.componentHeight=c;const p="l"===e||"t"===e?n.componentOrder:n.componentOrder+1;this.componentList.filter((t=>t.pComponentId===s.componentId)).sort(((t,e)=>t.componentOrder-e.componentOrder)).forEach((t=>{t.componentId===o.componentId?t.componentOrder=p:t.componentOrder=t.componentOrder>=p?t.componentOrder+1:t.componentOrder}))},e=(t,e,a,i)=>{const s=this.componentDataMapping[t.getAttribute("component-id")];this.componentList.push(this.$refs.dashboardStructure.getBasicComponentStruct());const n=this.componentList[this.componentList.length-1];n.componentId=(0,h.Fs)(),n.pComponentId=s.pComponentId,n.componentOrder=s.componentOrder,n.componentWidth=s.componentWidth,n.componentHeight=s.componentHeight,n.componentTypeDirection=a,n.componentType="G",s.pComponentId=n.componentId,this.componentList.push(this.$refs.dashboardStructure.getBasicComponentStruct());const o=this.componentList[this.componentList.length-1];o.componentId=(0,h.Fs)(),o.pComponentId=n.componentId,o.componentType="C",o.itemId=i;const r=this.perfItemList.find((t=>t.itemId==o.itemId));o.componentName=r.itemName;const l=this.getDefaultType(r);o.chartType=l.chartType,o.targetType=l.targetType,o.unitType=l.unitType,o.inoutType=l.inoutType;const d="h"===a?"50%":"100%",c="h"===a?"100%":"50%";s.componentWidth=d,s.componentHeight=c,o.componentWidth=d,o.componentHeight=c,s.componentOrder="l"===e||"t"===e?2:1,o.componentOrder="l"===e||"t"===e?1:2},a=(t,e,a)=>{const i=this.componentDataMapping[t.getAttribute("component-id")],s=i.componentTypeDirection;i.componentTypeDirection="l"===e||"r"===e?"h":"v",this.componentList.push(this.$refs.dashboardStructure.getBasicComponentStruct());const n=this.componentList[this.componentList.length-1];n.componentId=(0,h.Fs)(),n.pComponentId=i.componentId,n.componentOrder="t"===e||"l"===e?2:1,n.componentWidth="t"===e||"b"===e?"100%":"50%",n.componentHeight="t"===e||"b"===e?"50%":"100%",n.componentTypeDirection=s,n.componentType="G",this.componentList.push(this.$refs.dashboardStructure.getBasicComponentStruct());const o=this.componentList[this.componentList.length-1];o.componentId=(0,h.Fs)(),o.pComponentId=i.componentId,o.componentOrder="t"===e||"l"===e?1:2,o.componentWidth="t"===e||"b"===e?"100%":"50%",o.componentHeight="t"===e||"b"===e?"50%":"100%",o.componentType="C",o.itemId=a;const r=this.perfItemList.find((t=>t.itemId===o.itemId));o.componentName=r.itemName;const l=this.getDefaultType(r);o.chartType=l.chartType,o.targetType=l.targetType,o.unitType=l.unitType,o.inoutType=l.inoutType,this.componentList.filter((t=>{t.pComponentId===i.componentId&&t.componentId!==n.componentId&&t.componentId!==o.componentId&&(t.pComponentId=n.componentId)}))};let i,s;const n=()=>{document.querySelectorAll(".componentHover").forEach((t=>{t.parentNode.removeChild(t)}))};$(document.querySelectorAll(".component, .component-horizontal, .component-vertical")).resizable({handles:"w, n",start:t=>{n();const e=this.componentDataMapping[t.target.getAttribute("component-id")],a=this.componentDataMapping[t.target.previousSibling.getAttribute("component-id")];i=Number(e.componentWidth.replace(/[^.0-9]/g,""))+Number(a.componentWidth.replace(/[^.0-9]/g,"")),s=Number(e.componentHeight.replace(/[^.0-9]/g,""))+Number(a.componentHeight.replace(/[^.0-9]/g,""));const o=$(t.target).data("ui-resizable").axis,r=document.createElement("span");r.classList.add("resize-tooptip");const l=document.createElement("div");l.setAttribute("id","componentHover"),l.classList.add("componentHover"),l.style.width=t.target.clientWidth-10+"px",l.style.height=t.target.clientHeight-5+"px",l.appendChild(r);const d=document.createElement("span");d.classList.add("resize-tooptip");const c=document.createElement("div");if(c.setAttribute("id","prevCompoentHover"),c.classList.add("componentHover","prevCompoentHover"),c.style.width=t.target.previousSibling.clientWidth-10+"px",c.style.height=t.target.previousSibling.clientHeight-5+"px",c.appendChild(d),"w"===o){const i=t.target.parentNode.clientHeight<=t.offsetY+27?t.offsetY-27:t.offsetY;r.style.top=`${i}px`,r.style.left="5px",r.innerText=`${Number(e.componentWidth.replace("%","")).toFixed(2)}%`,d.style.top=`${i}px`,d.style.right="5px",d.innerText=`${Number(a.componentWidth.replace("%","")).toFixed(2)}%`}else if("n"==o){const i=t.target.parentNode.clientWidth<=t.offsetX+60?t.offsetX-60:t.offsetX;r.style.left=`${i}px`,r.style.top="5px",r.innerText=`${Number(e.componentHeight.replace("%","")).toFixed(2)}%`,d.style.left=`${i}px`,d.style.bottom="5px",d.innerText=`${Number(a.componentHeight.replace("%","")).toFixed(2)}%`}t.target.appendChild(l),t.target.previousSibling.appendChild(c)},resize:t=>{o(t)},stop:()=>{n(),this.setContainerHistory(),this.initDraw()}}),$(document.querySelectorAll(".ui-resizable-handle")).dblclick((t=>{t.target=t.target.parentNode,o(t,50),this.setContainerHistory()}));const o=(t,e)=>{const a=this.componentDataMapping[t.target.getAttribute("component-id")],n=this.componentDataMapping[t.target.previousSibling.getAttribute("component-id")],o=$(t.target).data("ui-resizable").axis;if(e&&(i=Number(a.componentWidth.replace(/[^.0-9]/g,""))+Number(n.componentWidth.replace(/[^.0-9]/g,"")),s=Number(a.componentHeight.replace(/[^.0-9]/g,""))+Number(n.componentHeight.replace(/[^.0-9]/g,""))),"w"===o){let s=null;if(e)s=e;else{const e=t.target.clientWidth,a=t.target.previousSibling.clientWidth,i=e+a;s=100*a/i,s=30>s?30:70<s?70:s}const o=i*(s/100);if(n.componentWidth=`${o.toFixed(4)}%`,t.target.previousSibling.style.width=n.componentWidth,a.componentWidth=(i-o).toFixed(4)+"%",t.target.style.width=a.componentWidth,e)return;const r=document.querySelector("#prevCompoentHover"),l=document.querySelector("#componentHover");r.style.width=t.target.previousSibling.clientWidth-10+"px",r.querySelector(".resize-tooptip").innerText=`${s.toFixed(2)}%`,l.style.width=t.target.clientWidth-10+"px",l.querySelector(".resize-tooptip").innerText=`${(100-s).toFixed(2)}%`}else if("n"===o){let i=null;if(e)i=e;else{const e=t.target.clientHeight,a=t.target.previousSibling.clientHeight,s=e+a;i=100*a/s,i=30>i?30:70<i?70:i}const o=s*(i/100);if(n.componentHeight=`${o.toFixed(4)}%`,t.target.previousSibling.style.height=n.componentHeight,a.componentHeight=`${(s-o).toFixed(4)}%`,t.target.style.height=a.componentHeight,e)return;const r=document.querySelector("#prevCompoentHover"),l=document.querySelector("#componentHover");r.style.height=t.target.previousSibling.clientHeight-5+"px",r.querySelector(".resize-tooptip").innerText=`${i.toFixed(2)}%`,l.style.height=t.target.clientHeight-10+"px",l.querySelector(".resize-tooptip").innerText=`${(100-i).toFixed(2)}%`}};document.querySelector("#root").addEventListener("click",(t=>{if(!t.target.classList.contains("componentDelete"))return;const e=this.componentDataMapping[t.target.parentNode.getAttribute("component-id")],a=this.componentList.filter((t=>t.pComponentId===e.pComponentId&&t.componentId!==e.componentId));if(["xViewYAxisMax","xViewTrans","xViewMinData","xViewInstanceFilter","xViewadapterFilter","xViewtransactionFilter","datatableRowCnt","exceptionLogRowCnt","instanceSummaryColCnt"].forEach((t=>{delete this.containerOptions[`${t}_${e.componentId}`]})),"-1"!==this.componentDataMapping[e.pComponentId].pComponentId&&1===a.length){const t=this.componentDataMapping[a[0].componentId],i=this.componentDataMapping[this.componentDataMapping[t.pComponentId].pComponentId].componentTypeDirection;t.componentWidth="h"===i?this.componentDataMapping[t.pComponentId].componentWidth:"100%",t.componentHeight="h"===i?"100%":this.componentDataMapping[t.pComponentId].componentHeight,t.pComponentId=this.componentDataMapping[t.pComponentId].pComponentId,this.componentList=this.componentList.filter((t=>t.componentId!==e.componentId)).filter((t=>t.componentId!==e.pComponentId))}else{const t=this.componentDataMapping[e.pComponentId].componentTypeDirection,i="h"===t?(e.componentWidth.replace(/[^.0-9]/g,"")/a.length).toFixed(4):100,s="h"===t?100:(e.componentHeight.replace(/[^.0-9]/g,"")/a.length).toFixed(4);this.componentList.filter((t=>t.pComponentId===e.pComponentId&&t.componentId!==e.componentId)).sort(((t,e)=>t.componentOrder-e.componentOrder)).forEach(((t,e)=>{t.componentWidth=100===i?"100%":`${Number(t.componentWidth.replace(/[^.0-9]/g,""))+Number(i)}%`,t.componentHeight=100===s?"100%":`${Number(t.componentHeight.replace(/[^.0-9]/g,""))+Number(s)}%`,t.componentOrder=e+1})),this.componentList=this.componentList.filter((t=>t.componentId!==e.componentId)),"-1"===this.componentDataMapping[e.pComponentId].pComponentId&&0===this.componentList.filter((t=>t.pComponentId===e.pComponentId)).length&&(this.componentList=[])}const i={};for(const s in this.componentDataMapping)this.componentList.find((t=>t.componentId===s))&&(i[s]=this.componentDataMapping[s]);this.componentDataMapping=i,this.setContainerHistory(),this.initDraw()}));const r=t=>{while(!t.getAttribute("component-id"))t=t.parentNode;return t.getAttribute("component-id")};document.querySelector("#root").addEventListener("input",(t=>{const e=t.target.getAttribute("name");["componentName","xViewYAxisMax","xViewTrans","xViewMinData","datatableRowCnt","exceptionLogRowCnt","instanceSummaryColCnt"].find((t=>t===e))&&("componentName"===e?this.componentDataMapping[r(t.target)].componentName=t.target.value:this.containerOptions[`${e}_${r(t.target)}`]=Number(t.target.value))})),document.querySelector("#root").addEventListener("change",(t=>{const e=t.target.getAttribute("name");if(["chartType","inoutType","selectedTarget","targetType"].find((t=>t===e))){if("chartType"===e)this.componentDataMapping[r(t.target)].chartType=t.target.value;else if("inoutType"===e)this.componentDataMapping[r(t.target)].inoutType=t.target.value;else if("selectedTarget"===e)this.componentDataMapping[r(t.target)].monitorComponentTargets=[{pk:{componentId:r(t.target),componentTargetId:t.target.value}}];else if("targetType"===e)if(this.componentDataMapping[r(t.target)].targetType=t.target.value,"EXTERNALLINE"===t.target.value||"INSTANCE"===t.target.value)this.componentDataMapping[r(t.target)].monitorComponentTargets=[];else{let e,a;"ADAPTER"===t.target.value?(e="adapterId",a=this.adapterList):"CONNECTOR"===t.target.value?(e="connectorId",a=this.connectorList):"QUEUE"===t.target.value?(e="adapterId",a=this.queueList):"THREAD"===t.target.value&&(e="threadPoolId",a=this.threadList),this.componentDataMapping[r(t.target)].monitorComponentTargets=[{pk:{componentId:r(t.target),componentTargetId:a[0][e]}}]}this.setContainerHistory(),this.initDraw()}}))},getDefaultType(t){let e="NONE",a="NONE";const i=["LINE","COLUMN","INSTANCE","CONNECTOR","QUEUE","THREAD","SPEEDBAR","EXTERNALLINE","DATATABLE","XVIEW","EXCEPTIONLOG"];for(let n=0;n<i.length;n++){const a=t.monitorChartGroup.find((t=>i[n]===t.pk.chartType));if(a){e=a.pk.chartType;break}}const s=["INSTANCE","ADAPTER","CONNECTOR","QUEUE","THREAD","EXTERNALLINE","DATATABLE"];for(let n=0;n<s.length;n++){const e=t.monitorTargetGroup.find((t=>s[n]==t.pk.targetType));if(e){a=e.pk.targetType;break}}return{chartType:e,targetType:a,unitType:t.unitType,inoutType:"Y"===t.inOutExistYn?"IN":"NONE"}},setContainerState(t){const e=this.containerHistoryList.map((t=>r()(t))).sort(((t,e)=>t.saveTime-e.saveTime)),a=e.findIndex((t=>t.saveTime===this.currentContainerHistory.saveTime));this.redoDisabled="redo"===t&&0===a-1,this.undoDisabled="redo"!==t&&e.length-1==a+1;const i="redo"===t?e[a-1]:e[a+1];this.currentContainerHistory.saveComponentList&&this.currentContainerHistory.saveComponentList.splice(0,this.currentContainerHistory.saveComponentList.length),this.currentContainerHistory=d()(r()(this.currentContainerHistory),r()(i)),this.componentList=this.currentContainerHistory.saveComponentList.map((t=>r()(t))),this.initDraw()},setContainerHistory(){const t=this.containerHistoryList.map((t=>r()(t))).sort(((t,e)=>t.saveTime-e.saveTime)),e=t.findIndex((t=>t.saveTime===this.currentContainerHistory.saveTime));-1<e&&e!==this.containerHistoryList.length-1&&(this.containerHistoryList.splice(e+1),this.undoDisabled=!0),this.containerHistoryList.push({saveTime:Date.now(),saveComponentList:this.componentList.map((t=>r()(t)))}),this.dashConstInfo.containerStateCnt===this.containerHistoryList.length&&this.containerHistoryList.shift(),this.redoDisabled=1>=this.containerHistoryList.length,this.currentContainerHistory.saveComponentList&&this.currentContainerHistory.saveComponentList.splice(0,this.currentContainerHistory.saveComponentList.length),this.currentContainerHistory=d()(r()(this.currentContainerHistory),r()(this.containerHistoryList[this.containerHistoryList.length-1]))},openModal(){const t=this,e=this.$openModal({title:this.$t("dashboard.head.setting"),modalWidth:"400px",modalHeight:"400px",contentList:[{template:'\n\t\t\t\t\t\t<div class="row frm-row">\n\t\t\t\t\t\t\t<div class="col-lg-6"> \n\t\t\t\t\t\t       <div class="form-group">\n\t\t\t\t\t\t\t\t\t<div class="control-label">{{ $t(\'dashboard.head.theme\') }}</div>\n\t\t\t\t\t\t\t\t\t<select v-model="darkmodeYn" class="form-control">\n\t\t\t\t\t\t\t\t\t\t<option value="N">{{ $t(\'dashboard.theme.light\') }}</option>\n\t\t\t\t\t\t\t\t\t\t<option value="Y">{{ $t(\'dashboard.theme.dark\') }}</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t<div class="control-label">{{ $t(\'dashboard.head.legend\') }} {{ $t(\'dashboard.head.display\') }}</div>\n\t\t\t\t\t\t\t\t\t<select v-model="remarkYn" class="form-control">\n\t\t\t\t\t\t\t\t\t\t<option value="Y">{{ $t(\'head.yes\') }}</option>\n\t\t\t\t\t\t\t\t\t\t<option value="N">{{ $t(\'head.no\') }}</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="col-lg-6">\n\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t<div class="control-label">{{ $t(\'dashboard.head.title\') }}</div>\n\t\t\t\t\t\t\t\t\t<select v-model="titleYn" class="form-control" @change="changeTitleYn">\n\t\t\t\t\t\t\t\t\t\t<option value="Y">{{ $t(\'head.yes\') }}</option>\n\t\t\t\t\t\t\t\t\t\t<option value="N">{{ $t(\'head.no\') }}</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t<div class="control-label">{{ $t(\'dashboard.head.title\') }} {{ $t(\'dashboard.title.align\') }} {{ $t(\'dashboard.head.display\') }}</div>\n\t\t\t\t\t\t\t\t\t<select v-model="titleAlign" class="form-control" :disabled="\'N\' === titleYn">\n\t\t\t\t\t\t\t\t\t\t<option value="left">{{ $t(\'dashboard.title.align.left\') }}</option>\n\t\t\t\t\t\t\t\t\t\t<option value="center">{{ $t(\'dashboard.title.align.center\') }}</option>\n\t\t\t\t\t\t\t\t\t\t<option value="right">{{ $t(\'dashboard.title.align.right\') }}</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t<div class="control-label">{{ $t(\'dashboard.head.title\') }} Logo {{ $t(\'dashboard.head.display\') }}</div>\n\t\t\t\t\t\t\t\t\t<select v-model="titleLogoYn" class="form-control" :disabled="\'N\' === titleYn">\n\t\t\t\t\t\t\t\t\t\t<option value="Y">{{ $t(\'head.yes\') }}</option>\n\t\t\t\t\t\t\t\t\t\t<option value="N">{{ $t(\'head.no\') }}</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>',data(){return{darkmodeYn:null,remarkYn:null,titleYn:null,titleAlign:null,titleLogoYn:null}},created(){const{darkmodeYn:e,remarkYn:a}=t.containerInfo,{titleYn:i,titleAlign:s,titleLogoYn:n}=t.containerOptions;this.darkmodeYn=e,this.remarkYn=a,this.titleYn=i,this.titleAlign=s,this.titleLogoYn=n},methods:{changeTitleYn(){"Y"===this.titleYn?(this.titleAlign="center",this.titleLogoYn="N"):(this.titleAlign=null,this.titleLogoYn=null)}}}],buttonList:[{template:'<button type="button" class="btn btn-primary" @click="confirm">{{ $t(\'head.ok\') }}</button>',methods:{async confirm(){const{darkmodeYn:a,remarkYn:i,titleYn:s,titleAlign:n,titleLogoYn:o}=e.$refs.content[0];t.containerInfo={...t.containerInfo,darkmodeYn:a,remarkYn:i},t.toggleTheme(),t.containerOptions={...t.containerOptions,titleYn:s,titleAlign:n,titleLogoYn:o},t.resize(),e.hideModal()}}}]})},resetContainer(){this.redoDisabled=!0,this.undoDisabled=!0,this.componentList="modify"===this.mod?r()(this.containerInfoOrg.monitorComponents):[],this.containerHistoryList=[],this.currentContainerHistory={},this.setContainerHistory(),this.initDraw()},resize(){this.widgetStyle.height=window.innerHeight-72-56-12+"px",this.dashBodyStyle.maxHeight="none"===getComputedStyle(document.querySelector("#dashboard #widget")).getPropertyValue("display")?null:this.widgetStyle.height;const t=document.querySelector(".ct-dashboard");if(t){const e=getComputedStyle(t),a=(0,h.tJ)(e.getPropertyValue("padding-top"));this.$el.querySelector("#root")&&(this.$el.querySelector("#root").style.maxHeight=t.clientHeight-a-t.querySelector("#dashBar").offsetHeight-("Y"===this.containerOptions.titleYn?70:0)+"px")}},changeContainer(){this.$emit("changeContainer")},unloadContainer(){document.querySelector(".wrap").classList.remove("dark"),document.querySelector("#ct").classList.remove("ct-dashboard"),h.dc.$off("MainResize",this.resize)}}},g=m,f=a(43736),y=(0,f.Z)(g,i,s,!1,null,null,null),v=y.exports},9548:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"connectorChartRoot"},[e("div",{staticClass:"row gate-row-wrp flex-1",style:t.style},t._l(2,(function(a){return e("div",{key:a,staticClass:"col-6"},t._l(t.targetInfoList?t.targetInfoList.filter(((t,e)=>a-1===e%2)):[],(function(a,i){return e(a.component,{key:`${i}_${a.targetId}`,tag:"component",attrs:{data:a.data},on:{filterTarget:t.filterTarget}})})),1)})),0),t.isShowLegend?e("div",{staticClass:"d-flex-space"},[e("div",{staticClass:"legend legend-square"},[e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-cht-11"}),t._v(t._s(t.$t("dashboard.legend.square.activeSession")))]),e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-cht-11-l"}),t._v(t._s(t.$t("dashboard.legend.square.idleSession")))]),e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-cht-2"}),t._v(t._s(t.$t("dashboard.legend.square.activeThread"))+" ")]),e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-cht-2-l"}),t._v(" "+t._s(t.$t("dashboard.legend.square.idleThread")))])]),t._m(0)]):t._e()])},s=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"legend"},[e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-normal"}),t._v("Normal")]),e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-warn"}),t._v("Warn")]),e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-error"}),t._v("Error")]),e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-fail"}),t._v("Fail")]),e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-cht-3"}),t._v("Starting")]),e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-cht-2"}),t._v("Stoping")]),e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-cht-4"}),t._v("Blocking")]),e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-down"}),t._v("Down")])])}],n=(a(57658),a(37662)),o={name:"DashboardConnectorChart",props:{options:Object},data(){return{targetInfoList:[],isShowLegend:!1,style:{height:null}}},mounted(){this.initConnectorChart()},methods:{initConnectorChart(){this.isShowLegend="Y"===this.options.remarkYn,this.$nextTick((()=>{this.style.height=this.isShowLegend?`calc(100% - ${this.$el.querySelector(".d-flex-space").offsetHeight}px)`:"100%"}))},addTarget(t){t.data={targetId:t.targetId,status:"Normal",isDown:!1,isFiltered:!1,sessionInuse:0,sessionWait:0,threadInuse:0,threadWait:0},t.component={template:`\n\t\t\t\t\t<div class="gate-row" :style="rootElementStyle">\n\t\t\t\t\t\t<div class="gate">\n\t\t\t\t\t\t\t<i class="iconb-warn" title="Down" v-if="isDown"></i>\n\t\t\t\t\t\t\t<i :class="[statusDefaultClass, statusDataClass]"></i>\n\t\t\t\t\t\t\t<a href="javascript:void(0)" class="t-xs" data-toggle="tooltip" :title="targetId" @click="filterTarget">{{ targetId }}</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="gate-graph">\n\t\t\t\t\t\t\t<div class="progress up">\n\t\t\t\t\t\t\t\t<div class="progress-bar bg-cht-11" role="progressbar" :style="sessionInuseGraphStyle" data-toggle="tooltip" data-placement="top">\n\t\t\t\t\t\t\t\t\t<span class="t-xs">{{ sessionInuse }}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="progress-bar bg-cht-11-l" role="progressbar" :style="sessionWaitGraphStyle" data-toggle="tooltip" data-placement="top">\n\t\t\t\t\t\t\t\t\t<span class="t-xs">{{ sessionWait }}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="progress">\n\t\t\t\t\t\t\t\t<div class="progress-bar bg-cht-2" role="progressbar" :style="threadInuseGraphStyle" data-toggle="tooltip" data-placement="bottom">\n\t\t\t\t\t\t\t\t\t<span class="t-xs">{{ threadInuse }}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="progress-bar bg-cht-2-l" role="progressbar" :style="threadWaitGraphStyle" data-toggle="tooltip" data-placement="bottom">\n\t\t\t\t\t\t\t\t\t<span class="t-xs">{{ threadWait }}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="status-msg">\n\t\t\t\t\t\t\t<i class="icon-using" data-toggle="tooltip" data-placement="top" title="${this.$t("dashboard.wait.session")}" style="display: none;"></i> \n\t\t\t\t\t\t\t<i class="icon-thread" data-toggle="tooltip" data-placement="top" title="${this.$t("dashboard.create.session")}" style="display: none;"></i>\n\t\t\t\t\t\t\t<i class="icon-screated" data-toggle="tooltip" data-placement="top" title="${this.$t("dashboard.using.session")}" style="display: none;"></i> \n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\t\t\t\t\n\t\t\t\t`,props:{data:{type:Object,default:()=>({targetId:null,status:"Normal",isDown:!1,isFiltered:!1,sessionInuse:0,sessionWait:0,threadInuse:0,threadWait:0})}},computed:{targetId(){return(0,n.Xv)(this.data.targetId)},statusDataClass(){const t=this.data.status;return"Normal"===t?"bg-normal":"Warn"===t?"bg-warn":"Error"===t?"bg-error":"Fail"===t?"bg-fail":"Starting"===t?"bg-cht-3":"Stoping"===t?"bg-cht-2":"Blocking"===t?"bg-cht-4":"Down"===t?"bg-down":"bg-danger"},isDown(){return this.data.isDown},rootElementStyle(){return{opacity:this.data.isFiltered?.2:1}},sessionInuse(){return this.data.sessionInuse},sessionWait(){return this.data.sessionWait},threadInuse(){return this.data.threadInuse},threadWait(){return this.data.threadWait},sessionInuseGraphStyle(){return{width:`${(this.sessionInuse/(this.sessionInuse+this.sessionWait)*100||0).toFixed(2)}%`}},sessionWaitGraphStyle(){return{width:`${(this.sessionWait/(this.sessionInuse+this.sessionWait)*100||0).toFixed(2)}%`}},threadInuseGraphStyle(){return{width:`${(this.threadInuse/(this.threadInuse+this.threadWait)*100||0).toFixed(2)}%`}},threadWaitGraphStyle(){return{width:`${(this.threadWait/(this.threadInuse+this.threadWait)*100||0).toFixed(2)}%`}}},data(){return{statusDefaultClass:"status"}},methods:{filterTarget(){this.$emit("filterTarget",{targetId:this.targetId,isFiltered:this.data.isFiltered})}}},this.targetInfoList.push(t)},deleteTarget(t){const e=this.targetInfoList.find((e=>e.targetId===t));e&&(this.targetInfoList=this.targetInfoList.filter((e=>e.targetId!==t)))},deleteTargetAll(){this.targetInfoList=[]},updateTarget(t,e){const a=this.targetInfoList.find((e=>e.targetId===t));a&&(e.isDataEmpty?(a.data.status="Down",a.data.isDown="Y"!==e.downStatus,a.data.sessionInuse=0,a.data.sessionWait=0,a.data.threadInuse=0,a.data.threadWait=0):a.data.isDown=!1)},addData(t){t.forEach((t=>{const e=this.targetInfoList.find((e=>e.targetId===t.instanceId));e&&(e.data.status=t.status,e.data.sessionInuse=t.sessionInuse,e.data.sessionWait=t.sessionWait,e.data.threadInuse=t.threadInuse,e.data.threadWait=t.threadWait)}))},filterTarget(t){this.$emit("filter-target",t)},filterData({targetId:t,isFiltered:e}){const a=this.targetInfoList.find((e=>e.targetId===t));a&&(a.data.isFiltered=e)},unload(){this.targetInfoList=null}}},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,"a2c91470",null),c=d.exports},98677:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-responsive"},[e("TuiGrid",t._b({ref:"tuiGrid",on:{click:t.onClick}},"TuiGrid",t.gridOptions,!1))],1)},s=[],n=a(36797),o=a.n(n),r=a(37856),l=a(37662),d={name:"DashboardDataTableChart",components:{TuiGrid:r.Grid},props:{options:Object},data(){return{originWidth:null,gridOptions:{columns:[{name:"status",header:this.$t("dashboard.head.status"),width:"10%",align:"center",formatter:t=>"M"===t.value?`<span style="color: #ffc107">${this.$t("head.warn")}</span>`:"L"===t.value?`<span style="color: #ed3137">${this.$t("head.serious")}</span>`:`<span style="color: #28a745">${this.$t("dashboard.head.success")}</span>`},{name:"uuid",header:this.$t("dashboard.head.transactionId"),width:"15%"},{name:"transactionId",header:this.$t("dashboard.head.interface.service.id"),width:"15%"},{name:"transactionName",header:this.$t("dashboard.head.transactionName"),width:"15%"},{name:"adapterId",header:this.$t("igate.adapter.id"),width:"15%"},{name:"instanceId",header:this.$t("igate.instance.id"),width:"15%"},{name:"snapshotTimestamp",header:this.$t("dashboard.head.snapshotTimestamp"),width:"15%",align:"center",formatter:t=>o()(new Date(t.value)).format("HH:mm:ss")}],scrollY:!1}}},created(){this.gridOptions=(0,l.d_)(this.gridOptions)},mounted(){this.originWidth=this.$el.clientWidth,this.$refs.tuiGrid.invoke("resetData",[])},methods:{addData(t){this.$refs.tuiGrid.invoke("resetData",t)},onClick(t){"undefined"!==typeof t.rowKey&&"rowHeader"!==t.targetType&&(0,l.RB)("103020",(()=>{localStorage.setItem("searchObj",JSON.stringify({transactionId:t.instance.getRow(t.rowKey).uuid}))}))},setInterval(){this.originWidth!==this.$el.clientWidth&&(this.originWidth=this.$el.clientWidth,this.$refs.tuiGrid.invoke("setWidth",this.$el.clientWidth))},exportData(){this.$startSpinner();let t="";t+=this.$refs.tuiGrid.invoke("getColumns").map((t=>t.header)).join(","),t+="\r\n",this.$refs.tuiGrid.invoke("getData").forEach((e=>{t+=`${"M"===e.status?this.$t("head.warn"):"L"===e.status?this.$t("head.serious"):this.$t("dashboard.head.success")},`,t+=`${e.uuid},`,t+=`${e.transactionId},`,t+=`${e.transactionName},`,t+=`${e.adapterId},`,t+=`${e.instanceId},`,t+=`${o()(new Date(e.snapshotTimestamp)).format("HH:mm:ss")}`,t+="\r\n"})),(0,l.EZ)(`${this.options.componentName}_${Date.now()}`,t),this.$stopSpinner()}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},61678:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-responsive"},[e("TuiGrid",t._b({ref:"tuiGrid",on:{click:t.onClick}},"TuiGrid",t.gridOptions,!1))],1)},s=[],n=a(36797),o=a.n(n),r=a(37856),l=a(37662),d={name:"DashboardExceptionLogChart",components:{TuiGrid:r.Grid},props:{options:Object},data(){return{originWidth:null,gridOptions:{columns:[{name:"data",hidden:!0},{name:"exceptionDateTime",header:this.$t("igate.exceptionLog.exceptionDateTime"),width:"15%",align:"center",formatter:({value:t})=>o()(new Date(t)).format("YYYY-MM-DD HH:mm:ss")},{name:"uuid",header:this.$t("dashboard.head.transactionId"),width:"15%"},{name:"adapterId",header:this.$t("igate.adapter.id"),width:"10%"},{name:"exceptionCode",header:this.$t("igate.exceptionCode"),width:"10%"},{name:"instanceId",header:this.$t("igate.instance.id"),width:"10%"},{name:"connectorId",header:`${this.$t("igate.connector")} ${this.$t("head.id")}`,width:"10%"},{name:"exceptionText",header:"Exception Text",width:"30%",align:"center"}],scrollY:!1}}},created(){this.gridOptions=(0,l.d_)(this.gridOptions)},mounted(){this.originWidth=this.$el.clientWidth,this.$refs.tuiGrid.invoke("resetData",[])},methods:{addData(t){this.$refs.tuiGrid.invoke("resetData",t)},onClick(t){"undefined"!==typeof t.rowKey&&"rowHeader"!==t.targetType&&(0,l.RB)("103010",(()=>{localStorage.setItem("detailObj",JSON.stringify(t.instance.getRow(t.rowKey).data))}))},setInterval(){this.originWidth!==this.$el.clientWidth&&(this.originWidth=this.$el.clientWidth,this.$refs.tuiGrid.invoke("setWidth",this.$el.clientWidth))},exportData(){this.$startSpinner();let t="";t+=this.$refs.tuiGrid.invoke("getColumns").map((t=>t.header)).join(","),t+="\r\n",this.$refs.tuiGrid.invoke("getData").forEach((e=>{t+=`${o()(new Date(e.exceptionDateTime)).format("YYYY-MM-DD HH:mm:ss")},`,t+=`${e.uuid},`,t+=`${e.adapterId},`,t+=`${e.exceptionCode},`,t+=`${e.instanceId},`,t+=`${e.exceptionText}`,t+="\r\n"})),(0,l.EZ)(`${this.options.componentName}_${Date.now()}`,t),this.$stopSpinner()}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},63931:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return d}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"externalLineChartRoot"},[e("div",{staticClass:"row row-label",style:t.rowStyle},t._l(t.targetInfoList,(function(t,a){return e(t.component,{key:`${a}_${t.targetId}`,tag:"component",attrs:{data:t.data}})})),1),t.isShowLegend?e("div",{staticClass:"legend"},[e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-normal"}),t._v(t._s(t.$t("dashboard.legend.status.normal")))]),e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-warn"}),t._v(t._s(t.$t("dashboard.legend.status.warn")))]),e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-danger"}),t._v(t._s(t.$t("dashboard.legend.status.error")))])]):t._e()])},s=[],n=(a(57658),{name:"DashboardExternalLineChart",props:{options:Object},data(){return{isShowLegend:!1,targetInfoList:[],rowStyle:{height:null}}},mounted(){this.initExternalLineChart()},methods:{initExternalLineChart(){this.isShowLegend="Y"===this.options.remarkYn,this.$nextTick((()=>{this.rowStyle.height=this.isShowLegend?`calc(100% - ${this.$el.querySelector(".legend").offsetHeight}px)`:"100%"}))},addTarget(t){t.data={targetId:t.targetId,targetName:t.targetName,status:"Normal",active:0,total:0},t.component={template:'\n\t\t\t\t\t<div class="col-auto" style="flex-basis: 4%">\n\t\t\t\t\t\t<span class="label" data-toggle="tooltip" data-placement="top" title="">\n\t\t\t\t\t\t\t<i :class="[statusDefaultClass, statusDataClass]"></i><span>{{ targetName }}</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\t\t\t\t\n\t\t\t\t',props:{data:{type:Object,default:()=>({targetId:null,targetName:null,status:"Normal",active:0,total:0})}},computed:{targetId(){return this.data.targetId},targetName(){return`${this.data.targetName} (${this.data.active} / ${this.data.total})`},statusDataClass(){const t=this.data.status;return"Normal"===t?"bg-normal":"Warn"===t?"bg-warn":"Error"===t?"bg-danger":"bg-normal"}},data(){return{statusDefaultClass:"status"}}},this.targetInfoList.push(t)},deleteTarget(t){const e=this.targetInfoList.find((e=>e.targetId===t));e&&(this.targetInfoList=this.targetInfoList.filter((e=>e.targetId!==t)))},addData(t){t.forEach(((t,e)=>{let a=null,i=null;for(let s=0;s<this.targetInfoList.length;s++)if(this.targetInfoList[s].targetId===t.externalLineId){a=this.targetInfoList[s],i=s;break}a&&(a.data.status=t.status,a.data.active=t.active,a.data.total=t.total,i!==e&&this.targetInfoList.splice(e,0,this.targetInfoList.splice(i,1)[0]))}))},unload(){this.targetInfoList=null}}}),o=n,r=a(43736),l=(0,r.Z)(o,i,s,!1,null,"5fb1e202",null),d=l.exports},81149:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return d}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"instanceChartRoot"},[e("div",{staticClass:"row no-gutters flex-1",style:t.rowStyle},t._l(t.instanceSummaryColCnt,(function(a){return e("div",{key:a,staticClass:"col",style:{width:100/t.instanceSummaryColCnt+"%",height:"100%"}},t._l(t.targetInfoList?t.targetInfoList.filter(((e,i)=>a-1===i%t.instanceSummaryColCnt)):[],(function(a,i){return e(a.component,{key:`${i}_${a.targetId}`,tag:"component",attrs:{data:a.data},on:{filterTarget:t.filterTarget}})})),1)})),0),t.isShowLegend?e("div",{staticClass:"legend legend-square"},[e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-cht-6"}),t._v(t._s(t.$t("dashboard.legend.square.cpu")))]),e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-cht-7"}),t._v(t._s(t.$t("dashboard.legend.square.memory")))]),e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-cht-3"}),t._v(t._s(t.$t("dashboard.legend.square.disk1")))]),e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-cht-3"}),t._v(t._s(t.$t("dashboard.legend.square.disk2")))])]):t._e()])},s=[],n=(a(57658),{name:"DashboardInstanceChart",props:{options:Object,dashConstInfo:Object,containerUserInfo:Object},data(){return{instanceSummaryColCnt:this.dashConstInfo.instanceSummaryDefaultColCnt,targetInfoList:[],isShowLegend:!1,rowStyle:{overflowX:"hidden",height:null}}},mounted(){this.initInstanceChart()},methods:{initInstanceChart(){this.isShowLegend="Y"===this.options.remarkYn,this.$nextTick((()=>{this.rowStyle.height=this.isShowLegend?`calc(100% - ${this.$el.querySelector(".legend-square").offsetHeight}px)`:"100%"})),this.containerUserInfo.containerOptions[`instanceSummaryColCnt_${this.options.componentId}`]&&(this.instanceSummaryColCnt=this.containerUserInfo.containerOptions[`instanceSummaryColCnt_${this.options.componentId}`])},addTarget(t){t.data={targetId:t.targetId,isDown:!1,isFiltered:!1,cpuUsage:0,heapUsage:0,fileMainUsage:0,fileQueueUsage:0},t.component={template:'\n\t\t\t\t\t<div class="gate-col" :style="rootElementStyle">\n\t\t\t\t\t\t<div class="graph-caption">\n\t\t\t\t\t\t\t<a href="javascript:void(0)" @click="filterTarget">{{ targetId }}</a>\n\t\t\t\t\t\t\t<i class="iconb-warn" title="Down" v-if="isDown"></i>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="graph-vs" style="width: 100%;">\n\t\t\t\t\t\t\t<div class="progress progress-vertical" style="width: 25%;height:calc(100% - 1.0rem); padding-bottom: 1.0rem;">\n\t\t\t\t\t\t\t\t<div class="progress-bar bg-cht-6" role="progressbar" data-toggle="tooltip" data-placement="top" :title="cpuUsage" :style="cpuGraphStyle" ></div>\n\t\t\t\t\t\t\t\t<span class="progress-status" style="font-size: 1.0rem; line-height: 0.875rem;"><span class="t-xs">{{ cpuUsage }}</span></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="progress progress-vertical" style="width: 25%;height:calc(100% - 1.0rem); padding-bottom: 1.0rem;">\n\t\t\t\t\t\t\t\t<div class="progress-bar bg-cht-7" role="progressbar" data-toggle="tooltip" data-placement="top" :title="heapUsage" :style="heapGraphStyle"></div>\n\t\t\t\t\t\t\t\t<span class="progress-status" style="font-size: 1.0rem; line-height: 0.875rem;"><span class="t-xs">{{ heapUsage }}</span></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="progress progress-vertical" style="width: 25%;height:calc(100% - 1.0rem); padding-bottom: 1.0rem;">\n\t\t\t\t\t\t\t\t<div class="progress-bar bg-cht-3" role="progressbar" data-toggle="tooltip" data-placement="top" :title="fileMainUsage" :style="fileMainGraphStyle"></div>\n\t\t\t\t\t\t\t\t<span class="progress-status" style="font-size: 1.0rem; line-height: 0.875rem;"><span class="t-xs">{{ fileMainUsage }}</span></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="progress progress-vertical" style="width: 25%;height:calc(100% - 1.0rem); padding-bottom: 1.0rem;">\n\t\t\t\t\t\t\t\t<div class="progress-bar bg-cht-3" role="progressbar" data-toggle="tooltip" data-placement="top" :title="fileQueueUsage" :style="fileQueueGraphStyle"></div>\n\t\t\t\t\t\t\t\t<span class="progress-status" style="font-size: 1.0rem; line-height: 0.875rem;"><span class="t-xs">{{ fileQueueUsage }}</span></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\t\t\n\t\t\t\t',props:{data:{type:Object,default:()=>({targetId:null,isDown:!1,isFiltered:!1,cpuUsage:0,heapUsage:0,fileMainUsage:0,fileQueueUsage:0})}},computed:{targetId(){return this.data.targetId},isDown(){return this.data.isDown},rootElementStyle(){return{opacity:this.data.isFiltered?.2:1}},cpuUsage(){return`${Math.ceil(this.data.cpuUsage)}%`},heapUsage(){return`${Math.ceil(this.data.heapUsage)}%`},fileMainUsage(){return`${Math.ceil(this.data.fileMainUsage)}%`},fileQueueUsage(){return`${Math.ceil(this.data.fileQueueUsage)}%`},cpuGraphStyle(){return{width:"100%",height:this.cpuUsage}},heapGraphStyle(){return{width:"100%",height:this.heapUsage}},fileMainGraphStyle(){return{width:"100%",height:this.fileMainUsage}},fileQueueGraphStyle(){return{width:"100%",height:this.fileQueueUsage}}},methods:{filterTarget(){this.$emit("filterTarget",{targetId:this.targetId,isFiltered:this.data.isFiltered})}}},this.targetInfoList.push(t)},deleteTarget(t){const e=this.targetInfoList.find((e=>e.targetId===t));e&&(this.targetInfoList=this.targetInfoList.filter((e=>e.targetId!==t)))},updateTarget(t,e){const a=this.targetInfoList.find((e=>e.targetId===t));a&&(e.isDataEmpty?(a.data.isDown="Y"!==e.downStatus,a.data.cpuUsage=0,a.data.heapUsage=0,a.data.fileMainUsage=0,a.data.fileQueueUsage=0):a.data.isDown=!1)},addData(t){t.forEach((t=>{const e=this.targetInfoList.find((e=>e.targetId===t.instanceId));e&&(e.data.cpuUsage=t.cpuUsage,e.data.heapUsage=t.heapUsage,e.data.fileMainUsage=t.fileMainUsage,e.data.fileQueueUsage=t.fileQueueUsage)}))},filterTarget(t){this.$emit("filter-target",t)},filterData({targetId:t,isFiltered:e}){const a=this.targetInfoList.find((e=>e.targetId===t));a&&(a.data.isFiltered=e)},unload(){this.targetInfoList=null}}}),o=n,r=a(43736),l=(0,r.Z)(o,i,s,!1,null,"7711f0f0",null),d=l.exports},79289:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return g}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"lineChartRoot"},[e("div",{staticClass:"graph"},[e("canvas",{ref:"lineChart"})]),e("div",{staticClass:"legend"}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowTooltip,expression:"isShowTooltip"}],staticClass:"chartjs-tooltip",style:t.tooltipStyle},[e("div",[t._v(t._s(t.tooltipDateTime))]),t._l(t.tooltipTargetList,(function(a,i){return e("div",{key:i},[e("div",{style:a.style}),t._v(" "+t._s(a.name)+" : "+t._s(a.value)+" ")])}))],2)])},s=[],n=(a(57658),a(34531)),o=a.n(n),r=a(36797),l=a.n(r),d=a(13513),c=a(37662),p={name:"DashboardLineChart",props:{options:Object,dashConstInfo:Object},computed:{fontColor(){return"Y"===this.options.darkmodeYn?"#ffffff":"#151826"},filteredColor(){return"Y"===this.options.darkmodeYn?"#292e47":"#ffffff"},axisLineColor(){return"Y"===this.options.darkmodeYn?"#666666":"#f0f1f6"}},mounted(){this.initLineChart()},data(){return{chartObj:null,chartDataArr:[],isShowTooltip:!1,tooltipStyle:{left:null,top:null,padding:null},tooltipDateTime:null,tooltipStartTime:null,tooltipTargetList:[]}},methods:{initLineChart(){const t=this,e=6,a=(0,d.WX)(null,e),i=a.maxValue,s=a.stepSize,n=1e3*Math.floor(Date.now()/1e3),r=n-60*this.dashConstInfo.lineChartTimeDuration*1e3,c=this.$refs.lineChart.getContext("2d");this.chartObj=new(o())(c,{type:"line",data:{datasets:[]},options:{legend:{display:!1},title:{display:!1},animation:{duration:0},hover:{mode:"point",animationDuration:0},responsive:!0,maintainAspectRatio:!1,responsiveAnimationDuration:0,chartHoverLastEvt:null,onHover(t){this.options.chartHoverLastEvt=t},tooltips:{enabled:!1,custom(e){if(t.isShowTooltip=!1,"undefined"!==typeof e.dataPoints){if(this._chart.options.chartHoverLastEvt.isTrusted){const a=(0,d.OL)(this._chart.canvas,this._chart.options.chartHoverLastEvt),i=a.x,s=this._chart.chartArea,n=s.left,o=s.right,r=this._chart.config.options.scales.xAxes[0].ticks.max,l=this._chart.config.options.scales.xAxes[0].ticks.min,c=(r-l)/(o-n),p=(i-n)*c+l,h=this._chart.data.datasets[e.dataPoints[0].datasetIndex];let u=(0,d.FR)(h.data,1e3*Math.floor(p/1e3));if(u||(u=(0,d.FR)(h.data,1e3*Math.floor((p-1e3)/1e3))),u||(u=(0,d.FR)(h.data,1e3*Math.floor((p+1e3)/1e3))),!u)return;if(null===u.dataInfo.y)return;t.$emit("line-chart-tooltip-sync",{standardTimeMillis:1e3*Math.floor(u.dataInfo.x/1e3),datasetIndex:e.dataPoints[0].datasetIndex,chartObj:t.chartObj,dataIndex:u.idx})}else{t.tooltipTargetList=[];let a=t.chartObj.data.datasets[e.dataPoints[0].datasetIndex].data[e.dataPoints[0].index].x;a=1e3*Math.floor(a/1e3),t.tooltipDateTime=l()(new Date(a)).format("HH:mm:ss"),t.tooltipStartTime=Date.now(),this._chart.data.datasets.forEach((e=>{const i=(0,d.FR)(e.data,a);if(!i)return;const s=e.uniqueName,n=(0,d.Ai)(i.dataInfo.y,t.options.unitType,"elapsed"===t.options.itemId?["ms","s","m","h","d"]:null);t.tooltipTargetList.push({style:{width:"10px",height:"10px",backgroundColor:e.borderColor,display:"inline-block",marginRight:"3px"},name:s,value:n})}));const i=this._chart.canvas.getBoundingClientRect();t.tooltipStyle.left=`${i.left+window.pageXOffset+e.caretX+10}px`,t.tooltipStyle.top=`${i.top+window.pageYOffset+e.caretY}px`,t.tooltipStyle.padding=`${e.yPadding}px ${e.xPadding}px`}t.isShowTooltip=!0}}},layout:{padding:{left:25,right:30,top:20,bottom:30}},scales:{xAxes:[{display:!1,type:"time",time:{unit:"millisecond",stepSize:1e3*this.dashConstInfo.dataIntervalSeconds},ticks:{fontColor:this.fontColor,beginAtZero:!1,min:r,max:n,minRotation:0,maxRotation:0}}],yAxes:[{display:!0,ticks:{fontColor:this.fontColor,beginAtZero:!0,min:0,max:i,stepSize:s,maxTicksLimit:e,minRotation:0,maxRotation:0,callback:t=>(0,d.Ai)(t,this.options.unitType,"elapsed"===this.options.itemId?["ms","s","m","h","d"]:null)},gridLines:{color:this.axisLineColor,zeroLineColor:this.axisLineColor}}]}},plugins:[{beforeDraw:t=>{const e=t.chartArea,a=e.left,i=e.right,s=t.config.options.scales.xAxes[0].ticks.max,n=t.config.options.scales.xAxes[0].ticks.min,o=(s-n)/(i-a);c.beginPath(),c.strokeStyle=this.axisLineColor,c.font="12px Arial",c.fillStyle=this.fontColor,c.textAlign="center";for(let r=0;r<this.dashConstInfo.lineChartTimeDuration;r++){const e=6e4*Math.floor(n/6e4)+60*(r+1)*1e3,i=(e-n)/o;c.moveTo(a+i,t.chartArea.top),c.lineTo(a+i,t.chartArea.bottom+10),c.fillText(l()(new Date(e)).format("HH : mm"),a+i,t.chartArea.bottom+20)}c.stroke(),c.closePath()}},{afterDraw:t=>{const e=[],a=t.config.options.scales.xAxes[0];if(t.data.datasets.forEach((t=>{const i={x:null,y:null};t.data.filter((t=>a.ticks.min<=t.x&&a.ticks.max>=t.x)).forEach((t=>{(null===i.y||t.y>i.y)&&(i.x=t.x,i.y=t.y)})),null!=i.y&&e.push(i)})),0===e.length)return;const i={x:null,y:null};e.forEach((t=>{(null===i.y||t.y>i.y)&&(i.x=t.x,i.y=t.y)}));const s=a.ticks.max,n=a.ticks.min,o=t.chartArea,r=o.left,l=o.right,p=o.top,h=o.bottom,u=(s-n)/(l-r),m=r+(i.x-n)/u;c.beginPath(),c.save(),c.strokeStyle=this.axisLineColor,c.setLineDash([2,2]),c.moveTo(m,p-8),c.lineTo(m,h),c.lineWidth=2,c.stroke(),c.font="9px Arial",c.fillStyle=this.fontColor,c.textAlign="center",c.fillText(`Max:${(0,d.Ai)(i.y,this.options.unitType,"elapsed"===this.options.itemId?["ms","s","m","h","d"]:null)}`,m,p-8),c.restore(),c.closePath()}}]})},addTarget(t){this.chartObj.data.datasets.push({uniqueKey:t.targetId,uniqueName:t.targetName,color:t.color,label:t.targetId,backgroundColor:o().helpers.color(t.color).alpha(.5).rgbString(),borderColor:t.color,borderWidth:2,fill:!1,pointRadius:1,data:[]})},updateTarget(t,e){this.chartObj.data.datasets.forEach((a=>{a.uniqueKey===t&&(a.color=e.color,a.backgroundColor=o().helpers.color(e.color).alpha(.5).rgbString(),a.borderColor=e.color)}))},deleteTarget(t){this.chartObj.data.datasets.forEach(((e,a)=>{e.uniqueKey===t&&this.chartObj.data.datasets.splice(a,1)}))},addData(t){Array.prototype.push.apply(this.chartDataArr,t)},setInterval({time:t}){const e=1e3*Math.floor(t/1e3),a=e-60*this.dashConstInfo.lineChartTimeDuration*1e3;this.chartObj.options.scales.xAxes[0].ticks.min=a,this.chartObj.options.scales.xAxes[0].ticks.max=e;let i=0;this.chartObj.data.datasets.forEach((t=>{this.chartDataArr.forEach((e=>{t.uniqueKey===e.targetId&&(0<t.data.length&&this.dashConstInfo.lineChartDrawDataCycle<e.x-t.data[t.data.length-1].x&&t.data.push({x:e.x-(e.x-t.data[t.data.length-1].x)/2,y:null}),t.data.push({x:e.x,y:e.y}))}));const s=Math.max.apply(Math,t.data.filter((t=>a<=t.x&&e>=t.x)).map((t=>t.y)));s>i&&(i=s),t.data=t.data.filter((t=>a-6e4<t.x)),t.data.sort(((t,e)=>t.x-e.x))})),this.chartDataArr=[];const s=6,n=(0,d.WX)(i,s),o=n.maxValue,r=n.stepSize;this.chartObj.options.scales.yAxes[0].ticks.max=o,this.chartObj.options.scales.yAxes[0].ticks.stepSize=r,this.chartObj.options.scales.yAxes[0].ticks.maxTicksLimit=s,this.chartObj.update(),3e3<Date.now()-this.tooltipStartTime&&(this.isShowTooltip=!1)},filterData({targetId:t,isFiltered:e}){const a=this.chartObj.data.datasets.find((e=>e.uniqueKey===t));a&&(a.backgroundColor=o().helpers.color(e?this.filteredColor:a.color).alpha(.5).rgbString(),a.borderColor=e?this.filteredColor:a.color,this.chartObj.update())},unload(){this.chartDataArr=[],this.chartObj&&this.chartObj.destroy()},draw(){this.chartObj.update()},exportData(){this.$startSpinner();const t=this.chartObj.options.scales.xAxes[0].ticks.min,e=this.chartObj.options.scales.xAxes[0].ticks.max;let a=",";a+=this.chartObj.data.datasets.map((t=>t.uniqueName)).join(","),a+="\r\n";const i={};this.chartObj.data.datasets.forEach(((a,s)=>{for(const n of a.data){if(t>n.x)continue;if(e<n.x)continue;const a=1e3*Math.floor(n.x/1e3);if(!i[a]){i[a]=[];for(let t=0;t<this.chartObj.data.datasets.length;t++)i[a].push("")}i[a][s]=(0,d.Ai)(n.y,this.options.unitType,"elapsed"===this.options.itemId?["ms","s","m","h","d"]:null)}}));for(const s in i)a+=`${l()(new Date(Number(s))).format("HH:mm:ss")},`,a+=i[s].join(","),a+="\r\n";(0,c.EZ)(`${this.options.componentName}_${Date.now()}`,a),this.$stopSpinner()}}},h=p,u=a(43736),m=(0,u.Z)(h,i,s,!1,null,"12012cdc",null),g=m.exports},61041:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return v}});var i=function(){var t=this,e=t._self._c;return e("div",[e("DashboardConfigStructure",{ref:"dashboardConfigStructure",attrs:{mod:"modify",containerInfoOrg:t.containerInfo,dashConstInfo:t.dashConstInfo},on:{changeContainer:t.changeContainer}},[e("template",{slot:"dashboardRbtnConfigArea"},[e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);"},on:{click:t.modifyContainer}},[t._v(" "+t._s(t.$t("head.update"))+" ")])])],2)],1)},s=[],n=a(63822),o=a(19229),r=a.n(o),l=a(31823),d=a.n(l),c=a(66281),p=a.n(c),h=a(80140),u=a(37662),m={name:"DashboardModify",props:{containerInfo:Object,dashConstInfo:Object},components:{DashboardConfigStructure:h["default"]},computed:{...(0,n.rn)(["userInfo"])},methods:{async modifyContainer(){if(0===this.$refs.dashboardConfigStructure.componentList.length)return void this.$alert({type:"alert",message:this.$t("dashboard.deploy.noComponent")});let t=!0,e=null;const a=this.$refs.dashboardConfigStructure.containerOptions;for(const l in a){if((l.startsWith("xViewMinData")||l.startsWith("xViewTrans")||l.startsWith("xViewYAxisMax"))&&!r()(a[l])){e=this.$t("dashboard.enter.xview.numericalCheck"),t=!1;break}if(l.startsWith("xViewTrans")&&(a[l]<.1||a[l]>1)){e=this.$t("dashboard.enter.xview.rangeCheck"),t=!1;break}if((l.startsWith("datatable")||l.startsWith("exceptionLog")||l.startsWith("instanceSummary"))&&!r()(a[l])){e=this.$t("dashboard.enter.number"),t=!1;break}}if(!t)return this.$alert({type:"warn",message:e}),!1;const i=p()(this.containerInfo),s=i.monitorContainerUsers.find((({pk:{containerUserId:t}})=>t===this.userInfo.userId));s.selectYn="Y",s.containerOptions=JSON.stringify(a);const n=new u.p0("/api/monitoring/container"),o=await n.update(d()({...i,monitorComponents:p()(this.$refs.dashboardConfigStructure.componentList).map((t=>(t.containerId=this.containerInfo.containerId,t)))},{...p()(this.$refs.dashboardConfigStructure.containerInfo),monitorContainerUsers:i.monitorContainerUsers}),!0);"ok"===o.data.result&&(this.$alert({type:"normal",message:this.$t("dashboard.add.success")}),this.changeContainer())},changeContainer(){this.unloadContainer(),this.$emit("changeContainer","view")},unloadContainer(){this.$refs.dashboardConfigStructure.unloadContainer()}}},g=m,f=a(43736),y=(0,f.Z)(g,i,s,!1,null,null,null),v=y.exports},97976:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"queueChartRoot"},[e("div",{staticClass:"row gate-row-wrp flex-1",style:t.style},t._l(2,(function(a){return e("div",{key:a,staticClass:"col-6"},t._l(t.targetInfoList?t.targetInfoList.filter(((t,e)=>a-1===e%2)):[],(function(a,i){return e(a.component,{key:`${i}_${a.targetId}`,tag:"component",attrs:{data:a.data},on:{filterTarget:t.filterTarget}})})),1)})),0),t.isShowLegend?e("div",{staticClass:"d-flex-space"},[e("div",{staticClass:"legend legend-square"},[e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-cht-9"}),t._v(t._s(t.$t("dashboard.legend.square.message")))]),e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-cht-1"}),t._v(t._s(t.$t("dashboard.legend.square.consumer")))])]),e("div",{staticClass:"legend"},[e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-normal"}),t._v(t._s(t.$t("dashboard.legend.status.normal")))]),e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-warn"}),t._v(t._s(t.$t("dashboard.legend.status.warn")))]),e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-cht-1"}),t._v(t._s(t.$t("dashboard.legend.status.error")))]),e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-danger"}),t._v(t._s(t.$t("dashboard.legend.status.fetal")))]),e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-down"}),t._v(t._s(t.$t("dashboard.legend.status.down")))])])]):t._e()])},s=[],n=(a(57658),a(37662)),o={name:"DashboardQueueChart",props:{options:Object},data(){return{targetInfoList:[],isShowLegend:!1,style:{height:null}}},mounted(){this.initQueueChart()},methods:{initQueueChart(){this.isShowLegend="Y"===this.options.remarkYn,this.$nextTick((()=>{this.style.height=this.isShowLegend?`calc(100% - ${this.$el.querySelector(".d-flex-space").offsetHeight}px)`:"100%"}))},addTarget(t){t.data={targetId:t.targetId,status:"Normal",isDown:!1,isFiltered:!1,messageCount:0,consumerCount:0,messageWarningYn:"N",consumerWarningYn:"N"},t.component={template:`\n\t\t\t\t\t<div class="gate-row" :style="rootElementStyle">\n\t\t\t\t\t\t<div class="gate">\n\t\t\t\t\t\t\t<i class="iconb-warn" title="Down" v-if="isDown"></i>\n\t\t\t\t\t\t\t<i :class="[statusDefaultClass, statusDataClass]"></i>\n\t\t\t\t\t\t\t<a href="javascript:void(0)" class="t-xs" data-toggle="tooltip" :title="targetId" @click="filterTarget">{{ targetId }}</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="gate-graph">\n\t\t\t\t\t\t\t<div class="progress up">\n\t\t\t\t\t\t\t\t<div class="progress-bar bg-cht-9" role="progressbar" :style="messageGraphStyle">\n\t\t\t\t\t\t\t\t\t<span class="t-xs">{{ messageCount }}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="progress">\n\t\t\t\t\t\t\t\t<div class="progress-bar bg-cht-1" role="progressbar" :style="consumerGraphStyle">\n\t\t\t\t\t\t\t\t\t<span class="t-xs">{{ consumerCount }}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="status-msg">\n\t\t\t\t\t\t\t<i class="icon-message" data-toggle="tooltip" data-placement="top" title="${this.$t("dashboard.warn.message")}" v-if="isMessageWarning"></i>\n\t\t\t\t\t\t\t<i class="icon-consumer" data-toggle="tooltip" data-placement="top" title="${this.$t("dashboard.warn.consumer")}" v-if="isConsumerWarning"></i> \n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\t\t\t\t\n\t\t\t\t`,props:{data:{type:Object,default:()=>({targetId:null,status:"Normal",isDown:!1,isFiltered:!1,messageCount:0,consumerCount:0,messageWarningYn:"N",consumerWarningYn:"N"})}},computed:{targetId(){return(0,n.Xv)(this.data.targetId)},statusDataClass(){const t=this.data.status;return"Normal"===t?"bg-normal":"Warn"===t?"bg-warn":"bg-normal"},isDown(){return this.data.isDown},rootElementStyle(){return{opacity:this.data.isFiltered?.2:1}},messageCount(){return this.data.messageCount},consumerCount(){return this.data.consumerCount},messageGraphStyle(){return{width:`${(this.messageCount/(this.messageCount+this.consumerCount)*100||0).toFixed(2)}%`}},consumerGraphStyle(){return{width:`${(this.consumerCount/(this.messageCount+this.consumerCount)*100||0).toFixed(2)}%`}},isMessageWarning(){return"Y"===this.data.messageWarningYn},isConsumerWarning(){return"Y"===this.data.consumerWarningYn}},data(){return{statusDefaultClass:"status"}},methods:{filterTarget(){this.$emit("filterTarget",{targetId:this.targetId,isFiltered:this.data.isFiltered})}}},this.targetInfoList.push(t)},deleteTarget(t){const e=this.targetInfoList.find((e=>e.targetId===t));e&&(this.targetInfoList=this.targetInfoList.filter((e=>e.targetId!==t)))},deleteTargetAll(){this.targetInfoList=[]},updateTarget(t,e){const a=this.targetInfoList.find((e=>e.targetId===t));a&&(e.isDataEmpty?(a.data.status="Down",a.data.isDown="Y"!==e.downStatus,a.data.messageCount=0,a.data.consumerCount=0):a.data.isDown=!1)},addData(t){t.forEach((t=>{const e=this.targetInfoList.find((e=>e.targetId===t.instanceId));e&&(e.data.status=t.status,e.data.messageCount=t.messageCount,e.data.consumerCount=t.consumerCount,e.data.messageWarningYn=t.messageWarningYn,e.data.consumerWarningYn=t.consumerWarningYn)}))},filterTarget(t){this.$emit("filter-target",t)},filterData({targetId:t,isFiltered:e}){const a=this.targetInfoList.find((e=>e.targetId===t));a&&(a.data.isFiltered=e)},unload(){this.targetInfoList=null}}},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,"33d5301b",null),c=d.exports},15012:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"speedBarChartRoot"},[e("div",{ref:"transaction",staticClass:"transaction flex-1"},[e("div",{staticClass:"transaction-status"},[e("ul",[e("li",[e("span",[t._v("RPS")]),e("span",{staticClass:"num"},[t._v(t._s(t.rpsCnt))])]),e("li",[e("span",[t._v("TPS")]),e("span",{staticClass:"num"},[t._v(t._s(t.tpsCnt))])])])]),e("div",{staticClass:"transaction-info"},[e("div",{ref:"rps",staticClass:"rps",style:t.rpsStyle},[e("canvas",{ref:"canvasRps",attrs:{width:t.canvasRpsWidth,height:t.canvasRpsHeight}})]),e("div",{ref:"tps",staticClass:"tps",style:t.tpsStyle},[e("canvas",{ref:"canvasTps",attrs:{width:t.canvasTpsWidth,height:t.canvasTpsHeight}})]),e("div",{ref:"activeTransactions",staticClass:"activeTransactions",style:t.activeTransactionsStyle},[e("canvas",{ref:"canvasActiveTransactionsBg",style:t.canvasActiveTransactionsBgStyle,attrs:{width:t.canvasActiveTransactionsBgWidth,height:t.canvasActiveTransactionsBgHeight}})])])]),t.isShowLegend?e("div",{staticClass:"legend transaction-legend"},[e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-normal"}),t._v(t._s(t.$t("head.normal")))]),e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-warn"}),t._v(t._s(t.$t("head.warn")))]),e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-danger"}),t._v(t._s(t.$t("head.serious")))])]):t._e()])},s=[],n=(a(57658),a(34531)),o=a.n(n),r=a(37662),l=a(13513),d={name:"DashboardSpeedBarChart",props:{options:Object,dashConstInfo:Object},data(){return{isShowLegend:!1,rpsStyle:{position:"absolute",top:"0px",left:"0px",width:"50%",height:"100%"},tpsStyle:{position:"absolute",top:"0px",left:"50%",width:"50%",height:"100%"},activeTransactionsStyle:{position:"absolute",top:"0px",left:"25%",width:"50%",height:"100%"},canvasActiveTransactionsBgStyle:{position:"absolute",left:"0px"},canvasRpsWidth:null,canvasRpsHeight:null,canvasTpsWidth:null,canvasTpsHeight:null,canvasActiveTransactionsBgWidth:null,canvasActiveTransactionsBgHeight:null,rpsCnt:0,tpsCnt:0,rpsDataArr:[],tpsDataArr:[],activeTransactionDataArr:[],rpsCoordObjArr:[],tpsCoordObjArr:[],activeTransactionCoordObjArr:[],start:null,canvasRpsCtx:null,canvasTpsCtx:null,activeTransactionDemo:null,rpsImgWidth:95,rpsImgHeight:16,tpsImgWidth:95,tpsImgHeight:16,activeTransactionEffectCntArr:[50,100,150]}},created(){this.activeTransactionBgImg=new Image,this.activeTransactionBgImg.src=a(82460)(`./traffic-${"Y"===this.options.darkmodeYn?"dark":"light"}.png`)},mounted(){this.initSpeedBarChart(),this.$nextTick((()=>{this.initMakeActiveTransactionTag(),this.initActiveTransactionAnimationEffect(),this.canvasRpsCtx=this.$refs.canvasRps.getContext("2d"),this.canvasTpsCtx=this.$refs.canvasTps.getContext("2d"),this.resize()}))},methods:{initSpeedBarChart(){this.isShowLegend="Y"===this.options.remarkYn},initMakeActiveTransactionTag(){this.activeTransactionDemo=Sketch.create({container:this.$refs.activeTransactions,retina:"auto",autopause:!1}),this.activeTransactionDemo.canvas.style.position="absolute",this.activeTransactionDemo.canvas.style.left="0px"},initActiveTransactionAnimationEffect(){const t=100,e=["#62d36f","#efc402","#ed3137"],a=[],i=[];this.activeTransactionDemo.spawn=(s,n,o)=>{let r,d,c,p=0;if(0<this.activeTransactionCoordObjArr.length&&(0===o?p=this.activeTransactionCoordObjArr[0].dataObj.cnt1:1===o?p=this.activeTransactionCoordObjArr[0].dataObj.cnt2:2===o&&(p=this.activeTransactionCoordObjArr[0].dataObj.cnt3)),0===p)return;a.length>=t&&i.push(a.shift()),r=i.length?i.pop():new l.hp;const h=p>=this.activeTransactionEffectCntArr[2]?.2:p>=this.activeTransactionEffectCntArr[1]?.15:.1;r.init(s,n,random(5,this.canvasActiveTransactionsBgHeight*h)),r.wander=random(.5,2),r.color=e[o],r.drag=p>=this.activeTransactionEffectCntArr[2]?random(.9,.99):p>=this.activeTransactionEffectCntArr[1]?random(.8,.89):random(.7,.79),d=random(TWO_PI),c=random(2,8),r.vx=sin(d)*c,r.vy=cos(d)*c,a.push(r)},this.activeTransactionDemo.update=()=>{let t,e;for(t=a.length-1;t>=0;t--)e=a[t],e.alive?e.move():i.push(a.splice(t,1)[0])},this.activeTransactionDemo.draw=()=>{this.activeTransactionDemo.setTransform(1,0,0,1,0,0);for(let t=a.length-1;t>=0;t--)a[t].draw(this.activeTransactionDemo);for(let t=0;t<3;t++){let a=0;0<this.activeTransactionCoordObjArr.length&&(a=0===t?this.activeTransactionCoordObjArr[0].dataObj.cnt1:1===t?this.activeTransactionCoordObjArr[0].dataObj.cnt2:this.activeTransactionCoordObjArr[0].dataObj.cnt3),this.activeTransactionDemo.beginPath(),this.activeTransactionDemo.strokeStyle=e[t],this.activeTransactionDemo.fillStyle=e[t];const i=this.canvasActiveTransactionsBgWidth/6*(0===t?1.5:1===t?3:4.5),s=a>=this.activeTransactionEffectCntArr[2]?.25:a>=this.activeTransactionEffectCntArr[1]?.2:.15;this.activeTransactionDemo.arc(i,this.canvasActiveTransactionsBgHeight/2,this.canvasActiveTransactionsBgHeight*s,0,2*Math.PI),this.activeTransactionDemo.stroke(),this.activeTransactionDemo.fill(),this.activeTransactionDemo.font="13px Arial",this.activeTransactionDemo.textAlign="center",this.activeTransactionDemo.fillStyle="#ffffff",this.activeTransactionDemo.fillText(a,i,this.canvasActiveTransactionsBgHeight/2+5),this.activeTransactionDemo.closePath()}}},addData(t){const e=t[0],a=Date.now();this.rpsDataArr.push({timestamp:a,cnt:e.rps}),this.tpsDataArr.push({timestamp:a,cnt:e.tps,cnt1:e.tpsShort,cnt2:e.tpsMiddle,cnt3:e.tpsLong}),this.activeTransactionDataArr.push({timestamp:a,cnt1:e.activeShort,cnt2:e.activeMiddle,cnt3:e.activeLong})},initMakeRpsCoordObj(){if(0===this.rpsDataArr.length)return void(this.rpsCnt=0);1<this.rpsDataArr.length&&this.rpsDataArr.shift();const t={timestamp:Date.now(),coordArr:[]},e=this.rpsDataArr[0].cnt,a=e>12?12:e;for(let i=0;i<a;i++)t.coordArr.push({startXCoord:-this.rpsImgWidth*(i+1)});this.rpsCoordObjArr.push(t),this.rpsCnt=e},initRemoveRpsCoordObj(){if(0===this.rpsCoordObjArr.length)return;const t=Date.now();this.rpsDataArr=this.rpsDataArr.filter((e=>e.timestamp+1e3*this.dashConstInfo.dataIntervalSeconds*2>=t)),this.rpsCoordObjArr=this.rpsCoordObjArr.filter((e=>e.timestamp+1e3>=t))},initMakeTpsCoordObj(){if(0===this.tpsDataArr.length)return void(this.tpsCnt=0);1<this.tpsDataArr.length&&this.tpsDataArr.shift();const t={timestamp:Date.now(),coordArr:[]};let e=0,a=0,i=0;12<this.tpsDataArr[0].cnt?(a=Math.ceil(12*this.tpsDataArr[0].cnt2/this.tpsDataArr[0].cnt),i=Math.ceil(12*this.tpsDataArr[0].cnt3/this.tpsDataArr[0].cnt),e=12-(a+i)):(a=this.tpsDataArr[0].cnt2,i=this.tpsDataArr[0].cnt3,e=this.tpsDataArr[0].cnt1);for(let s=0;s<e;s++)t.coordArr.push({startXCoord:null,type:1});for(let s=0;s<a;s++)t.coordArr.push({startXCoord:null,type:2});for(let s=0;s<i;s++)t.coordArr.push({startXCoord:null,type:3});t.coordArr=(0,l.TV)(t.coordArr),t.coordArr.forEach(((t,e)=>{t.startXCoord=this.canvasActiveTransactionsBgWidth/2-this.tpsImgWidth*(e+1)})),this.tpsCoordObjArr.push(t),this.tpsCnt=this.tpsDataArr[0].cnt},initRemoveTpsCoordObj(){if(0===this.tpsCoordObjArr.length)return;const t=Date.now();this.tpsDataArr=this.tpsDataArr.filter((e=>e.timestamp+1e3*this.dashConstInfo.dataIntervalSeconds*2>=t)),this.tpsCoordObjArr=this.tpsCoordObjArr.filter((e=>e.timestamp+1e3>=t))},initMakeActiveTransactionCoordObj(){0!==this.activeTransactionDataArr.length&&(1<this.activeTransactionDataArr.length&&this.activeTransactionDataArr.shift(),this.activeTransactionCoordObjArr.push({timestamp:Date.now(),dataObj:{cnt1:this.activeTransactionDataArr[0].cnt1,cnt2:this.activeTransactionDataArr[0].cnt2,cnt3:this.activeTransactionDataArr[0].cnt3}}))},initRemoveActiveTransactionData(){if(0===this.activeTransactionCoordObjArr.length)return;const t=Date.now();this.activeTransactionDataArr=this.activeTransactionDataArr.filter((e=>e.timestamp+1e3*this.dashConstInfo.dataIntervalSeconds*2>=t)),this.activeTransactionCoordObjArr=this.activeTransactionCoordObjArr.filter((e=>e.timestamp+1e3>=t))},rpsRequestAnimationFrame(t){if(!this.$refs.canvasRps)return;this.canvasRpsCtx.clearRect(0,0,this.canvasRpsCtx.canvas.width,this.canvasRpsCtx.canvas.height);const e=Date.now(),a=this.rpsCoordObjArr.find((t=>t.timestamp+1e3>e));if(!a)return;const i=t*((this.canvasRpsCtx.canvas.width-this.canvasActiveTransactionsBgWidth/2+this.rpsImgWidth*a.coordArr.length)/800);a.coordArr.forEach((t=>{t.startXCoord+=i,this.canvasRpsCtx.beginPath(),this.canvasRpsCtx.save(),this.canvasRpsCtx.moveTo(t.startXCoord,this.canvasRpsCtx.canvas.height/2),this.canvasRpsCtx.lineTo(t.startXCoord+this.rpsImgWidth,this.canvasRpsCtx.canvas.height/2),this.canvasRpsCtx.lineWidth=this.rpsImgHeight,this.canvasRpsCtx.lineCap="round";const e=this.canvasRpsCtx.createLinearGradient(t.startXCoord,0,t.startXCoord+this.rpsImgWidth,0);e.addColorStop(0,o().helpers.color("#42c4e1").alpha(0).rgbString()),e.addColorStop(.1,o().helpers.color("#42c4e1").alpha(.1).rgbString()),e.addColorStop(.2,o().helpers.color("#42c4e1").alpha(.2).rgbString()),e.addColorStop(.3,o().helpers.color("#42c4e1").alpha(.3).rgbString()),e.addColorStop(.4,o().helpers.color("#42c4e1").alpha(.4).rgbString()),e.addColorStop(.5,o().helpers.color("#42c4e1").alpha(.5).rgbString()),e.addColorStop(.6,o().helpers.color("#42c4e1").alpha(.6).rgbString()),e.addColorStop(.7,o().helpers.color("#42c4e1").alpha(.7).rgbString()),e.addColorStop(.8,o().helpers.color("#42c4e1").alpha(.8).rgbString()),e.addColorStop(.9,o().helpers.color("#42c4e1").alpha(.9).rgbString()),e.addColorStop(1,o().helpers.color("#42c4e1").alpha(1).rgbString()),this.canvasRpsCtx.strokeStyle=e,this.canvasRpsCtx.stroke(),this.canvasRpsCtx.restore(),this.canvasRpsCtx.closePath()}))},tpsRequestAnimationFrame(t){if(!this.$refs.canvasTps)return;this.canvasTpsCtx.clearRect(0,0,this.canvasTpsCtx.canvas.width,this.canvasTpsCtx.canvas.height);const e=Date.now(),a=this.tpsCoordObjArr.find((t=>t.timestamp+1e3>e));if(!a)return;const i=t*((this.canvasTpsCtx.canvas.width-this.canvasActiveTransactionsBgWidth/2+this.tpsImgWidth*a.coordArr.length)/800);a.coordArr.forEach((t=>{t.startXCoord+=i,this.canvasTpsCtx.beginPath(),this.canvasTpsCtx.save();const e=1===t.type?"#62d36f":2===t.type?"#efc402":"#ed3137";this.canvasTpsCtx.moveTo(t.startXCoord,this.canvasTpsCtx.canvas.height/2),this.canvasTpsCtx.lineTo(t.startXCoord+this.tpsImgWidth,this.canvasTpsCtx.canvas.height/2),this.canvasTpsCtx.lineWidth=this.tpsImgHeight,this.canvasTpsCtx.lineCap="round";const a=this.canvasTpsCtx.createLinearGradient(t.startXCoord,0,t.startXCoord+this.tpsImgWidth,0);a.addColorStop(0,o().helpers.color(e).alpha(0).rgbString()),a.addColorStop(.1,o().helpers.color(e).alpha(.1).rgbString()),a.addColorStop(.2,o().helpers.color(e).alpha(.2).rgbString()),a.addColorStop(.3,o().helpers.color(e).alpha(.3).rgbString()),a.addColorStop(.4,o().helpers.color(e).alpha(.4).rgbString()),a.addColorStop(.5,o().helpers.color(e).alpha(.5).rgbString()),a.addColorStop(.6,o().helpers.color(e).alpha(.6).rgbString()),a.addColorStop(.7,o().helpers.color(e).alpha(.7).rgbString()),a.addColorStop(.8,o().helpers.color(e).alpha(.8).rgbString()),a.addColorStop(.9,o().helpers.color(e).alpha(.9).rgbString()),a.addColorStop(1,o().helpers.color(e).alpha(1).rgbString()),this.canvasTpsCtx.strokeStyle=a,this.canvasTpsCtx.stroke(),this.canvasTpsCtx.restore(),this.canvasTpsCtx.closePath()}))},activeTransactionRequestAnimationFrame(){this.activeTransactionDemo&&(this.activeTransactionDemo.spawn(this.canvasActiveTransactionsBgWidth/6*1.5,this.canvasActiveTransactionsBgHeight/2,0),this.activeTransactionDemo.spawn(this.canvasActiveTransactionsBgWidth/6*3,this.canvasActiveTransactionsBgHeight/2,1),this.activeTransactionDemo.spawn(this.canvasActiveTransactionsBgWidth/6*4.5,this.canvasActiveTransactionsBgHeight/2,2))},setInterval(){this.resize(),this.initMakeRpsCoordObj(),this.initRemoveRpsCoordObj(),this.initMakeTpsCoordObj(),this.initRemoveTpsCoordObj(),this.initMakeActiveTransactionCoordObj(),this.initRemoveActiveTransactionData()},setRequestAnimationFrame({time:t}){this.start||(this.start=t);const e=t-this.start;e<=0||(this.start=t,this.rpsRequestAnimationFrame(e),this.tpsRequestAnimationFrame(e),this.activeTransactionRequestAnimationFrame(e))},resize(){if(!this.activeTransactionDemo)return;if(Number(this.activeTransactionDemo.canvas.getAttribute("width"))===this.$refs.activeTransactions.clientWidth&&(0,r.tJ)(this.activeTransactionDemo.canvas.style.width)===this.$refs.activeTransactions.clientWidth&&Number(this.activeTransactionDemo.canvas.getAttribute("height"))===this.$refs.activeTransactions.clientHeight&&(0,r.tJ)(this.activeTransactionDemo.canvas.style.height)===this.$refs.activeTransactions.clientHeight)return;this.canvasRpsWidth=this.$refs.rps.clientWidth,this.canvasRpsHeight=this.$refs.rps.clientHeight,this.canvasTpsWidth=this.$refs.tps.clientWidth,this.canvasTpsHeight=this.$refs.tps.clientHeight,this.canvasActiveTransactionsBgWidth=this.$refs.activeTransactions.clientWidth,this.canvasActiveTransactionsBgHeight=this.$refs.activeTransactions.clientHeight;for(const e of this.$refs.activeTransactions.querySelectorAll("canvas"))if(e.classList.contains("sketch")){e.style.width=`${this.$refs.activeTransactions.clientWidth}px`,e.style.height=`${this.$refs.activeTransactions.clientHeight}px`,e.setAttribute("width",this.$refs.activeTransactions.clientWidth),e.setAttribute("height",this.$refs.activeTransactions.clientHeight);break}const t=new Image;t.src=a(82460)(`./traffic-${"Y"===this.options.darkmodeYn?"dark":"light"}.png`),t.onload=()=>{const t=this.$refs.canvasActiveTransactionsBg.getContext("2d");t.drawImage(this.activeTransactionBgImg,0,0,t.canvas.width,t.canvas.height)}},filterData(){this.rpsDataArr=[],this.rpsCoordObjArr=[],this.tpsDataArr=[],this.tpsCoordObjArr=[],this.activeTransactionDataArr=[],this.activeTransactionCoordObjArr=[],this.rpsCnt=0,this.tpsCnt=0},unload(){this.rpsDataArr=[],this.tpsDataArr=[],this.activeTransactionDataArr=[],this.rpsCoordObjArr=[],this.tpsCoordObjArr=[],this.activeTransactionCoordObjArr=[]}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,"51939bb8",null),u=h.exports},2089:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{style:t.rootStyle},[e("div",{staticClass:"sub-bar",attrs:{id:"dashBar"}},[t._t("dashboardLbtnArea"),e("div",{staticClass:"ml-auto form-inline"},[t._t("dashboardRbtnArea")],2)],2),e("div",{attrs:{id:"dashboard"},on:{click:t.dashboardClick,contextmenu:t.initContextmenu}},[e("div",{staticClass:"dashboard-inner"},["Y"===t.titleYn?e("div",{staticClass:"card",style:t.containerHeaderStyle,attrs:{id:"containerHeader"}},[e("div",{staticClass:"header"},["Y"===t.titleLogoYn?e("img",{staticClass:"logo",attrs:{src:t.logoFile}}):t._e(),t._v(" "+t._s(t.containerName)+" ")])]):t._e(),e("div",{style:t.containerBodyStyle,attrs:{id:"containerBody"}},[t._t("dashboardBodyArea")],2)]),t._t("dashboardWidgetArea"),t._t("dashboardContextMenuArea"),t._t("dashboardNoticeArea")],2)])},s=[],n=(a(57658),a(66281)),o=a.n(n),r=a(37662),l=a(63822),d={name:"DashboardStructure",props:{containerInfo:Object,containerOptions:Object},data(){return{perfItemList:[],rootStyle:{display:"contents"},containerHeaderStyle:{width:"calc(100% - 10px)",textAlign:null},containerBodyStyle:{width:"100%",height:"100%"},isViewContextmenu:!1,containerName:null,titleYn:null,titleAlign:null,titleLogoYn:null,isOutLogo:!1,logoFileName:null,logoFileExtension:null,logoHttpReq:new r.p0("/api/page/logoFileName"),logoFile:null}},async created(){r.dc.$on("MainResize",this.resize),await this.getPerfItemList(),this.$emit("initDashboardStructure",{parentData:o()(this.$data)})},computed:{...(0,l.rn)(["userInfo"])},watch:{containerInfo(){this.setContainerHeader(this.containerInfo.monitorContainerUsers.find((t=>t.pk.containerUserId===this.userInfo.userId)).containerOptions)},containerOptions:{deep:!0,handler(){this.setContainerHeader(o()(this.containerOptions))}}},methods:{async getPerfItemList(){try{const t=new r.p0("/api/monitoring/dashboard"),e=await t.read();if("ok"!==e.data.result)throw"Error Init PerfItem List";this.perfItemList=e.data.object.monitorItemList}catch(t){console.log(t)}},getTypeList(t){const e=[],a=[],i=[],s=t.monitorChartGroup,n=[{key:"LINE",value:"LINE",name:this.$t("dashboard.chart.lineChart")},{key:"COLUMN",value:"COLUMN",name:this.$t("dashboard.chart.columnChart")},{key:"INSTANCE",value:"INSTANCE",name:this.$t("dashboard.chart.instanceSummaryChart")},{key:"CONNECTOR",value:"CONNECTOR",name:this.$t("dashboard.chart.connectorSummaryChart")},{key:"QUEUE",value:"QUEUE",name:this.$t("dashboard.chart.queueSummaryChart")},{key:"THREAD",value:"THREAD",name:this.$t("dashboard.chart.threadSummaryChart")},{key:"SPEEDBAR",value:"SPEEDBAR",name:this.$t("dashboard.chart.speedBarChart")},{key:"DATATABLE",value:"DATATABLE",name:this.$t("dashboard.chart.dataTable")},{key:"EXTERNALLINE",value:"EXTERNALLINE",name:this.$t("dashboard.target.externalLine")},{key:"XVIEW",value:"XVIEW",name:this.$t("dashboard.chart.xview")},{key:"EXCEPTIONLOG",value:"EXCEPTIONLOG",name:this.$t("dashboard.chart.exceptionLog")}];s.forEach((t=>{for(let a=0;a<n.length;a++)if(t.pk.chartType==n[a].key){e.push({value:n[a].value,name:n[a].name});break}}));const o=t.monitorTargetGroup,r=[{key:"INSTANCE",value:"INSTANCE",name:this.$t("dashboard.target.instance")},{key:"ADAPTER",value:"ADAPTER",name:this.$t("dashboard.target.adapter")},{key:"CONNECTOR",value:"CONNECTOR",name:this.$t("dashboard.target.connector")},{key:"QUEUE",value:"QUEUE",name:this.$t("dashboard.target.queue")},{key:"THREAD",value:"THREAD",name:this.$t("dashboard.target.thread")},{key:"EXTERNALLINE",value:"EXTERNALLINE",name:this.$t("dashboard.target.externalLine")}];return o.forEach((t=>{for(let e=0;e<r.length;e++)if(t.pk.targetType==r[e].key){a.push({value:r[e].value,name:r[e].name});break}})),"Y"==t.inOutExistYn&&(i.push({value:"IN",name:"IN"}),i.push({value:"OUT",name:"OUT"})),{chartTypeList:e,targetTypeList:a,inoutTypeList:i}},dashboardClick(t){this.$emit("dashboardClick",t)},initContextmenu(t){t.preventDefault(),this.$emit("initContextmenu",t)},getBasicComponentStruct(){return{containerId:null,componentId:null,itemId:null,pComponentId:null,componentName:null,componentWidth:null,componentHeight:null,chartType:null,targetType:null,unitType:null,inoutType:null,componentOrder:null,componentType:null,componentTypeDirection:null,monitorComponentTargets:[]}},async setContainerHeader({titleYn:t,titleAlign:e,titleLogoYn:i}){if(this.containerName=this.containerInfo.containerName,this.titleYn=t,this.titleAlign=e,this.titleLogoYn=i,this.containerHeaderStyle.textAlign=this.titleAlign,"Y"===this.titleLogoYn){if(null===this.logoFileName||null===this.logoFileExtension){const t=await this.logoHttpReq.read({type:"menu"});if("ok"===t.data.result&&t.data.object){this.isOutLogo=!0;const e=t.data.object.split(".");this.logoFileExtension=e[e.length-1],this.logoFileName=t.data.object.replace(`.${this.logoFileExtension}`,"")}else this.isOutLogo=!1,this.logoFileExtension="svg",this.logoFileName="logo"}let t=null;t=(null===this.containerInfo.darkmodeYn||"Y"===this.containerInfo.darkmodeYn)&&document.querySelector(".wrap").classList.contains("dark");const e=`${this.logoFileName}${t?"_wh":""}.${this.logoFileExtension}`;this.logoFile=this.isOutLogo?(0,r.u5)(`/custom/img/${e}`):a(25459)(`./${e}`)}this.resize()},resize(){const t=document.querySelector("#dashBar");t&&(0<t.offsetWidth||0<t.offsetHeight?(this.containerHeaderStyle.width="100%",this.containerBodyStyle.width="100%",this.containerBodyStyle.height="Y"===this.titleYn?"calc(100% - 70px) !important":"100%"):(this.containerHeaderStyle.width=`${this.containerInfo.containerWidth}px`,this.containerBodyStyle.width=`${this.containerInfo.containerWidth}px`,this.containerBodyStyle.height="Y"===this.titleYn?this.containerInfo.containerHeight-70+"px !important":`${this.containerInfo.containerHeight}px`))}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},16508:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"threadChartRoot"},[e("div",{staticClass:"row gate-row-wrp flex-1",style:t.style},t._l(2,(function(a){return e("div",{key:a,staticClass:"col-6"},t._l(t.targetInfoList?t.targetInfoList.filter(((t,e)=>a-1===e%2)):[],(function(a,i){return e(a.component,{key:`${i}_${a.targetId}`,tag:"component",attrs:{data:a.data},on:{filterTarget:t.filterTarget}})})),1)})),0),t.isShowLegend?e("div",{staticClass:"d-flex-space"},[e("div",{staticClass:"legend legend-square"},[e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-cht-10"}),t._v(t._s(t.$t("dashboard.legend.square.activeThread")))]),e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-cht-10-l"}),t._v(t._s(t.$t("dashboard.legend.square.idleThread")))])]),e("div",{staticClass:"legend"},[e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-normal"}),t._v(t._s(t.$t("dashboard.legend.status.normal")))]),e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-warn"}),t._v(t._s(t.$t("dashboard.legend.status.warn")))]),e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-cht-1"}),t._v(t._s(t.$t("dashboard.legend.status.shutdown")))]),e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-down"}),t._v(t._s(t.$t("dashboard.legend.status.terminating")))]),e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-alarm"}),t._v(t._s(t.$t("dashboard.legend.status.terminated")))]),e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-danger"}),t._v(t._s(t.$t("dashboard.legend.status.fail")))])])]):t._e()])},s=[],n=(a(57658),a(37662)),o={name:"DashboardThreadChart",props:{options:Object},data(){return{targetInfoList:[],isShowLegend:!1,style:{height:null}}},mounted(){this.initThreadChart()},methods:{initThreadChart(){this.isShowLegend="Y"===this.options.remarkYn,this.$nextTick((()=>{this.style.height=this.isShowLegend?`calc(100% - ${this.$el.querySelector(".d-flex-space").offsetHeight}px)`:"100%"}))},addTarget(t){t.data={targetId:t.targetId,status:"Normal",isDown:!1,isFiltered:!1,threadActive:0,threadIdle:0},t.component={template:'\n\t\t\t\t\t<div class="gate-row" :style="rootElementStyle">\n\t\t\t\t\t\t<div class="gate">\n\t\t\t\t\t\t\t<i class="iconb-warn" title="Down" v-if="isDown"></i>\n\t\t\t\t\t\t\t<i :class="[statusDefaultClass, statusDataClass]"></i>\n\t\t\t\t\t\t\t<a href="javascript:void(0)" class="t-xs" data-toggle="tooltip" :title="targetId" @click="filterTarget">{{ targetId }}</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="gate-graph">\n\t\t\t\t\t\t\t<div class="progress up">\n\t\t\t\t\t\t\t\t<div class="progress-bar bg-cht-9" role="progressbar" :style="activeGraphStyle">\n\t\t\t\t\t\t\t\t\t<span class="t-xs">{{ threadActive }}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="progress">\n\t\t\t\t\t\t\t\t<div class="progress-bar bg-cht-1" role="progressbar" :style="idleGraphStyle">\n\t\t\t\t\t\t\t\t\t<span class="t-xs">{{ threadIdle }}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="status-msg"></div>\n\t\t\t\t\t</div>\t\t\t\t\n\t\t\t\t',props:{data:{type:Object,default:()=>({targetId:null,status:"Normal",isDown:!1,isFiltered:!1,threadActive:0,threadIdle:0})}},computed:{targetId(){return(0,n.Xv)(this.data.targetId)},statusDataClass(){const t=this.data.status;return"Normal"===t?"bg-normal":"Warn"===t?"bg-warn":"bg-normal"},isDown(){return this.data.isDown},rootElementStyle(){return{opacity:this.data.isFiltered?.2:1}},threadActive(){return this.data.threadActive},threadIdle(){return this.data.threadIdle},activeGraphStyle(){return{width:`${(this.threadActive/(this.threadActive+this.threadIdle)*100||0).toFixed(2)}%`}},idleGraphStyle(){return{width:`${(this.threadIdle/(this.threadActive+this.threadIdle)*100||0).toFixed(2)}%`}}},data(){return{statusDefaultClass:"status"}},methods:{filterTarget(){this.$emit("filterTarget",{targetId:this.targetId,isFiltered:this.data.isFiltered})}}},this.targetInfoList.push(t)},deleteTarget(t){const e=this.targetInfoList.find((e=>e.targetId===t));e&&(this.targetInfoList=this.targetInfoList.filter((e=>e.targetId!==t)))},updateTarget(t,e){const a=this.targetInfoList.find((e=>e.targetId===t));a&&(e.isDataEmpty?(a.data.status="Down",a.data.isDown="Y"!==e.downStatus,a.data.threadActive=0,a.data.threadIdle=0):a.data.isDown=!1)},addData(t){t.forEach((t=>{const e=this.targetInfoList.find((e=>e.targetId===t.instanceId));e&&(e.data.status=t.status,e.data.threadActive=t.threadActive,e.data.threadIdle=t.threadIdle)}))},filterTarget(t){this.$emit("filter-target",t)},filterData({targetId:t,isFiltered:e}){const a=this.targetInfoList.find((e=>e.targetId===t));a&&(a.data.isFiltered=e)},unload(){this.targetInfoList=null}}},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,"d1b272d6",null),c=d.exports},68419:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return v}});var i=function(){var t=this,e=t._self._c;return e("DashboardStructure",{ref:"dashboardStructure",attrs:{containerInfo:t.selectedContainerInfo},on:{initDashboardStructure:t.initDashboardView,initContextmenu:t.initContextmenu,dashboardClick:t.dashboardClick}},[e("template",{slot:"dashboardLbtnArea"},[e("div",{staticClass:"form-inline"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedContainerId,expression:"selectedContainerId"}],staticClass:"form-control",style:{maxWidth:"300px",textOverflow:"ellipsis"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedContainerId=e.target.multiple?a:a[0]},function(e){return t.initDashboardView({containerId:t.selectedContainerId})}]}},[e("option",{attrs:{value:"-"}},[t._v(t._s(t.$t("dashboard.select.container")))]),t._l(t.containerList,(function(a,i){return e("option",{key:i,domProps:{value:a.containerId}},[t._v(" "+t._s(a.containerName)+" ")])}))],2)])]),e("template",{slot:"dashboardRbtnArea"},[t.viewer?e("button",{class:t.viewNoticeBtnClass,attrs:{type:"button"},on:{click:t.viewNotice}},[e("span",{staticClass:"custom-control-label",staticStyle:{width:"105px"}},[t._v(" "+t._s(t.$t("dashboard.notification.settings"))+" ")])]):t._e(),t.viewer?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);"},on:{click:t.noticeHistoryList}},[e("i",{staticClass:"icon-list"}),t._v(" "+t._s(t.$t("dashboard.notification.history.list"))+" ")]):t._e(),t.viewer&&!t.isSafari?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);"},on:{click:t.previewContainer}},[e("i",{staticClass:"icon-eye"}),t._v(" "+t._s(t.$t("dashboard.head.full.screen"))+" ")]):t._e(),t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);"},on:{click:t.shareContainer}},[e("i",{staticClass:"icon-share"}),t._v(" "+t._s(t.$t("head.share"))+" ")]):t._e(),t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);"},on:{click:t.migrationContainer}},[e("i",{staticClass:"icon-model"}),t._v(" "+t._s(t.$t("head.migration"))+" ")]):t._e(),t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);"},on:{click:t.copyContainer}},[e("i",{staticClass:"icon-plus"}),t._v(" "+t._s(t.$t("head.copy"))+" ")]):t._e(),t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);"},on:{click:t.modifyContainerMode}},[e("i",{staticClass:"icon-edit"}),t._v(" "+t._s(t.$t("head.update"))+" ")]):t._e(),t.editor?e("a",{staticClass:"btn",attrs:{href:"javascript:void(0);"},on:{click:t.deleteContainer}},[e("i",{staticClass:"icon-delete"}),t._v(" "+t._s(t.$t("head.delete"))+" ")]):t._e(),t.editor?e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);"},on:{click:t.saveContainerMode}},[e("i",{staticClass:"icon-plus"}),t._v(" "+t._s(t.$t("dashboard.head.add.dashboard"))+" ")]):t._e()]),e("template",{slot:"dashboardBodyArea"},[e("DashboardViewBody",{ref:"dashboardViewBody",attrs:{containerInfo:t.selectedContainerInfo,containerUserInfo:t.selectedContainerUserInfo,perfItemList:t.perfItemList,instanceList:t.instanceList,adapterList:t.adapterList,connectorList:t.connectorList,queueList:t.queueList,threadList:t.threadList,externalLineList:t.externalLineList,dashConstInfo:t.dashConstInfo},on:{filterTarget:t.filterTarget}})],1),e("template",{slot:"dashboardContextMenuArea"},[t.isViewContextmenu?e("div",{ref:"dashContextMenu",style:t.dashContextMenuStyle,attrs:{id:"dashContextMenu"}},[e("ul",{ref:"menu"},[e("li",{attrs:{id:"dashChangeMenu"},on:{mouseenter:t.dashChangeMenuMouseEnter}},[e("i",{staticClass:"icon-result"}),t._v(" "+t._s(t.$t("dashboard.context.dashChange"))+" "),e("div",{staticStyle:{float:"right"}},[e("i",{staticClass:"icon-right"})])]),e("li",{attrs:{id:"fullscreenExitMenu"},on:{mouseenter:t.fullscreenExitMenuMouseEnter,click:t.fullscreenExitMenuClick}},[e("i",{staticClass:"icon-eye"}),t._v(" "+t._s(t.$t("dashboard.context.exit.fullscreen"))+" ")])]),t.isViewDashContextSetting?e("div",{ref:"dashContextSetting",staticClass:"row frm-row",style:t.dashContextSettingStyle,attrs:{id:"dashContextSetting"}},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.dashboard")))]),e("button",{staticClass:"btn-icon",staticStyle:{position:"absolute",right:"9px",height:"1.3rem"},attrs:{name:"close",type:"button"},on:{click:t.closeDashContextSetting}},[e("i",{staticClass:"icon-close",staticStyle:{"font-size":"0.75rem"},attrs:{name:"close"},on:{click:t.closeDashContextSetting}})])]),e("div",{staticClass:"input-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedcontextMenuContainerId,expression:"selectedcontextMenuContainerId"}],staticClass:"form-control",attrs:{size:"9"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedcontextMenuContainerId=e.target.multiple?a:a[0]}}},t._l(t.containerList,(function(a,i){return e("option",{key:i,domProps:{value:a.containerId}},[t._v(" "+t._s(a.containerName)+" ")])})),0)])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("dashboard.head.movement.form")))])]),e("div",{staticClass:"input-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.contextMenuMoveType,expression:"contextMenuMoveType"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.contextMenuMoveType=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"current"}},[t._v(t._s(t.$t("dashboard.moveType.current")))]),e("option",{attrs:{value:"new"}},[t._v(t._s(t.$t("dashboard.moveType.new")))])]),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn",attrs:{type:"button"},on:{click:t.containerMove}},[t._v(t._s(t.$t("head.move")))])])])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"input-group"},[e("div",{staticClass:"input-group-append",staticStyle:{width:"100%","margin-left":"0px"}},[e("button",{staticClass:"btn",staticStyle:{width:"100%"},attrs:{type:"button"},on:{click:t.containerClose}},[t._v(" "+t._s(t.$t("dashboard.head.close.current.dashboard"))+" ")])])])])])]):t._e()]):t._e()]),e("template",{slot:"dashboardNoticeArea"},[e("section",{directives:[{name:"show",rawName:"v-show",value:t.isViewNoticeArea,expression:"isViewNoticeArea"}],staticClass:"card",style:t.noticeAreaStyle,attrs:{id:"noticeArea"}},[e("h2",{staticClass:"card-header",staticStyle:{padding:"0px"}},[e("ul",[e("li",{staticClass:"nav-link"},[e("i",{staticClass:"gicon-txns"}),e("span",[t._v(t._s(t.$t("dashboard.notification")))])]),e("li",{staticClass:"nav-link export-nav-link close",staticStyle:{padding:"0 0.8rem 0 0",cursor:"pointer"}},[e("i",{staticClass:"icon-close",on:{click:t.noticeAreaClose}})])])]),e("div",{staticClass:"card-body",staticStyle:{"padding-top":"0px","overflow-y":"auto"}},[e("TuiGrid",t._b({ref:"noticeGrid"},"TuiGrid",t.noticeGridOptions,!1))],1)])])],2)},s=[],n=(a(57658),a(63822)),o=a(37856),r=a(66281),l=a.n(r),d=a(36797),c=a.n(d),p=a(37662),h=a(2089),u=a(71645),m={name:"DashboardView",components:{DashboardStructure:h["default"],DashboardViewBody:u["default"],TuiGrid:o.Grid},props:{viewer:{type:Boolean,default:!1},editor:{type:Boolean,default:!1},dashConstInfo:Object},data(){return{webSocketUrl:null,containerList:[],selectedContainerId:"-",selectedContainerInfo:null,selectedContainerUserInfo:null,selectedcontextMenuContainerId:null,contextMenuMoveType:"current",perfItemList:[],instanceList:[],adapterList:[],connectorList:[],queueList:[],threadList:[],externalLineList:[],intervalObj:{time:null,measurementTime:null,isRecvTime:!1},intervalWorker:null,rafId:null,webSocketWorker:null,webSocket:null,minContainerWidth:1280,minContainerHeight:1024,isViewContextmenu:!1,isViewDashContextSetting:!1,dashContextMenuStyle:{position:"absolute",top:null,left:null},dashContextSettingStyle:{position:"fixed",paddingTop:"10px",top:null,left:null},viewNoticeBtnClass:{"custom-control":!0,"custom-switch":!0,"btn-widget":!0,checked:!1},noticeDataList:[],noticeDataHistoryList:[],isViewNoticeArea:!1,noticeAreaStyle:{width:`${this.dashConstInfo.noticeAreaWidth}px`,height:`${this.dashConstInfo.noticeAreaHeight}px`},temporaryCloseStartTime:null,noticeGridOptions:{columns:[{name:"noticeDateTime",header:`${this.$t("dashboard.notification")} ${this.$t("head.time")}`,align:"center",width:this.dashConstInfo.noticeDateTimeColWidth},{name:"instanceId",header:`${this.$t("igate.instance")} ID`,width:this.dashConstInfo.noticeInstanceIdColWidth},{name:"message",header:this.$t("igate.message"),width:this.dashConstInfo.noticeMessageColWidth},{name:"status",header:this.$t("head.status"),align:"center",width:this.dashConstInfo.noticeStatusColWidth}]},targetSyncRefreshTime:null,isDestroy:!1,isSafari:/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},computed:{...(0,n.rn)(["userInfo"])},async created(){this.noticeGridOptions=(0,p.d_)(this.noticeGridOptions)},methods:{async getContainerList(){try{let t=new p.p0("/api/monitoring/container/search"),e=await t.read();if("ok"!==e.data.result)throw"Error Init Container List";const a=[];e.data.object.forEach((i=>{a.push(new Promise((a=>{(async()=>{t=new p.p0("/api/monitoring/container"),e=await t.read(i),a(e.data.object)})()})))}));const i=await Promise.all(a);this.containerList=i}catch(t){console.log(t)}},async getTargetInfo(){try{const t=new p.p0("/api/monitoring/component"),e=await t.read();if("ok"!==e.data.result)throw"Error Init Target Info";const{instanceList:a,adapterList:i,connectorList:s,queueList:n,threadList:o,externalLineList:r}=e.data.object;this.instanceList=a.map(((t,e)=>(t.color=this.dashConstInfo.COLORS[e],t.isFiltered=!1,t))),this.adapterList=i,this.connectorList=s,this.queueList=n,this.threadList=o,this.externalLineList=r}catch(t){console.log(t)}},async getWebSocketUrl(){try{const t=new p.p0("/api/monitoring/dashboard"),e=await t.read();if("ok"!==e.data.result)throw"Error get message url";this.webSocketUrl=`${e.data.object.monitorUrl}/message`}catch(t){console.log(t)}},async initDashboardView({parentData:t,containerId:e}){if(await this.getContainerList(),t){await this.getTargetInfo(),await this.getWebSocketUrl();const{perfItemList:e}=t;if(this.perfItemList=e,localStorage.getItem("paramSelectedContainerId"))this.selectedContainerId=localStorage.getItem("paramSelectedContainerId"),localStorage.removeItem("paramSelectedContainerId");else{for(let t=0;t<this.containerList.length;t++){const{selectYn:e}=this.containerList[t].monitorContainerUsers.find((t=>t.pk.containerUserId===this.userInfo.userId));if("Y"===e){this.selectedContainerId=this.containerList[t].containerId;break}}"-"===this.selectedContainerId&&(this.selectedContainerId=this.containerList[0].containerId)}}else this.unloadContainer(),this.selectedContainerId=e;this.selectedContainerInfo=l()(this.containerList.find((t=>t.containerId===this.selectedContainerId))),this.selectedContainerUserInfo=this.selectedContainerInfo.monitorContainerUsers.find((t=>t.pk.containerUserId===this.userInfo.userId)),this.selectedContainerUserInfo.selectYn="Y",this.selectedContainerUserInfo.containerOptions=this.selectedContainerUserInfo.containerOptions?JSON.parse(this.selectedContainerUserInfo.containerOptions):{},this.updateContainer(),this.viewNoticeBtnClass.checked=!!this.selectedContainerUserInfo.containerOptions[`isViewNotice_${this.selectedContainerId}`],document.querySelector(".wrap").classList["Y"===this.selectedContainerInfo.darkmodeYn?"add":"remove"]("dark"),document.querySelector("#ct").classList.add("ct-dashboard"),this.targetSyncRefreshTime=Date.now(),this.initInterval(),this.initRequestAnimationFrame(),this.initWebSocket()},initInterval(){this.intervalWorker&&this.intervalWorker.terminate(),this.intervalWorker=new Worker(URL.createObjectURL(new Blob(["self.onmessage = function(e) {\n\t\t\t\t\t\t         setInterval(() => {\t\t\t\n\t\t\t\t\t\t\t\t\t const time = Date.now();\n\n\t\t\t\t\t\t\t\t\t const refreshDay = new Date(time);\n\n\t\t\t\t                     refreshDay.setDate(refreshDay.getDate() + 1);\n\t\t\t\t\t\t\t\t\t refreshDay.setHours(4);\n\t\t\t\t\t\t\t\t\t refreshDay.setMinutes(0);\n\t\t\t\t\t\t\t\t\t refreshDay.setSeconds(0);\n\t\t\t\t\t\t\t\t\t refreshDay.setMilliseconds(0);\n\n\t\t\t\t\t\t\t\t     postMessage({ \n\t\t\t\t\t\t\t\t\t\ttime,\n\t\t\t\t\t\t\t\t\t\tisRefresh: refreshDay.getTime() <= time\n\t\t\t\t\t\t\t\t\t });\n\t\t\t\t\t\t\t\t }, 1000);\n\t\t\t\t\t\t\t };"],{type:"application/javascript"}))),this.intervalWorker.postMessage(null),this.intervalWorker.onmessage=t=>{document.querySelector("#dashboard")?t.data.isRefresh?location.reload():(this.intervalObj.isRecvTime?(this.intervalObj.time+=t.data.time-this.intervalObj.measurementTime,this.intervalObj.measurementTime=t.data.time):this.intervalObj.time=t.data.time,this.$refs.dashboardViewBody.setInterval(l()(this.intervalObj)),this.setSyncTarget(),this.setNotice()):this.unloadContainer()}},initRequestAnimationFrame(){const t=e=>{document.querySelector("#dashboard")?(this.$refs.dashboardViewBody.setRequestAnimationFrame({time:e}),this.rafId=requestAnimationFrame(t)):this.unloadContainer()};this.rafId=requestAnimationFrame(t)},initWebSocket(){this.webSocketWorker&&this.webSocketWorker.terminate(),this.webSocketWorker=new Worker(URL.createObjectURL(new Blob(["let webSocket = null;\n\t\t\t\t\t\t\t let selectedContainerInfo = null;\n\t\t\t\t\t\t\t let selectedContainerUserInfo = null;\n\t\t\t\t\t\t\t let dashConstInfo = null;\n\n\t\t\t\t\t\t\t self.onmessage = function(evt) {\n\t\t\t\t\t\t\t\t if (null === webSocket) {\n\t\t\t\t\t\t\t\t\tselectedContainerInfo = evt.data.selectedContainerInfo;\n\t\t\t\t\t\t\t\t\tselectedContainerUserInfo = evt.data.selectedContainerUserInfo;\n\t\t\t\t\t\t\t\t\tdashConstInfo = evt.data.dashConstInfo;\n\n\t\t\t\t\t\t\t\t\twebSocket = new WebSocket(evt.data.webSocketUrl);\n\n\t\t\t\t\t\t\t\t\twebSocket.onopen = () => {\n\t\t\t\t\t\t\t\t\t\twebSocket.send(evt.data.websocketSendParam);\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\twebSocket.onerror = () => {\n\t\t\t\t\t\t\t\t\t\tconsole.log('WebSocket onerror');\n\t\t\t\t\t\t\t\t\t};\t\t\t\t\t\t\t\t \n\n\t\t\t\t\t\t\t\t\twebSocket.onmessage = (evt) => {\n\t\t\t\t\t\t\t\t\t\tconst bodyObj = JSON.parse(evt.data);\n\n\t\t\t\t\t\t\t\t\t\tconst time = bodyObj.standardTime;\n\n\t\t\t\t\t\t\t\t\t\tif (1 === Object.keys(bodyObj).length) return;\n\n\t\t\t\t\t\t\t\t\t\tlet dataObj = {};\n\n\t\t\t\t\t\t\t\t\t\tselectedContainerInfo.monitorComponents.forEach(monitorComponent => {\n\t\t\t\t\t\t\t\t\t\t\tconst { componentId, itemId, targetType, chartType, inoutType, monitorComponentTargets } = monitorComponent;\n\n\t\t\t\t\t\t\t\t\t\t\tlet dataArr = [];\n\n\t\t\t\t\t\t\t\t\t\t\tif ('elapsed' === itemId || 'deal' === itemId) {\n\t\t\t\t\t\t\t\t\t\t\t\tconst seriesArr = 'elapsed' === itemId ? ['elapsedMax', 'elapsedMin', 'elapsedAvg'] : ['success', 'error', 'timeout'];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif ('INSTANCE' === targetType) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet dataObj = 'IN' === inoutType ? bodyObj.instance_trafficIn : bodyObj.instance_trafficOut;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ('LINE' === chartType || 'COLUMN' === chartType) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tseriesArr.forEach(seriesId => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataArr.push({ targetId: seriesId, x: time, y: dataObj[seriesId] });\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataObj = null;\n\t\t\t\t\t\t\t\t\t\t\t\t} else if ('ADAPTER' === targetType) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (0 < monitorComponentTargets.length) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet recvDataArr = 'IN' === inoutType ? bodyObj.adapter_trafficIn : bodyObj.adapter_trafficOut;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet dataObj = recvDataArr.find(recvData => recvData.adapterId === monitorComponentTargets[0].pk.componentTargetId);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ('LINE' === chartType || 'COLUMN' === chartType) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tseriesArr.forEach(seriesId => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataArr.push({ targetId: seriesId, x: time, y: dataObj[seriesId] });\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataObj = null;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trecvDataArr = null;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t} else if ('transactionFlowSummary' === itemId) {\n\t\t\t\t\t\t\t\t\t\t\t\tconst seriesArr = ['rps', 'rpsPrediction', 'tps', 'tpsPrediction'];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif ('INSTANCE' === targetType) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst { instance_trafficIn } = bodyObj;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tseriesArr.forEach(seriesId => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataArr.push({ targetId: seriesId, x: time, y: instance_trafficIn[seriesId] });\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t} else if ('ADAPTER' === targetType) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet recvDataArr = 'IN' === inoutType ? bodyObj.adapter_trafficIn : bodyObj.adapter_trafficOut;\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet dataObj = recvDataArr.find(recvData => recvData.adapterId === monitorComponentTargets[0].pk.componentTargetId);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ('LINE' === chartType || 'COLUMN' === chartType) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tseriesArr.forEach(seriesId => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataArr.push({ targetId: seriesId, x: time, y: dataObj[seriesId] });\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataObj = null;\n\t\t\t\t\t\t\t\t\t\t\t\t\trecvDataArr = null;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t} else if ('INSTANCE' === targetType) {\n\t\t\t\t\t\t\t\t\t\t\t\tif ('LINE' === chartType || 'COLUMN' === chartType) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tbodyObj.instance.forEach(data => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataArr.push({ targetId: data.instanceId, x: time, y: data[itemId] });\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t} else if ('INSTANCE' === chartType) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tbodyObj.instance.forEach(data => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataArr.push(data);\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t} else if ('SPEEDBAR' === chartType) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet speedbar_traffic_obj = 'IN' === inoutType ? bodyObj.instance_trafficIn : bodyObj.instance_trafficOut;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataArr.push({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trps: speedbar_traffic_obj.rps,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttps: speedbar_traffic_obj.tps,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttpsShort: speedbar_traffic_obj.tpsShort,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttpsMiddle: speedbar_traffic_obj.tpsMiddle,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttpsLong: speedbar_traffic_obj.tpsLong,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tactiveShort: speedbar_traffic_obj.activeShort,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tactiveMiddle: speedbar_traffic_obj.activeMiddle,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tactiveLong: speedbar_traffic_obj.activeLong\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tspeedbar_traffic_obj = null;\n\t\t\t\t\t\t\t\t\t\t\t\t} else if ('DATATABLE' === chartType) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet transaction_obj = 'IN' === inoutType ? bodyObj.instance_activeTransactionIn : bodyObj.instance_activeTransactionOut;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet datatableRowCnt = selectedContainerUserInfo.containerOptions['datatableRowCnt_' + componentId];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tdatatableRowCnt = datatableRowCnt ? datatableRowCnt : dashConstInfo.datatableDefaultRowCnt;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransaction_obj.forEach((data, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (index > datatableRowCnt - 1) return;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataArr.push({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus: data.elapsedType,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuuid: data.transactionId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttransactionId: data.interfaceServiceId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttransactionName: data.interfaceServiceName,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tadapterId: data.adapterId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinstanceId: data.instanceId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsnapshotTimestamp: data.snapshotTimestamp\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransaction_obj = null;\n\t\t\t\t\t\t\t\t\t\t\t\t} else if ('EXCEPTIONLOG' === chartType) {\n\t\t\t\t\t\t\t\t\t\t\t\t    let exceptionLogRowCnt = selectedContainerUserInfo.containerOptions['exceptionLogRowCnt_' + componentId];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\texceptionLogRowCnt = exceptionLogRowCnt ? exceptionLogRowCnt : dashConstInfo.exceptionLogDefaultRowCnt;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tbodyObj.exceptionlog.forEach((data, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (index > exceptionLogRowCnt - 1) return;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataArr.push({ \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\texceptionDateTime: data.pk.exceptionDateTime,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuuid: data.pk.exceptionId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tadapterId: data.adapterId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconnectorId: data.connectorId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\texceptionCode: data.exceptionCode,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinstanceId: data.instanceId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\texceptionText: data.exceptionText\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t} else if ('XVIEW' === chartType) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet drawMinData = selectedContainerUserInfo.containerOptions['xViewMinData_' + componentId];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tdrawMinData =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnull === drawMinData || 'undefined' === typeof drawMinData ? dashConstInfo.xViewDefaultxMinData : drawMinData;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet data = null;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tfor (let tmpIdx = 0; tmpIdx < bodyObj.instance_finishedTransaction.length; tmpIdx++) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata = bodyObj.instance_finishedTransaction[tmpIdx];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (!data.snapshotTimestamp) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ('Y' !== data.errorYn && 'Y' !== data.timeoutYn && drawMinData > data.elapsedTime) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataArr.push({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttargetId: data.instanceId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tx: data.snapshotTimestamp,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ty: data.elapsedTime,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'Y' === data.errorYn ? 2 : 'Y' === data.timeoutYn ? 1 : 0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuuid: data.transactionId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttransactionId: data.interfaceServiceId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttransactionName: data.interfaceServiceName,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tadapterId: data.adapterId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinstanceId: data.instanceId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsnapshotTimestamp: data.snapshotTimestamp\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataArr.sort((a, b) => a.x - b.x);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t} else if ('ADAPTER' === targetType) {\n\t\t\t\t\t\t\t\t\t\t\t\tif ('SPEEDBAR' === chartType) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (0 < monitorComponentTargets.length) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet speedbar_traffic_arr = 'IN' === inoutType ? bodyObj.adapter_trafficIn : bodyObj.adapter_trafficOut;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet speedbar_traffic_obj = speedbar_traffic_arr.find(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tspeedbar_traffic_data => speedbar_traffic_data.adapterId === monitorComponentTargets[0].pk.componentTargetId\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataArr.push({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trps: speedbar_traffic_obj.rps,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttps: speedbar_traffic_obj.tps,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttpsShort: speedbar_traffic_obj.tpsShort,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttpsMiddle: speedbar_traffic_obj.tpsMiddle,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttpsLong: speedbar_traffic_obj.tpsLong,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tactiveShort: speedbar_traffic_obj.activeShort,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tactiveMiddle: speedbar_traffic_obj.activeMiddle,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tactiveLong: speedbar_traffic_obj.activeLong\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tspeedbar_traffic_obj = null;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tspeedbar_traffic_arr = null;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t} else if ('DATATABLE' === chartType) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet transaction_obj = 'IN' === inoutType ? bodyObj.adapter_activeTransactionIn : bodyObj.adapter_activeTransactionOut;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet datatableRowCnt = selectedContainerUserInfo.containerOptions['datatableRowCnt_' + componentId];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tdatatableRowCnt = datatableRowCnt ? datatableRowCnt : dashConstInfo.datatableDefaultRowCnt;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransaction_obj.forEach((data, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (index > datatableRowCnt - 1) return;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataArr.push({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus: data.elapsedType,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuuid: data.transactionId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttransactionId: data.interfaceServiceId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttransactionName: data.interfaceServiceName,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tadapterId: data.adapterId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinstanceId: data.instanceId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsnapshotTimestamp: data.snapshotTimestamp\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransaction_obj = null;\n\t\t\t\t\t\t\t\t\t\t\t\t} else if ('EXCEPTIONLOG' === chartType) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet exceptionLogRowCnt = selectedContainerUserInfo.containerOptions['exceptionLogRowCnt_' + componentId];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\texceptionLogRowCnt = exceptionLogRowCnt ? exceptionLogRowCnt : dashConstInfo.exceptionLogDefaultRowCnt;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tbodyObj.adapter_exceptionlog.forEach((data, index) => {\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (index > exceptionLogRowCnt - 1) return;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataArr.push({ \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\texceptionDateTime: data.pk.exceptionDateTime,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuuid: data.pk.exceptionId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tadapterId: data.adapterId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconnectorId: data.connectorId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\texceptionCode: data.exceptionCode,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinstanceId: data.instanceId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\texceptionText: data.exceptionText\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t} else if ('THREAD' === targetType) {\n\t\t\t\t\t\t\t\t\t\t\t\tif ('THREAD' === chartType) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (bodyObj.thread && 0 < monitorComponentTargets.length) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbodyObj.thread[monitorComponentTargets[0].pk.componentTargetId].forEach(data => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataArr.push({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus: data.status,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthreadActive: data.threadActive,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthreadIdle: data.threadIdle,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinstanceId: data.instanceId\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t} else if ('CONNECTOR' === targetType) {\n\t\t\t\t\t\t\t\t\t\t\t\tif ('CONNECTOR' === chartType) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (bodyObj.connector && 0 < monitorComponentTargets.length) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbodyObj.connector[monitorComponentTargets[0].pk.componentTargetId].forEach(data => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataArr.push({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinstanceId: data.instanceId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsessionInuse: data.sessionInuse,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsessionWait: data.sessionWait,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthreadInuse: data.threadInuse,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthreadWait: data.threadWait,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tidleWarningYn: data.idleWarningYn,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsessionCountWarningYn: data.sessionCountWarningYn,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsessionInuseWarningYn: data.sessionInuseWarningYn,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsessionWaitWarningYn: data.sessionWaitWarningYn,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthreadCountWarningYn: data.threadCountWarningYn,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthreadInuseWarningYn: data.threadInuseWarningYn,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus: data.status\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t} else if ('QUEUE' === targetType) {\n\t\t\t\t\t\t\t\t\t\t\t\tif ('QUEUE' === chartType) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (bodyObj.queue && 0 < monitorComponentTargets.length) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbodyObj.queue[monitorComponentTargets[0].pk.componentTargetId].forEach(data => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataArr.push({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinstanceId: data.instanceId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmessageCount: data.messageCount,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsumerCount: data.consumerCount,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmessageWarningYn: data.messageWarningYn,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsumerWarningYn: data.consumerWarningYn,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus: data.status\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t} else if ('EXTERNALLINE' === targetType) {\n\t\t\t\t\t\t\t\t\t\t\t\tbodyObj.externalLine.forEach(data => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataArr.push({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\texternalLineId: data.externalLineId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\texternalLineName: data.externalLineName,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus: data.status,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tactive: data.active,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttotal: data.total\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tdataObj[componentId] = dataArr;\n\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\tpostMessage({ \n\t\t\t\t\t\t\t\t\t\t\ttime,\n\t\t\t\t\t\t\t\t\t\t\tdataObj,\n\t\t\t\t\t\t\t\t\t\t\tnoticeMessage: bodyObj.noticeMessage\n\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\tfor (const key in dataObj) {\n\t\t\t\t\t\t\t\t\t\t\tdataObj[key] = null;\n\t\t\t\t\t\t\t\t\t\t\tdelete dataObj[key];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tdataObj = null;\t\t\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t } else {\n\t\t\t\t\t\t\t\t\twebSocket.send(evt.data.websocketSendParam);\n\t\t\t\t\t\t\t\t }\n\t\t\t\t\t\t\t };"],{type:"application/javascript"}))),this.webSocketWorker.postMessage({webSocketUrl:this.webSocketUrl,websocketSendParam:this.getWebsocketSendParam(),selectedContainerInfo:this.selectedContainerInfo,selectedContainerUserInfo:this.selectedContainerUserInfo,dashConstInfo:this.dashConstInfo}),this.webSocketWorker.onmessage=t=>{document.querySelector("#dashboard")?(this.intervalObj.isRecvTime||(this.intervalObj.isRecvTime=!0),this.intervalObj.time=t.data.time,this.intervalObj.measurementTime=Date.now(),this.$refs.dashboardViewBody.addData(t.data.dataObj),t.data.noticeMessage.forEach((t=>{this.selectedContainerUserInfo.containerOptions[`isViewNotice_${this.selectedContainerId}`]&&this.noticeDataList.push(t),this.noticeDataHistoryList.push(t)})),this.dashConstInfo.noticeDataHistoryListMaxCnt<this.noticeDataHistoryList.length&&this.noticeDataHistoryList.splice(0,this.noticeDataHistoryList.length-this.dashConstInfo.noticeDataHistoryListMaxCnt)):this.unloadContainer()}},getWebsocketSendParam(){const t=[],e=[],a=[],i=[],s=1;let n=this.dashConstInfo.datatableDefaultRowCnt,o=this.dashConstInfo.exceptionLogDefaultRowCnt;return this.selectedContainerInfo.monitorComponents.forEach((s=>{const{chartType:r,targetType:l,monitorComponentTargets:d,componentId:c}=s;if("ADAPTER"===l?d.forEach((e=>{t.push(e.pk.componentTargetId)})):"THREAD"===l?d.forEach((t=>{e.push({threadId:t.pk.componentTargetId,instanceIds:this.instanceList.filter((t=>"T"===t.instanceType)).map((t=>t.instanceId))})})):"CONNECTOR"===l?d.forEach((t=>{a.push({connectorId:t.pk.componentTargetId,instanceIds:(()=>{const e=this.connectorList.find((e=>e.connectorId==t.pk.componentTargetId));return e?e.instanceList.map((t=>t.pk.instanceId)):null})()})})):"QUEUE"==l&&d.forEach((t=>{i.push({queueId:t.pk.componentTargetId,instanceIds:(()=>{const e=this.queueList.find((e=>e.adapterId==t.pk.componentTargetId));return e?e.instanceList.map((t=>t.pk.instanceId)):null})()})})),"DATATABLE"===r){let t=this.selectedContainerUserInfo.containerOptions[`datatableRowCnt_${c}`];t=t||this.dashConstInfo.datatableDefaultRowCnt,n<t&&(n=t)}if("EXCEPTIONLOG"===r){let t=this.selectedContainerUserInfo.containerOptions[`exceptionLogRowCnt_${c}`];o=t||this.dashConstInfo.exceptionLogDefaultRowCnt}})),JSON.stringify({duration:this.dashConstInfo.dataIntervalSeconds,filter:{instances:this.instanceList.filter((t=>!t.isFiltered)).map((t=>t.instanceId))},adapters:0<t.length?t:null,threads:0<e.length?e:null,connectors:0<a.length?a:null,queues:0<i.length?i:null,externalLine:s,topCount:n,topCountExceptionlog:o})},saveContainerMode(){const t=this,e=this.$openModal({title:this.$t("dashboard.head.add.dashboard"),modalWidth:"350px",modalHeight:"290px",contentList:[{template:`\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t<label class="control-label">${this.$t("dashboard.head.name")}<b class="icon-star"></b></label>\n\t\t\t\t\t\t\t\t\t<input type="text" v-model="containerName" class="form-control" placeholder="${this.$t("dashboard.enter.name")}" required>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t<label class="control-label">${this.$t("dashboard.head.resolution")}<b class="icon-star"></b></label>\n\t\t\t\t\t\t\t\t\t<div class="input-group">\n\t\t\t\t\t\t\t\t\t\t<input type="text" v-model="containerWidth" class="form-control" maxlength="4" placeholder="${this.minContainerWidth}" required>\n\t\t\t\t\t\t\t\t\t\t<i class="icon-close mx-1"></i>\n\t\t\t\t\t\t\t\t\t\t<input type="text" v-model="containerHeight" class="form-control" maxlength="4" placeholder="${this.minContainerHeight}" required>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`,data(){return{containerName:null,containerWidth:screen.width?screen.width:this.minContainerWidth,containerHeight:screen.height?screen.height:this.minContainerHeight}}}],buttonList:[{template:`<button type="button" @click="confirm" class="btn btn-primary">${this.$t("head.ok")}</button>`,methods:{confirm(){t.validationDashConfigModal({containerName:e.$refs.content[0].containerName,containerWidth:e.$refs.content[0].containerWidth,containerHeight:e.$refs.content[0].containerHeight})&&t.existEqualsContainerName({containerName:e.$refs.content[0].containerName.trim()},(()=>{t.changeContainer("add",{containerId:(0,p.Fs)(),containerName:e.$refs.content[0].containerName.trim(),containerWidth:Number(e.$refs.content[0].containerWidth),containerHeight:Number(e.$refs.content[0].containerHeight),darkmodeYn:null,remarkYn:null}),e.hideModal()}))}}}]})},modifyContainerMode(){if(!this.selectedContainerId||"-"===this.selectedContainerId)return void this.$alert({type:"warn",message:this.$t("dashboard.select.modifyDashboard")});const t=this,e=this.$openModal({title:this.$t("dashboard.head.modify.dashboard"),modalWidth:"350px",modalHeight:"290px",contentList:[{template:`\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t<label class="control-label">${this.$t("dashboard.head.name")}<b class="icon-star"></b></label>\n\t\t\t\t\t\t\t\t\t<input type="text" v-model="containerName" class="form-control" placeholder="${this.$t("dashboard.enter.name")}" required>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t<label class="control-label">${this.$t("dashboard.head.resolution")}<b class="icon-star"></b></label>\n\t\t\t\t\t\t\t\t\t<div class="input-group">\n\t\t\t\t\t\t\t\t\t\t<input type="text" v-model="containerWidth" class="form-control" maxlength="4" placeholder="${this.minContainerWidth}" required>\n\t\t\t\t\t\t\t\t\t\t<i class="icon-close mx-1"></i>\n\t\t\t\t\t\t\t\t\t\t<input type="text" v-model="containerHeight" class="form-control" maxlength="4" placeholder="${this.minContainerHeight}" required>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`,data(){return{containerName:t.selectedContainerInfo.containerName,containerWidth:t.selectedContainerInfo.containerWidth,containerHeight:t.selectedContainerInfo.containerHeight}}}],buttonList:[{template:`<button type="button" @click="confirm" class="btn btn-primary">${this.$t("head.ok")}</button>`,methods:{confirm(){t.validationDashConfigModal({containerName:e.$refs.content[0].containerName,containerWidth:e.$refs.content[0].containerWidth,containerHeight:e.$refs.content[0].containerHeight})&&t.existEqualsContainerName({containerId:t.selectedContainerId,containerName:e.$refs.content[0].containerName.trim()},(()=>{t.changeContainer("modify",{containerId:t.selectedContainerId,containerName:e.$refs.content[0].containerName.trim(),containerWidth:Number(e.$refs.content[0].containerWidth),containerHeight:Number(e.$refs.content[0].containerHeight),darkmodeYn:t.selectedContainerInfo.darkmodeYn,remarkYn:t.selectedContainerInfo.remarkYn,monitorComponents:l()(t.selectedContainerInfo.monitorComponents),monitorContainerUsers:l()(t.selectedContainerInfo.monitorContainerUsers)}),e.hideModal()}))}}}]})},deleteContainer(){this.selectedContainerId&&"-"!==this.selectedContainerId?this.$confirm({type:"warn",message:this.$t("dashboard.delete.warn"),callback:async()=>{const t=new p.p0("/api/monitoring/container"),e=await t.delete({containerId:this.selectedContainerId},!0);"ok"===e.data.result&&(this.$alert({type:"normal",message:this.$t("dashboard.delete.success")}),this.changeContainer("view"))}}):this.$alert({type:"warn",message:this.$t("dashboard.select.deleteDashboard")})},copyContainer(){if(!this.selectedContainerId||"-"===this.selectedContainerId)return void this.$alert({type:"warn",message:this.$t("dashboard.select.copyDashboard")});const t=this,e=this.$openModal({title:this.$t("dashboard.head.copy.dashboard"),modalWidth:"350px",modalHeight:"290px",contentList:[{template:`\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t<label class="control-label">${this.$t("dashboard.head.name")}<b class="icon-star"></b></label>\n\t\t\t\t\t\t\t\t\t<input type="text" v-model="containerName" class="form-control" placeholder="${this.$t("dashboard.enter.name")}" required>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t<label class="control-label">${this.$t("dashboard.head.resolution")}<b class="icon-star"></b></label>\n\t\t\t\t\t\t\t\t\t<div class="input-group">\n\t\t\t\t\t\t\t\t\t\t<input type="text" v-model="containerWidth" class="form-control" maxlength="4" placeholder="${this.minContainerWidth}" required>\n\t\t\t\t\t\t\t\t\t\t<i class="icon-close mx-1"></i>\n\t\t\t\t\t\t\t\t\t\t<input type="text" v-model="containerHeight" class="form-control" maxlength="4" placeholder="${this.minContainerHeight}" required>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\n\t\t\t\t\t\t`,data(){return{containerName:t.selectedContainerInfo.containerName,containerWidth:t.selectedContainerInfo.containerWidth,containerHeight:t.selectedContainerInfo.containerHeight}}}],buttonList:[{template:`<button type="button" @click="confirm" class="btn btn-primary">${this.$t("head.ok")}</button>`,methods:{confirm(){if(!t.validationDashConfigModal({containerName:e.$refs.content[0].containerName,containerWidth:e.$refs.content[0].containerWidth,containerHeight:e.$refs.content[0].containerHeight}))return;const a=e.$refs.content[0].containerName.trim(),i=Number(e.$refs.content[0].containerWidth),s=Number(e.$refs.content[0].containerHeight);t.existEqualsContainerName({containerName:e.$refs.content[0].containerName.trim()},(async()=>{const n={containerId:(0,p.Fs)(),containerName:a,containerWidth:i,containerHeight:s,remarkYn:t.selectedContainerInfo.remarkYn,darkmodeYn:t.selectedContainerInfo.darkmodeYn},o=l()(t.selectedContainerUserInfo.containerOptions),r=t.$refs.dashboardStructure.getBasicComponentStruct(),d=t.selectedContainerInfo.monitorComponents.map((t=>({beforeChangeId:t.componentId}))),c=t.selectedContainerInfo.monitorComponents.map((t=>{const e=t.componentId;t.componentId=(0,p.Fs)(),t.containerId=n.containerId,d.forEach((a=>{a.beforeChangeId===e&&(a.afterChangeId=t.componentId)}));const a={};return Object.keys(r).forEach((e=>{a[e]=t[e]})),"C"===a.componentType&&["xViewYAxisMax","xViewTrans","xViewMinData","xViewInstanceFilter","xViewadapterFilter","xViewtransactionFilter","datatableRowCnt","exceptionLogRowCnt","instanceSummaryColCnt"].forEach((t=>{"undefined"!==typeof o[`${t}_${e}`]&&(o[`${t}_${a.componentId}`]=o[`${t}_${e}`],delete o[`${t}_${e}`])})),a}));c.forEach((t=>{d.forEach((e=>{e.beforeChangeId===t.pComponentId&&(t.pComponentId=e.afterChangeId)})),t.monitorComponentTargets.forEach((e=>{e.pk.componentId=t.componentId}))})),n.monitorComponents=c,"undefined"!==typeof o[`isViewNotice_${t.selectedContainerId}`]&&(o[`isViewNotice_${n.containerId}`]=o[`isViewNotice_${t.selectedContainerId}`],delete o[`isViewNotice_${t.selectedContainerId}`]),n.monitorContainerUsers=[{pk:{containerId:n.containerId,containerUserId:t.userInfo.userId},selectYn:"Y",containerOptions:JSON.stringify(o)}];const h=new p.p0("/api/monitoring/container"),u=await h.create(n,!0);"ok"===u.data.result&&(this.$alert({type:"normal",message:this.$t("dashboard.add.success")}),t.changeContainer("view"),e.hideModal())}))}}}]})},async shareContainer(){if(!this.selectedContainerId||"-"===this.selectedContainerId)return void this.$alert({type:"warn",message:this.$t("dashboard.select.shareDashboard")});const t=new p.p0(`/api/monitoring/container/user?containerId=${this.selectedContainerId}`),e=await t.read(),{allUserList:a,registerDashUserList:i}=e.data.object;a.forEach((t=>{t._attributes={checked:!!i.find((e=>e.pk.containerUserId===t.userId))}}));const s=this,n=this.$openModal({title:this.$t("head.share"),modalWidth:"500px",modalHeight:"540px",contentList:[{template:`\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div class="sub-bar" style="padding-top: 0px;">\n\t\t\t\t\t\t\t\t\t<div class="form-inline m-full" style="width: 100%">\n\t\t\t\t\t\t\t\t\t\t<input v-model="searchShareUser" type="text" class="form-control input-search" @keypress.enter="search"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder="${this.$t("dashboard.share.search")}" autocomplete="off" style="width: 100%">\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<TuiGrid ref="tuiGrid" v-bind="options" />\n\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\n\t\t\t\t\t\t`,data(){return{list:[],searchShareUser:"",options:{bodyHeight:250,rowHeaders:[{type:"checkbox",header:" "}],pageOptions:{useClient:!0,perPage:10},columns:[{name:"userId",header:this.$t("common.user.id"),formatter:t=>(0,p.Xv)(t.row.userId)}]}}},methods:{search(){this.list=a.filter((t=>0===this.searchShareUser.trim().length||-1<t.userId.toLowerCase().indexOf(this.searchShareUser.toLowerCase()))),this.$refs.tuiGrid.invoke("resetData",this.list)}},components:{TuiGrid:o.Grid},created(){this.list=l()(a),this.options=(0,p.d_)(this.options)},mounted(){this.search()}}],buttonList:[{template:`<button type="button" @click="confirm" class="btn btn-primary">${this.$t("head.ok")}</button>`,methods:{async confirm(){const t=l()(s.selectedContainerInfo);t.monitorContainerUsers.forEach((t=>{t.containerOptions=JSON.stringify(t.containerOptions)})),n.$refs.content[0].$refs.tuiGrid.invoke("getCheckedRows").forEach((e=>{t.monitorContainerUsers.push({pk:{containerId:t.containerId,containerUserId:e.userId},selectYn:"N",containerOptions:JSON.stringify(s.selectedContainerUserInfo.containerOptions)})}));const e=new p.p0("/api/monitoring/container"),a=await e.update(t,!0);"ok"===a.data.result&&(this.$alert({type:"normal",message:this.$t("dashboard.share.success")}),n.hideModal())}}}]})},migrationContainer(){const t=this,e=this.$openModal({title:this.$t("head.migration"),modalWidth:"800px",modalHeight:"620px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t\t       <ul class="nav nav-tabs flex-shrink-0">\n\t\t\t\t\t\t\t\t\t       <li class="nav-item"><a class="nav-link active" href="#download" data-toggle="tab">{{ $t("head.download") }}</a></li>\n\t\t\t\t\t\t\t\t\t       <li class="nav-item"><a class="nav-link" href="#migration" data-toggle="tab">{{ $t("head.migration") }}</a></li>\n\t\t\t\t\t\t\t\t\t   </ul>\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t   <div class="modal-body tab-content py-4" style="padding-top: 1.0rem !important;">\t\n\t\t\t\t\t\t\t\t\t\t   <div id="download" class="tab-pane active">\n\t\t\t\t\t\t\t\t\t\t\t   <div class="sub-bar" style="padding-top: 0px;">\n\t\t\t\t\t\t\t\t\t\t\t\t   <div class="ml-auto form-inline m-full">\n\t\t\t\t\t\t\t\t\t\t\t\t\t   <a href="javascript:void(0);" class="btn btn-m" @click="download">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t   <i class="icon-export"></i><span class="hide">{{ $t(\'head.download\') }}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t   </a>\n\t\t\t\t\t\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t\t\t\t\t\t   <TuiGrid ref="tuiGrid" v-bind="options" />\n\t\t\t\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t\t\t\t\t   <div id="migration" class="tab-pane">\n\t\t\t\t\t\t\t\t\t\t\t   <div class="row frm-row">\n\t\t\t\t\t\t\t\t\t\t\t\t   <div class="col-lg-12">\n\t\t\t\t\t\t\t\t\t\t\t\t\t   <div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t   <label class="control-label">{{ $t(\'head.file\') }} {{ $t(\'head.select\') }}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t   <div class="input-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   <input class="form-control view-disabled" v-model="fileName" type="text" readonly="readonly" :placeholder="$t(\'igate.migration.fileSelectError\')" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   <button type="button" class="btn" @click="fileSelect" style="margin-left: 5px; margin-right: 5px;">{{ $t(\'head.file\') }} {{ $t(\'head.select\') }}</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   <button type="button" class="btn btn-primary" @click="fileUpload" >{{ $t(\'head.upload\') }}</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t\t\t\t\t\t\t   </div>\t        \n\t\t\t\t\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t\t\t   </div>\t\t\t\t\t\t\t\n\t\t\t\t\t\t',components:{TuiGrid:o.Grid},data(){return{fileName:null,importContainerList:null,options:{rowHeaders:["checkbox"],bodyHeight:300,columns:[{name:"containerName",header:`${this.$t("head.dashboard")} ${this.$t("dashboard.head.name")}`,width:"70%"},{name:"resolution",header:this.$t("dashboard.head.resolution"),align:"center",width:"30%",formatter:({row:{containerWidth:t,containerHeight:e}})=>`${t} X ${e}`},{name:"containerId",hidden:!0}]}}},created(){this.options=(0,p.d_)(this.options)},mounted(){this.resetData()},methods:{resetData(){this.$refs.tuiGrid.invoke("resetData",l()(t.containerList))},download(){if(0===this.$refs.tuiGrid.invoke("getCheckedRowKeys").length)return void this.$alert({type:"warn",message:this.$t("dashboard.select.noDashboard")});const e=[];this.$refs.tuiGrid.invoke("getCheckedRowKeys").forEach((a=>{const i=l()(t.containerList.find((t=>t.containerId===this.$refs.tuiGrid.invoke("getRow",a).containerId)));delete i.monitorContainerUsers;for(let t=0;t<i.monitorComponents.length;t++)delete i.monitorComponents[t].monitorComponentTargets;e.push(i)}));const a=`DashBoardMigration_${c()(new Date).format("YYYY-MM-DD hh-mm-ss")}_${(0,p.Fs)()}`,i=JSON.stringify(e);(0,p.DS)(a,i)},fileSelect(){this.importContainerList=null;const t=document.createElement("input");t.setAttribute("type","file"),t.style.display="none",t.addEventListener("change",(t=>{const e=t.target.files[0].name;if("json"!=e.substring(e.length-4))return void this.$alert({type:"warn",message:this.$t("dashboard.json.file.format.only")});this.fileName=(0,p.Xv)(e);const a=new FileReader;a.readAsText(t.target.files[0],"utf-8"),a.onload=()=>{this.importContainerList=JSON.parse(a.result)}})),t.click()},async fileUpload(){if(null===this.importContainerList)return void this.$alert({type:"warn",message:this.$t("igate.migration.fileSelectError")});const a=[],i=(0,p.Fs)();this.importContainerList.forEach((e=>{e.containerId=i,e.monitorComponents.forEach((t=>{t.containerId=i})),e.monitorContainerUsers=[{pk:{containerId:i,containerUserId:t.userInfo.userId},selectYn:"N"}],a.push(new Promise((t=>{(async()=>{let a=await new p.p0(`/api/monitoring/container/name?containerName=${e.containerName.trim()}`).read();if("ok"===a.data.result)if(a.data.object)t(`${e.containerName}: ${this.$t("dashboard.overlap.warn")}`);else{if(a=await new p.p0("/api/monitoring/container").create(e,!0),"ok"!==a.data.result)return;t(`${e.containerName}: ${"ok"===a.data.result?this.$t("igate.migration.make"):a.error[0].message}`)}})()})))}));const s=await Promise.all(a);let n="";s.forEach((t=>{n+=`${(0,p.Xv)(t)} <br/>`})),this.$alert({type:"normal",isXssMode:!0,message:n}),this.fileName=null,this.importContainerList=null,await t.getContainerList(),e.hideModal()}}}]})},previewContainer(){if(!this.selectedContainerId||"-"===this.selectedContainerId)return void this.$alert({type:"warn",message:this.$t("dashboard.select.noDashboard")});const t=document.documentElement;t.requestFullScreen?t.requestFullScreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()},async existEqualsContainerName({containerName:t,containerId:e},a){const i=new p.p0(`/api/monitoring/container/name?containerName=${encodeURIComponent(t)}&containerId=${e}`),s=await i.read();s.data.object?this.$alert({type:"warn",message:this.$t("dashboard.overlap.warn")}):a&&a()},dashboardClick(t){"OPTION"!==t.target.tagName&&"BUTTON"!==t.target.tagName&&"SELECT"!==t.target.tagName&&(this.selectedcontextMenuContainerId=null,this.isViewDashContextSetting=!1,this.isViewContextmenu=!1)},initContextmenu(t){screen.width!=window.innerWidth||screen.height!=window.innerHeight?this.isViewContextmenu=!1:(this.isViewContextmenu=!0,this.$nextTick((()=>{this.dashContextMenuStyle.top=`${window.innerHeight<=t.clientY+this.$refs.dashContextMenu.offsetHeight?t.clientY-this.$refs.dashContextMenu.offsetHeight:t.clientY}px`,this.dashContextMenuStyle.left=`${window.innerWidth<=t.clientX+this.$refs.dashContextMenu.offsetWidth?window.innerWidth-this.$refs.dashContextMenu.offsetWidth:t.clientX}px`})))},dashChangeMenuMouseEnter(t){this.isViewDashContextSetting=!0,this.selectedcontextMenuContainerId=this.selectedContainerId,this.$nextTick((()=>{this.dashContextSettingStyle.top=`${window.innerHeight<=t.clientY+this.$refs.dashContextSetting.offsetHeight?(0,p.tJ)(this.dashContextMenuStyle.top)-this.$refs.dashContextSetting.offsetHeight+30:(0,p.tJ)(this.dashContextMenuStyle.top)}px`,this.dashContextSettingStyle.left=`${window.innerWidth<=t.clientX+this.$refs.menu.offsetWidth+this.$refs.dashContextSetting.offsetWidth?(0,p.tJ)(this.dashContextMenuStyle.left)-this.$refs.dashContextSetting.offsetWidth+5:(0,p.tJ)(this.dashContextMenuStyle.left)+this.$refs.menu.offsetWidth+20}px`}))},fullscreenExitMenuClick(){if(this.isViewDashContextSetting=!1,this.isViewContextmenu=!1,!document.fullscreenElement&&screen.width==window.innerWidth&&screen.height==window.innerHeight)return this.$alert({type:"warn",message:this.$t("dashboard.context.fullscreenMsg")}),!1;document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},fullscreenExitMenuMouseEnter(){this.isViewDashContextSetting=!1},closeDashContextSetting(){this.isViewDashContextSetting=!1,this.isViewContextmenu=!1},containerMove(){"current"===this.contextMenuMoveType?(localStorage.setItem("paramSelectedContainerId",this.selectedcontextMenuContainerId),this.changeContainer("view")):(0,p.RB)("401010",(()=>{localStorage.setItem("paramSelectedContainerId",this.selectedcontextMenuContainerId)}))},containerClose(){window.opener?window.close():this.$alert({type:"warn",message:this.$t("dashboard.close.new.window")})},filterTarget({targetId:t}){for(const e of this.instanceList)if(e.instanceId===t){e.isFiltered=!e.isFiltered;break}this.$refs.dashboardViewBody.filterTargetAfter(),this.webSocketWorker&&this.webSocketWorker.postMessage({websocketSendParam:this.getWebsocketSendParam()})},changeContainer(t,e){this.unloadContainer(),this.$emit("changeContainer",t,e)},unloadContainer(){null!==this.intervalWorker&&(this.intervalWorker.terminate(),this.intervalWorker=null),null!==this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=null),this.webSocketWorker&&(this.webSocketWorker.terminate(),this.webSocketWorker=null),this.noticeDataList=[],this.noticeDataHistoryList=[],this.isViewNoticeArea=!1,this.$refs.dashboardViewBody&&this.$refs.dashboardViewBody.unload(),document.querySelector(".wrap")&&document.querySelector(".wrap").classList.remove("dark"),document.querySelector("#ct")&&document.querySelector("#ct").classList.remove("ct-dashboard")},viewNotice(){this.viewNoticeBtnClass.checked=!this.viewNoticeBtnClass.checked,this.viewNoticeBtnClass.checked||(this.isViewNoticeArea=!1),this.temporaryCloseStartTime=null,this.selectedContainerUserInfo.containerOptions[`isViewNotice_${this.selectedContainerId}`]=this.viewNoticeBtnClass.checked,this.updateContainer()},noticeAreaClose(){this.isViewNoticeArea=!1,this.temporaryCloseStartTime=Date.now()},setNotice(){if(this.selectedContainerUserInfo.containerOptions[`isViewNotice_${this.selectedContainerId}`]){if(this.$refs.noticeGrid){const t=this.$refs.noticeGrid;t.invoke("getData").forEach((e=>{Date.now()-e.showTime<=1e3*this.dashConstInfo.noticeDataHoldingTime||t.invoke("removeRow",e.rowKey)}));const e=this.noticeDataList.sort(((t,e)=>new Date(t.noticeDateTime).getTime()-new Date(e.noticeDateTime).getTime()));0<e.length&&e.forEach((e=>{e.showTime=Date.now(),t.invoke("prependRow",l()(e))})),(!this.temporaryCloseStartTime||this.temporaryCloseStartTime&&Date.now()-this.temporaryCloseStartTime>=1e3*this.dashConstInfo.noticeTemporaryCloseStartTime)&&(this.temporaryCloseStartTime&&(this.temporaryCloseStartTime=null),0<t.invoke("getData").length?this.isViewNoticeArea||(this.isViewNoticeArea=!0,this.$nextTick((()=>{t.invoke("resetData",t.invoke("getData"))}))):this.isViewNoticeArea=!1)}this.noticeDataList=[]}else this.$refs.noticeGrid&&0<this.$refs.noticeGrid.invoke("getData").length&&this.$refs.noticeGrid.invoke("clear"),this.isViewNoticeArea&&(this.isViewNoticeArea=!1),0<this.noticeDataList.length&&(this.noticeDataList=[])},noticeHistoryList(){if(!this.selectedContainerId||"-"===this.selectedContainerId)return void this.$alert({type:"warn",message:this.$t("dashboard.select.noDashboard")});const t=this;let e=l()(this.noticeDataHistoryList).reverse();this.$openModal({title:this.$t("dashboard.notification.history.list"),modalWidth:"900px",modalHeight:"490px",contentList:[{template:`<div>\n\t\t\t\t\t\t\t\t\t   <div class="sub-bar" style="padding-top: 0px;">\n\t\t\t\t\t\t\t\t\t       <span>Last Updated Time: {{ refreshTime }}</span>\n\t\t\t\t\t\t\t\t\t\t   <div class="ml-auto form-inline m-full">\n\t\t\t\t\t\t\t\t\t\t       <a href="javascript:void(0);"  title="${this.$t("igate.refresh")}" class="btn btn-m" @click="resetData">\n\t\t\t\t\t\t\t\t\t\t\t       <i class="icon-reset"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t   <span class="hide">${this.$t("igate.refresh")}</span>\n\t\t\t\t\t\t\t\t\t\t\t   </a>\n\t\t\t\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t               <TuiGrid ref="tuiGrid" v-bind="options" />\n\t\t\t\t\t\t           </div>`,components:{TuiGrid:o.Grid},data(){return{refreshTime:null,perPage:20,scrollEndIdx:1,options:{bodyHeight:250,columns:[{name:"noticeDateTime",header:`${this.$t("dashboard.notification")} ${this.$t("head.time")}`,align:"center",width:t.dashConstInfo.noticeDateTimeColWidth},{name:"instanceId",header:`${this.$t("igate.instance")} ID`,width:t.dashConstInfo.noticeInstanceIdColWidth},{name:"message",header:this.$t("igate.message"),width:t.dashConstInfo.noticeMessageColWidth},{name:"status",header:this.$t("head.status"),align:"center",width:t.dashConstInfo.noticeStatusColWidth}],onGridMounted:t=>{t.instance.on("scrollEnd",(t=>{this.scrollEndIdx>Math.ceil(e.length/this.perPage)||(t.instance.appendRows(e.slice(this.perPage*this.scrollEndIdx,this.perPage*(this.scrollEndIdx+1))),this.scrollEndIdx+=1)}))}}}},created(){this.options=(0,p.d_)(this.options)},mounted(){this.resetData()},methods:{resetData(){this.scrollEndIdx=1,e=l()(t.noticeDataHistoryList).reverse(),this.$refs.tuiGrid.invoke("resetData",e?e.slice(0,this.perPage):null),this.refreshTime=c()(new Date).format("YYYY-MM-DD hh:mm:ss")}},beforeDestroy(){e=null}}]})},async setSyncTarget(){const t=this.$refs.dashboardViewBody,e=t.$refs.dashboardBodyArea;if(null!=this.targetSyncRefreshTime&&Date.now()-this.targetSyncRefreshTime<this.dashConstInfo.targetSyncRefreshStandardTime)return;this.targetSyncRefreshTime=Date.now();let a=[],i=[],s=[],n=[],o=[];if(Array.prototype.push.apply(a,this.instanceList),Array.prototype.push.apply(i,this.adapterList),Array.prototype.push.apply(s,this.connectorList),Array.prototype.push.apply(n,this.queueList),Array.prototype.push.apply(o,this.externalLineList),await this.getTargetInfo(),this.instanceList.forEach(((t,e)=>{t.color=this.dashConstInfo.COLORS[e];let i=!1;for(let s=0;s<a.length;s++)if(a[s].instanceId===t.instanceId){i=a[s].isFiltered;break}t.isFiltered=i})),!this.selectedContainerInfo.monitorComponents)return;if(0===this.selectedContainerInfo.monitorComponents.length)return;let r=!1;const l=this.instanceList.filter((t=>-1===a.map((t=>t.instanceId)).indexOf(t.instanceId))),d=a.filter((t=>-1===this.instanceList.map((t=>t.instanceId)).indexOf(t.instanceId))),c=this.externalLineList.filter((t=>-1===o.map((t=>t.externalLineId)).indexOf(t.externalLineId))),p=o.filter((t=>-1===this.externalLineList.map((t=>t.externalLineId)).indexOf(t.externalLineId)));for(const h of this.selectedContainerInfo.monitorComponents){if("elapsed"===h.itemId||"deal"===h.itemId)continue;if(!e.$refs[h.componentId])continue;const t=e.$refs[h.componentId];"INSTANCE"===h.targetType?(0<d.length&&d.forEach((e=>{t.deleteTarget&&t.deleteTarget(e.instanceId)})),0<l.length&&l.forEach((e=>{t.addTarget&&t.addTarget({targetId:e.instanceId,targetName:e.instanceId,color:""})})),(0<d.length||0<l.length)&&(r=!0,this.instanceList.forEach((e=>{t.updateTarget&&t.updateTarget(e.instanceId,{color:e.color})})),t.draw&&t.draw())):"CONNECTOR"===h.targetType?h.monitorComponentTargets.forEach((e=>{if(-1===this.connectorList.map((t=>t.connectorId)).indexOf(e.pk.componentTargetId))r=!0,t.deleteTargetAll&&t.deleteTargetAll();else{const a=this.connectorList.find((t=>t.connectorId==e.pk.componentTargetId)),i=s.find((t=>t.connectorId==e.pk.componentTargetId)),n=a.instanceList,o=i.instanceList,l=o.filter((t=>-1===n.map((t=>t.pk.instanceId)).indexOf(t.pk.instanceId))),d=n.filter((t=>-1===o.map((t=>t.pk.instanceId)).indexOf(t.pk.instanceId)));0<l.length&&l.forEach((e=>{t.deleteTarget&&t.deleteTarget(e.pk.instanceId)})),0<d.length&&d.forEach((e=>{t.addTarget&&t.addTarget({targetId:e.pk.instanceId,targetName:e.pk.instanceId})})),(0<l.length||0<d.length)&&(r=!0,t.draw&&t.draw())}})):"QUEUE"===h.targetType?h.monitorComponentTargets.forEach((e=>{if(-1===this.queueList.map((t=>t.adapterId)).indexOf(e.pk.componentTargetId))r=!0,t.deleteTargetAll&&t.deleteTargetAll();else{const a=this.queueList.find((t=>t.adapterId===e.pk.componentTargetId)),i=n.find((t=>t.adapterId==e.pk.componentTargetId)),s=a.instanceList,o=i.instanceList,l=o.filter((t=>-1===s.map((t=>t.pk.instanceId)).indexOf(t.pk.instanceId))),d=s.filter((t=>-1===o.map((t=>t.pk.instanceId)).indexOf(t.pk.instanceId)));0<l.length&&l.forEach((e=>{t.deleteTarget&&t.deleteTarget(e.pk.instanceId)})),0<d.length&&d.forEach((e=>{t.addTarget&&t.addTarget({targetId:e.pk.instanceId,targetName:e.pk.instanceId})})),(0<l.length||0<d.length)&&(r=!0,t.draw&&t.draw())}})):"THREAD"===h.targetType?(0<d.length&&d.filter((t=>"T"===t.instanceType)).forEach((e=>{t.deleteTarget&&t.deleteTarget(e.instanceId)})),0<l.length&&l.filter((t=>"T"===t.instanceType)).forEach((e=>{t.addTarget&&t.addTarget({targetId:e.instanceId,targetName:e.instanceId})})),(0<d.length||0<l.length)&&(r=!0,t.draw&&t.draw())):"EXTERNALLINE"===h.targetType&&(p.forEach((e=>{t.deleteTarget&&t.deleteTarget(e.externalLineId)})),c.forEach((e=>{t.addTarget&&t.addTarget({targetId:e.externalLineId,targetName:e.externalLineName})})),0<c.length&&t.draw&&t.draw())}r&&(this.instanceList.forEach((t=>{t.isFiltered=!1})),t.filterTargetAfter(),this.webSocketWorker&&this.webSocketWorker.postMessage({websocketSendParam:this.getWebsocketSendParam()})),a.splice(0,a.length),i.splice(0,i.length),s.splice(0,s.length),n.splice(0,n.length),o.splice(0,o.length),a=null,i=null,s=null,n=null,o=null},validationDashConfigModal({containerName:t,containerWidth:e,containerHeight:a}){return t&&0!==t.trim().length?e&&a&&0!==String(e).trim().length&&0!==String(a).trim().length?0!==String(e).replace(/[^0-9]/g,"").trim().length&&0!==String(a).replace(/[^0-9]/g,"").trim().length||(this.$alert({type:"warn",message:this.$t("dashboard.enter.number")}),!1):(this.$alert({type:"warn",message:this.$t("dashboard.enter.resolution")}),!1):(this.$alert({type:"warn",message:this.$t("dashboard.enter.name")}),!1)},updateContainer(){if(!this.editor)return;const t=l()(this.selectedContainerInfo),e=t.monitorContainerUsers.find((t=>t.pk.containerUserId===this.userInfo.userId));e.containerOptions=JSON.stringify(e.containerOptions);const a=new p.p0("/api/monitoring/container");a.update(t,!0)}},beforeDestroy(){this.isDestroy=!0,this.unloadContainer()}},g=m,f=a(43736),y=(0,f.Z)(g,i,s,!1,null,null,null),v=y.exports},71645:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dashboardViewBodyRoot"},[t.isEmpty?e("div",{staticClass:"empty"},[e("p",[t._v(t._s(t.$t("dashboard.select.noDashboard")))]),e("img",{staticClass:"center-block",attrs:{src:a(87932)}})]):e(t.dashboardBodyArea,{ref:"dashboardBodyArea",tag:"component",attrs:{dashConstInfo:t.dashConstInfo,containerInfo:t.containerInfo,containerUserInfo:t.containerUserInfo},on:{filterTarget:t.filterTarget}})],1)},s=[],n=a(13513),o={name:"DashboardViewBody",props:{containerInfo:Object,containerUserInfo:Object,perfItemList:Array,instanceList:Array,adapterList:Array,connectorList:Array,queueList:Array,threadList:Array,externalLineList:Array,dashConstInfo:Object},data(){return{componentDataMapping:{},dashboardBodyArea:null,isEmpty:!0}},watch:{containerInfo(){this.isEmpty=!0,this.containerInfo&&(this.isEmpty=!1,this.initDashboardBodyArea())}},methods:{addData(t){this.$refs.dashboardBodyArea.addData(t)},setInterval(t){this.$refs.dashboardBodyArea.setInterval(t)},setRequestAnimationFrame(t){this.$refs.dashboardBodyArea.setRequestAnimationFrame(t)},unload(){this.isEmpty=!0,this.containerInfo&&(this.isEmpty=!1,this.$refs.dashboardBodyArea.unload())},filterTarget(t){this.$emit("filterTarget",t)},filterTargetAfter(){if(this.$refs.dashboardBodyArea)for(const t in this.$refs.dashboardBodyArea.$refs)this.$refs.dashboardBodyArea.$refs[t].filterData&&this.instanceList.forEach((e=>{this.$refs.dashboardBodyArea.$refs[t].filterData({targetId:e.instanceId,isFiltered:e.isFiltered})}))},appendComponentTag(t,e){const a=document.createElement("div");a.style.height=t.componentHeight,"-1"===t.pComponentId?a.setAttribute("id","root"):a.style.width=t.componentWidth,a.setAttribute("component-id",t.componentId),this.componentDataMapping[a.getAttribute("component-id")]=t,"h"==t.componentTypeDirection?a.classList.add("component-horizontal"):"v"==t.componentTypeDirection&&a.classList.add("component-vertical");const i=this.containerInfo.monitorComponents.filter((e=>e.pComponentId===t.componentId)).sort(((t,e)=>t.componentOrder-e.componentOrder));if(0<i.length&&i.forEach((t=>{if("G"===t.componentType)this.appendComponentTag(t,a);else{const e=document.createElement("div");e.setAttribute("component-id",t.componentId),this.componentDataMapping[e.getAttribute("component-id")]=t,e.classList.add("component"),e.style.width=t.componentWidth,e.style.height=t.componentHeight;const i=document.createElement("section");i.classList.add("card");const s=document.createElement("h2");s.classList.add("card-header");const n=document.createElement("ul"),o=document.createElement("li");o.classList.add("nav-link");const r=document.createElement("i");r.classList.add(this.perfItemList.find((e=>e.itemId==t.itemId)).itemIcon);const l=document.createElement("span");l.innerText=t.componentName,o.appendChild(r),o.appendChild(l),n.appendChild(o);const d={targetType:null,inputType:null};if("LINE"===t.chartType||"XVIEW"===t.chartType||"DATATABLE"===t.chartType||"EXCEPTIONLOG"===t.chartType){const e=this.$parent.getTypeList(this.perfItemList.find((e=>e.itemId==t.itemId)));let a=e.targetTypeList.find((e=>e.value==t.targetType)).name;"INSTANCE"!==t.targetType&&(a+="-","ADAPTER"===t.targetType?0<t.monitorComponentTargets.length&&this.adapterList.forEach((e=>{e.adapterId===t.monitorComponentTargets[0].pk.componentTargetId&&(a+=e.adapterId)})):"CONNECTOR"===t.targetType?0<t.monitorComponentTargets.length&&this.connectorList.forEach((e=>{e.connectorId===t.monitorComponentTargets[0].pk.componentTargetId&&(a+=e.connectorId)})):"QUEUE"===t.targetType?0<t.monitorComponentTargets.length&&this.queueList.forEach((e=>{e.connectorId===t.monitorComponentTargets[0].pk.componentTargetId&&(a+=e.connectorId)})):"THREAD"===t.targetType&&0<t.monitorComponentTargets.length&&this.threadList.forEach((e=>{e.threadPoolId==t.monitorComponentTargets[0].pk.componentTargetId&&(a+=e.threadPoolId)}))),d.targetType=a,d.inoutType="NONE"!==t.inoutType?e.inoutTypeList.find((e=>e.value==t.inoutType)).name:"";const i=document.createElement("li");if(i.classList.add("nav-link","export-nav-link"),"XVIEW"===t.chartType){const e=document.createElement("i");e.classList.add("icon-set"),e.setAttribute("name","filterSetIcon"),e.setAttribute("title","Filter Set"),e.setAttribute("v-on:click",`xViewFilter('${t.componentId}')`),i.appendChild(e)}const s=document.createElement("i");s.classList.add("icon-export"),s.setAttribute("name","exportIcon"),s.setAttribute("title","Export"),s.setAttribute("v-on:click",`exportData('${t.componentId}')`),i.appendChild(s),n.appendChild(i)}s.appendChild(n);const c=document.createElement("div");c.classList.add("card-body"),c.style.paddingTop="0px";const p=document.createElement("component");p.setAttribute("v-bind:is",`getComponent('${t.chartType}')`),p.setAttribute("ref",t.componentId),p.setAttribute("v-on:line-chart-tooltip-sync","lineChartTooltipSync"),p.setAttribute("v-on:filter-target","filterTarget"),p.setAttribute("v-bind:options",JSON.stringify({componentId:t.componentId,componentName:t.componentName,itemId:t.itemId,unitType:t.unitType,darkmodeYn:this.containerInfo.darkmodeYn,remarkYn:this.containerInfo.remarkYn,typeList:d,isUseClickEvt:!["elapsed","deal","transactionFlowSummary"].find((e=>e===t.itemId))})),p.setAttribute("v-bind:dash-const-info","dashConstInfo"),p.setAttribute("v-bind:container-info","containerInfo"),p.setAttribute("v-bind:container-user-info","containerUserInfo"),c.appendChild(p),i.appendChild(s),i.appendChild(c),e.appendChild(i),a.appendChild(e)}})),!e)return a;e.appendChild(a)},initDashboardBodyArea(){const t=this,e=this.appendComponentTag(this.containerInfo.monitorComponents.find((t=>"-1"===t.pComponentId))).outerHTML;this.dashboardBodyArea={template:e,props:{dashConstInfo:Object,containerInfo:Object,containerUserInfo:Object},mounted(){this.initChartTargetInfo()},methods:{getComponent(t){let e="";return"LINE"===t?e="DashboardLineChart":"COLUMN"===t?e="DashboardColumnChart":"SPEEDBAR"===t?e="DashboardSpeedBarChart":"CONNECTOR"===t?e="DashboardConnectorChart":"QUEUE"===t?e="DashboardQueueChart":"THREAD"===t?e="DashboardThreadChart":"INSTANCE"===t?e="DashboardInstanceChart":"EXTERNALLINE"===t?e="DashboardExternalLineChart":"DATATABLE"===t?e="DashboardDataTableChart":"XVIEW"===t?e="DashboardXviewChart":"EXCEPTIONLOG"===t&&(e="DashboardExceptionLogChart"),a(77815)(`./${e}.vue`).default},initChartTargetInfo(){for(const e in this.$refs){const a=this.$refs[e],{itemId:i,targetType:s,monitorComponentTargets:n}=t.componentDataMapping[e];if("elapsed"===i||"deal"===i){const t="elapsed"===i?[{id:"elapsedMax",name:this.$t("dashboard.head.max"),color:this.dashConstInfo.COLORS[0]},{id:"elapsedMin",name:this.$t("dashboard.head.min"),color:this.dashConstInfo.COLORS[1]},{id:"elapsedAvg",name:this.$t("dashboard.head.avg"),color:this.dashConstInfo.COLORS[2]}]:[{id:"success",name:this.$t("dashboard.head.success"),color:"#62d36f"},{id:"timeout",name:this.$t("dashboard.head.time.out"),color:"#efc402"},{id:"error",name:this.$t("dashboard.head.error"),color:"#ed3137"}];t.forEach((t=>{a.addTarget&&a.addTarget({targetId:t.id,targetName:t.name,color:t.color})}))}else if("transactionFlowSummary"===i){const t=[{id:"rps",name:"rps",color:this.dashConstInfo.COLORS[0]},{id:"rpsPrediction",name:`rps ${this.$t("dashboard.predicted.value")}`,color:this.dashConstInfo.COLORS[1]},{id:"tps",name:"tps",color:this.dashConstInfo.COLORS[2]},{id:"tpsPrediction",name:`tps ${this.$t("dashboard.predicted.value")}`,color:this.dashConstInfo.COLORS[3]}];t.forEach((t=>{a.addTarget&&a.addTarget({targetId:t.id,targetName:t.name,color:t.color})}))}else"INSTANCE"===s?t.instanceList.forEach((t=>{a.addTarget&&a.addTarget({targetId:t.instanceId,targetName:t.instanceId,color:t.color})})):"ADAPTER"===s?n.forEach(((t,e)=>{a.addTarget&&a.addTarget({targetId:t.pk.componentTargetId,targetName:t.pk.componentTargetId,color:this.dashConstInfo.COLORS[e]})})):"CONNECTOR"===s?n.forEach((e=>{const i=t.connectorList.find((t=>t.connectorId===e.pk.componentTargetId));i&&i.instanceList.forEach((t=>{a.addTarget&&a.addTarget({targetId:t.pk.instanceId,targetName:t.pk.instanceId})}))})):"QUEUE"===s?n.forEach((e=>{const i=t.queueList.find((t=>t.adapterId===e.pk.componentTargetId));i&&i.instanceList.forEach((t=>{a.addTarget&&a.addTarget({targetId:t.pk.instanceId,targetName:t.pk.instanceId})}))})):"THREAD"===s?t.instanceList.filter((t=>"T"===t.instanceType)).forEach((t=>{a.addTarget&&a.addTarget({targetId:t.instanceId,targetName:t.instanceId})})):"EXTERNALLINE"===s&&t.externalLineList.forEach((t=>{a.addTarget&&a.addTarget({targetId:t.externalLineId,targetName:t.externalLineName})}));a.draw&&a.draw()}},addData(t){for(const e in this.$refs)this.$refs[e].addData&&this.$refs[e].addData(t[e]);t=null},setInterval(t){for(const e in this.$refs)this.$refs[e].setInterval&&this.$refs[e].setInterval(t)},setRequestAnimationFrame(t){for(const e in this.$refs)this.$refs[e].setRequestAnimationFrame&&this.$refs[e].setRequestAnimationFrame(t)},unload(){for(const t in this.$refs)this.$refs[t].unload&&this.$refs[t].unload()},lineChartTooltipSync(e){t.containerInfo.monitorComponents.forEach((t=>{const{componentId:a,chartType:i}=t;if("LINE"!==i)return;let s=null,o=null;const r=this.$refs[a].chartObj;if(r.canvas==e.chartObj.canvas)s=e.datasetIndex,o=e.dataIndex;else for(let p=0;p<r.data.datasets.length;p++){const t=r.data.datasets[p],a=(0,n.FR)(t.data,e.standardTimeMillis);if(a){s=p,o=a.idx;break}}if(null===s||null===o)return;const l=r.data.datasets[s],d=l._meta[Object.keys(l._meta)[0]].data[o]._view;if(!d.x||!d.y)return;const c=r.canvas.getBoundingClientRect();r.canvas.dispatchEvent(new MouseEvent("mousemove",{clientX:c.left,clientY:c.top})),r.canvas.dispatchEvent(new MouseEvent("mousemove",{clientX:c.left+d.x,clientY:c.top+d.y}))}))},filterTarget(t){this.$emit("filterTarget",t)},xViewFilter(e){this.$refs[e].xViewFilter({instanceList:t.instanceList.filter((t=>"T"===t.instanceType)).map((t=>t.instanceId)),adapterList:t.adapterList.map((t=>t.adapterId))})},exportData(t){this.$refs[t].exportData&&this.$refs[t].exportData()}}}}}},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,"e8b49dba",null),c=d.exports},44058:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return C}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"xViewChartRoot"},[e("div",{staticClass:"graph",staticStyle:{height:"100%"}},[e("div",{ref:"background",style:t.backgroundStyle},[e("canvas",{ref:"canvasBackground",attrs:{width:t.canvasWidth,height:t.canvasHeight}})]),e("div",{ref:"body",style:t.bodyStyle},[e("canvas",{ref:"canvasBody",attrs:{width:t.canvasWidth,height:t.canvasHeight}})])]),t.isShowLegend?e("div",{staticClass:"legend"},[e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-normal"}),t._v(t._s(t.$t("dashboard.head.success")))]),e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-warn"}),t._v(t._s(t.$t("dashboard.head.time.out")))]),e("span",{staticClass:"status"},[e("i",{staticClass:"dot bg-danger"}),t._v(t._s(t.$t("dashboard.head.error")))])]):t._e()])},s=[],n=(a(57658),a(34531)),o=a.n(n),r=a(36797),l=a.n(r),d=a(37856),c=a(66281),p=a.n(c),h=a(66997),u=a.n(h),m=a(63822),g=a(13513),f=a(37662),y={name:"DashboardXviewChart",props:{options:Object,intervalParam:Object,rafParam:Object,dataObj:Object,dashConstInfo:Object,containerInfo:Object,containerUserInfo:Object},data(){return{isShowLegend:!1,targetInfoList:[],backgroundStyle:{position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%"},bodyStyle:{position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%"},adapterFilterObj:{},instanceFilterObj:{},transactionFilter:"",canvasWidth:null,canvasHeight:null,chartTopPadding:20,chartBottomPadding:20,chartLeftPadding:90,chartRightPadding:40,fontColor:null,axisLineColor:null,yAxisTickCount:6,yAxisMaxValue:null,yAxisStepSize:null,xAxisMinValue:null,xAxisMaxValue:null,trans:null,isFirstChartRecvStandardTime:!1,chartMoveXRemainder:0,chartDrawXRemainder:0,COLOURS:["#62d36f","#efc402","#ed3137","#666666"],COLOURS_0:null,COLOURS_1:null,COLOURS_2:null,COLOURS_FILTER:null,countStart:null,deleteStart:null,dragStartMousePosInfo:null,dragStopMousePosInfo:null,dataFilterWorker:null,canvasBackgroundCtx:null,canvasBodyCtx:null}},computed:{...(0,m.rn)(["userInfo"])},watch:{intervalParam:{deep:!0,handler(){this.setInterval(this.intervalParam)}},rafParam:{deep:!0,handler(){this.setRequestAnimationFrame(this.rafParam)}}},created(){window.xViewDataObj||(window.xViewDataObj={}),window.xViewDataObj[this.options.componentId]={saveDataArr:[],drawDataArr:[]}},mounted(){this.initXviewChart(),this.$nextTick((()=>{this.canvasBackgroundCtx=this.$refs.canvasBackground.getContext("2d"),this.canvasBodyCtx=this.$refs.canvasBody.getContext("2d",{willReadFrequently:!1}),this.initYAxis(),this.initSelectableEvt()}))},methods:{initXviewChart(){this.canvasWidth=this.$refs.background.clientWidth,this.canvasHeight=this.$refs.background.clientHeight,this.isShowLegend="Y"===this.options.remarkYn,this.fontColor="Y"===this.options.darkmodeYn?"#ffffff":o().helpers.color("#212529").alpha(.6).rgbString(),this.axisLineColor="Y"===this.options.darkmodeYn?"#666666":"#f0f1f6";const t=this.containerUserInfo.containerOptions;this.adapterFilterObj=t[`xViewadapterFilter_${this.options.componentId}`]?JSON.parse(t[`xViewadapterFilter_${this.options.componentId}`]):{},this.instanceFilterObj=t[`xViewInstanceFilter_${this.options.componentId}`]?JSON.parse(t[`xViewInstanceFilter_${this.options.componentId}`]):{},this.transactionFilter=t[`xViewtransactionFilter_${this.options.componentId}`]?t[`xViewtransactionFilter_${this.options.componentId}`]:"",this.yAxisMaxValue=t[`xViewYAxisMax_${this.options.componentId}`]?t[`xViewYAxisMax_${this.options.componentId}`]:this.dashConstInfo.xViewDefaultYAxisMax,this.trans=u()(t[`xViewTrans_${this.options.componentId}`])?this.dashConstInfo.xViewDefaultTrans:t[`xViewTrans_${this.options.componentId}`],this.yAxisStepSize=(this.yAxisMaxValue/(this.yAxisTickCount-1)).toFixed(2),this.COLOURS_0=o().helpers.color(this.COLOURS[0]).alpha(this.trans).rgbString(),this.COLOURS_1=o().helpers.color(this.COLOURS[1]).alpha(this.trans).rgbString(),this.COLOURS_2=o().helpers.color(this.COLOURS[2]).alpha(this.trans).rgbString(),this.COLOURS_FILTER=o().helpers.color(this.COLOURS[3]).alpha(this.trans).rgbString();const e=new Blob([g.TG],{type:"application/javascript"}),a=URL.createObjectURL(e);this.dataFilterWorker=new Worker(a),this.dataFilterWorker.onmessage=t=>{"drag"===t.data.mod?this.openXLogDetailModalGrid(t):"export"===t.data.mod&&this.exportDataCallBack(t)}},initXAxis(){const t=(this.xAxisMaxValue-this.xAxisMinValue)/(this.canvasBodyCtx.canvas.width-(this.chartLeftPadding+this.chartRightPadding));this.canvasBodyCtx.clearRect(0,0,this.canvasBodyCtx.canvas.width,this.canvasBodyCtx.canvas.height),this.canvasBodyCtx.font="12px Arial",this.canvasBodyCtx.textAlign="center";for(let e=0;e<this.dashConstInfo.xViewChartTimeDuration;e++){this.canvasBodyCtx.beginPath();const a=6e4*Math.floor(this.xAxisMinValue/6e4)+60*(e+1)*1e3,i=(a-this.xAxisMinValue)/t;this.canvasBodyCtx.save(),this.canvasBodyCtx.strokeStyle=o().helpers.color(this.axisLineColor).alpha(.5).rgbString(),this.canvasBodyCtx.lineWidth=2,this.canvasBodyCtx.moveTo(this.chartLeftPadding+i,this.chartTopPadding),this.canvasBodyCtx.lineTo(this.chartLeftPadding+i,this.canvasBodyCtx.canvas.height-this.chartBottomPadding+10),this.canvasBodyCtx.stroke(),this.canvasBodyCtx.restore(),this.canvasBodyCtx.fillStyle=this.fontColor,this.canvasBodyCtx.fillText(l()(new Date(a)).format("HH : mm"),this.chartLeftPadding+i,this.canvasBodyCtx.canvas.height-this.chartBottomPadding+20),this.canvasBodyCtx.closePath()}},initYAxis(){const t=(this.canvasBackgroundCtx.canvas.height-(this.chartTopPadding+this.chartBottomPadding))/this.yAxisMaxValue;this.canvasBackgroundCtx.beginPath(),this.canvasBackgroundCtx.clearRect(0,0,this.canvasBackgroundCtx.canvas.width,this.canvasBackgroundCtx.canvas.height),this.canvasBackgroundCtx.moveTo(this.chartLeftPadding,this.chartTopPadding),this.canvasBackgroundCtx.lineTo(this.chartLeftPadding,this.canvasBackgroundCtx.canvas.height-this.chartBottomPadding),this.canvasBackgroundCtx.strokeStyle=this.axisLineColor,this.canvasBackgroundCtx.stroke(),this.canvasBackgroundCtx.font="12px Arial",this.canvasBackgroundCtx.textAlign="right",this.canvasBackgroundCtx.textBaseline="middle";for(let e=0;e<this.yAxisTickCount;e++){const a=this.yAxisStepSize*e,i=this.canvasBackgroundCtx.canvas.height-(this.chartTopPadding+this.chartBottomPadding)-t*a+this.chartTopPadding;this.canvasBackgroundCtx.fillStyle=this.fontColor,this.canvasBackgroundCtx.fillText((0,g.Ai)(a,"NUMBER"),this.chartLeftPadding-15,i),this.canvasBackgroundCtx.moveTo(this.chartLeftPadding-7,i),this.canvasBackgroundCtx.lineTo(this.canvasBackgroundCtx.canvas.width-this.chartRightPadding,i),this.canvasBackgroundCtx.strokeStyle=this.axisLineColor,this.canvasBackgroundCtx.stroke()}this.canvasBackgroundCtx.closePath()},addTarget(t){t.isFiltered=!1,this.targetInfoList.push(t)},deleteTarget(t){const e=this.targetInfoList.find((e=>e.targetId===t));e&&(this.targetInfoList=this.targetInfoList.filter((e=>e.targetId!==t)))},addData(t){Array.prototype.push.apply(window.xViewDataObj[this.options.componentId].saveDataArr,t),Array.prototype.push.apply(window.xViewDataObj[this.options.componentId].drawDataArr,t.map((t=>(0,g.kI)(t)))),t=null;const e=this.adapterFilterObj,a=this.instanceFilterObj,i=this.transactionFilter;(0<Object.keys(e).length||0<Object.keys(a).length||0<i.length)&&(window.xViewDataObj[this.options.componentId].drawDataArr=window.xViewDataObj[this.options.componentId].drawDataArr.filter((t=>{const s=!(0<Object.keys(e).length)||e[t.adapterId],n=!(0<Object.keys(a).length)||a[t.instanceId],o=!(0<i.trim().length)||i.trim()===t.transactionId;return s&&n&&o})))},setInterval({time:t,isRecvTime:e}){if(null===this.xAxisMaxValue||!this.isFirstChartRecvStandardTime&&e)this.xAxisMaxValue=1e3*Math.floor(t/1e3),this.xAxisMinValue=this.xAxisMaxValue-60*this.dashConstInfo.xViewChartTimeDuration*1e3,this.initXAxis(),this.isFirstChartRecvStandardTime=!0;else if(0<this.canvasBodyCtx.canvas.width&&0<this.canvasBodyCtx.canvas.height){let e=!1;const a=new Date(this.xAxisMaxValue),i=new Date(1e3*Math.floor(t/1e3)),s=i.getTime()-a.getTime();e=a.getMinutes()!=i.getMinutes(),this.xAxisMaxValue=1e3*Math.floor(t/1e3),this.xAxisMinValue=this.xAxisMaxValue-60*this.dashConstInfo.xViewChartTimeDuration*1e3;const n=(this.xAxisMaxValue-this.xAxisMinValue)/(this.canvasBodyCtx.canvas.width-(this.chartLeftPadding+this.chartRightPadding));let r=Math.floor(s/n);this.chartMoveXRemainder+=s/n%1,this.chartDrawXRemainder=s/n%1,1<=this.chartMoveXRemainder&&(r+=Math.floor(this.chartMoveXRemainder/1),this.chartMoveXRemainder-=Math.floor(this.chartMoveXRemainder/1),this.chartDrawXRemainder=this.chartMoveXRemainder);const d=this.canvasBodyCtx.getImageData(this.chartLeftPadding+r,0,this.canvasBodyCtx.canvas.width-(this.chartLeftPadding+r),this.canvasBodyCtx.canvas.height);if(this.canvasBodyCtx.beginPath(),this.canvasBodyCtx.clearRect(0,0,this.canvasBodyCtx.canvas.width,this.canvasBodyCtx.canvas.height),this.canvasBodyCtx.putImageData(d,this.chartLeftPadding,0),this.canvasBodyCtx.closePath(),e){let t=6e4*Math.floor(this.xAxisMinValue/6e4)+60*this.dashConstInfo.xViewChartTimeDuration*1e3,e=(t-this.xAxisMinValue)/n;this.chartDrawXRemainder&&(e+=this.chartDrawXRemainder),this.canvasBodyCtx.beginPath(),this.canvasBodyCtx.save(),this.canvasBodyCtx.strokeStyle=o().helpers.color(this.axisLineColor).alpha(.5).rgbString(),this.canvasBodyCtx.lineWidth=2,this.canvasBodyCtx.moveTo(this.chartLeftPadding+e,this.chartTopPadding),this.canvasBodyCtx.lineTo(this.chartLeftPadding+e,this.canvasBodyCtx.canvas.height-this.chartBottomPadding+10),this.canvasBodyCtx.stroke(),this.canvasBodyCtx.restore(),this.canvasBodyCtx.font="12px Arial",this.canvasBodyCtx.textAlign="center",this.canvasBodyCtx.fillStyle=this.fontColor,this.canvasBodyCtx.fillText(l()(new Date(t)).format("HH : mm"),this.chartLeftPadding+e,this.canvasBodyCtx.canvas.height-this.chartBottomPadding+20),this.canvasBodyCtx.closePath()}}const a=Date.now();this.deleteStart||(this.deleteStart=a);const i=a-this.deleteStart;i>=3e4&&(this.deleteStart=a,this.initDeleteDataInterval());const s=Date.now();this.countStart||(this.countStart=s);const n=s-this.countStart;n>=15e3&&(this.countStart=s,this.initCountDataInterval()),this.canvasWidth===this.$refs.background.clientWidth&&this.canvasHeight===this.$refs.background.clientHeight||(this.canvasWidth=this.$refs.background.clientWidth,this.canvasHeight=this.$refs.background.clientHeight,this.chartMoveXRemainder=0,this.chartDrawXRemainder=0,this.$nextTick((()=>{this.initYAxis(),this.initXAxis(),this.filterDrawData()})))},setRequestAnimationFrame(){if(!this.$refs.canvasBody)return;if(0===window.xViewDataObj[this.options.componentId].drawDataArr.length)return;const t=(this.xAxisMaxValue-this.xAxisMinValue)/(this.canvasBodyCtx.canvas.width-(this.chartLeftPadding+this.chartRightPadding)),e=(this.canvasBodyCtx.canvas.height-(this.chartTopPadding+this.chartBottomPadding))/this.yAxisMaxValue,a=Date.now();for(const s of window.xViewDataObj[this.options.componentId].drawDataArr){if(s.isDraw||s.x>this.xAxisMaxValue)continue;if(Date.now()-a>=3)break;if(s.x<this.xAxisMinValue){s.isDraw=!0;continue}let i=this.chartLeftPadding+(s.x-this.xAxisMinValue)/t,n=this.canvasBodyCtx.canvas.height-(this.chartTopPadding+this.chartBottomPadding)-e*s.y+this.chartTopPadding;this.chartDrawXRemainder&&(i+=this.chartDrawXRemainder),n<this.chartTopPadding&&(n=this.chartTopPadding),this.canvasBodyCtx.beginPath(),this.canvasBodyCtx.lineWidth=3;const o=this.targetInfoList.find((t=>t.targetId===s.targetId));this.canvasBodyCtx.strokeStyle=o&&o.isFiltered?this.COLOURS_FILTER:0===s.type?this.COLOURS_0:1===s.type?this.COLOURS_1:this.COLOURS_2,this.canvasBodyCtx.moveTo(i-5,n-5),this.canvasBodyCtx.lineTo(i+5,n+5),this.canvasBodyCtx.moveTo(i-5,n+5),this.canvasBodyCtx.lineTo(i+5,n-5),this.canvasBodyCtx.stroke(),this.canvasBodyCtx.closePath(),s.isDraw=!0}const i=window.xViewDataObj[this.options.componentId].drawDataArr.findIndex((t=>!t.isDraw));-1<i?window.xViewDataObj[this.options.componentId].drawDataArr=window.xViewDataObj[this.options.componentId].drawDataArr.slice(i):0<window.xViewDataObj[this.options.componentId].drawDataArr.length&&(window.xViewDataObj[this.options.componentId].drawDataArr=[])},initDeleteDataInterval(){let t=window.xViewDataObj[this.options.componentId].saveDataArr.findIndex((t=>t.x>=this.xAxisMinValue));-1<t?window.xViewDataObj[this.options.componentId].saveDataArr=window.xViewDataObj[this.options.componentId].saveDataArr.slice(t):0<window.xViewDataObj[this.options.componentId].saveDataArr.length&&(window.xViewDataObj[this.options.componentId].saveDataArr=[]),t=window.xViewDataObj[this.options.componentId].drawDataArr.findIndex((t=>t.x>=this.xAxisMinValue)),-1<t?window.xViewDataObj[this.options.componentId].drawDataArr=window.xViewDataObj[this.options.componentId].drawDataArr.slice(t):0<window.xViewDataObj[this.options.componentId].drawDataArr.length&&(window.xViewDataObj[this.options.componentId].drawDataArr=[])},initCountDataInterval(){const t={total:0,0:0,1:0,2:0};for(const a of window.xViewDataObj[this.options.componentId].saveDataArr)if(!(this.xAxisMinValue>a.x)){if(this.xAxisMaxValue<a.x)break;0<Object.keys(this.adapterFilterObj).length&&!this.adapterFilterObj[a.adapterId]||0<Object.keys(this.instanceFilterObj).length&&!this.instanceFilterObj[a.instanceId]||0<this.transactionFilter.trim().length&&this.transactionFilter.trim()!==a.transactionId||++t[a.type]}t["total"]=t["0"]+t["1"]+t["2"];for(const a in t)t[a]=1e3>t[a]?t[a]:(0,g.Ai)(t[a],"NUMBER");this.canvasBackgroundCtx.beginPath(),this.canvasBackgroundCtx.clearRect(this.chartLeftPadding,this.chartTopPadding-20,this.canvasBackgroundCtx.canvas.width-(this.chartLeftPadding+this.chartRightPadding),15),this.canvasBackgroundCtx.font="10px Arial",this.canvasBackgroundCtx.textAlign="left",this.canvasBackgroundCtx.textBaseline="bottom";let e=this.chartLeftPadding;this.canvasBackgroundCtx.fillStyle=this.fontColor,this.canvasBackgroundCtx.fillText(`${t["total"]} (`,e,this.chartTopPadding-5),e+=this.canvasBackgroundCtx.measureText(t["total"]+" (").width,this.canvasBackgroundCtx.fillStyle=this.COLOURS[0],this.canvasBackgroundCtx.fillText(t["0"],e,this.chartTopPadding-5),e+=this.canvasBackgroundCtx.measureText(t["0"]).width,this.canvasBackgroundCtx.fillStyle=this.fontColor,this.canvasBackgroundCtx.fillText(", ",e,this.chartTopPadding-5),e+=this.canvasBackgroundCtx.measureText(", ").width,this.canvasBackgroundCtx.fillStyle=this.COLOURS[1],this.canvasBackgroundCtx.fillText(t["1"],e,this.chartTopPadding-5),e+=this.canvasBackgroundCtx.measureText(t["1"]).width,this.canvasBackgroundCtx.fillStyle=this.fontColor,this.canvasBackgroundCtx.fillText(", ",e,this.chartTopPadding-5),e+=this.canvasBackgroundCtx.measureText(", ").width,this.canvasBackgroundCtx.fillStyle=this.COLOURS[2],this.canvasBackgroundCtx.fillText(t["2"],e,this.chartTopPadding-5),e+=this.canvasBackgroundCtx.measureText(t["2"]).width,this.canvasBackgroundCtx.fillStyle=this.fontColor,this.canvasBackgroundCtx.fillText(")",e,this.chartTopPadding-5),this.canvasBackgroundCtx.closePath()},initSelectableEvt(){$(this.$refs.canvasBody).selectable({start:t=>{this.dragStartMousePosInfo=(0,g.OL)(this.$refs.canvasBody,t.originalEvent)},stop:t=>{this.dragStopMousePosInfo=(0,g.OL)(this.$refs.canvasBody,t.originalEvent);const e=this.dragStartMousePosInfo.x,a=this.dragStartMousePosInfo.y,i=this.dragStopMousePosInfo.x,s=this.dragStopMousePosInfo.y;let n=e<i?e:i,o=e<i?i:e,r=a<s?a:s,l=a<s?s:a;if(10>o-n||10>l-r)return;this.$startSpinner(),n-=5,o+=5,r-=5,l+=5;const d=(this.xAxisMaxValue-this.xAxisMinValue)/(this.$refs.canvasBody.width-(this.chartLeftPadding+this.chartRightPadding)),c=(this.$refs.canvasBody.height-(this.chartTopPadding+this.chartBottomPadding))/this.yAxisMaxValue,p=(n-this.chartLeftPadding)*d+this.xAxisMinValue,h=(o-this.chartLeftPadding)*d+this.xAxisMinValue,u=-(r-this.chartTopPadding-(this.$refs.canvasBody.height-(this.chartTopPadding+this.chartBottomPadding)))/c,m=-(l-this.chartTopPadding-(this.$refs.canvasBody.height-(this.chartTopPadding+this.chartBottomPadding)))/c;this.dataFilterWorker.postMessage({mod:"drag",isSort:!0,dataArr:window.xViewDataObj[this.options.componentId].saveDataArr,startFilterTime:p,endFilterTime:h,startFilterValue:m,endFilterValue:u,yAxisMaxValue:this.yAxisMaxValue,adapterFilterObj:this.adapterFilterObj,instanceFilterObj:this.instanceFilterObj,transactionFilter:this.transactionFilter.trim()})}})},openXLogDetailModalGrid(t){this.$stopSpinner(),0!==t.data.dataArr.length?this.$openModal({title:this.$t("dashboard.head.detail.xView"),fullscreen:!0,modalHeight:"50%",contentList:[{template:'<TuiGrid ref="tuiGrid" v-bind="options" @click="onClick" />',components:{TuiGrid:d.Grid},data(){return{options:{pageOptions:{useClient:!0,perPage:11},columns:[{name:"type",header:this.$t("dashboard.head.status"),width:"10%",align:"center",formatter:t=>{let e=`<span style="color: #28a745">${this.$t("dashboard.head.success")}</span>`;return 2===t.value?e=`<span style="color: #ed3137">${this.$t("dashboard.head.error")}</span>`:1===t.value&&(e=`<span style="color: #ffc107">${this.$t("dashboard.head.time.out")}</span>`),e}},{name:"uuid",header:this.$t("dashboard.head.transactionId"),width:"15%"},{name:"transactionId",header:this.$t("dashboard.head.interface.service.id"),width:"10%"},{name:"transactionName",header:this.$t("dashboard.head.transactionName"),width:"15%"},{name:"adapterId",header:this.$t("igate.adapter.id"),width:"20%"},{name:"instanceId",header:this.$t("igate.instance.id"),width:"10%"},{name:"snapshotTimestamp",header:this.$t("dashboard.head.snapshotTimestamp"),width:"10%",align:"center",formatter:t=>l()(new Date(t.value)).format("HH:mm:ss")},{name:"y",header:this.$t("dashboard.head.responseTime"),width:"10%",align:"right",formatter:t=>`${t.value} ms`}]}}},created(){this.options=(0,f.d_)(this.options),f.dc.$on("MainResize",this.resize),f.Gk.$on("MainResize",this.resize)},mounted(){this.$refs.tuiGrid.invoke("resetData",t.data.dataArr),this.resize()},methods:{onClick(t){"undefined"!==typeof t.rowKey&&"rowHeader"!==t.targetType&&(0,f.RB)("103020",(()=>{localStorage.setItem("searchObj",JSON.stringify({transactionId:t.instance.getRow(t.rowKey).uuid}))}))},resize(){setTimeout((()=>{if(!this.$refs.tuiGrid)return;const t=document.body.querySelector(".modal-body"),e=getComputedStyle(t),a=(0,f.tJ)(e.getPropertyValue("padding-top")),i=(0,f.tJ)(e.getPropertyValue("padding-bottom")),s=(0,f.tJ)(e.getPropertyValue("padding-left")),n=(0,f.tJ)(e.getPropertyValue("padding-right")),o=t.querySelector(".tui-grid-pagination").clientHeight;this.$refs.tuiGrid.invoke("setWidth",t.clientWidth-s-n),this.$refs.tuiGrid.invoke("setHeight",t.clientHeight-a-i-o-32-10)}),0)}},beforeDestroy(){t.data.dataArr=null}}]}):this.$alert({type:"normal",message:this.$t("dashboard.noMatch.criteria")})},filterDrawData(){window.xViewDataObj[this.options.componentId].drawDataArr=window.xViewDataObj[this.options.componentId].saveDataArr.map((t=>(0,g.kI)(t))),(Object.keys(this.adapterFilterObj).length>0||Object.keys(this.instanceFilterObj).length>0||this.transactionFilter.length>0)&&(window.xViewDataObj[this.options.componentId].drawDataArr=window.xViewDataObj[this.options.componentId].drawDataArr.filter((t=>{const e=!(0<Object.keys(this.adapterFilterObj).length)||this.adapterFilterObj[t.adapterId],a=!(0<Object.keys(this.instanceFilterObj).length)||this.instanceFilterObj[t.instanceId],i=!(0<this.transactionFilter.trim().length)||this.transactionFilter.trim()===t.transactionId;return e&&a&&i})))},filterData({targetId:t,isFiltered:e}){const a=this.targetInfoList.find((e=>e.targetId===t));a&&(a.isFiltered=e,this.initXAxis(),this.filterDrawData())},xViewFilter({instanceList:t,adapterList:e}){const a=this,i=0<Object.keys(a.instanceFilterObj).length?Object.keys(a.instanceFilterObj):[""],s=0<Object.keys(a.adapterFilterObj).length?Object.keys(a.adapterFilterObj):[""],n=a.transactionFilter?a.transactionFilter:"",o=this.$openModal({title:this.$t("dashboard.head.filter"),modalWidth:"500px",modalHeight:"510px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t\t       <div class="form-group">\n\t\t\t\t\t\t\t\t\t       <label class="control-label">{{ $t(\'igate.instance.id\') }}</label>\n\t\t\t\t\t\t\t\t\t\t   <div class="input-group">\n\t\t\t\t\t\t\t\t\t\t       <select v-model="selectInstanceList" class="form-control" size="5" multiple style="padding-right: 0px; background: none;">\n\t\t\t\t\t\t\t\t\t\t\t   \t   <option value="">{{ $t(\'head.all\') }}</option>\n\t\t\t\t\t\t\t\t\t\t\t       <option v-for="(instanceId, idx) in instanceList" :value="instanceId">{{ instanceId }}</option>\n\t\t\t\t\t\t\t\t\t\t\t   </select>\n\t\t\t\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t\t\t       </div>\n\t\t\t\t\t\t\t\t\t   <div class="form-group">\n\t\t\t\t\t\t\t\t\t       <label class="control-label">{{ $t(\'igate.adapter.id\') }}</label>\n\t\t\t\t\t\t\t\t\t\t   <div class="input-group">\n\t\t\t\t\t\t\t\t\t\t       <select v-model="selectedAdapterList" class="form-control" size="5" multiple style="padding-right: 0px; background: none;">\n\t\t\t\t\t\t\t\t\t\t\t   \t   <option value="">{{ $t(\'head.all\') }}</option>\n\t\t\t\t\t\t\t\t\t\t\t       <option v-for="(adapterId, idx) in adapterList" :value="adapterId">{{ adapterId }}</option>\n\t\t\t\t\t\t\t\t\t\t\t   </select>\n\t\t\t\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t\t\t\t   <div class="form-group">\n\t\t\t\t\t\t\t\t\t\t   <label class="control-label">{{ $t(\'dashboard.head.interface.service.id\') }}</label>\n\t\t\t\t\t\t\t\t\t\t   <input type="text" v-model="transactionFilter" class="form-control">\n\t\t\t\t\t\t\t\t\t   </div>\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t   </div>',data(){return{instanceList:t,adapterList:e,selectInstanceList:i,selectedAdapterList:s,transactionFilter:n}}}],buttonList:[{template:'<button type="button" @click="confirm" class="btn btn-primary">\n\t\t\t\t\t\t\t\t       {{ $t(\'head.ok\') }}\n\t\t\t\t\t\t\t\t   </button>',methods:{confirm(){const t=o.$refs.content[0].selectInstanceList.filter((t=>t)),e=o.$refs.content[0].selectedAdapterList.filter((t=>t)),i={},s={};0<t.length&&t.forEach((t=>{i[t]=!0})),0<e.length&&e.forEach((t=>{s[t]=!0})),a.instanceFilterObj=i,a.adapterFilterObj=s,a.transactionFilter=o.$refs.content[0].transactionFilter.trim(),a.initXAxis(),a.filterDrawData(),o.hideModal(),a.containerUserInfo.containerOptions[`xViewInstanceFilter_${a.options.componentId}`]=JSON.stringify(a.instanceFilterObj),a.containerUserInfo.containerOptions[`xViewadapterFilter_${a.options.componentId}`]=JSON.stringify(a.adapterFilterObj),a.containerUserInfo.containerOptions[`xViewtransactionFilter_${a.options.componentId}`]=a.transactionFilter;const n=p()(a.containerInfo),r=n.monitorContainerUsers.find((t=>t.pk.containerUserId===a.userInfo.userId));r.containerOptions=JSON.stringify(a.containerUserInfo.containerOptions);const l=new f.p0("/api/monitoring/container");l.update(n,!0)}}}]})},exportData(){this.$startSpinner(),this.dataFilterWorker.postMessage({mod:"export",isSort:!0,dataArr:window.xViewDataObj[this.options.componentId].saveDataArr,startFilterTime:this.xAxisMinValue,endFilterTime:this.xAxisMaxValue,startFilterValue:0,endFilterValue:this.yAxisMaxValue,yAxisMaxValue:this.yAxisMaxValue,csvFileName:`${this.options.componentName}_${Date.now()}`,adapterFilterObj:this.adapterFilterObj,instanceFilterObj:this.instanceFilterObj,transactionFilter:this.transactionFilter.trim()})},exportDataCallBack(t){let e="",a=t.data.dataArr;this.dashConstInfo.xViewMaxExportCnt<a.length&&(e+=`${this.$t("dashboard.xview.export.maxCnt",{0:this.dashConstInfo.xViewMaxExportCnt})}\r\n`,a=a.slice(0,this.dashConstInfo.xViewMaxExportCnt)),e+=`${this.$t("dashboard.head.status")},`,e+=`${this.$t("dashboard.head.uuid")},`,e+=`${this.$t("dashboard.head.transactionId")},`,e+=`${this.$t("dashboard.head.transactionName")},`,e+=`${this.$t("igate.adapter.id")},`,e+=`${this.$t("igate.instance.id")},`,e+=`${this.$t("dashboard.head.snapshotTimestamp")},`,e+=`${this.$t("dashboard.head.responseTime")}`,e+="\r\n",a.forEach((t=>{e+=`${2===t.type?this.$t("dashboard.head.error"):1===t.type?this.$t("dashboard.head.time.out"):this.$t("dashboard.head.success")},`,e+=`${t.uuid},`,e+=`${t.transactionId},`,e+=`${t.transactionName},`,e+=`${t.adapterId},`,e+=`${t.instanceId},`,e+=`${l()(new Date(t.snapshotTimestamp)).format("HH:mm:ss")},`,e+=`${t.y}`,e+="\r\n"})),(0,f.EZ)(t.data.csvFileName,e),this.$stopSpinner()},unload(){window.xViewDataObj&&(window.xViewDataObj[this.options.componentId]&&(delete window.xViewDataObj[this.options.componentId].saveDataArr,delete window.xViewDataObj[this.options.componentId].drawDataArr,delete window.xViewDataObj[this.options.componentId]),0===Object.keys(window.xViewDataObj).length&&delete window.xViewDataObj)}}},v=y,b=a(43736),I=(0,b.Z)(v,i,s,!1,null,"6ebcd6ce",null),C=I.exports},18418:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var i,s,n=a(30650),o=a(37662),r={name:"ExceptionCode",extends:n.Z,created(){const t=(0,o.fc)(this.pageInfo.privilegeType);this.viewer=t.viewer,this.editor=t.editor},async mounted(){const t=await new o.p0("/api/page/properties").read({pk:{propertyId:"List.Instance.InstanceType"},orderByKey:!0});"ok"===t.data.result&&(this.instanceTypeList=t.data.object),this.initNewTabSearchObj(),localStorage.getItem("detailObj")&&this.$nextTick((()=>{const t=JSON.parse(localStorage.getItem("detailObj"));t.isExpandDetailView=!0,localStorage.removeItem("detailObj"),this.initDetail("detail",t)}))},data(){return{instanceTypeList:[],cudUrl:"/api/entity/exceptionLog/object",viewer:null,editor:null,searchList:[{type:"singleDaterange",vModel:"fromExceptionDateTime",label:this.$t("head.from"),dateRangeType:"from"},{type:"singleDaterange",vModel:"toExceptionDateTime",label:this.$t("head.to"),dateRangeType:"to"},{type:"dateCalc",vModel:"rangeTime",label:this.$t("head.from.time"),val:10,dateVModel:[{vModel:"fromExceptionDateTime",dateRangeType:"from"},{vModel:"toExceptionDateTime",dateRangeType:"to"}],optionInfo:{optionFor:"time in [1, 3, 5, 10]",optionValue:"time",optionText:"time"},unit:"m"},{type:"text",vModel:"transactionId",label:this.$t("igate.exceptionLog.transactionId"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"modal",modalInfo:{title:this.$t("igate.adapter"),search:{list:[{type:"text",vModel:"adapterId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"adapterName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"text",vModel:"adapterDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/adapter/search",totalCntUrl:"/api/entity/adapter/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"adapterId",header:this.$t("head.id"),width:"20%"},{name:"adapterName",header:this.$t("head.name"),width:"20%"},{name:"adapterDesc",header:this.$t("head.description"),width:"20%"},{name:"requestStructure",header:this.$t("igate.adapter.structure.request"),width:"20%"},{name:"responseStructure",header:this.$t("igate.adapter.structure.response"),width:"20%"}]}},rowClickedCallback:t=>t.adapterId},vModel:"adapterId",label:`${this.$t("igate.adapter")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"pk.exceptionId",label:`${this.$t("igate.exceptionLog")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId")},{type:"text",vModel:"exceptionCode",label:this.$t("igate.exceptionCode"),placeholder:this.$t("head.searchData")},{type:"modal",modalInfo:{title:this.$t("igate.interface"),search:{list:[{type:"text",vModel:"interfaceId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"interfaceName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/interface/search",totalCntUrl:"/api/entity/interface/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"interfaceId",header:this.$t("head.id"),width:"25%"},{name:"interfaceName",header:this.$t("head.name"),width:"25%"},{name:"interfaceDesc",header:this.$t("head.description"),width:"25%"},{name:"interfaceType",header:this.$t("common.type"),width:"25%"}]}},rowClickedCallback:t=>t.interfaceId},vModel:"interfaceId",label:`${this.$t("igate.interface")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"modal",modalInfo:{title:this.$t("igate.service"),search:{list:[{type:"text",vModel:"serviceId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"serviceName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/service/search",totalCntUrl:"/api/entity/service/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"serviceId",header:this.$t("head.id"),width:"25%"},{name:"serviceName",header:this.$t("head.name"),width:"25%"},{name:"serviceDesc",header:this.$t("head.description"),width:"25%"},{name:"serviceType",header:this.$t("common.type"),width:"25%"}]}},rowClickedCallback:t=>t.serviceId},vModel:"serviceId",label:`${this.$t("igate.service")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"modal",modalInfo:{title:this.$t("igate.instance"),search:{list:[{type:"text",vModel:"instanceId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"instanceNode",label:this.$t("igate.instance.node"),placeholder:this.$t("head.searchData")},{type:"select",vModel:"instanceType",label:this.$t("common.type"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Instance.InstanceType"},orderByKey:!0},optionListName:"instanceTypes",optionFor:"option in instanceTypes",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/instance/search",totalCntUrl:"/api/entity/instance/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"instanceId",header:this.$t("head.id"),width:"25%"},{name:"instanceType",header:this.$t("common.type"),width:"25%",formatter:({row:t})=>{const e=this.instanceTypeList.find((e=>e.pk.propertyKey===t.instanceType));return e?(0,o.Xv)(e.propertyValue):""}},{name:"instanceAddress",header:this.$t("igate.instance.address"),width:"25%"},{name:"instanceNode",header:this.$t("igate.instance.node"),width:"25%"}]}},rowClickedCallback:t=>t.instanceId},vModel:"instanceId",label:`${this.$t("igate.instance")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"modal",modalInfo:{title:this.$t("igate.connector"),search:{list:[{type:"text",vModel:"connectorId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"connectorName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"select",vModel:"connectorType",label:this.$t("common.type"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Connector.Type"},orderByKey:!0},optionListName:"connectorTypes",optionFor:"option in connectorTypes",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"text",vModel:"connectorDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/connector/search",totalCntUrl:"/api/entity/connector/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"connectorId",header:this.$t("head.id")},{name:"connectorName",header:this.$t("head.name")},{name:"connectorDesc",header:this.$t("head.description")}]}},rowClickedCallback:t=>t.connectorId},vModel:"connectorId",label:`${this.$t("igate.connector")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"modal",modalInfo:{title:this.$t("igate.activity"),search:{list:[{type:"text",vModel:"activityId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"activityName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"select",vModel:"activityType",label:this.$t("common.type"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Activity.ActivityType"},orderByKey:!0},optionListName:"activityTypes",optionFor:"option in activityTypes",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"text",vModel:"activityGroup",label:this.$t("head.group"),placeholder:this.$t("head.searchData")},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}},{type:"text",vModel:"activityDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/activity/search",totalCntUrl:"/api/entity/activity/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"activityId",header:this.$t("head.id"),width:"20%"},{name:"activityName",header:this.$t("head.name"),width:"20%"},{name:"activityType",header:this.$t("common.type"),align:"center",width:"15%",formatter:({row:t})=>{const e={F:"igate.activity.type.control",A:"igate.activity.type.activity",S:"igate.activity.type.service",C:"igate.activity.type.codec",T:"igate.activity.type.transform",I:"igate.activity.type.internal",H:"igate.activity.type.telegram.handler"};return this.$t(e[t.activityType])}},{name:"activityGroup",header:this.$t("head.group"),width:"20%"},{name:"activityDesc",header:this.$t("head.description"),width:"25%"}]}},rowClickedCallback:t=>t.activityId},vModel:"activityId",label:`${this.$t("igate.activity")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"newTab",isUse:!0},{id:"refresh",isUse:!0},{id:"excelExport",isUse:!0,exportUrl:"/api/entity/exceptionLog/download",fileName:"ExceptionLog ExcelExport"},{id:"initialize",isUse:!0}],gridInfo:{url:"/api/entity/exceptionLog/search",totalCntUrl:"/api/entity/exceptionLog/count",paging:{isUse:!0,side:"client"},options:{columns:[{name:"pk.exceptionDateTime",header:this.$t("igate.exceptionLog.exceptionDateTime"),formatter:t=>(0,o.GD)(t.value)},{name:"transactionId",header:this.$t("igate.exceptionLog.transactionId")},{name:"adapterId",header:`${this.$t("igate.adapter")} ${this.$t("head.id")}`},{name:"exceptionCode",header:this.$t("igate.exceptionCode")},{name:"interfaceId",header:`${this.$t("igate.interface")} ${this.$t("head.id")}`},{name:"serviceId",header:`${this.$t("igate.service")} ${this.$t("head.id")}`},{name:"instanceId",header:`${this.$t("igate.instance")} ${this.$t("head.id")}`},{name:"connectorId",header:`${this.$t("igate.connector")} ${this.$t("head.id")}`},{name:"activityId",header:`${this.$t("igate.activity")} ${this.$t("head.id")}`},{name:"exceptionText",header:this.$t("igate.exceptionLog.exceptionText")}]}},gridSearchObj:{},gridType:"mainBasic",detailPk:["pk.exceptionDateTime","pk.exceptionId"],detailInfo:{},isDetailView:!1,detailMode:null,detailButtonList:[],detailTabList:[{type:"basic",label:this.$t("head.basic.info"),content:[[[{type:"text",vModel:"pk.exceptionDateTime",label:this.$t("igate.exceptionLog.exceptionDateTime"),isPK:!0,formatter:t=>(0,o.GD)(t)},{type:"text",vModel:"pk.exceptionId",label:`${this.$t("igate.exceptionLog")} ${this.$t("head.id")}`,isPK:!0},{type:"text",vModel:"exceptionCode",label:this.$t("igate.exceptionCode")},{type:"text",vModel:"instanceId",label:`${this.$t("igate.instance")} ${this.$t("head.id")}`}],[{type:"text",vModel:"transactionId",label:this.$t("igate.exceptionLog.transactionId"),clickEvt:t=>{const e=t.getData().transactionId;e?(0,o.RB)("103020",(()=>{localStorage.removeItem("searchObj"),localStorage.setItem("searchObj",JSON.stringify({transactionId:e}))})):this.$alert({type:"warn",message:this.$t("head.no.data.warn")})}},{type:"text",vModel:"messageId",label:`${this.$t("igate.message")} ${this.$t("head.id")}`},{type:"text",vModel:"interfaceId",label:`${this.$t("igate.interface")} ${this.$t("head.id")}`,clickEvt:t=>{const e=t.getData().interfaceId;e?(0,o.RB)("101050",(()=>{localStorage.removeItem("searchObj"),localStorage.setItem("searchObj",JSON.stringify({interfaceId:e}))})):this.$alert({type:"warn",message:this.$t("head.no.data.warn")})}},{type:"text",vModel:"serviceId",label:`${this.$t("igate.service")} ${this.$t("head.id")}`,clickEvt:t=>{const e=t.getData().serviceId;e?(0,o.RB)("101030",(()=>{localStorage.removeItem("searchObj"),localStorage.setItem("searchObj",JSON.stringify({serviceId:e}))})):this.$alert({type:"warn",message:this.$t("head.no.data.warn")})}}],[{type:"text",vModel:"adapterId",label:`${this.$t("igate.adapter")} ${this.$t("head.id")}`,clickEvt:t=>{const e=t.getData().adapterId;e?(0,o.RB)("202030",(()=>{localStorage.removeItem("searchObj"),localStorage.setItem("searchObj",JSON.stringify({adapterId:e}))})):this.$alert({type:"warn",message:this.$t("head.no.data.warn")})}},{type:"text",vModel:"connectorId",label:`${this.$t("igate.connector")} ${this.$t("head.id")}`,clickEvt:t=>{const e=t.getData().connectorId;e?(0,o.RB)("202020",(()=>{localStorage.removeItem("searchObj"),localStorage.setItem("searchObj",JSON.stringify({connectorId:e}))})):this.$alert({type:"warn",message:this.$t("head.no.data.warn")})}},{type:"text",vModel:"activityId",label:`${this.$t("igate.activity")} ${this.$t("head.id")}`,clickEvt:t=>{const e=t.getData().activityId;e?(0,o.RB)("102060",(()=>{localStorage.removeItem("searchObj"),localStorage.setItem("searchObj",JSON.stringify({activityId:e}))})):this.$alert({type:"warn",message:this.$t("head.no.data.warn")})}}]],[[{type:"textarea",vModel:"exceptionText",label:this.$t("igate.exceptionLog.exceptionText"),height:"100px"}]]]},{type:"basic",label:this.$t("igate.exceptionLog.exceptionStack"),content:[[[{type:"textarea",vModel:"exceptionStack",label:this.$t("igate.exceptionLog.exceptionStack"),height:"300px"}]]]}]}}},l=r,d=a(43736),c=(0,d.Z)(l,i,s,!1,null,null,null),p=c.exports},58730:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var i,s,n=a(30650),o=a(37662),r={name:"InterfacePolicy",extends:n.Z,created(){const t=(0,o.fc)(this.pageInfo.privilegeType);this.viewer=t.viewer,this.editor=t.editor},async mounted(){let t=await new o.p0("/api/page/properties").read({pk:{propertyId:"List.Interface.InterfaceType"},orderByKey:!0});"ok"===t.data.result&&(this.interfaceTypeList=t.data.object,localStorage.getItem("searchObj")?this.initNewTabSearchObj():this.$nextTick((()=>{this.search(this.$refs.search.getSearchObj())})))},data(){return{interfaceTypeList:[],cudUrl:"/api/entity/interfacePolicy/object",viewer:null,editor:null,searchList:[{type:"modal",vModel:"pk.adapterId",label:this.$t("igate.adapter")+" "+this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId",modalInfo:{title:this.$t("igate.adapter"),search:{list:[{type:"text",vModel:"adapterId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"adapterName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"text",vModel:"adapterDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/adapter/search",totalCntUrl:"/api/entity/adapter/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"adapterId",header:this.$t("head.id"),align:"left",width:"20%"},{name:"adapterName",header:this.$t("head.name"),align:"left",width:"20%"},{name:"adapterDesc",header:this.$t("head.description"),align:"left",width:"20%"},{name:"requestStructure",header:this.$t("igate.adapter.structure.request"),align:"left",width:"20%"},{name:"responseStructure",header:this.$t("igate.adapter.structure.response"),align:"left",width:"20%"}]}},rowClickedCallback:function(t){return t.adapterId}}},{type:"select",vModel:"pk.interfaceType",label:this.$t("common.type"),isPK:!0,optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Interface.InterfaceType"},orderByKey:!0},optionListName:"interfaceTypes",optionFor:"option in interfaceTypes",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"modal",vModel:"operationId",label:this.$t("igate.operation.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId",modalInfo:{title:this.$t("igate.operation"),search:{list:[{type:"text",vModel:"operationId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"operationName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"select",vModel:"operationType",label:this.$t("common.type"),val:"I",optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Operation.OperationType"},orderByKey:!0},optionListName:"operationTypeList",optionFor:"option in operationTypeList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue",optionIf:"option.pk.propertyKey === 'I'",isViewAll:!1}},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/operation/search",totalCntUrl:"/api/entity/operation/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"operationId",header:this.$t("head.id"),align:"left",width:"50%"},{name:"operationName",header:this.$t("head.name"),align:"left",width:"50%"}]}},rowClickedCallback:function(t){return t.operationId}}},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"add",isUse:!0},{id:"initialize",isUse:!0},{id:"newTab",isUse:!0}],gridInfo:{url:"/api/entity/interfacePolicy/search",totalCntUrl:"/api/entity/interfacePolicy/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"pk.adapterId",header:this.$t("igate.adapter")+" "+this.$t("head.id"),align:"left",width:"35%"},{name:"pk.interfaceType",header:this.$t("common.type"),align:"center",width:"30%",formatter:({row:t})=>this.interfaceTypeList.filter((e=>t["pk.interfaceType"]===e.pk.propertyKey))[0].propertyValue},{name:"operationId",header:this.$t("igate.operation.id"),align:"left",width:"35%"}]}},gridSearchObj:{},gridType:"mainBasic",detailPk:["pk.adapterId","pk.interfaceType"],controlParams:t=>t,detailButtonList:[{id:"insert",isUse:!0},{id:"update",isUse:!0},{id:"delete",isUse:!0},{id:"dump",isUse:!0,dumpUrl:"/api/entity/interfacePolicy/dump"},{id:"reference",isUse:!0,className:"com.inzent.igate.repository.meta.InterfacePolicy"}],detailTabList:[{type:"basic",label:this.$t("head.basic.info"),content:[[[{type:"modal",vModel:"pk.adapterId",label:this.$t("igate.adapter")+" "+this.$t("head.id"),isPK:!0,clickEvt:t=>{(0,o.RB)("202030",(()=>{localStorage.removeItem("searchObj"),localStorage.setItem("searchObj",JSON.stringify({adapterId:t.getData()["pk.adapterId"]}))}))},modalInfo:{title:this.$t("igate.adapter"),search:{list:[{type:"text",vModel:"adapterId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"text",vModel:"adapterName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"text",vModel:"adapterDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/adapter/search",totalCntUrl:"/api/entity/adapter/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"adapterId",header:this.$t("head.id"),align:"left",width:"20%"},{name:"adapterName",header:this.$t("head.name"),align:"left",width:"20%"},{name:"adapterDesc",header:this.$t("head.description"),align:"left",width:"20%"},{name:"requestStructure",header:this.$t("igate.adapter.structure.request"),align:"left",width:"20%"},{name:"responseStructure",header:this.$t("igate.adapter.structure.response"),align:"left",width:"20%"}]}},rowClickedCallback:function(t){return t.adapterId}}},{type:"select",vModel:"pk.interfaceType",label:this.$t("common.type"),isPK:!0,optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Interface.InterfaceType"},orderByKey:!0},optionListName:"interfaceTypes",optionFor:"option in interfaceTypes",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}}],[{type:"modal",vModel:"operationId",label:this.$t("igate.operation.id"),isRequired:!0,clickEvt:t=>{(0,o.RB)("102070",(()=>{sessionStorage.removeItem("selectedLinkOperationId"),sessionStorage.setItem("selectedLinkOperationId",JSON.stringify(t.getData().operationId))}))},modalInfo:{title:this.$t("igate.operation"),search:{list:[{type:"text",vModel:"operationId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"operationName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"select",vModel:"operationType",label:this.$t("common.type"),val:"I",optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Operation.OperationType"},orderByKey:!0},optionListName:"operationTypeList",optionFor:"option in operationTypeList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue",optionIf:"option.pk.propertyKey === 'I'",isViewAll:!1}},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/operation/search",totalCntUrl:"/api/entity/operation/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"operationId",header:this.$t("head.id"),align:"left",width:"50%"},{name:"operationName",header:this.$t("head.name"),align:"left",width:"50%"}]}},rowClickedCallback:t=>t.operationId}},{type:"select",vModel:"instanceId",label:`${this.$t("igate.instance")} ${this.$t("head.id")}`,optionInfo:{url:"/api/entity/instance/search",params:{object:{instanceType:"T"},limit:null,next:null,reverseOrder:!1},optionListName:"traceLogInstances",optionFor:"option in traceLogInstances",optionValue:"option.instanceId",optionText:"option.instanceId",isViewEmpty:!0}}]]]}],detailInfo:{},isDetailView:!1,detailMode:null}}},l=r,d=a(43736),c=(0,d.Z)(l,i,s,!1,null,null,null),p=c.exports},38612:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return m}});var i,s,n=a(63822),o=a(30650),r=a(37662),l=a(36797),d=a.n(l),c={name:"InterfaceRestriction",extends:o.Z,created(){const t=(0,r.fc)(this.pageInfo.privilegeType);this.viewer=t.viewer,this.editor=t.editor},mounted(){this.dateFormat=this.constantsInfo.interfaceRestrictionDateFormat;const t="HHmmss"===this.dateFormat?"time":"singleDaterange";this.searchList=[{type:t,vModel:"startTime",label:this.$t("head.from")},{type:"select",vModel:"enableYn",label:this.$t("igate.transactionRestriction.enableYn"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Yn"},orderByKey:!0},optionListName:"enableList",optionFor:"option in enableList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"select",vModel:"whitelistYn",label:this.$t("igate.transactionRestriction.whiteListYn"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Yn"},orderByKey:!0},optionListName:"whitelistList",optionFor:"option in whitelistList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"text",vModel:"ruleId",label:`${this.$t("igate.transactionRestriction")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],this.detailTabList=[{type:"basic",label:this.$t("head.basic.info"),content:[[[{type:"text",vModel:"ruleId",label:`${this.$t("igate.transactionRestriction")} ${this.$t("head.id")}`,isPK:!0,regExpType:"id"},{type:"text",vModel:"rulePriority",label:this.$t("igate.transactionRestriction.rulePriority"),regExpType:"num"},{type:"select",vModel:"whitelistYn",label:this.$t("igate.transactionRestriction.whiteListYn"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Yn"},orderByKey:!0},optionListName:"whitelistList",optionFor:"option in whitelistList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}}],[{type:t,vModel:"startTime",label:this.$t("head.from")},{type:t,vModel:"endTime",label:this.$t("head.to")},{type:"text",vModel:"restrictionMessage",label:this.$t("igate.transactionRestriction.message")},{type:"select",vModel:"enableYn",label:this.$t("igate.transactionRestriction.enableYn"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Yn"},orderByKey:!0},optionListName:"enableList",optionFor:"option in enableList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}}]]]},{type:"property",dataKey:"interfaceRestrictionConds",label:`${this.$t("igate.transactionRestriction")} ${this.$t("igate.transactionRestriction.value")}`,addRowInfo:{type:"common"},content:[{type:"select",vModel:"pk.restrictionType",label:this.$t("common.type"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.InterfaceRestriction.Type"},orderByKey:!0},optionListName:"restrictionTypeList",optionFor:"option in restrictionTypeList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"select",vModel:"restrictionOperator",label:this.$t("igate.transactionRestriction.operator"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.TransactionRestriction.Operator"},orderByKey:!0},optionListName:"restrictionOperatorList",optionFor:"option in restrictionOperatorList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"text",vModel:"restrictionValue",label:`${this.$t("igate.transactionRestriction.value")}`}]}],localStorage.getItem("searchObj")?this.initNewTabSearchObj():this.$nextTick((()=>{this.search(this.$refs.search.getSearchObj())}))},computed:{...(0,n.rn)(["constantsInfo"])},methods:{changeTime(t,e){if(t){if(!e){let e=t.replace(/:/gi,"");return e=e.replace(/-/gi,""),e=e.replace(/(\s*)/g,""),e}if(t=t.replace(/[^.0-9]/g,""),14===this.dateFormat.length&&6===t.length?t=d()().format("YYYYMMDD")+t:6===this.dateFormat.length&&14===t.length&&(t=t.substring(8)),14==t.length){let e=t.substring(0,8),a=t.substring(8);return e=e.replace(/(.{4})/g,"$1-"),e=e.replace(/(.{7})/g,"$1-"),e=e.slice(0,-1),a=a.replace(/(.{2})/g,"$1:"),a=a.slice(0,-1),e+" "+a}if(6==t.length){let e=t.replace(/(.{2})/g,"$1:");return e=e.slice(0,-1),e}}}},data(){return{dateFormat:null,cudUrl:"/api/entity/interfaceRestriction/object",viewer:null,editor:null,searchList:[],buttonList:[{id:"initialize",isUse:!0},{id:"newTab",isUse:!0},{id:"add",isUse:!0},{id:"reorder",reorderUrl:"/api/entity/interfaceRestriction/reorder",isUse:!0}],gridInfo:{url:"/api/entity/interfaceRestriction/search",totalCntUrl:"/api/entity/interfaceRestriction/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"rulePriority",header:this.$t("igate.transactionRestriction.rulePriority"),align:"center",width:"10%"},{name:"startTime",header:this.$t("head.from"),align:"center",width:"20%",formatter:t=>this.changeTime(t.row.startTime,!0)},{name:"endTime",header:this.$t("head.to"),align:"center",width:"20%",formatter:t=>this.changeTime(t.row.endTime,!0)},{name:"enableYn",header:this.$t("igate.transactionRestriction.enableYn"),align:"center",width:"10%",formatter:t=>"Y"==t.row.enableYn?"Yes":"No"},{name:"whitelistYn",header:this.$t("igate.transactionRestriction.whiteListYn"),align:"center",width:"10%",formatter:t=>"Y"==t.row.whitelistYn?"Yes":"No"},{name:"ruleId",header:`${this.$t("igate.transactionRestriction")} ${this.$t("head.id")}`,align:"left",width:"30%"}]}},gridSearchObj:{},gridType:"mainBasic",detailPk:["ruleId"],detailInfo:{},isDetailView:!1,detailMode:null,detailButtonList:[{id:"insert",isUse:!0},{id:"update",isUse:!0},{id:"delete",isUse:!0},{id:"dump",isUse:!0,dumpUrl:"/api/entity/interfaceRestriction/dump"}],detailTabList:[],controlParams:t=>t}}},p=c,h=a(43736),u=(0,h.Z)(p,i,s,!1,null,null,null),m=u.exports},75204:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i,s,n=a(63822),o=a(30650),r=a(28407),l=a(37662),d={name:"Interface",extends:o.Z,components:{Detail:r["default"]},computed:{...(0,n.rn)(["userInfo"])},created(){const t=(0,l.fc)(this.pageInfo.privilegeType);this.viewer=t.viewer,this.editor=t.editor},async mounted(){let t=await new l.p0("/api/page/properties").read({pk:{propertyId:"List.Interface.InterfaceType"},orderByKey:!0});"ok"===t.data.result&&(this.interfaceTypeList=t.data.object,t=await new l.p0("/api/page/properties").read({pk:{propertyId:"List.Interface.ScheduleType"},orderByKey:!0}),"ok"===t.data.result&&(this.scheduleTypeList=t.data.object,localStorage.getItem("searchObj")?this.initNewTabSearchObj():this.$nextTick((()=>{this.search(this.$refs.search.getSearchObj())})),localStorage.getItem("detailObj")&&this.$nextTick((()=>{const t=JSON.parse(localStorage.getItem("detailObj"));t.isExpandDetailView=!0,localStorage.removeItem("detailObj"),this.initDetail("detail",t)}))))},data(){return{interfaceTypeList:[],scheduleTypeList:[],cudUrl:"/api/entity/interface/object",viewer:null,editor:null,searchList:[{type:"text",vModel:"interfaceId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"interfaceName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"modal",vModel:"adapterId",label:`${this.$t("igate.adapter")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"searchId",modalInfo:{title:this.$t("igate.adapter"),search:{list:[{type:"text",vModel:"adapterId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"adapterName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"text",vModel:"adapterDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/adapter/search",totalCntUrl:"/api/entity/adapter/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"adapterId"},{header:this.$t("head.name"),name:"adapterName"},{header:this.$t("head.description"),name:"adapterDesc"},{header:this.$t("igate.adapter.structure.request"),name:"requestStructure"},{header:this.$t("igate.adapter.structure.response"),name:"responseStructure"}]}},rowClickedCallback:t=>t.adapterId}},{type:"select",vModel:"interfaceType",label:this.$t("common.type"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Interface.InterfaceType"},orderByKey:!0},optionListName:"interfaceTypeList",optionFor:"option in interfaceTypeList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"select",vModel:"scheduleType",label:`${this.$t("head.schedule")} ${this.$t("common.type")}`,optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Interface.ScheduleType"},orderByKey:!0},optionListName:"scheduleTypeList",optionFor:"option in scheduleTypeList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"select",vModel:"disabledYn",label:this.$t("igate.interface.disabledYn"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Yn"},orderByKey:!0},optionListName:"useYnList",optionFor:"option in useYnList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"select",vModel:"usedYn",label:this.$t("igate.interface.transaction.history"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Yn"},orderByKey:!0},optionListName:"useYnList",optionFor:"option in useYnList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"groupModal",vModel:"interfaceGroup",label:this.$t("head.group"),placeholder:this.$t("head.searchData"),modalInfo:{title:this.$t("head.group"),search:{list:[{type:"text",vModel:"interfaceGroup",label:this.$t("head.group"),placeholder:this.$t("head.searchData")}]},grid:{url:"/api/entity/interface/group/search",options:{treeColumnOptions:{name:"interfaceGroup"},data:[],scrollY:!0,minBodyHeight:"260",bodyHeight:"300",columns:[{hidden:!0,name:"key"},{header:this.$t("head.group"),name:"interfaceGroup"}]}},rowClickedCallback:function(t){return t.key}}},{type:"dataList",vModel:"privilegeId",label:this.$t("common.privilege"),placeholder:this.$t("head.searchData"),regExpType:"searchId",optionInfo:{url:"/api/entity/privilege/search",params:{object:{privilegeType:"b"},limit:null,next:null,reverseOrder:!1},optionListName:"privilegeTypeList",optionFor:"option in privilegeTypeList",optionValue:"option.privilegeId",optionText:"option.privilegeId"}},{type:"text",vModel:"interfaceDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0},{id:"newTab",isUse:!0},{id:"excelExport",isUse:!0,exportUrl:"/api/entity/interface/download",fileName:"Interface ExcelExport"},{id:"add",isUse:!0}],gridInfo:{url:"/api/entity/interface/search",totalCntUrl:"/api/entity/interface/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"lockUserId",header:" ",width:"5%",formatter:({value:t})=>t?`<div class="${t===this.userInfo.userId?"unlock":"lock"} center-block" />`:null},{header:this.$t("head.id"),name:"interfaceId",width:"15%"},{header:this.$t("head.name"),name:"interfaceName",width:"20%"},{header:`${this.$t("igate.adapter")} ${this.$t("head.id")}`,name:"adapterId",width:"8%"},{name:"interfaceType",header:this.$t("common.type"),width:"8%",align:"center",formatter:({value:t})=>this.interfaceTypeList.find((e=>e.pk.propertyKey===t)).propertyValue},{name:"scheduleType",header:`${this.$t("head.schedule")} ${this.$t("common.type")}`,width:"8%",align:"center",formatter:({value:t})=>this.scheduleTypeList.find((e=>e.pk.propertyKey===t)).propertyValue},{header:this.$t("head.group"),name:"interfaceGroup",width:"8%"},{name:"privilegeId",header:this.$t("common.privilege"),width:"8%"},{header:this.$t("head.description"),name:"interfaceDesc",width:"20%"}]}},gridSearchObj:{},gridType:"mainBasic",detailPk:["interfaceId"],controlParams:t=>({interfaceId:t.interfaceId}),detailButtonList:[{id:"dump",isUse:!0,dumpUrl:"/api/entity/interface/dump"},{id:"insert",isUse:!0},{id:"update",isUse:!0},{id:"delete",isUse:!0},{id:"reference",isUse:!0,className:"com.inzent.igate.repository.meta.Interface"},{id:"metaHistory",isUse:!0,className:"com.inzent.igate.repository.meta.Interface",entityIdKey:"interfaceId"}],detailTabList:[{type:"bundle",label:this.$t("head.basic.info"),url:"/interface/BasicInfo"},{type:"bundle",label:this.$t("head.inoutput.info"),url:"/interface/ModelRecordInfo"},{type:"bundle",url:"/interface/ExtendInfo",label:this.$t("head.extension.info"),dataKey:"interfaceProperties",content:[{type:"dataList",vModel:"pk.propertyKey",regExpType:"value",label:this.$t("common.property.key"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"Property.Interface"},orderByKey:!0},optionListName:"interfacePropertyList",optionFor:"option in interfacePropertyList",optionValue:"option.pk.propertyKey",optionText:"option.pk.propertyKey"}},{type:"modal",vModel:"propertyValue",label:`${this.$t("common.property.value")}`,changeEvt:t=>{if("add"!==t.$parent.mode)return;const e=t.$parent.propertyList.findIndex((e=>t.val===e.propertyValue)),a=t.$parent.$refs[`component_${e}_0`][0].val;return"table.name"===a?(this.$alert({type:"warn",message:this.$t("igate.interface.table.property.warn")}),void t.$parent.$refs[`component_${e}_1`][0].setData(t.val)):void 0}},{type:"text",vModel:"propertyDesc",label:`${this.$t("head.description")}`,readonly:!0}]},{id:"useInfo",type:"basic",label:this.$t("head.resource.inuse.info"),content:[[[{type:"text",vModel:"lockUserId",label:this.$t("head.lock.userId"),readonly:!0},{type:"text",vModel:"updateVersion",label:this.$t("head.updateVersion"),readonly:!0,val:"0"}],[{type:"text",vModel:"updateUserId",label:this.$t("head.update.userId"),readonly:!0},{type:"text",vModel:"updateTimestamp",label:this.$t("head.update.timestamp"),readonly:!0,formatter:t=>(0,l.GD)(t)}]]]}],detailInfo:{},isDetailView:!1,detailMode:null}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},28392:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i,s,n=a(63822),o=a(30650),r=a(40056),l=a(37662),d={name:"Mapping",extends:o.Z,components:{Detail:r["default"]},computed:{...(0,n.rn)(["userInfo"])},async created(){const t=(0,l.fc)(this.pageInfo.privilegeType);this.viewer=t.viewer,this.editor=t.editor},mounted(){localStorage.getItem("searchObj")?this.initNewTabSearchObj():this.$nextTick((()=>{this.search(this.$refs.search.getSearchObj())})),localStorage.getItem("detailObj")&&this.$nextTick((()=>{const t=JSON.parse(localStorage.getItem("detailObj"));t.isExpandDetailView=!0,localStorage.removeItem("detailObj"),this.initDetail("detail",t)}))},data(){return{cudUrl:"/api/entity/mapping/object",viewer:null,editor:null,searchList:[{type:"text",vModel:"mappingId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"mappingName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"groupModal",vModel:"mappingGroup",label:this.$t("head.group"),placeholder:this.$t("head.searchData"),modalInfo:{title:this.$t("head.group"),search:{list:[{type:"text",vModel:"mappingGroup",label:this.$t("head.group"),placeholder:this.$t("head.searchData")}]},grid:{url:"/api/entity/mapping/group/search",options:{treeColumnOptions:{name:"mappingGroup"},data:[],scrollY:!0,minBodyHeight:"260",bodyHeight:"300",columns:[{hidden:!0,name:"key"},{header:this.$t("head.group"),name:"mappingGroup"}]}},rowClickedCallback:function(t){return t.key}}},{type:"dataList",vModel:"privilegeId",label:this.$t("common.privilege"),placeholder:this.$t("head.searchData"),regExpType:"searchId",optionInfo:{url:"/api/entity/privilege/search",params:{object:{privilegeType:"b"},limit:null,next:null,reverseOrder:!1},optionListName:"privilegeTypeList",optionFor:"option in privilegeTypeList",optionValue:"option.privilegeId",optionText:"option.privilegeId"}},{type:"text",vModel:"mappingDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0},{id:"newTab",isUse:!0},{id:"add",isUse:!0}],gridInfo:{url:"/api/entity/mapping/search",totalCntUrl:"/api/entity/mapping/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"lockUserId",header:" ",width:"5%",formatter:({value:t})=>t?`<div class="${t===this.userInfo.userId?"unlock":"lock"} center-block" />`:null},{name:"mappingId",header:this.$t("head.id"),width:"20%"},{name:"mappingName",header:this.$t("head.name"),width:"25%"},{header:this.$t("head.group"),name:"mappingGroup",width:"15%"},{name:"privilegeId",header:this.$t("common.privilege"),width:"10%"},{header:this.$t("head.description"),name:"mappingDesc",width:"25%"}]}},gridSearchObj:{},gridType:"mainBasic",detailPk:["mappingId"],controlUrl:"/api/entity/mapping/control",controlParams:t=>({mappingId:t.mappingId}),detailButtonList:[{id:"dump",isUse:!0,dumpUrl:"/api/entity/mapping/dump"},{id:"insert",isUse:!0},{id:"update",isUse:!0},{id:"delete",isUse:!0},{id:"reference",isUse:!0,className:"com.inzent.igate.repository.meta.Mapping"}],detailInfo:{},isDetailView:!1,detailMode:null,detailTabList:[{type:"basic",label:this.$t("head.basic.info"),content:[[[{type:"textEvt",vModel:"mappingId",label:this.$t("head.id"),isPK:!0,regExpType:"id",btnInfo:{iconClass:"icon-file-check",title:this.$t("head.id.check"),clickEvt:async t=>{const e=t.$parent,{mappingId:a}=e.getData();if(!a||a===e.$parent.mappingHeaderPrefix)return void this.$alert({type:"warn",message:this.$t("igate.enter.id")});const i=await new l.p0(this.cudUrl).read({mappingId:a},!1,(()=>{}));"ok"!==i.data.result?(e.detailInfo.content.forEach((t=>{t.forEach((t=>{t.forEach((t=>{t.readonly="mappingId"===t.vModel}))}))})),"clone"===e.mode&&e.$emit("changeMappingId",a)):this.$alert({type:"warn",message:this.$t("head.overlap.id.warn")})}}},{type:"text",vModel:"mappingName",label:this.$t("head.name"),regExpType:"name",readonly:!0}],[{type:"select",vModel:"privateYn",label:this.$t("head.private"),isRequired:!0,readonly:!0,val:"N",optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Yn"},orderByKey:!0},optionListName:"openWindowList",optionFor:"option in openWindowList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"groupModal",vModel:"mappingGroup",isRequired:!0,label:this.$t("head.group"),readonly:!0,modalInfo:{title:this.$t("head.group"),modalWidth:"500px",modalHeight:"590px",search:{list:[{type:"text",vModel:"mappingGroup",label:this.$t("head.group"),placeholder:this.$t("head.searchData")}]},grid:{url:"/api/entity/mapping/group/search",options:{treeColumnOptions:{name:"mappingGroup"},data:[],scrollY:!0,minBodyHeight:"260",bodyHeight:"300",columns:[{hidden:!0,name:"key"},{header:this.$t("head.group"),name:"mappingGroup"}]}},rowClickedCallback:function(t){return t.key}}},{type:"select",vModel:"privilegeId",label:this.$t("common.privilege"),isRequired:!0,readonly:!0,optionInfo:{url:"/api/entity/privilege/search",params:{object:{privilegeType:"b"},limit:null,next:null,reverseOrder:!1},optionListName:"privilegeTypeList",optionFor:"option in privilegeTypeList",optionValue:"option.privilegeId",optionText:"option.privilegeId"}}]],[[{type:"textarea",vModel:"mappingDesc",label:this.$t("head.description"),height:"150px",regExpType:"desc"}]]]},{type:"bundle",label:this.$t("head.inoutput.info"),url:"/mapping/MappingInfo"},{type:"basic",label:this.$t("head.resource.inuse.info"),content:[[[{type:"text",vModel:"lockUserId",label:this.$t("head.lock.userId"),readonly:!0},{type:"text",vModel:"updateVersion",label:this.$t("head.updateVersion"),readonly:!0,val:"0"}],[{type:"text",vModel:"updateUserId",label:this.$t("head.update.userId"),readonly:!0},{type:"text",vModel:"updateTimestamp",label:this.$t("head.update.timestamp"),readonly:!0,formatter:t=>(0,l.GD)(t)}]]]}]}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},15310:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{class:t.classObj,style:t.styleObj},[e("Search",{ref:"search",attrs:{list:t.searchList,searchType:"mainBasic"},on:{search:t.search}}),e("Main",{ref:"main",attrs:{buttonList:t.buttonList,gridInfo:t.gridInfo,gridSearchObj:t.gridSearchObj,gridType:t.gridType,viewer:t.viewer,editor:t.editor},on:{initialize:t.initialize,newTab:t.newTab,fileMake:t.fileMake,fileImport:t.fileImport}}),e("Detail",{directives:[{name:"show",rawName:"v-show",value:t.isDetailView,expression:"isDetailView"}],ref:"detail",attrs:{mode:t.detailMode,viewer:t.viewer,editor:t.editor,selectedDetailData:t.detailData,buttonList:[]},on:{detailHorizonResize:t.detailHorizonResize}})],1)},s=[],n=a(63822),o=a(37662),r=a(30650),l=a(40563),d={name:"migrationInterface",extends:r.Z,components:{Detail:l["default"]},created(){const t=(0,o.fc)(this.pageInfo.privilegeType),e=!!this.userInfo.totalUserPrivileges.find((t=>"MigrationEditor"===t.privilegeId));this.viewer=t.viewer,this.editor="undefined"!==typeof e&&(e&&t.editor),this.gridInfo.options.rowHeaders=this.editor?["checkbox"]:[]},mounted(){localStorage.getItem("searchObj")?this.initNewTabSearchObj():this.$nextTick((()=>{this.search(this.$refs.search.getSearchObj())}))},data(){return{searchList:[{type:"text",vModel:"interfaceId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"interfaceName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"modal",vModel:"adapterId",label:`${this.$t("igate.adapter")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"searchId",modalInfo:{title:this.$t("igate.adapter"),search:{list:[{type:"text",vModel:"adapterId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"adapterName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"text",vModel:"adapterDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/adapter/search",totalCntUrl:"/api/entity/adapter/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"adapterId",header:this.$t("head.id"),align:"left"},{name:"adapterName",header:this.$t("head.name"),align:"left"},{name:"requestStructure",header:this.$t("igate.adapter.structure.request"),align:"left"},{name:"responseStructure",header:this.$t("igate.adapter.structure.response"),align:"left"},{name:"adapterDesc",header:this.$t("head.description"),align:"left"}]}},rowClickedCallback:t=>t.adapterId}},{type:"select",vModel:"interfaceType",label:this.$t("common.type"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Interface.InterfaceType"},orderByKey:!0},optionListName:"interfaceTypes",optionFor:"option in interfaceTypes",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"select",vModel:"scheduleType",label:`${this.$t("head.schedule")} ${this.$t("common.type")}`,optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Interface.ScheduleType"},orderByKey:!0},optionListName:"scheduleTypes",optionFor:"option in scheduleTypes",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"select",vModel:"usedYn",label:this.$t("igate.interface.usedYn"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Yn"},orderByKey:!0},optionListName:"useYnList",optionFor:"option in useYnList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"text",vModel:"interfaceGroup",label:this.$t("head.group"),placeholder:this.$t("head.searchData")},{type:"dataList",vModel:"privilegeId",label:`${this.$t("common.privilege")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"searchId",optionInfo:{url:"/api/entity/privilege/search",params:{object:{privilegeType:"b"},limit:null,next:null,reverseOrder:!1},optionListName:"privilegeTypeList",optionFor:"option in privilegeTypeList",optionValue:"option.privilegeId",optionText:"option.privilegeId"}},{type:"text",vModel:"interfaceDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"}],buttonList:[{id:"fileImport",isUse:!0},{id:"fileMake",isUse:!0},{id:"initialize",isUse:!0},{id:"newTab",isUse:!0}],gridInfo:{url:"/api/entity/interface/migration/object",paging:{isUse:!1},options:{rowHeaders:null,columns:[{name:"interfaceId",header:this.$t("head.id"),align:"left",width:"15%"},{name:"interfaceName",header:this.$t("head.name"),align:"left",width:"15%"},{name:"adapterId",header:`${this.$t("igate.adapter")} ${this.$t("head.id")}`,align:"left",width:"10%"},{name:"interfaceType",header:this.$t("common.type"),align:"center",width:"10%",formatter:({value:t,formatterData:{interfaceTypeList:e}})=>e.find((e=>e.pk.propertyKey===t)).propertyValue},{name:"scheduleType",header:`${this.$t("head.schedule")} ${this.$t("common.type")}`,align:"center",width:"10%",formatter:({row:t})=>"B"===t.scheduleType?"Batched":"D"===t.scheduleType?"Deferred":"O"===t.scheduleType?"Online":"T"===t.scheduleType?"Triggered":""},{name:"interfaceGroup",header:this.$t("head.group"),align:"left",width:"10%"},{name:"privilegeId",header:`${this.$t("common.privilege")} ${this.$t("head.id")}`,align:"left",width:"10%"},{name:"interfaceDesc",header:this.$t("head.description"),align:"left",width:"20%"}]},formatterDataUrlList:[{key:"interfaceTypeList",url:"/api/page/properties",param:{pk:{propertyId:"List.Interface.InterfaceType"},orderByKey:!0}}]},detailTabList:[{type:"bundle",label:this.$t("head.make"),url:"/migration/Make"},{type:"bundle",label:this.$t("head.import"),url:"/migration/Import"}],isDetailView:!1,detailData:null,detailMode:null,viewer:!1,editor:!1}},computed:{...(0,n.rn)(["userInfo"])},methods:{initDetail(){return!1},async fileMake({gridObj:t}){if(!t)return;const e=t.invoke("getCheckedRows");if(0===e.length)return void this.$alert({type:"warn",message:this.$t("igate.migration.selectError")});const a=e.map((t=>t.interfaceId)),i=await new o.p0("/api/entity/interface/migration/object").create({targetIds:a},!0);"ok"===i.data.result&&(this.$alert({type:"normal",message:this.$t("igate.migration.make")}),this.openPanel("make",{...i.data.object,targetIds:a}))},fileImport(){this.openPanel("import")},openPanel(t,e){this.isDetailView&&(this.isDetailView=!1,this.detailData=null,this.detailMode=null),this.$nextTick((()=>{this.isDetailView=!0,this.detailData=e,this.detailMode=t}))}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},52724:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{class:t.classObj,style:t.styleObj},[e("Search",{ref:"search",attrs:{list:t.searchList,searchType:"mainBasic"},on:{search:t.search}}),e("Main",{ref:"main",attrs:{buttonList:t.buttonList,gridInfo:t.gridInfo,gridSearchObj:t.gridSearchObj,gridType:t.gridType,viewer:t.viewer,editor:t.editor},on:{initialize:t.initialize,newTab:t.newTab,fileMake:t.fileMake,fileImport:t.fileImport}}),e("Detail",{directives:[{name:"show",rawName:"v-show",value:t.isDetailView,expression:"isDetailView"}],ref:"detail",attrs:{mode:t.detailMode,viewer:t.viewer,editor:t.editor,selectedDetailData:t.detailData,buttonList:[]},on:{detailHorizonResize:t.detailHorizonResize}})],1)},s=[],n=a(63822),o=a(37662),r=a(30650),l=a(98936),d={name:"migrationMapping",extends:r.Z,components:{Detail:l["default"]},created(){const t=(0,o.fc)(this.pageInfo.privilegeType),e=!!this.userInfo.totalUserPrivileges.find((t=>"MigrationEditor"===t.privilegeId));this.viewer=t.viewer,this.editor="undefined"!==typeof e&&(e&&t.editor),this.gridInfo.options.rowHeaders=this.editor?["checkbox"]:[]},mounted(){localStorage.getItem("searchObj")?this.initNewTabSearchObj():this.$nextTick((()=>{this.search(this.$refs.search.getSearchObj())}))},data(){return{searchList:[{type:"text",vModel:"mappingId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"mappingName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"text",vModel:"mappingGroup",label:this.$t("head.group"),placeholder:this.$t("head.searchData")},{type:"dataList",vModel:"privilegeId",label:`${this.$t("common.privilege")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"searchId",optionInfo:{url:"/api/entity/privilege/search",params:{object:{privilegeType:"b"},limit:null,next:null,reverseOrder:!1},optionListName:"privilegeTypeList",optionFor:"option in privilegeTypeList",optionValue:"option.privilegeId",optionText:"option.privilegeId"}},{type:"text",vModel:"mappingDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment")}],buttonList:[{id:"fileImport",isUse:!0},{id:"fileMake",isUse:!0},{id:"initialize",isUse:!0},{id:"newTab",isUse:!0}],gridInfo:{url:"/api/entity/mapping/migration/object",paging:{isUse:!1},options:{rowHeaders:null,columns:[{name:"mappingId",header:this.$t("head.id"),align:"left",width:"25%"},{name:"mappingName",header:this.$t("head.name"),align:"left",width:"25%"},{name:"mappingGroup",header:this.$t("head.group"),align:"left",width:"15%"},{name:"privilegeId",header:`${this.$t("common.privilege")} ${this.$t("head.id")}`,align:"left",width:"15%"},{name:"mappingDesc",header:this.$t("head.description"),align:"left",width:"20%"}]}},detailTabList:[{type:"bundle",label:this.$t("head.make"),url:"/migration/Make"},{type:"bundle",label:this.$t("head.import"),url:"/migration/Import"}],isDetailView:!1,detailData:null,detailMode:null,viewer:!1,editor:!1}},computed:{...(0,n.rn)(["userInfo"])},methods:{initDetail(){return!1},async fileMake({gridObj:t}){if(!t)return;const e=t.invoke("getCheckedRows");0===e.length&&this.$alert({type:"warn",message:this.$t("igate.migration.selectError")});const a=e.map((t=>t.mappingId)),i=await new o.p0("/api/entity/mapping/migration/object").create({targetIds:a},!0);"ok"===i.data.result&&(this.$alert({type:"normal",message:this.$t("igate.migration.make")}),this.openPanel("make",{...i.data.object,targetIds:a}))},fileImport(){this.openPanel("import")},openPanel(t,e){this.isDetailView&&(this.isDetailView=!1,this.detailData=null,this.detailMode=null),this.$nextTick((()=>{this.isDetailView=!0,this.detailData=e,this.detailMode=t}))}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},99517:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{class:t.classObj,style:t.styleObj},[e("Search",{ref:"search",attrs:{list:t.searchList,searchType:"mainBasic"},on:{search:t.search}}),e("Main",{ref:"main",attrs:{buttonList:t.buttonList,gridInfo:t.gridInfo,gridSearchObj:t.gridSearchObj,gridType:t.gridType,viewer:t.viewer,editor:t.editor},on:{initialize:t.initialize,newTab:t.newTab,fileMake:t.fileMake,fileImport:t.fileImport}}),e("Detail",{directives:[{name:"show",rawName:"v-show",value:t.isDetailView,expression:"isDetailView"}],ref:"detail",attrs:{mode:t.detailMode,viewer:t.viewer,editor:t.editor,selectedDetailData:t.detailData,buttonList:[]},on:{detailHorizonResize:t.detailHorizonResize}})],1)},s=[],n=a(63822),o=a(37662),r=a(30650),l=a(2307),d={name:"migrationOperation",extends:r.Z,components:{Detail:l["default"]},created(){const t=(0,o.fc)(this.pageInfo.privilegeType),e=!!this.userInfo.totalUserPrivileges.find((t=>"MigrationEditor"===t.privilegeId));this.viewer=t.viewer,this.editor="undefined"!==typeof e&&(e&&t.editor),this.gridInfo.options.rowHeaders=this.editor?["checkbox"]:[]},mounted(){localStorage.getItem("searchObj")?this.initNewTabSearchObj():this.$nextTick((()=>{this.search(this.$refs.search.getSearchObj())}))},data(){return{searchList:[{type:"text",vModel:"operationId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"operationName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"select",vModel:"operationType",label:this.$t("common.type"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Operation.OperationType"},orderByKey:!0},optionListName:"operationTypeList",optionFor:"option in operationTypeList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue",optionIf:"option.pk.propertyKey !== 'S'"}},{type:"text",vModel:"operationGroup",label:this.$t("head.group"),placeholder:this.$t("head.searchData")},{type:"dataList",vModel:"privilegeId",label:`${this.$t("common.privilege")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"searchId",optionInfo:{url:"/api/entity/privilege/search",params:{object:{privilegeType:"b"},limit:null,next:null,reverseOrder:!1},optionListName:"privilegeTypeList",optionFor:"option in privilegeTypeList",optionValue:"option.privilegeId",optionText:"option.privilegeId"}},{type:"text",vModel:"operationDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"}],buttonList:[{id:"fileImport",isUse:!0},{id:"fileMake",isUse:!0},{id:"initialize",isUse:!0},{id:"newTab",isUse:!0}],gridInfo:{url:"/api/entity/operation/migration/object",paging:{isUse:!1},options:{rowHeaders:null,columns:[{name:"operationId",header:this.$t("head.id"),align:"left",width:"20%"},{name:"operationName",header:this.$t("head.name"),align:"left",width:"20%"},{name:"operationType",header:this.$t("common.type"),align:"center",width:"10%",formatter:({row:t})=>"A"===t.operationType?"Adapter":"I"===t.operationType?"Interface":"S"===t.operationType?"Service":"J"===t.operationType?"Job":"User"},{name:"operationGroup",header:this.$t("head.group"),align:"left",width:"15%"},{name:"privilegeId",header:`${this.$t("common.privilege")} ${this.$t("head.id")}`,align:"left",width:"15%"},{name:"operationDesc",header:this.$t("head.description"),align:"left",width:"20%"}]}},detailTabList:[{type:"bundle",label:this.$t("head.make"),url:"/migration/Make"},{type:"bundle",label:this.$t("head.import"),url:"/migration/Import"}],isDetailView:!1,detailData:null,detailMode:null,viewer:!1,editor:!1}},computed:{...(0,n.rn)(["userInfo"])},methods:{initDetail(){return!1},async fileMake({gridObj:t}){if(!t)return;const e=t.invoke("getCheckedRows");0===e.length&&this.$alert({type:"warn",message:this.$t("igate.migration.selectError")});const a=e.map((t=>t.operationId)),i=await new o.p0("/api/entity/operation/migration/object").create({targetIds:a},!0);"ok"===i.data.result&&(this.$alert({type:"normal",message:this.$t("igate.migration.make")}),this.openPanel("make",{...i.data.object,targetIds:a}))},fileImport(){this.openPanel("import")},openPanel(t,e){this.isDetailView&&(this.isDetailView=!1,this.detailData=null,this.detailMode=null),this.$nextTick((()=>{this.isDetailView=!0,this.detailData=e,this.detailMode=t}))}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},77884:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{class:t.classObj,style:t.styleObj},[e("Search",{ref:"search",attrs:{list:t.searchList,searchType:"mainBasic"},on:{search:t.search}}),e("Main",{ref:"main",attrs:{buttonList:t.buttonList,gridInfo:t.gridInfo,gridSearchObj:t.gridSearchObj,gridType:t.gridType,viewer:t.viewer,editor:t.editor},on:{initialize:t.initialize,newTab:t.newTab,fileMake:t.fileMake,fileImport:t.fileImport}}),e("Detail",{directives:[{name:"show",rawName:"v-show",value:t.isDetailView,expression:"isDetailView"}],ref:"detail",attrs:{mode:t.detailMode,viewer:t.viewer,editor:t.editor,selectedDetailData:t.detailData,buttonList:[]},on:{detailHorizonResize:t.detailHorizonResize}})],1)},s=[],n=a(63822),o=a(37662),r=a(30650),l=a(11911),d={name:"migrationQuery",extends:r.Z,components:{Detail:l["default"]},created(){const t=(0,o.fc)(this.pageInfo.privilegeType),e=!!this.userInfo.totalUserPrivileges.find((t=>"MigrationEditor"===t.privilegeId));this.viewer=t.viewer,this.editor="undefined"!==typeof e&&(e&&t.editor),this.gridInfo.options.rowHeaders=this.editor?["checkbox"]:[]},mounted(){localStorage.getItem("searchObj")?this.initNewTabSearchObj():this.$nextTick((()=>{this.search(this.$refs.search.getSearchObj())}))},data(){return{searchList:[{type:"text",vModel:"queryId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"queryName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"select",vModel:"queryType",label:this.$t("common.type"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Query.QueryType"},orderByKey:!0},optionListName:"queryTypes",optionFor:"option in queryTypes",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"text",vModel:"queryGroup",label:this.$t("head.group"),placeholder:this.$t("head.searchData")},{type:"dataList",vModel:"privilegeId",label:`${this.$t("common.privilege")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"searchId",optionInfo:{url:"/api/entity/privilege/search",params:{object:{privilegeType:"b"},limit:null,next:null,reverseOrder:!1},optionListName:"privilegeTypeList",optionFor:"option in privilegeTypeList",optionValue:"option.privilegeId",optionText:"option.privilegeId"}},{type:"text",vModel:"queryDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"}],buttonList:[{id:"fileImport",isUse:!0},{id:"fileMake",isUse:!0},{id:"initialize",isUse:!0},{id:"newTab",isUse:!0}],gridInfo:{url:"/api/entity/query/migration/object",paging:{isUse:!1},options:{rowHeaders:null,columns:[{name:"queryId",header:this.$t("head.id"),align:"left",width:"20%"},{name:"queryName",header:this.$t("head.name"),align:"left",width:"20%"},{name:"queryType",header:this.$t("common.type"),align:"center",width:"10%",formatter:({row:t})=>"F"===t.queryType?"Single Select":"S"===t.queryType?"Multi Select":"U"===t.queryType?"Single Update/Delete":"B"===t.queryType?"Multi Update/Delete":(0,o.Xv)(t.queryType)},{name:"queryGroup",header:this.$t("head.group"),align:"left",width:"15%"},{name:"privilegeId",header:`${this.$t("common.privilege")} ${this.$t("head.id")}`,align:"left",width:"15%"},{name:"queryDesc",header:this.$t("head.description"),align:"left",width:"20%"}]}},detailTabList:[{type:"bundle",label:this.$t("head.make"),url:"/migration/Make"},{type:"bundle",label:this.$t("head.import"),url:"/migration/Import"}],isDetailView:!1,detailData:null,detailMode:null,viewer:!1,editor:!1}},computed:{...(0,n.rn)(["userInfo"])},methods:{initDetail(){return!1},async fileMake({gridObj:t}){if(!t)return;const e=t.invoke("getCheckedRows");0===e.length&&this.$alert({type:"warn",message:this.$t("igate.migration.selectError")});const a=e.map((t=>t.queryId)),i=await new o.p0("/api/entity/query/migration/object").create({targetIds:a},!0);"ok"===i.data.result&&(this.$alert({type:"normal",message:this.$t("igate.migration.make")}),this.openPanel("make",{...i.data.object,targetIds:a}))},fileImport(){this.openPanel("import")},openPanel(t,e){this.isDetailView&&(this.isDetailView=!1,this.detailData=null,this.detailMode=null),this.$nextTick((()=>{this.isDetailView=!0,this.detailData=e,this.detailMode=t}))}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},21078:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{class:t.classObj,style:t.styleObj},[e("Search",{ref:"search",attrs:{list:t.searchList,searchType:"mainBasic"},on:{search:t.search}}),e("Main",{ref:"main",attrs:{buttonList:t.buttonList,gridInfo:t.gridInfo,gridSearchObj:t.gridSearchObj,gridType:t.gridType,viewer:t.viewer,editor:t.editor},on:{initialize:t.initialize,newTab:t.newTab,fileMake:t.fileMake,fileImport:t.fileImport}}),e("Detail",{directives:[{name:"show",rawName:"v-show",value:t.isDetailView,expression:"isDetailView"}],ref:"detail",attrs:{mode:t.detailMode,viewer:t.viewer,editor:t.editor,selectedDetailData:t.detailData,buttonList:[]},on:{detailHorizonResize:t.detailHorizonResize}})],1)},s=[],n=a(63822),o=a(37662),r=a(30650),l=a(16311),d={name:"migrationRecord",extends:r.Z,components:{Detail:l["default"]},created(){const t=(0,o.fc)(this.pageInfo.privilegeType),e=!!this.userInfo.totalUserPrivileges.find((t=>"MigrationEditor"===t.privilegeId));this.viewer=t.viewer,this.editor="undefined"!==typeof e&&(e&&t.editor),this.gridInfo.options.rowHeaders=this.editor?["checkbox"]:[]},mounted(){localStorage.getItem("searchObj")?this.initNewTabSearchObj():this.$nextTick((()=>{this.search(this.$refs.search.getSearchObj())}))},data(){return{searchList:[{type:"text",vModel:"recordId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"recordName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"select",vModel:"recordType",label:this.$t("common.type"),val:"c",optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Record.Type"},orderByKey:!0},optionListName:"recordTypes",optionFor:"option in recordTypes",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue",optionIf:"'H' === option.pk.propertyKey || 'R' === option.pk.propertyKey",optionEntireValue:"c"}},{type:"text",vModel:"recordGroup",label:this.$t("head.group"),placeholder:this.$t("head.searchData")},{type:"dataList",vModel:"privilegeId",label:`${this.$t("common.privilege")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"searchId",optionInfo:{url:"/api/entity/privilege/search",params:{object:{privilegeType:"b"},limit:null,next:null,reverseOrder:!1},optionListName:"privilegeTypeList",optionFor:"option in privilegeTypeList",optionValue:"option.privilegeId",optionText:"option.privilegeId"}},{type:"text",vModel:"recordDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment")}],buttonList:[{id:"fileImport",isUse:!0},{id:"fileMake",isUse:!0},{id:"initialize",isUse:!0},{id:"newTab",isUse:!0}],gridInfo:{url:"/api/entity/record/migration/object",paging:{isUse:!1},options:{rowHeaders:null,columns:[{name:"recordId",header:this.$t("head.id"),align:"left",width:"20%"},{name:"recordName",header:this.$t("head.name"),align:"left",width:"20%"},{name:"recordType",header:this.$t("common.type"),align:"center",width:"10%",formatter:({value:t})=>"H"===t?"Header":"I"===t?"indivi":"R"===t?"refer":"c"===t?"common":"embed"},{name:"recordGroup",header:this.$t("head.group"),align:"left",width:"15%"},{name:"privilegeId",header:`${this.$t("common.privilege")} ${this.$t("head.id")}`,align:"left",width:"15%"},{name:"recordDesc",header:this.$t("head.description"),align:"left",width:"20%"}]}},detailTabList:[{type:"bundle",label:this.$t("head.make"),url:"/migration/Make"},{type:"bundle",label:this.$t("head.import"),url:"/migration/Import"}],isDetailView:!1,detailData:null,detailMode:null,viewer:!1,editor:!1}},computed:{...(0,n.rn)(["userInfo"])},methods:{initDetail(){return!1},async fileMake({gridObj:t}){if(!t)return;const e=t.invoke("getCheckedRows");0===e.length&&this.$alert({type:"warn",message:this.$t("igate.migration.selectError")});const a=e.map((t=>t.recordId)),i=await new o.p0("/api/entity/record/migration/object").create({targetIds:a},!0);"ok"===i.data.result&&(this.$alert({type:"normal",message:this.$t("igate.migration.make")}),this.openPanel("make",{...i.data.object,targetIds:a}))},fileImport(){this.openPanel("import")},openPanel(t,e){this.isDetailView&&(this.isDetailView=!1,this.detailData=null,this.detailMode=null),this.$nextTick((()=>{this.isDetailView=!0,this.detailData=e,this.detailMode=t}))}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},11029:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{class:t.classObj,style:t.styleObj},[e("Search",{ref:"search",attrs:{list:t.searchList,searchType:"mainBasic"},on:{search:t.search}}),e("Main",{ref:"main",attrs:{buttonList:t.buttonList,gridInfo:t.gridInfo,gridSearchObj:t.gridSearchObj,gridType:t.gridType,viewer:t.viewer,editor:t.editor},on:{initialize:t.initialize,newTab:t.newTab,fileMake:t.fileMake,fileImport:t.fileImport}}),e("Detail",{directives:[{name:"show",rawName:"v-show",value:t.isDetailView,expression:"isDetailView"}],ref:"detail",attrs:{mode:t.detailMode,viewer:t.viewer,editor:t.editor,selectedDetailData:t.detailData,buttonList:[]},on:{detailHorizonResize:t.detailHorizonResize}})],1)},s=[],n=a(63822),o=a(37662),r=a(30650),l=a(48997),d={name:"migrationService",extends:r.Z,components:{Detail:l["default"]},created(){const t=(0,o.fc)(this.pageInfo.privilegeType),e=!!this.userInfo.totalUserPrivileges.find((t=>"MigrationEditor"===t.privilegeId));this.viewer=t.viewer,this.editor="undefined"!==typeof e&&(e&&t.editor),this.gridInfo.options.rowHeaders=this.editor?["checkbox"]:[]},mounted(){localStorage.getItem("searchObj")?this.initNewTabSearchObj():this.$nextTick((()=>{this.search(this.$refs.search.getSearchObj())}))},data(){return{searchList:[{type:"text",vModel:"serviceId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"serviceName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"select",vModel:"serviceType",label:this.$t("common.type"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Service.ServiceType"},orderByKey:!0},optionListName:"serviceTypes",optionFor:"option in serviceTypes",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"modal",vModel:"adapterId",label:`${this.$t("igate.adapter")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"searchId",modalInfo:{title:this.$t("igate.adapter"),search:{list:[{type:"text",vModel:"adapterId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"adapterName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"text",vModel:"adapterDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/adapter/search",totalCntUrl:"/api/entity/adapter/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"adapterId",header:this.$t("head.id"),align:"left"},{name:"adapterName",header:this.$t("head.name"),align:"left"},{name:"adapterDesc",header:this.$t("head.description"),align:"left"},{name:"requestStructure",header:this.$t("igate.adapter.structure.request"),align:"left"},{name:"responseStructure",header:this.$t("igate.adapter.structure.response"),align:"left"}]}},rowClickedCallback:t=>t.adapterId}},{type:"text",vModel:"serviceGroup",label:this.$t("head.group"),placeholder:this.$t("head.searchData")},{type:"dataList",vModel:"privilegeId",label:`${this.$t("common.privilege")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"searchId",optionInfo:{url:"/api/entity/privilege/search",params:{object:{privilegeType:"b"},limit:null,next:null,reverseOrder:!1},optionListName:"privilegeTypeList",optionFor:"option in privilegeTypeList",optionValue:"option.privilegeId",optionText:"option.privilegeId"}},{type:"text",vModel:"serviceDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"}],buttonList:[{id:"fileImport",isUse:!0},{id:"fileMake",isUse:!0},{id:"initialize",isUse:!0},{id:"newTab",isUse:!0}],gridInfo:{url:"/api/entity/service/migration/object",paging:{isUse:!1},options:{rowHeaders:null,columns:[{name:"serviceId",header:this.$t("head.id"),align:"left",width:"15%"},{name:"serviceName",header:this.$t("head.name"),align:"left",width:"20%"},{name:"serviceType",header:this.$t("common.type"),align:"center",width:"10%"},{name:"adapterId",header:`${this.$t("igate.adapter")} ${this.$t("head.id")}`,align:"left",width:"10%"},{name:"serviceGroup",header:this.$t("head.group"),align:"left",width:"15%"},{name:"privilegeId",header:`${this.$t("common.privilege")} ${this.$t("head.id")}`,align:"left",width:"10%"},{name:"serviceDesc",header:this.$t("head.description"),align:"left",width:"20%"}]}},detailTabList:[{type:"bundle",label:this.$t("head.make"),url:"/migration/Make"},{type:"bundle",label:this.$t("head.import"),url:"/migration/Import"}],isDetailView:!1,detailData:null,detailMode:null,viewer:!1,editor:!1}},computed:{...(0,n.rn)(["userInfo"])},methods:{initDetail(){return!1},async fileMake({gridObj:t}){if(!t)return;const e=t.invoke("getCheckedRows");if(0===e.length)return void this.$alert({type:"warn",message:this.$t("igate.migration.selectError")});const a=e.map((t=>t.serviceId)),i=await new o.p0("/api/entity/service/migration/object").create({targetIds:a},!0);"ok"===i.data.result&&(this.$alert({type:"normal",message:this.$t("igate.migration.make")}),this.openPanel("make",{...i.data.object,targetIds:a}))},fileImport(){this.openPanel("import")},openPanel(t,e){this.isDetailView&&(this.isDetailView=!1,this.detailData=null,this.detailMode=null),this.$nextTick((()=>{this.isDetailView=!0,this.detailData=e,this.detailMode=t}))}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},44472:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i,s,n=a(63822),o=a(30650),r=a(33841),l=a(37662),d={name:"ModelRecord",extends:o.Z,components:{Detail:r["default"]},computed:{...(0,n.rn)(["userInfo"])},created(){const t=(0,l.fc)(this.pageInfo.privilegeType);this.viewer=t.viewer,this.editor=t.editor},mounted(){localStorage.getItem("searchObj")?this.initNewTabSearchObj():this.$nextTick((()=>{this.search(this.$refs.search.getSearchObj())})),localStorage.getItem("detailObj")&&this.$nextTick((()=>{const t=JSON.parse(localStorage.getItem("detailObj"));t.isExpandDetailView=!0,localStorage.removeItem("detailObj"),this.initDetail("detail",t)}))},data(){return{cudUrl:"/api/entity/record/object",viewer:null,editor:null,searchList:[{type:"text",vModel:"recordId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"recordName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"select",vModel:"recordType",label:this.$t("common.type"),val:"c",optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Record.Type"},orderByKey:!1},optionListName:"recordTypes",optionFor:"option in recordTypes",optionValue:"option.pk.propertyKey",optionText:`'c' === option.pk.propertyKey? '${this.$t("head.all")}' : option.propertyValue`,optionIf:"option.pk.propertyKey != 'E' && option.pk.propertyKey != 'I'",isViewAll:!1}},{type:"groupModal",vModel:"recordGroup",label:this.$t("head.group"),placeholder:this.$t("head.searchData"),modalInfo:{title:this.$t("head.group"),search:{list:[{type:"text",vModel:"recordGroup",label:this.$t("head.group"),placeholder:this.$t("head.searchData")}]},grid:{url:"/api/entity/record/group/search",options:{treeColumnOptions:{name:"recordGroup"},data:[],scrollY:!0,minBodyHeight:"260",bodyHeight:"300",columns:[{hidden:!0,name:"key"},{header:this.$t("head.group"),name:"recordGroup"}]}},rowClickedCallback:function(t){return t.key}}},{type:"dataList",vModel:"privilegeId",label:this.$t("common.privilege"),placeholder:this.$t("head.searchData"),regExpType:"searchId",optionInfo:{url:"/api/entity/privilege/search",params:{object:{privilegeType:"b"},limit:null,next:null,reverseOrder:!1},optionListName:"privilegeTypeList",optionFor:"option in privilegeTypeList",optionValue:"option.privilegeId",optionText:"option.privilegeId"}},{type:"text",vModel:"recordDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"newTab",isUse:!0},{id:"initialize",isUse:!0},{id:"excelExport",isUse:!0,exportUrl:"/api/entity/record/download",fileName:"Record List Export"},{id:"excelImport",isUse:!0,importUrl:"/api/entity/record/document"},{id:"add",isUse:!0}],gridInfo:{url:"/api/entity/record/search",totalCntUrl:"/api/entity/record/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:" ",name:"lockUserId",width:"5%",align:"center",formatter:({value:t})=>t?`<div class="${t===this.userInfo.userId?"unlock":"lock"} center-block" />`:null},{header:this.$t("head.id"),name:"recordId",width:"15%"},{header:this.$t("head.name"),name:"recordName",width:"20%"},{header:this.$t("common.type"),name:"recordType",align:"center",width:"10%",formatter:({value:t})=>"H"===t?"Header":"I"===t?"Individual":"R"===t?"Reference":"c"===t?"Common":"Embed"},{header:this.$t("head.group"),name:"recordGroup",width:"20%"},{header:this.$t("common.privilege"),name:"privilegeId",width:"10%"},{header:this.$t("head.description"),name:"recordDesc",width:"20%"}]}},gridSearchObj:{},gridType:"mainBasic",detailPk:["recordId"],controlUrl:"/api/entity/record/control",detailButtonList:[{id:"insert",isUse:!0},{id:"update",isUse:!0},{id:"delete",isUse:!0},{id:"dump",isUse:!0,dumpUrl:"/api/entity/record/dump"},{id:"excelExport",isUse:!0,exportUrl:"/api/entity/record/document",fileName:"Record Object Export"},{id:"reference",isUse:!0,className:"com.inzent.igate.repository.meta.Record"},{id:"metaHistory",isUse:!0,className:"com.inzent.igate.repository.meta.Record",entityIdKey:"recordId"}],controlParams:t=>({recordId:t.recordId}),detailTabList:[{type:"bundle",url:"/modelRecord/BasicInfo",label:this.$t("head.basic.info")},{type:"bundle",url:"/modelRecord/DetailInfo",label:this.$t("head.model.info")},{type:"bundle",url:"/modelRecord/ExtendInfo",label:this.$t("head.extension.info"),content:[{type:"dataList",vModel:"pk.propertyKey",regExpType:"value",label:this.$t("common.property.key"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"Property.Record"},orderByKey:!0},optionListName:"recordPropertyList",optionFor:"option in recordPropertyList",optionValue:"option.pk.propertyKey",optionText:"option.pk.propertyKey"}},{type:"text",vModel:"propertyValue",label:`${this.$t("common.property.value")}`},{type:"text",vModel:"propertyDesc",label:`${this.$t("head.description")}`,readonly:!0}]},{id:"useInfo",type:"basic",label:this.$t("head.resource.inuse.info"),content:[[[{type:"text",vModel:"lockUserId",label:this.$t("head.lock.userId"),readonly:!0},{type:"text",vModel:"updateVersion",label:this.$t("head.updateVersion"),readonly:!0,val:"0"}],[{type:"text",vModel:"updateUserId",label:this.$t("head.update.userId"),readonly:!0},{type:"text",vModel:"updateTimestamp",label:this.$t("head.update.timestamp"),readonly:!0,formatter:t=>(0,l.GD)(t)}]]]}],detailInfo:{},isDetailView:!1,detailMode:null}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},83186:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return v}});var i=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{width:"100%",height:"100%"}},[e("div",{ref:"workspace",staticStyle:{width:"100%",height:"100%"},attrs:{id:"workspace"},on:{contextmenu:t.onContextmenu}})])},s=[],n=(a(57658),a(63822)),o=a(66281),r=a.n(o),l=a(94734),d=a(37662),c=a(91338),p=a(68701),h=a(77285),u=a.n(h),m={name:"Operation",props:{pageInfo:{type:Object,default:()=>({})}},data(){return{viewer:!1,editor:!1,workFlow:null,xml2jsonScriptUrl:"/custom/js/xml2json.js",operationReq:new d.p0("/api/entity/operation/object"),operationList:[],activityList:[],queryList:[],userOperationList:[],groupTypeItemIdArr:["ForEach","Fork","Scope","Switch","While","Case","Default"],selectedOperationId:null,operationInfo:null,maxUniqueKey:null,topologyInfo:null,referenceMappings:[],searchObj:{operationId:"",operationName:"",operationGroup:"",operationType:" ",privilegeId:"",operationDesc:""},activityControlSearchObj:{activityId:"",activityName:""},activityItemSearchObj:{activityId:"",activityName:"",activityGroup:"",activityProject:"",activityDesc:""},querySearchObj:{queryId:"",queryName:"",queryType:"",queryGroup:"",privilegeId:"",queryDesc:""},uopSearchObj:{operationId:"",operationName:""},operationTypeList:[],isViewNewTabBtn:!0,isViewTotalCount:!0,isViewMigration:!0,keyDownEvt:null,ctrlKeyEvt:null}},computed:{...(0,n.rn)(["userInfo"])},created(){const t=(0,d.fc)(this.pageInfo.privilegeType);if(this.viewer=t.viewer,this.editor=t.editor,d.Gk.$on("MainResize",(()=>{window.dispatchEvent(new Event("resize"))})),localStorage.getItem("searchObj")){const t=JSON.parse(localStorage.getItem("searchObj"));localStorage.removeItem("searchObj");for(const e in this.searchObj)"undefined"!==typeof t[e]&&(this.searchObj[e]=t[e])}},async mounted(){this.keyDownEvt=t=>{if("Delete"!==t.code)return;const{nodeList:e,edgeList:a}=this.workFlow.getSelectedTopologyInfo(),i=e.filter((({isSelect:t})=>t)),s=a.filter((({isSelect:t})=>t)),n=i.length+s.length;if(1<n)this.deleteNodeInfo();else if(1===n){const t=u()(i)?s[0]:i[0],e=u()(i)?"edge":t.type;this.deleteNodeInfo({...t,type:e})}},this.ctrlKeyEvt=t=>{const e=!t.ctrlKey||"z"!==t.key&&"Z"!==t.key?!t.ctrlKey||"y"!==t.key&&"Y"!==t.key?null:"redo":"undo";this.workFlow.getKeyDownEvt(e)},window.addEventListener("keydown",this.keyDownEvt),window.addEventListener("keydown",this.ctrlKeyEvt);const t=await new d.p0("/api/page/properties").read({pk:{propertyId:"List.Operation.OperationType"},orderByKey:!0});this.operationTypeList=t.data.object,await this.initScriptList(),this.workFlow=new l.Z({element:this.$refs.workspace,itemTabList:[...await this.initItemTabList()],itemAddValidationFunc:({groupInfo:t,itemId:e})=>{let a=!0;const i="-1"===t.id,{nodeList:s}=this.workFlow.getSelectedTopologyInfo(),n=e.split("_"),o=n.pop(),r=n.join("_");let l=null;if(!i){const e=t.itemId.split("_");e.pop(),l=e.join("_")}const d="S"===this.operationInfo.operationType;return"Activity"===o&&(a=(()=>{switch(r){case"Break":case"Continue":return"ForEach"==l||"While"==l;case"Case":return"Switch"===l;case"Default":return"Switch"===l&&!s.some((({parentId:e,label:a})=>e===t.id&&"Default"===a));case"End":return i;case"FaultHandler":case"FaultHandlers":return!s.some((({parentId:e,label:a})=>e===t.id&&("FaultHandler"===a||"FaultHandlers"===a)));case"Scope":return"Switch"!==l;case"Service":return d;case"Start":return!1;default:return!0}})()),{isValidate:a}},topologyAddItemNameFormatter:t=>this.initTopologyAddItemNameFormatter(t),afterAddNode:({id:t,label:e})=>{let{nodeList:a}=this.workFlow.getSelectedTopologyInfo(),i=Number.MIN_SAFE_INTEGER;a.forEach((t=>{"undefined"!==typeof t.data.etc&&"undefined"!==typeof t.data.etc.uniqueKey&&(i=Math.max(i,parseInt(t.data.etc.uniqueKey,36)))})),i=i===Number.MIN_SAFE_INTEGER?0:i+1;const s=i.toString(36).padStart("4","0"),n=a.find((e=>e.id===t));n&&(n.data={basic:{desc:e},etc:{uniqueKey:s}},this.workFlow.setSelectedTopologyInfo({nodeList:a}))},topologyList:r()(await this.initOperationList()),loadTopologyDataFunc:(t,e)=>{this.loadTopologyDataFunc(t,e)},topologyConfigFunc:()=>({labelKey:"basic.viewName",detail:(t,e,i)=>{const s=this,n=this.$openModal({title:this.$t("igate.operation"),fullscreen:!0,contentList:[{template:'<OperationModal \n\t\t\t\t\t\t\t\t\t\t\t\t\tref="OperationModal" \n\t\t\t\t\t\t\t\t\t\t\t\t\t:mode="mode" \n\t\t\t\t\t\t\t\t\t\t\t\t\t:detailData="detailData" \n\t\t\t\t\t\t\t\t\t\t\t\t\t:getOperationXml="getOperationXml"/>',components:{OperationModal:a(84953)["default"]},data(){return{mode:t,detailData:{basic:{},Parameter:[],Variable:[]}}},async created(){if("detail"===t||"modify"===t){const t=await s.operationReq.read({operationId:e.basic.operationId}),a=t.data.object;if(a.operationRuleStr){const{Operation:t}=(0,c.AU)(a.operationRuleStr),e=s.getVariables(t);a.operationRuleStr=await this.getOperationXml(e);{const{Operation:t}=(0,c.AU)(a.operationRuleStr),{Parameter:e,Variable:i}=s.getVariables(t);a.operationRuleStr=await this.getOperationXml({Parameter:e,Variable:i}),this.detailData={basic:a,Parameter:e,Variable:i}}}else this.detailData={basic:a,Parameter:[],Variable:[]}}else"clone"===t?this.$nextTick((()=>{this.detailData={basic:e.basic,Parameter:e.Parameter,Variable:e.Variable}})):this.$nextTick((()=>{this.detailData={basic:{},Parameter:[],Variable:[]}}))},methods:{getOperationXml(t){return s.getOperationXml(t)}}}],buttonList:"add"===t||"modify"===t||"clone"===t?[{template:"<div>\n\t\t\t\t\t\t\t\t\t               <button type=\"button\" class=\"btn btn-primary\" @click=\"setTarget\">\n                                                       <i class=\"icon-edit\"></i>{{ 'add' === mode? $t('head.insert') : 'modify' === mode? $t('head.update') : $t('head.copy') }}\n\t\t\t\t\t\t\t\t\t\t\t\t   </button>\n\t\t\t\t\t\t\t\t\t\t\t   </div>",data(){return{mode:t}},methods:{async setTarget(){const t=n.$refs.content[0].$children[0].getData();if(!t)return;let{basic:e,Parameter:a,Variable:o,operationRuleStr:r}=t;"clone"===this.mode&&(r=await s.getOperationXml({Parameter:a,Variable:o})),i({basic:{...e,viewName:`${e.operationId} ${e.operationName?`- ${e.operationName}`:""}`},Parameter:a,Variable:o,operationRuleStr:r}),n.hideModal()}}}]:"detail"===t?[{template:'<div>\n\t\t\t\t\t\t\t\t\t               <button type="button" class="btn btn-primary" @click="dump">{{ $t(\'head.dump\') }}</button>\n\t\t\t\t\t\t\t\t\t\t\t   </div>',methods:{async dump(){this.$startSpinner();const t=await new d.p0("/api/entity/operation/dump").read({operationId:e.basic.operationId});this.$openModal({title:this.$t("head.dump"),fullscreen:!0,contentList:[{template:'<DetailResult :httpReqResult="httpReqResult" />',components:{DetailResult:a(25983).Z},data(){return{httpReqResult:{state:"ok"===t.data.result,content:"ok"===t.data.result?t.data.response:t.data.error}}}}]}),this.$stopSpinner()}}}]:null})},editFunc:(t,e,a,i)=>{this.initWorkFlowEditFunc(t,e,a,i)},searchFunc:t=>{this.initWorkFlowSearchFunc(t)},setTopologyLock:(t,e)=>{this.setTopologyLock(t,e)},treeTargetIconFunc:t=>"g"===t.row.type?(0,d.u5)("/img/operation/folder.svg"):(0,d.u5)("/img/menu/operation.png")}),edgeConfigFunc:t=>"Condition_Activity"===t.itemId?{isValidate:!1,labelKey:"basic.desc",errorMessage:this.$t("igate.operation.valid.detail.modal",{0:"Condition"}),detail:()=>{}}:"FaultHandler_Activity"===t.itemId?{isValidate:!1,labelKey:"basic.desc",errorMessage:this.$t("igate.operation.valid.detail.modal",{0:"FaultHandler"}),detail:()=>{}}:{isValidate:!0,labelKey:"basic.desc",detail:(()=>(t,e,a)=>{this.initNodeEventBind({evt:a,configFunc:null,basicInfo:{info:{...t.edgeInfo,type:"edge"},itemId:"",callBackFunc:e}})})()},loadSimulationDataFunc:null,simulationConfigFunc:null,expandTopology:!0,loadFirstTopology:"102070"!==(0,d.cG)()||!sessionStorage.getItem("selectedOperationId"),loadTopologyFunc:"102070"===(0,d.cG)()&&sessionStorage.getItem("selectedOperationId")?t=>t.find((t=>t.data.basic.operationId===sessionStorage.getItem("selectedOperationId"))):null,expandItem:!1,useSimulation:!1,editor:this.editor}),document.querySelector("#workspace #Start_Activity").parentNode.style.display="none";let e=null;this.isViewNewTabBtn&&(e=document.createElement("div"),e.innerHTML=`<i class="icon-info" style="color: black;"></i> ${this.$t("common.new.tab")}`,e.title=this.$t("common.open.new.tab"),e.style.position="absolute",e.style.top="8px",e.style.left="5px",e.style.zIndex="1",e.style.fontSize="10px",e.style.fontWeight="100",e.style.cursor="pointer",e.addEventListener("click",(()=>{(0,d.RB)((()=>{const t=JSON.parse(sessionStorage.getItem("selectedMenuPathIdList")),e=t[t.length-1];return e})(),(()=>{localStorage.removeItem("searchObj"),localStorage.setItem("searchObj",JSON.stringify(this.searchObj))}))})),document.querySelector("#workspace .list-grid").appendChild(e));let i=null;if(this.isViewMigration&&(i=document.createElement("div"),i.innerHTML=`<i class="icon-model" style="color: black;"></i> ${this.$t("head.migration")}`,i.title=this.$t("head.migration"),i.style.position="absolute",i.style.top="8px",i.style.left=null===e?"5px":`${e.offsetWidth+Number(e.style.left.replace("px",""))+5}px`,i.style.zIndex="1",i.style.fontSize="10px",i.style.fontWeight="100",i.style.cursor="pointer",i.addEventListener("click",(()=>{this.openMigrationModal()})),document.querySelector("#workspace .list-grid").appendChild(i)),this.isViewTotalCount){const t=document.createElement("div");t.id="operationCount",t.innerText=this.$t("head.totalCount",{0:this.operationList.length}),t.style.position="absolute",t.style.top="8px",t.style.fontSize="10px",t.style.fontWeight="100",t.style.zIndex="1",document.querySelector("#workspace .list-grid").appendChild(t),t.style.left=`calc(100% - 20px - ${t.offsetWidth}px)`}setTimeout((()=>{this.initSearchToolTip()}),0),this.loadedWorkFlow&&this.loadedWorkFlow()},beforeDestroy(){document.body.querySelector("#nodeContextMenu")&&document.body.removeChild(document.body.querySelector("#nodeContextMenu")),window.removeEventListener("keydown",this.keyDownEvt),window.removeEventListener("keydown",this.ctrlKeyEvt)},methods:{async initScriptList(){const t=document.createElement("script");t.type="text/javascript",t.src=(0,d.u5)(this.xml2jsonScriptUrl),document.querySelector("#ct").appendChild(t),await new Promise((e=>{t.addEventListener("load",(()=>{e()}))}))},async initItemTabList(){const t=await new d.p0("/api/entity/activity/search").read({object:{},limit:null,next:null,reverseOrder:!1});return this.activityList=t.data.object,[this.initControlActivityItemList(this.activityList),this.initActivityItemList(this.activityList.filter((({activityId:t})=>"MappingServiceHeader"!==t&&"MappingServiceResponse"!==t))),await this.initQueryItemList(),await this.initUserOperationItemList()]},initControlActivityItemList(t){const e=r()(t.filter((({activityType:t})=>"F"===t))).map((t=>({id:`${t.activityId}_Activity`,name:`${(0,d.Xv)(t.activityId)} ${t.activityName?`- ${(0,d.Xv)(t.activityName)}`:""}`,type:this.groupTypeItemIdArr.find((e=>e===t.activityId))?"group":"node",labelKey:"basic.desc",iconUrl:(()=>{let e="";return e="InvokeActivity"===t.activityId?"activity":"ReThrow"===t.activityId?"throw":"ForEach"===t.activityId?"for":"InvokeOperation"===t.activityId?"operation":t.activityId.charAt(0).toLowerCase()+t.activityId.slice(1),(0,d.u5)(`/img/operation/${e}.png`)})(),isViewIndex:!["FaultHandlers","FaultHandler"].find((e=>e===t.activityId)),detail:(()=>["End","Scope","ReThrow","Continue","Break","Switch","Default"].find((e=>e===t.activityId))?(e,a,i)=>{this.initNodeEventBind({evt:i,configFunc:null,basicInfo:{info:e,itemId:t.activityId,callBackFunc:a}})}:"Script"===t.activityId?(t,e,a)=>{this.initNodeEventBind({evt:a,configFunc:({Parameter:a,Variable:i})=>{this.openScriptModal({...t,Parameter:a,Variable:i},e)},basicInfo:{info:t,itemId:"Script",callBackFunc:e}})}:["InvokeActivity","InvokeOperation","Fork","ForEach"].find((e=>e===t.activityId))?(e,a,i)=>{this.initNodeEventBind({evt:i,configFunc:({Parameter:i,Variable:s})=>{this.openParameterModal({type:"Activity",itemId:t.activityId,title:t.activityId,isOnlyModify:!!["Fork","ForEach"].find((e=>e===t.activityId)),info:{...e,Parameter:i,Variable:s},callBackFunc:a})},basicInfo:{info:e,itemId:t.activityId,callBackFunc:a}})}:"Throw"===t.activityId?(t,e,a)=>{this.initNodeEventBind({evt:a,configFunc:({Parameter:a,Variable:i})=>{this.openThrowModal({...t,Parameter:a,Variable:i},e)},basicInfo:{info:t,itemId:"Throw",callBackFunc:e}})}:"Condition"===t.activityId?(t,e,a)=>{this.initNodeEventBind({evt:a,configFunc:({Parameter:a,Variable:i})=>{this.openConditionModal({...t,Parameter:a,Variable:i},e)},basicInfo:{info:t,itemId:"Condition",callBackFunc:e}})}:["While","Case"].find((e=>e===t.activityId))?(e,a,i)=>{this.initNodeEventBind({evt:i,configFunc:({Parameter:t,Variable:i})=>{this.openBranchConditionModal({...e,Parameter:t,Variable:i},a)},basicInfo:{info:e,itemId:t.activityId,callBackFunc:a}})}:"FaultHandler"===t.activityId?(t,e,a)=>{this.initNodeEventBind({evt:a,configFunc:({Parameter:a,Variable:i})=>{this.openFaultHandlerModal({...t,Parameter:a,Variable:i},e)},basicInfo:{info:t,itemId:"FaultHandler",callBackFunc:e}})}:null)()})));return e.push({id:"Start_Activity",name:"Start-Start",type:"node",labelKey:"basic.desc",iconUrl:(0,d.u5)("/img/operation/start.png"),isViewIndex:!0,detail:(t,e,a)=>{this.initNodeEventBind({evt:a,configFunc:null,basicInfo:{info:t,itemId:"Start",callBackFunc:e}})}}),{id:"Control",name:"Control",searchFunc:t=>{this.initActivityControlSearchFunc(t)},itemList:e}},initActivityItemList(t){const e=this.setItemList("activity",t.filter((({activityType:t})=>"A"===t)),(t=>{const e="MappingServiceResponse"===t.activityId;return{id:e?`${t.activityId}_Response`:`${t.activityId}_Activity`,name:`${(0,d.Xv)(t.activityId)} ${t.activityName?`- ${(0,d.Xv)(t.activityName)}`:""}`,type:"node",labelKey:"basic.desc",iconUrl:(0,d.u5)(`/img/operation/activity${t.activityProject&&"iGate"!==t.activityProject?"Custom":""}.png`),detail:(()=>(a,i,s)=>{this.initNodeEventBind({evt:s,configFunc:({Parameter:s,Variable:n})=>{e?this.openMappingModal({type:"response",item:t,info:a,callBackFunc:i}):this.openParameterModal({type:"Activity",itemId:t.activityId,title:t.activityId,isOnlyModify:!0,info:{...a,Parameter:s,Variable:n},callBackFunc:i})},basicInfo:{info:a,itemId:t.activityId,type:"activity",callBackFunc:i}})})(),isViewIndex:!0}}));return{id:this.$t("igate.activity"),name:this.$t("igate.activity"),searchFunc:t=>{this.initActivityItemSearchFunc(t)},itemList:e.list}},async initQueryItemList(){const t=await new d.p0("/api/entity/query/search").read({object:{},limit:null,next:null,reverseOrder:!1});this.queryList=t.data.object;const e=this.setItemList("query",this.queryList,(t=>({id:`${t.queryId}_Query`,name:`${(0,d.Xv)(t.queryId)} ${t.queryName?`- ${(0,d.Xv)(t.queryName)}`:""}`,type:"node",labelKey:"basic.desc",iconUrl:(0,d.u5)("/img/menu/query.png"),detail:(e,a,i)=>{this.initNodeEventBind({evt:i,configFunc:()=>{this.openMappingModal({type:"query",item:t,info:e,callBackFunc:a})},basicInfo:{info:e,itemId:t.queryId,type:"query",callBackFunc:a}})},isViewIndex:!0})));return{id:this.$t("igate.query"),name:this.$t("igate.query"),searchFunc:t=>{this.initQuerySearchFunc(t)},itemList:e.list}},async initUserOperationItemList(){const t=await new d.p0("/api/entity/operation/search").read({object:{operationType:"U"},limit:null,next:null,reverseOrder:!1});this.userOperationList=t.data.object;const e=this.setItemList("uop",this.userOperationList,(t=>({id:`${t.operationId}_UOP`,name:`${(0,d.Xv)(t.operationId)} ${t.operationName?`- ${(0,d.Xv)(t.operationName)}`:""}`,type:"node",labelKey:"basic.desc",iconUrl:(0,d.u5)("/img/operation/operation.png"),detail:(t,e,a)=>{const i=t.itemId.split("_"),s=i.pop(),n=i.join("_");this.initNodeEventBind({evt:a,configFunc:({Parameter:a,Variable:i})=>{this.openParameterModal({type:s,itemId:n,title:n,isOnlyModify:!0,info:{...t,Parameter:a,Variable:i},callBackFunc:e})},basicInfo:{info:t,itemId:n,type:s,callBackFunc:e}})},isViewIndex:!0})));return{id:this.$t("igate.operation"),name:`${this.$t("common.user")} ${this.$t("igate.operation")}`,searchFunc:t=>{this.initUOPSearchFunc(t)},itemList:e.list}},async initOperationList(){this.selectedOperationId=null;const t=await new d.p0("/api/entity/operation/search").read({object:this.searchObj,limit:null,next:null,reverseOrder:!1});if(this.operationList=t.data.object,sessionStorage.getItem("selectedOperationId")&&(this.operationList.find((({operationId:t})=>t===sessionStorage.getItem("selectedOperationId")))||sessionStorage.removeItem("selectedOperationId")),sessionStorage.getItem("selectedLinkOperationId")){const t=sessionStorage.getItem("selectedLinkOperationId").replaceAll('"',"");sessionStorage.removeItem("selectedOperationId"),sessionStorage.removeItem("selectedLinkOperationId"),this.operationList.find((({operationId:e})=>e===t))&&(this.operationList=[this.operationList.find((({operationId:e})=>e===t))]),this.searchObj["operationId"]=t}const e=this.setItemList("workflow",this.operationList,(t=>{const e=this.userInfo.totalUserPrivileges.filter((({privilegeType:t})=>"b"===t)),a=e.find((({privilegeId:e})=>e===t.privilegeId));let i="disabled";return i=this.editor?"undefined"===typeof t.lockUserId?a?"unlock":"disabled":a&&(this.userInfo.userId===t.lockUserId||a.admin)?"lock":"disabled":"disabled",{id:(0,d.Fs)(),type:"t",lockStatus:i,data:{basic:{...t,viewName:`${t.operationId} ${t.operationName?`- ${t.operationName}`:""}`}}}}));return e._children},openScriptModal(t,e){const i=this.editor&&this.getLockEditor(),s=this.$openModal({title:"Script",modalWidth:"640px",modalHeight:"640px",draggable:!0,resizable:!0,contentList:[{template:'<DetailScriptModal :info="info" :editor="editor"/>',components:{DetailScriptModal:a(81013)["default"]},data(){return{info:t,editor:i}}}],buttonList:i?[this.getNodeModalButtonComponent((()=>{const{Value:a}=s.$refs.content[0].$children[0].getData();e({basic:{desc:t.data.basic&&t.data.basic.desc?t.data.basic.desc:"Script"},Value:a},"modify"),s.hideModal()}))]:null})},async openParameterModal({type:t,itemId:e,isOnlyModify:i,title:s,info:n,callBackFunc:o}){const r=this.editor&&this.getLockEditor(),l=this.activityList,d=this.$openModal({title:s,modalWidth:"700px",modalHeight:"700px",draggable:!0,resizable:!0,contentList:[{template:'<DetailParameterModal :type="type" :itemId="itemId" :info="info" :isOnlyModify="isOnlyModify" :editor="editor" :activityList="activityList" />',components:{DetailParameterModal:a(23628)["default"]},data(){return{type:t,info:n,isOnlyModify:i,itemId:e,activityList:l,editor:r}}}],buttonList:r?[this.getNodeModalButtonComponent((()=>{const{dynamic:t,Parameter:a}=d.$refs.content[0].$children[0].getData();o({basic:{desc:n.data.basic&&n.data.basic.desc?n.data.basic.desc:e},dynamic:t,Parameter:a},"modify"),d.hideModal()}))]:null})},openThrowModal(t,e){const i=this.editor&&this.getLockEditor(),s=this.$openModal({title:"Throw",modalWidth:"700px",modalHeight:"800px",draggable:!0,resizable:!0,contentList:[{template:'<DetailThrowModal :info="info" :editor="editor" />',components:{DetailThrowModal:a(85771)["default"]},data(){return{info:t,editor:i}}}],buttonList:i?[this.getNodeModalButtonComponent((()=>{const{Parameter:a}=s.$refs.content[0].$children[0].getData();e({basic:{desc:t.data.basic&&t.data.basic.desc?t.data.basic.desc:"Throw"},dynamic:!0,Parameter:a},"modify"),s.hideModal()}))]:null})},openConditionModal(t,e){const i=this,s=this.editor&&this.getLockEditor(),n=this.workFlow.getSelectedTopologyInfo(),o=n.nodeList.filter((e=>e.id!==t.id&&e.parentId===t.parentId)),l=this.$openModal({title:"Condition",modalWidth:"700px",modalHeight:"700px",draggable:!0,resizable:!0,contentList:[{template:'<DetailConditionModal :info="info" :nodeList="nodeList" :editor="editor" />',components:{DetailConditionModal:a(16484)["default"]},data(){return{info:t,nodeList:o,editor:s}}}],buttonList:s?[this.getNodeModalButtonComponent((()=>{const a=[...r()(n.edgeList).filter((e=>e.startNodeId!==t.id))],{Conditions:s}=l.$refs.content[0].$children[0].getData();s.find((({target:t})=>!t))?this.$alert({type:"warn",message:this.$t("common.no.target.selected")}):s.map((({target:t})=>t)).length===[...new Set(s.map((({target:t})=>t)))].length?(s.forEach(((e,i)=>{a.push({id:(0,d.Fs)(),startNodeId:t.id,endNodeId:e.target,startConnectionPartDirection:"down",endConnectionPartDirection:"up",isHover:!1,isSelect:!1,index:i,data:{basic:{desc:e.desc}}}),e.target=o.find((t=>t.id===e.target)).index})),i.workFlow.setSelectedTopologyInfo({edgeList:a}),e({basic:{desc:t.data.basic&&t.data.basic.desc?t.data.basic.desc:"Condition"},Conditions:s},"modify"),l.hideModal()):this.$alert({type:"warn",message:this.$t("igate.duplicate.check",{0:`${this.$t("head.target")}`})})}))]:null})},openBranchConditionModal(t,e){const i=this.editor&&this.getLockEditor(),{itemId:s,Parameter:n,Variable:o}=t,r=s.slice(0,s.lastIndexOf("_")),l=this.$openModal({title:"Expression",modalWidth:"1000px",modalHeight:"750px",contentList:[{template:'<reference :className="className" :tabData="tabData" :Parameter="Parameter" :Variable="Variable" :editor="editor" />',components:{reference:a(21288)["default"]},data(){return{className:"java.lang.Boolean",tabData:{JavaExpression:{value:"true"}},Parameter:n,Variable:o,editor:i}},created(){t.data&&t.data.Condition?this.tabData=t.data.Condition:this.tabData={JavaExpression:{value:"true"}}}}],buttonList:i?[{template:`<button type="button" class="btn btn-primary" @click="click"> ${this.$t("head.ok")} </button>`,methods:{async click(){const{expression:a,isValidation:i}=l.$refs.content[0].$children[0].getData();i&&(e({basic:{desc:t.data.basic&&t.data.basic.desc?t.data.basic.desc:r},Condition:a},"modify"),l.hideModal())}}}]:null})},openFaultHandlerModal(t,e){const i=this,s=this.editor&&this.getLockEditor(),n=this.workFlow.getSelectedTopologyInfo(),o=n.nodeList.filter((e=>e.id!==t.id&&e.parentId===t.parentId)),l=this.$openModal({title:"FaultHandler",modalWidth:"700px",modalHeight:"700px",draggable:!0,resizable:!0,contentList:[{template:'<DetailFaultHandlerModal :info="info" :nodeList="nodeList" :editor="editor" />',components:{DetailFaultHandlerModal:a(68425)["default"]},data(){return{info:t,nodeList:o,editor:s}}}],buttonList:s?[this.getNodeModalButtonComponent((()=>{const a=[...r()(n.edgeList).filter((e=>e.startNodeId!==t.id))],{Catchs:s}=l.$refs.content[0].$children[0].getData();s.find((({target:t})=>!t))?this.$alert({type:"warn",message:this.$t("common.no.target.selected")}):s.map((({target:t})=>t)).length===[...new Set(s.map((({target:t})=>t)))].length?(s.forEach(((e,i)=>{a.push({id:(0,d.Fs)(),startNodeId:t.id,endNodeId:e.target,startConnectionPartDirection:"down",endConnectionPartDirection:"up",isHover:!1,isSelect:!1,index:i,data:{basic:{desc:e.desc}}}),e.target=o.find((t=>t.id===e.target)).index})),i.workFlow.setSelectedTopologyInfo({edgeList:a}),e({basic:{desc:t.data.basic&&t.data.basic.desc?t.data.basic.desc:"FaultHandler"},Catchs:s},"modify"),l.hideModal()):this.$alert({type:"warn",message:this.$t("igate.duplicate.check",{0:`${this.$t("head.target")}`})})}))]:null})},openMappingModal({type:t,item:e,info:i,callBackFunc:s}){if("query"===t&&!e.inputRecordId)return void this.$alert({type:"warn",message:this.$t("igate.operation.target.model.warning",{0:this.$t("igate.query"),1:this.$t("igate.query.output.dataModel")})});const{Operation:n}=(0,c.AU)(this.operationInfo.operationRuleStr),o=this.getVariables(n),r=this,l=this.editor&&this.getLockEditor()?"modify":"detail",d=this.workFlow.getSelectedTopologyInfo(),p=d.nodeList.filter((({itemId:t})=>"Query"===t.split("_").pop())),h=this.$openModal({title:this.$t("igate.mapping"),fullscreen:!0,contentList:[{template:'<DetailMappingModal\n\t\t\t\t\t\t\t\t\t\t:prefix="type" \n\t\t\t\t\t\t\t\t\t\t:item="item" \n\t\t\t\t\t\t\t\t\t\t:nodeInfo="info" \n\t\t\t\t\t\t\t\t\t\t:nodeList="nodeList" \n\t\t\t\t\t\t\t\t\t\t:operationInfo="operationInfo" \n\t\t\t\t\t\t\t\t\t\t:Variables="Variables"\n\t\t\t\t\t\t\t\t\t\t:referenceMappings="referenceMappings" \n\t\t\t\t\t\t\t\t\t\t:mode="mode" \n\t\t\t\t\t\t\t\t\t\ttype="modal" \n\t\t\t\t\t\t\t\t\t\tstyle="height: 100%;" />',components:{DetailMappingModal:a(9844)["default"]},data(){return{type:t,mode:l,item:e,info:i,nodeList:p,referenceMappings:r.referenceMappings,operationInfo:r.operationInfo,Variables:o}}}],buttonList:this.editor&&this.getLockEditor()?[this.getNodeModalButtonComponent((()=>{const t=h.$refs.content[0].$children[0].getMapping(),a=h.$refs.content[0].$children[0].getData(),n=r.referenceMappings.findIndex((({pk:e})=>e.mappingId==t.pk.mappingId));-1===n?r.referenceMappings.push(t):r.referenceMappings[n]=t,s({basic:{desc:i.data.basic&&i.data.basic.desc?i.data.basic.desc:e.itemId},etc:{uniqueKey:i.data.etc&&i.data.etc.uniqueKey?i.data.etc.uniqueKey:null},dynamic:!1,Parameter:a},"modify"),h.hideModal()}))]:null})},getNodeModalButtonComponent(t){return{template:`<div>\n\t\t\t\t\t\t\t   <button type="button" class="btn btn-primary" @click="click"> ${this.$t("head.ok")} </button>\n\t\t\t\t\t\t  </div>`,methods:{click(){t()}}}},setReferenceMappings(t){const e=[];for(const{data:a}of t){const t=a.Parameter;if(!t)continue;const i=a.Parameter.find((({desc:t})=>"Mapping ID"===t));i&&e.push(i.name)}return this.referenceMappings.filter((({pk:t})=>e.includes(t.mappingId)))},async getOperationXml(t,e="<Operation/>"){const{nodeList:a,edgeList:i}=this.workFlow.getSelectedTopologyInfo(),s=new DOMParser,n=s.parseFromString(e,"text/xml");await this.convertJsonToXmlOperationRule(n,{nodeList:a,edgeList:i},{Variables:t});let o='<?xml version="1.0" encoding="UTF-8"?>';return o+=(new XMLSerializer).serializeToString(n),o},getVariables(t){const e=[];let a=[];if(t.Variables&&t.Variables.Variable){const i=Array.isArray(t.Variables.Variable)?t.Variables.Variable:[t.Variables.Variable];i.forEach((t=>{const i={};for(const e in t)i[e.replace("@","")]=t[e];delete i.isParameter,"true"===t["@isParameter"]?e.push(i):(i.data=(0,c.gu)(i),a.push(i))}))}const{nodeList:i}=this.workFlow.getSelectedTopologyInfo();return a=this.setAutoCustomVariable(i,a),{Parameter:e,Variable:a}},setAutoCustomVariable(t,e){t=this.workFlow.getSelectedTopologyInfo().nodeList;const a=t.filter((({itemId:t})=>t.endsWith("_Service")||t.endsWith("_Query"))),i=r()(e.filter((({isAutoInsert:t})=>!t)));return a.forEach((t=>{const e=t.itemId.split("_"),a=e.pop();let s=e.join("_");i.push({type:"com.inzent.igate.message.Record",name:`${s}_${t.data.etc.uniqueKey}`,isAutoInsert:!0,data:null,canEdit:!1,recordId:(()=>{let t="";if("Service"===a){const{responseRecordId:e}=this.serviceList.find((({serviceId:t})=>t===s));t=e}else{const{outputRecordId:e}=this.queryList.find((({queryId:t})=>t===s));t=e}return t})(),desc:(()=>{let e="";if("Service"===a){const{serviceName:a}=this.serviceList.find((({serviceId:t})=>t===s));e=`${a} #${t.index}(${t.data.etc.uniqueKey}) Response`}else{const{queryName:a}=this.queryList.find((({queryId:t})=>t===s));e=`${a} #${t.index}(${t.data.etc.uniqueKey}) Response`}return e})()})})),i},topologyValidationEditFunc(t){let e=!0,a=null;if("add"===t||"modify"===t)if("add"!==t||""===this.searchObj.operationId&&""===this.searchObj.operationName&&""===this.searchObj.operationGroup&&" "===this.searchObj.operationType&&""===this.searchObj.privilegeId&&""===this.searchObj.operationDesc){const{nodeList:t,edgeList:i}=this.workFlow.getSelectedTopologyInfo();for(let s=0;s<t.length;s++)if("Fork_Activity"===t[s].itemId){if(0===t.filter((e=>t[s].id===e.parentId)).length){e=!1,a=this.$t("igate.fork.no.child.nodes");break}if(!i.find((({startNodeId:e})=>e===t[s].id))){e=!1,a=this.$t("igate.no.child.nodes.associated.fork");break}}}else e=!1,a=this.$t("igate.add.while.searching");return{res:{data:{result:e?"success":"error",message:a}}}},async topologyEditFunc(t,e){const a=this.topologyValidationEditFunc(t);if("error"===a.res.data.result)return a;const i=new DOMParser,s=i.parseFromString("<Operation/>","text/xml");if("add"===t||"clone"===t){const{Parameter:a,operationRuleStr:i}=e.afterInfo.data;let{Variable:n}=e.afterInfo.data;const{Operation:o}=(0,c.AU)(i),r=[],l=[];if(this.createTopology(o,r,l,null),n=this.setAutoCustomVariable(r,n),await this.convertJsonToXmlOperationRule(s,{nodeList:r,edgeList:l},{Variables:{Parameter:a,Variable:n}}),"clone"===t){const t=this.userInfo.totalUserPrivileges.filter((({privilegeType:t})=>"b"===t)).sort(((t,e)=>t.privilegeId>e.privilegeId?1:-1));e.afterInfo.data.basic.privilegeId=t[0].privilegeId}return{res:await this.operationReq.create({...e.afterInfo.data.basic,operationGroup:e.afterInfo.parentGroupPath.map((t=>t.data.basic.viewName)).join("."),operationRuleDirty:!0,operationRuleStr:`<?xml version="1.0" encoding="UTF-8"?> ${(new XMLSerializer).serializeToString(s)}`,referenceMappings:this.setReferenceMappings(r)},!0,(()=>{})),nodeList:r,edgeList:l}}if("modify"===t){const{Parameter:t,topologyInfo:a}=e.afterInfo.data,{nodeList:i}=a;let{Variable:n}=e.afterInfo.data;return n=this.setAutoCustomVariable(i,n),await this.convertJsonToXmlOperationRule(s,a,{Variables:{Parameter:t,Variable:n}}),{res:await this.operationReq.update({...e.afterInfo.data.basic,operationGroup:e.afterInfo.parentGroupPath.map((t=>t.data.basic.viewName)).join("."),operationRuleDirty:!0,operationRuleStr:`<?xml version="1.0" encoding="UTF-8"?> ${(new XMLSerializer).serializeToString(s)}`,referenceMappings:this.setReferenceMappings(i)},!0,(()=>{}))}}return"remove"===t?{res:await this.operationReq.delete({...e.beforeInfo.data.basic},!0,(()=>{}))}:void 0},createTopology(t,e,a,i){const s=(0,d.Fs)();for(const n in t.Activities){const o=t.Activities[n];if(!o)return;const r=Array.isArray(o)?o:[o];r.forEach((t=>{const o={id:`${null===t["@index"]?n:t["@index"]}_${s}`,parentId:i?i.id:"-1",type:null,x:Number(t["@xPos"])+(i?i.x:0),y:Number(t["@yPos"])+(i?i.y:0),label:t["@id"]?t["@id"]:n,width:Number(t["@width"]),height:Number(t["@height"]),itemId:(()=>{let e=null;return e="Operation"===n?`${t["@id"]}_UOP`:"Query"===n?`${t["@id"]}_Query`:"Service"===n?`${t["@id"]}_Service`:"Response"===n?`${t["@id"]}_Response`:"FaultHandlers"===n?"FaultHandler_Activity":`${t["@id"]?t["@id"]:n}_Activity`,e})(),data:(()=>{const e={basic:{desc:t["@desc"]},etc:{uniqueKey:t["@uniqueKey"]}};if("Query"===n||"Service"===n||"Start"===n)e.Parameter=t.Parameter?Array.isArray(t.Parameter)?t.Parameter:[t.Parameter]:[],e.Parameter=e.Parameter.map((t=>{const e={};for(const a in t)e[a.replace("@","")]=t[a];return e.name=e.Value["#cdata"],delete e.Value,delete e.dynamic,e})),e.Variable=t.Variable?Array.isArray(t.Variable)?t.Variable:[t.Variable]:[],e.Variable=e.Variable.map((t=>{const e={};for(const a in t)e[a.replace("@","")]=t[a];return e.name=e.Value["#cdata"],delete e.Value,delete e.dynamic,e}));else if("Script"===n)e.Value=t.Value["#cdata"];else if(["InvokeActivity","InvokeOperation","Fork","ForEach","Activity","Operation","Throw"].find((t=>t===n)))e.Parameter=t.Parameter?Array.isArray(t.Parameter)?t.Parameter:[t.Parameter]:[],e.dynamic="true"===t["@dynamic"],e.Parameter=e.Parameter.map((t=>{const e={};for(const i in t)e[i.replace("@","")]=t[i];let a={};return"Constant"===e.from?a.ConstantExpression={"#cdata":e.Value["#cdata"]}:"Variable"===e.from?a.VariableExpression={"@name":e.Value["#cdata"]}:a=e,e.data=(0,c.gu)(a),e.value=e.Value["#cdata"],e}));else if("Condition"===n){let a=[];if(t.When){const e=Array.isArray(t.When)?t.When:[t.When];e.forEach((t=>{a.push({type:"When",target:t["@target"],desc:t["@desc"],value:(0,c.Tk)((0,c.gu)(t)),data:(0,c.gu)(t)})}))}if(t.Others){const e=Array.isArray(t.Others)?t.Others:[t.Others];e.forEach((t=>{a.push({type:"Others",target:t["@target"],desc:t["@desc"],value:(0,c.Tk)((0,c.gu)(t)),data:(0,c.gu)(t)})}))}e.Conditions=a}else if(["While","Case"].find((t=>t===n)))e.Condition=(0,c.gu)(t.Condition);else if("FaultHandlers"===n){let a=[];if(t.Catch){const e=Array.isArray(t.Catch)?t.Catch:[t.Catch];e.forEach((t=>{a.push({type:"Catch",target:t["@target"],desc:t["@desc"],faultName:t["@faultName"]})}))}if(t.CatchAll){const e=Array.isArray(t.CatchAll)?t.CatchAll:[t.CatchAll];e.forEach((t=>{a.push({type:"CatchAll",target:t["@target"],desc:t["@desc"],faultName:null})}))}e.Catchs=a}return e})(),zIndex:0,depth:i?i.depth+1:0,index:t["@index"]};o.type=this.groupTypeItemIdArr.find((t=>`${t}_Activity`===o.itemId))?"group":"node",e.push(o),t.Activities&&this.createTopology(t,e,a,o)}))}if(t.Transitions&&t.Transitions.Transition){const n=Array.isArray(t.Transitions.Transition)?t.Transitions.Transition:[t.Transitions.Transition];n.forEach(((t,n)=>{let o=null,r=null,l=null,d=null;!i||"start"!==t["@from"]&&"end"!==t["@to"]?(o=`${t["@from"]}_${s}`,r=`${t["@to"]}_${s}`,l="top"===t["@fromTerminal"]?"up":"bottom"===t["@fromTerminal"]?"down":t["@fromTerminal"],d="top"===t["@toTerminal"]?"up":"bottom"===t["@toTerminal"]?"down":t["@toTerminal"]):(o="start"===t["@from"]?i.id:`${t["@from"]}_${s}`,r="start"===t["@from"]?`${t["@to"]}_${s}`:i.id,l="start"===t["@from"]||"top"===t["@fromTerminal"]?"up":"bottom"===t["@fromTerminal"]?"down":t["@fromTerminal"],d="start"===t["@from"]?"top"===t["@toTerminal"]?"up":"bottom"===t["@toTerminal"]?"down":t["@toTerminal"]:"down"),e.find((({id:t})=>t===o))&&e.find((({id:t})=>t===r))&&a.push({id:`edge${n+1}_${s}`,startNodeId:o,endNodeId:r,startConnectionPartDirection:l||"down",endConnectionPartDirection:d||"up",isHover:!1,isSelect:!1,index:"undefined"!==typeof t["@order"]?t["@order"]:"",data:{basic:{desc:t["@desc"]}}})}))}},async convertJsonToXmlOperationRule(t,e,a){const i=[];if(e.nodeList.forEach((t=>{const e=t.itemId.split("_"),a=e.pop();let s=e.join("_");"Activity"===a||"Response"===a?(this.activityList.filter((({activityType:t})=>"A"===t)),(["InvokeActivity","InvokeOperation","Fork","ForEach"].find((t=>t===s))||this.activityList.find((({activityId:t,activityType:e})=>"A"===e&&t===s)))&&(t.data.Parameter||i.push(new Promise((e=>{(async()=>{e({nodeItemTabType:"Response"===a?"Response":"Activity",nodeItemOrgId:s,res:await new d.p0("/api/entity/activity/object").read({activityId:s}),nodeInfo:t})})()}))))):"Query"===a?this.queryList.find((({queryId:t})=>t===s))&&(t.data.Parameter||i.push(new Promise((e=>{(async()=>{e({nodeItemTabType:"Query",nodeItemOrgId:s,res:await new d.p0("/api/entity/query/object").read({queryId:s}),nodeInfo:t})})()})))):"Service"===a?this.serviceList.find((({serviceId:t})=>t===s))&&(t.data.Parameter||i.push(new Promise((e=>{(async()=>{e({nodeItemTabType:"Service",nodeItemOrgId:s,res:await new d.p0("/api/entity/service/object").read({serviceId:s}),nodeInfo:t})})()})))):"UOP"===a&&(t.data.Parameter||i.push(new Promise((e=>{(async()=>{e({nodeItemTabType:"UOP",nodeItemOrgId:s,res:await this.operationReq.read({operationId:s}),nodeInfo:t})})()}))))})),0<i.length){const t=await Promise.all(i);t.forEach((({nodeItemTabType:t,nodeItemOrgId:e,res:i,nodeInfo:s})=>{if("Activity"===t){if(["InvokeActivity","InvokeOperation","Fork","ForEach"].find((t=>t===e))||this.activityList.find((({activityId:t,activityType:a})=>"A"===a&&t===e))){const t=i.data.object.activityParameters;0===t.length?s.data.Parameter=[]:(s.data.dynamic=t[t.length-1].parameterType.endsWith("..."),s.data.dynamic&&t.pop(),s.data.Parameter=t.map((t=>({type:t.parameterType,desc:t.parameterDesc,paramType:null,value:"null",data:{VariableExpression:{name:"null"}}}))))}}else if("UOP"===t){s.data.dynamic=!1;const{Operation:t}=(0,c.AU)(i.data.object.operationRuleStr),e=t.Variables.Variable?Array.isArray(t.Variables.Variable)?t.Variables.Variable:[t.Variables.Variable]:[];s.data.Parameter=e.filter((t=>"true"===t["@isParameter"])).map((t=>({type:t["@type"],desc:t["@desc"],paramType:null,value:"null",data:{VariableExpression:{name:"null"}}})))}else if("Query"===t){const{uniqueKey:t}=s.data.etc,{queryId:e,queryName:n,inputRecordId:o,outputRecordId:r}=i.data.object,l=`${e}_${t}`,d=a.Variables;if(-1===d.Variable.findIndex((({name:t})=>t===l))){const e={type:(0,p.W)("R"),name:l,desc:`${n} #${s.index}(${t}) Response`,recordId:r,canEdit:!1};d.Variable.push(e)}s.data.Parameter=[{type:(0,p.W)("R"),desc:"Query Output",from:"Variable",name:l},{type:"java.lang.String",desc:"Query ID",from:"Constant",name:e},{type:"java.lang.String",desc:"Mapping ID",from:"Constant",name:o?`SM_${this.selectedOperationId}_${l}`:"null"}]}else if("Service"===t){const{uniqueKey:t}=s.data.etc,{serviceId:e,serviceName:n,requestRecordId:o,responseRecordId:r}=i.data.object,l=`${e}_${t}`,d=a.Variables;if(-1===d.Variable.findIndex((({name:t})=>t===l))){const e={type:(0,p.W)("R"),name:l,desc:`${n} #${s.index}(${t}) Response`,recordId:r,canEdit:!1};d.Variable.push(e)}s.data.Parameter=[{type:(0,p.W)("R"),desc:"Service Output",from:"Variable",name:l},{type:"java.lang.String",desc:"Service ID",from:"Constant",name:e},{type:"java.lang.String",desc:"Mapping ID",from:"Constant",name:o?`SM_${this.selectedOperationId}_${l}`:"null"},{type:"com.inzent.igate.repository.meta.Service",desc:"service",from:"Variable",name:"service"}]}else if("Response"===t){const{uniqueKey:t}=s.data.etc,{serviceId:e,responseRecordId:a}=this.serviceInfo,n=`${e}_${t}`,o=i.data.object.activityParameters;s.data.dynamic=o[o.length-1].parameterType.endsWith("..."),s.data.dynamic&&o.pop(),s.data.Parameter=o.map(((t,e)=>{const i=a?`OM_${n}`:"null",s=["Target Record",i,"service","null"],o=["Variable","Constant","Variable","Variable"];return{type:t.parameterType,desc:t.parameterDesc,name:s[e],from:o[e]}}))}}))}const s=e.nodeList.filter((({parentId:t})=>"-1"===t)),n=[];s.forEach((t=>{e.edgeList.forEach((e=>{e.startNodeId!==t.id&&e.endNodeId!==t.id||n.find((({startNodeId:t,endNodeId:a})=>t===e.startNodeId&&a===e.endNodeId))||s.find((({id:t})=>t===e.startNodeId))&&s.find((({id:t})=>t===e.endNodeId))&&n.push(e)}))})),s.sort(((t,e)=>t.index-e.index)),this.topologyInfo=e,this.maxUniqueKey=Number.MIN_SAFE_INTEGER,e.nodeList.forEach((t=>{"undefined"!==typeof t.data.etc&&"undefined"!==typeof t.data.etc.uniqueKey&&(this.maxUniqueKey=Math.max(this.maxUniqueKey,parseInt(t.data.etc.uniqueKey,36)))})),this.makeXML(t,s,n,t.querySelector("Operation"),a)},async initNodeEventBind({evt:t,configFunc:e,basicInfo:a}){if("dblclick"===t.type){if(null!=document.querySelector(`#${a.info.itemId}_${a.info.id}`))return;e&&e(await this.getOperationDetailData(this.selectedOperationId))}else"contextmenu"===t.type&&this.openNodeContextMenu({evt:t,configFunc:e,basicInfo:a})},openNodeContextMenu({evt:t,configFunc:e,basicInfo:a}){document.body.querySelector("#nodeContextMenu")&&document.body.removeChild(document.body.querySelector("#nodeContextMenu"));const i=document.createElement("div");i.setAttribute("id","nodeContextMenu"),i.setAttribute("style",`position: absolute; z-index: 9999; top: ${t.clientY}px; left: ${t.clientX}px; border: 1px solid #99a0bb; background-color: #fff; font-size: 13px; font-weight: bold; width: 100px; border-radius: 10px`),document.body.appendChild(i);const s=document.createElement("ul"),n=this.workFlow.getSelectedTopologyInfo(),o=n.nodeList.filter((({isSelect:t})=>t)).map((({id:t})=>t)),r=n.edgeList.filter((({isSelect:t})=>t)).map((({id:t})=>t));1>=o.length&&(e&&s.insertAdjacentHTML("beforeend",`<li id="nodeContextMenuConfig" style="cursor: pointer; padding: 2px 5px; border-radius: 10px;">\n\t\t\t\t\t\t\t<i class="icon-edit"></i> ${this.$t("head.config")}\n\t\t\t\t\t\t</li>`),s.insertAdjacentHTML("beforeend",`<li id="nodeContextMenuBasicInfo" style="cursor: pointer; padding: 2px 5px; border-radius: 10px;">\n\t\t\t\t\t\t<i class="icon-info"></i> ${this.$t("common.change.description")}\n\t\t\t\t\t</li>`),"query"!==a.type&&"activity"!==a.type&&"UOP"!==a.type&&"service"!==a.type||s.insertAdjacentHTML("beforeend",`<li id="nodeContextMenuDetailInfo" style="cursor: pointer; padding: 2px 5px; border-radius: 10px;">\n\t\t\t\t\t\t\t<i class="icon-link"></i> ${this.$t("head.detailInfo")} \n\t\t\t\t\t\t</li>`)),"Start"!==a.itemId&&this.editor&&this.getLockEditor()&&s.insertAdjacentHTML("beforeend",`<li id="nodeContextRemoveNode" style="cursor: pointer; padding: 2px 5px; border-radius: 10px;">\n\t\t\t\t\t     <i class="icon-delete"></i> ${this.$t("head.delete")}\n\t\t\t\t\t </li>`),s.insertAdjacentHTML("beforeend",`<li id="nodeContextMenuClose" style="cursor: pointer; padding: 2px 5px; border-radius: 10px;">\n\t\t\t\t     <i class="icon-close"></i> ${this.$t("head.close")} \n\t\t\t\t </li>`),i.appendChild(s),i.addEventListener("mouseover",(t=>{"LI"===t.target.tagName&&(t.target.style.backgroundColor="#eee")})),i.addEventListener("mouseout",(t=>{"LI"===t.target.tagName&&(t.target.style.backgroundColor="#fff")})),i.addEventListener("mouseenter",(()=>{if(0===o.length&&0===r.length||!o.includes(a.info.id))return;const{nodeList:t,edgeList:e}=this.workFlow.getSelectedTopologyInfo();t.forEach((t=>{o.includes(t.id)&&(t.isSelect=!0)})),e.forEach((t=>{r.includes(t.id)&&(t.isSelect=!0)})),this.workFlow.setSelectedTopologyInfo({nodeList:t,edgeList:e})})),i.addEventListener("click",(async t=>{if("nodeContextMenuConfig"===t.target.id||"nodeContextMenuConfig"===t.target.parentNode.id){if(null!=document.querySelector(`#${a.info.itemId}_${a.info.id}`))return;e(await this.getOperationDetailData(this.selectedOperationId))}else"nodeContextMenuBasicInfo"===t.target.id||"nodeContextMenuBasicInfo"===t.target.parentNode.id?this.openNodeBasicInfo(a):"nodeContextMenuDetailInfo"===t.target.id||"nodeContextMenuDetailInfo"===t.target.parentNode.id?this.openNodeDetailInfo(a):"nodeContextRemoveNode"!==t.target.id&&"nodeContextRemoveNode"!==t.target.parentNode.id||this.deleteNodeInfo(a.info)})),document.body.addEventListener("click",(()=>{document.body.querySelector("#nodeContextMenu")&&document.body.removeChild(document.body.querySelector("#nodeContextMenu"))}))},openNodeBasicInfo(t){const e=this.editor&&this.getLockEditor(),{info:i,itemId:s,callBackFunc:n}=t,o=this.$openModal({title:this.$t("common.change.description"),modalWidth:"600px",modalHeight:"400px",draggable:!0,resizable:!0,contentList:[{template:'<DetailNodeBasicInfo :info="info" :itemId="itemId" :editor="editor" @enter="enter" />',components:{DetailNodeBasicInfo:a(79230)["default"]},data(){return{info:i,itemId:s,editor:e}},methods:{enter(){o.$refs.button[0].click()}}}],buttonList:e?[{template:`<div>\n\t\t\t\t\t\t\t\t       \t       <button type="button" class="btn btn-primary" @click="click"> ${this.$t("head.ok")} </button>\n\t\t\t\t\t\t\t\t           </div>`,methods:{click(){const t=o.$refs.content[0].$children[0].getData();i.data.basic?i.data.basic.desc=o.$refs.content[0].$children[0].getData():i.data.basic={desc:t},n(r()(i.data),"modify"),o.hideModal()}}}]:null})},async openNodeDetailInfo(t){let e=null,a={},i={};const s=t.info.itemId.split("_");let n=s.pop(),o=s.join("_");if("Response"===n&&(n="Activity"),"Activity"===n?(e="102060",a={activityId:o}):"Query"===n?(e="101070",a={queryId:o}):"UOP"===n?(e="102070",a={operationId:o},n="operation"):"Service"===n&&(e="101030",a={serviceId:o}),!this.userInfo.totalUserPrivileges.find((({privilegeId:t})=>`${n.charAt(0).toUpperCase()+n.slice(1)}Viewer`===t)))return void this.$alert({type:"warn",message:this.$t("igate.operation.no.viewer.privileges",{0:n})});const r=await new d.p0(`/api/entity/${n.toLowerCase()}/object`).read(a);i=r.data.object,(0,d.RB)(e,(()=>{localStorage.removeItem("searchObj"),localStorage.setItem("searchObj",JSON.stringify(a)),localStorage.removeItem("detailObj"),localStorage.setItem("detailObj",JSON.stringify(i))}))},deleteNodeInfo(t){let e=this.workFlow.getSelectedTopologyInfo();const a=e.nodeList.filter((({isSelect:t,label:e})=>t&&"Start"!==e));if(a.length>1){const t=this.sortNodesByEdgeInfo(a,e.edgeList);t.forEach((({id:a,index:i,type:s},n)=>{e=this.workFlow.getSelectedTopologyInfo(),this.isIrremovableNode({id:a,index:i},e)&&this.workFlow.delSelectedTopologyInfo(s,a,n===t.length-1)}))}else{const{id:i,index:s,type:n,label:o}=t||a[0];if("Start"===o||!this.isIrremovableNode({id:i,index:s},e))return;this.workFlow.delSelectedTopologyInfo(n,i)}},isIrremovableNode({id:t,index:e},{nodeList:a,edgeList:i}){const s=i.filter((({endNodeId:e})=>e===t)).map((({startNodeId:t})=>t)),n=a.filter((({id:t})=>s.includes(t)));if(n.some((({label:t})=>"FaultHandler"===t||"FaultHandlers"===t)))return this.$alert({type:"warn",message:this.$t("igate.operation.faulthandler.connection.warning")}),!1;if(n.some((({label:t})=>"Condition"===t))){const t=r()(a);t.forEach((t=>{"Condition"===t.label&&(t.data.Conditions=t.data.Conditions.filter((t=>!(t.target===e))))})),this.workFlow.setSelectedTopologyInfo({nodeList:t})}return!0},sortNodesByEdgeInfo(t,e){const a=[],i=new Set;function s(n){const o=e.filter((({endNodeId:t})=>t===n.id));o.forEach((({startNodeId:e})=>{const n=t.find((({id:t})=>t===e));n&&!i.has(n.id)&&(i.add(n.id),s(n),a.push(n))}))}return t.forEach((t=>{s(t),i.has(t.id)||(i.add(t.id),a.push(t))})),a},makeSubXML({root:t,parent:e,dataObj:a,excludeValueTypeArr:i,excludeExpressionTypeArr:s,argumentType:n}){if(a)if(a.ConstantExpression){if(!i.find((t=>"ConstantExpression"===t))){const i=t.createElement("Value");i.appendChild(t.createCDATASection(a.ConstantExpression.value)),e.appendChild(i)}if(!s.find((t=>"ConstantExpression"===t))){const i=t.createElement("ConstantExpression");i.appendChild(t.createCDATASection(a.ConstantExpression.value)),n&&i.setAttribute("argumentType",n),e.appendChild(i)}}else if(a.VariableExpression){if(!i.find((t=>"VariableExpression"===t))){const i=t.createElement("Value");i.appendChild(t.createCDATASection(a.VariableExpression.name)),e.appendChild(i)}if(!s.find((t=>"VariableExpression"===t))){const i=t.createElement("VariableExpression");i.setAttribute("name",a.VariableExpression.name),n&&i.setAttribute("argumentType",n),e.appendChild(i)}}else if(a.ContextExpression){if(!i.find((t=>"ContextExpression"===t))){const i=t.createElement("Value");i.appendChild(t.createCDATASection(a.ContextExpression.name)),e.appendChild(i)}if(!s.find((t=>"ContextExpression"===t))){const i=t.createElement("ContextExpression");i.setAttribute("name",a.ContextExpression.name),i.setAttribute("returnType",a.ContextExpression.returnType),n&&i.setAttribute("argumentType",n),e.appendChild(i)}}else if(a.RecordExpression){if(!i.find((t=>"RecordExpression"===t))){const i=t.createElement("Value");i.appendChild(t.createCDATASection((0,c.Tk)(a))),e.appendChild(i)}if(!s.find((t=>"RecordExpression"===t))){const i=t.createElement("RecordExpression");i.setAttribute("returnType",a.RecordExpression.returnType),i.setAttribute("variableName",a.RecordExpression.variableName),i.setAttribute("fieldPath",a.RecordExpression.fieldPath),i.setAttribute("recordId",a.RecordExpression.recordId),n&&i.setAttribute("argumentType",n),e.appendChild(i)}}else if(a.MethodExpression){if(!i.find((t=>"MethodExpression"===t))){const i=t.createElement("Value");i.appendChild(t.createCDATASection((0,c.Tk)(a))),e.appendChild(i)}if(!s.find((t=>"MethodExpression"===t))){const i=t.createElement("MethodExpression");i.setAttribute("variableName",a.MethodExpression.variableName),n&&i.setAttribute("argumentType",n),a.MethodExpression.methods.forEach((e=>{e.name&&this.makeSubXML({root:t,parent:i,dataObj:{FunctionExpression:{className:e.parentReturn,methodName:e.name,argumentTypes:0===e.parameters.length?"":e.parameters.join(","),arguments:e.values.map(((t,a)=>({data:t,argumentType:e.parameters[a]})))}},excludeValueTypeArr:["ConstantExpression","VariableExpression","ContextExpression","RecordExpression","MethodExpression","FunctionExpression","JavaExpression"],excludeExpressionTypeArr:[],argumentType:e.return})})),e.appendChild(i)}}else if(a.FunctionExpression){if(!i.find((t=>"FunctionExpression"===t))){const i=t.createElement("Value");i.appendChild(t.createCDATASection((0,c.Tk)(a))),e.appendChild(i)}if(!s.find((t=>"FunctionExpression"===t))){const i=t.createElement("FunctionExpression");i.setAttribute("className",a.FunctionExpression.className),a.FunctionExpression.classShortName&&i.setAttribute("classShortName",a.FunctionExpression.classShortName),i.setAttribute("methodName",a.FunctionExpression.methodName),i.setAttribute("argumentTypes",a.FunctionExpression.argumentTypes),n&&i.setAttribute("argumentType",n),a.FunctionExpression.arguments.forEach((e=>{this.makeSubXML({root:t,parent:i,dataObj:e.data,excludeValueTypeArr:["ConstantExpression","VariableExpression","ContextExpression","RecordExpression","MethodExpression","FunctionExpression","JavaExpression"],excludeExpressionTypeArr:[],argumentType:e.argumentType})})),e.appendChild(i)}}else if(a.JavaExpression){if(!i.find((t=>"JavaExpression"===t))){const i=t.createElement("Value");i.appendChild(t.createCDATASection(a.JavaExpression.value)),e.appendChild(i)}if(!s.find((t=>"JavaExpression"===t))){const i=t.createElement("JavaExpression");i.appendChild(t.createCDATASection(a.JavaExpression.value)),n&&i.setAttribute("argumentType",n),e.appendChild(i)}}},makeXML(t,e,a,i,s){const n=t.createElement("Activities"),o=t.createElement("Transitions");if(s)for(const r in s)if("Variables"===r){const e=t.createElement("Variables");s.Variables.Parameter&&s.Variables.Parameter.forEach((a=>{const i=t.createElement("Variable");i.setAttribute("type",a.type),i.setAttribute("name",a.name),i.setAttribute("desc",a.desc),i.setAttribute("isParameter",!0),e.appendChild(i)})),s.Variables.Variable&&s.Variables.Variable.forEach((a=>{const i=t.createElement("Variable");i.setAttribute("type",a.type),i.setAttribute("name",a.name),i.setAttribute("desc",a.desc),i.setAttribute("isParameter",!1),"undefined"!==typeof a.recordId&&i.setAttribute("recordId",a.recordId),"undefined"!==typeof a.canEdit&&i.setAttribute("canEdit",a.canEdit),this.makeSubXML({root:t,parent:i,dataObj:a.data,excludeValueTypeArr:[],excludeExpressionTypeArr:[]}),e.appendChild(i)})),i.appendChild(e)}e&&0<e.length&&e.forEach((e=>{let a=null,i=null,o=null;const l=e.itemId.split("_");o=l.pop(),i=l.join("_"),"FaultHandler"===i&&(i="FaultHandlers"),a=t.createElement(i),"Activity"===o?this.activityList.find((({activityId:t,activityType:e})=>"A"===e&&t===i))&&(a=t.createElement("Activity"),a.setAttribute("id",i)):"Query"===o?(a=t.createElement("Query"),a.setAttribute("id",i)):"Service"===o?(a=t.createElement("Service"),a.setAttribute("id",i)):"UOP"===o?(a=t.createElement("Operation"),a.setAttribute("id",i)):"Response"===o&&(a=t.createElement("Response"),a.setAttribute("id",i));let d=null;"undefined"!==typeof e.data.etc&&"undefined"!==typeof e.data.etc.uniqueKey?d=e.data.etc.uniqueKey:(this.maxUniqueKey=this.maxUniqueKey===Number.MIN_SAFE_INTEGER?0:this.maxUniqueKey+1,d=this.maxUniqueKey.toString(36).padStart("4","0")),a.setAttribute("uniqueKey",d),"undefined"!==typeof e.index&&a.setAttribute("index",e.index);let p=i;if("Activity"===o||"Response"===o)if(e.data.basic&&e.data.basic.desc)p=e.data.basic.desc;else{const t=this.activityList.find((({activityId:t})=>t===i));t&&(p=t.activityName)}else if("UOP"===o)if(e.data.basic&&e.data.basic.desc)p=e.data.basic.desc;else{const t=this.operationList.find((({operationId:t})=>t===i));t&&(p=t.operationName)}else if("Query"===o)if(e.data.basic&&e.data.basic.desc)p=e.data.basic.desc;else{const t=this.queryList.find((({queryId:t})=>t===i));t&&(p=t.queryName)}else if("Service"===o)if(e.data.basic&&e.data.basic.desc)p=e.data.basic.desc;else{const t=this.serviceList.find((({serviceId:t})=>t===i));t&&(p=t.serviceName)}if(a.setAttribute("desc",p),"-1"!==e.parentId){const{x:t,y:i}=this.topologyInfo.nodeList.find((({id:t})=>t===e.parentId));a.setAttribute("xPos",Math.round(e.x-t)),a.setAttribute("yPos",Math.round(e.y-i))}else a.setAttribute("xPos",Math.round(e.x)),a.setAttribute("yPos",Math.round(e.y));if("Activity"===o)if("Start"===i){let i=e.data.Parameter;s&&s.Variables.Parameter&&(i||(i=[]),s.Variables.Parameter.forEach((t=>{i.find((({name:e})=>e===t.name))||i.push(r()(t))}))),i&&i.forEach((e=>{const i=t.createElement("Parameter");i.setAttribute("type",e.type),i.setAttribute("desc",e.desc),i.setAttribute("from","Variable"),i.setAttribute("dynamic",!1);const s=t.createElement("Value");s.appendChild(t.createCDATASection(e.name)),i.appendChild(s),a.appendChild(i)}))}else if("Script"===i){const i=t.createElement("Value");i.appendChild(t.createCDATASection("undefined"===typeof e.data.Value?"return 0;":e.data.Value)),a.appendChild(i)}else if(["InvokeActivity","InvokeOperation","Fork","ForEach","Throw"].find((t=>t===i))||this.activityList.find((({activityId:t,activityType:e})=>"A"===e&&t===i)))a.setAttribute("dynamic",e.data.dynamic),e.data.Parameter&&e.data.Parameter.forEach((e=>{const i=t.createElement("Parameter");i.setAttribute("type",e.type),i.setAttribute("desc",e.desc),i.setAttribute("from",(0,c._p)(e.data)),i.setAttribute("dynamic",!1),this.makeSubXML({root:t,parent:i,dataObj:e.data,excludeValueTypeArr:[],excludeExpressionTypeArr:["ConstantExpression","VariableExpression"]}),a.appendChild(i)}));else if("Condition"===i)if(e.data&&e.data.Conditions){let i="";e.data.Conditions.forEach(((e,s)=>{const n=t.createElement(e.type);n.setAttribute("target",e.target),n.setAttribute("desc",e.desc),"When"===e.type&&this.makeSubXML({root:t,parent:n,dataObj:e.data,excludeValueTypeArr:["ConstantExpression","VariableExpression","ContextExpression","RecordExpression","MethodExpression","FunctionExpression","JavaExpression"],excludeExpressionTypeArr:[]}),a.appendChild(n),i+=`// ${e.desc}\n`,"When"===e.type?i+=0===s?`if ( ${e.value} )\n`:`else if ( ${e.value} )\n`:i+="else\n",i+=`    return ${s};`}));const s=t.createElement("Value");s.appendChild(t.createCDATASection(i)),a.appendChild(s)}else{const e=t.createElement("Value");e.appendChild(t.createCDATASection("return 0;")),a.appendChild(e)}else if(["While","Case"].find((t=>t===i))){const i=t.createElement("Condition");this.makeSubXML({root:t,parent:i,dataObj:e.data&&e.data.Condition?e.data.Condition:{JavaExpression:{value:"true"}},excludeValueTypeArr:[],excludeExpressionTypeArr:[]}),a.appendChild(i)}else"FaultHandlers"===i&&e.data&&e.data.Catchs&&e.data.Catchs.forEach((e=>{const i=t.createElement(e.type);"Catch"===e.type&&i.setAttribute("faultName",e.faultName),i.setAttribute("target",e.target),i.setAttribute("desc",e.desc),a.appendChild(i)}));else if("UOP"===o)a.setAttribute("dynamic",e.data.dynamic),e.data.Parameter.forEach((e=>{const i=t.createElement("Parameter");i.setAttribute("type",e.type),i.setAttribute("desc",e.desc),i.setAttribute("from",(0,c._p)(e.data)),i.setAttribute("dynamic",!1),this.makeSubXML({root:t,parent:i,dataObj:e.data,excludeValueTypeArr:[],excludeExpressionTypeArr:["ConstantExpression","VariableExpression"]}),a.appendChild(i)}));else if("Query"===o||"Service"===o||"Response"===o){a.setAttribute("dynamic",!1);const i=e.data.Parameter;i&&i.forEach((e=>{const i=t.createElement("Parameter");i.setAttribute("type",e.type),i.setAttribute("desc",e.desc),i.setAttribute("from",e.from),i.setAttribute("canEdit",!1),i.setAttribute("dynamic",!1);const s=t.createElement("Value");"java.lang.String"===e.type&&"Constant"===e.from?s.appendChild(t.createCDATASection(e.name.startsWith('"')?e.name:`"${e.name}"`)):s.appendChild(t.createCDATASection(e.name)),i.appendChild(s),a.appendChild(i)}))}if("group"===e.type){a.setAttribute("width",Math.round(e.width)),a.setAttribute("height",Math.round(e.height));const i=this.topologyInfo.nodeList.filter((({parentId:t})=>e.id===t));if(0<i.length){const s=[];i.forEach((t=>{this.topologyInfo.edgeList.forEach((a=>{if(a.startNodeId!==t.id&&a.endNodeId!==t.id)return;if(s.find((({startNodeId:t,endNodeId:e})=>t===a.startNodeId&&e===a.endNodeId)))return;const i=this.topologyInfo.nodeList.find((({id:t})=>t===a.startNodeId)),n=this.topologyInfo.nodeList.find((({id:t})=>t===a.endNodeId));e.depth+1<i.depth||e.depth+1<n.depth||s.push(a)}))})),i.sort(((t,e)=>t.index-e.index)),this.makeXML(t,i,s,a)}else this.makeXML(t,[],[],a)}n.appendChild(a)})),a&&0<a.length&&a.forEach((e=>{const a=t.createElement("Transition");let i=null,s=null;const n=this.topologyInfo.nodeList.find((({id:t})=>t===e.startNodeId)),r=this.topologyInfo.nodeList.find((({id:t})=>t===e.endNodeId));n.id===r.parentId?(i="start",s=r.index):n.parentId===r.id?(i=n.index,s="end"):(i=n.index,s=r.index),a.setAttribute("from",i),a.setAttribute("to",s),a.setAttribute("order",e.index),e.data.basic&&e.data.basic.desc&&a.setAttribute("desc",e.data.basic.desc);const l=e.startConnectionPartDirection,d=e.endConnectionPartDirection;a.setAttribute("fromTerminal","up"===l?"top":"down"===l?"bottom":l),a.setAttribute("toTerminal","up"===d?"top":"down"===d?"bottom":d),a.appendChild(t.createElement("bendPoints")),o.appendChild(a)})),i.appendChild(n),i.appendChild(o)},async getOperationDetailData(t){const e=[],a=[],i=[],s=[],{data:{object:n}}=await this.operationReq.read({operationId:t}),{Operation:o}=(0,c.AU)(n.operationRuleStr);if(this.createTopology(o,e,a,null),o.Variables&&o.Variables.Variable){const t=Array.isArray(o.Variables.Variable)?o.Variables.Variable:[o.Variables.Variable];t.forEach((t=>{const e={};for(const a in t)e[a.replace("@","")]=t[a];delete e.isParameter,"true"===t["@isParameter"]?i.push(e):(e.data=(0,c.gu)(e),s.push(e))}))}return{nodeList:e,edgeList:a,Parameter:i,Variable:s}},setItemList(t,e,a){const i="workflow"===t,s=i?"_children":"list",n={[s]:[]},o=i||"uop"===t?"operationGroup":`${t}Group`;return r()(e).forEach((t=>{let e=n;t[o].split(".").forEach((t=>{let a=i?e[s].find((e=>e.data.basic.viewName===t)):e[s].find((e=>e.name===(0,d.Xv)(t)));if(!a){const n=i?{type:"g",data:{basic:{viewName:t}}}:{name:(0,d.Xv)(t)};a={id:(0,d.Fs)(),[s]:[],...n},e[s].push(a),this.sortGroups(i,e[s],s)}e=a})),e[s].push(a(t)),this.sortGroups(i,e[s],s)})),n},sortGroups(t,e,a){e.sort(((e,i)=>e[a]&&i[a]?(t?e.data.basic.viewName>i.data.basic.viewName:e.name>i.name)?1:-1:e[a]&&!i[a]?-1:1))},getLockEditor(){let t=this.editor;return this.workFlow.getSelectedWorkFlowInfo()&&(t=t&&"lock"===this.workFlow.getSelectedWorkFlowInfo().lockStatus),t},initWorkFlowSearchFunc(t){const e=this,i=this.$openModal({title:this.$t("head.search"),modalWidth:"500px",modalHeight:"580px",contentList:[{template:' <div>\n\t\t\t\t\t\t\t\t\t\t<div class="row frm-row">\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-lg-12">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\'head.id\') }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="letterLength"> ({{ operationId.length }}/{{ maxLengthOperationId }}) </span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="detail-content-regExp">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model="operationId"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@keyup.enter="search"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:maxlength="maxLengthOperationId"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@input="input(\'operationId\')"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="regExp-text view-disabled"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\'head.name\') }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="letterLength"> ({{ operationName.length }}/{{ maxLengthOperationName }}) </span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="detail-content-regExp">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model="operationName"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@keyup.enter="search"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:maxlength="maxLengthOperationName"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@input="input(\'operationName\')"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="regExp-text view-disabled"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\'head.group\') }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="letterLength"> ({{ operationGroup.length }}/{{ maxLengthOperationGroup }}) </span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="input-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model="operationGroup"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@keyup.enter="search"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:maxlength="maxLengthOperationGroup"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@input="input(\'operationGroup\')"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="form-control view-disabled"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button :title="$t(\'head.search\')" @click="searchGroup" class="btn btn-icon search-linkBtn"><i class="icon-srch"></i></button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\'common.type\') }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="detail-content-common">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select v-model="operationType" class="form-control view-disabled">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=" " v-text="$t(\'head.all\')"></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-for="(operationType, idx) in operationTypeList"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:key="idx"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:value="operationType.pk.propertyKey"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-text="operationType.propertyValue"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\'common.privilege\') }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="letterLength"> ({{ privilegeId.length }}/{{ maxLengthOperationPrivilegeId }}) </span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="detail-content-regExp">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span style="line-height: 0.9rem">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@keyup.enter="search"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model="privilegeId"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@input="input(\'privilegeId\')"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlist="privilegeList"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:maxlength="maxLengthOperationPrivilegeId"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="regExp-dataList view-disabled"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<datalist id="privilegeList">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option v-for="(privilege, idx) in privilegeList" :value="privilege.privilegeId" v-text="privilege.privilegeId" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</datalist>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\'common.desc\') }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="letterLength"> ({{ operationDesc.length }}/{{ maxLengthOperationDesc }}) </span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="detail-content-regExp">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model="operationDesc"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@keyup.enter="search"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:maxlength="maxLengthOperationDesc"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@input="input(\'operationDesc\')"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="regExp-text view-disabled"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t',data(){return{operationId:"",operationName:"",operationGroup:"",operationType:" ",privilegeId:"",operationDesc:"",operationTypeList:[],privilegeList:[],maxLengthOperationId:null,maxLengthOperationName:null,maxLengthOperationGroup:null,maxLengthOperationPrivilegeId:null,maxLengthOperationDesc:null}},async created(){this.operationId=e.searchObj.operationId,this.operationName=e.searchObj.operationName,this.operationGroup=e.searchObj.operationGroup,this.operationType=e.searchObj.operationType,this.privilegeId=e.searchObj.privilegeId,this.operationDesc=e.searchObj.operationDesc,this.maxLengthOperationId=(0,d.oo)("searchId").maxLength,this.maxLengthOperationName=(0,d.oo)("name").maxLength,this.maxLengthOperationGroup=(0,d.oo)("name").maxLength,this.maxLengthOperationPrivilegeId=(0,d.oo)("searchId").maxLength,this.maxLengthOperationDesc=(0,d.oo)("desc").maxLength,this.operationTypeList=e.operationTypeList.filter((({pk:{propertyKey:t}})=>"S"!==t));const t=await new d.p0("/api/entity/privilege/search").read({object:{privilegeType:"b"},limit:null,next:null,reverseOrder:!1});this.privilegeList=t.data.object},methods:{searchGroup(){const t=this,e=a(96434).Z.methods.openGroupModal;e.bind(this)({type:"groupModal",vModel:"operationGroup",label:this.$t("head.group"),placeholder:this.$t("head.searchData"),modalInfo:{title:this.$t("head.group"),search:{list:[{type:"text",vModel:"operationGroup",label:this.$t("head.group"),placeholder:this.$t("head.searchData")}]},grid:{url:"/api/entity/operation/group/search",options:{treeColumnOptions:{name:"operationGroup"},data:[],scrollY:!0,minBodyHeight:"260",bodyHeight:"300",columns:[{hidden:!0,name:"key"},{header:this.$t("head.group"),name:"operationGroup"}]}},rowClickedCallback:t=>t.key}},[{setData:e=>t.operationGroup=e}])},input(t){let e="";"operationId"===t||"privilegeId"===t?e="searchId":"operationName"===t||"operationGroup"===t?e="name":"operationDesc"===t&&(e="desc"),this[t]=this[t].replace(new RegExp((0,d.oo)(e).regExp,"g"),"")},search(){i.$refs.button[0].search("search")}}}],buttonList:[{template:`<div>\n\t\t\t\t\t\t\t\t\t\t<button type="button" class="btn" style="position: absolute; left: 25px;" @click="search('clear')"> \n\t\t\t\t\t\t\t\t\t\t\t${this.$t("head.initialize")} \n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t<button type="button" class="btn btn-primary" @click="search('search')"> ${this.$t("head.search")} </button>\n\t\t\t\t\t\t\t\t\t</div>`,methods:{async search(a){"clear"===a?(e.searchObj.operationId="",e.searchObj.operationName="",e.searchObj.operationGroup="",e.searchObj.operationType=" ",e.searchObj.privilegeId="",e.searchObj.operationDesc=""):(e.searchObj.operationId=i.$refs.content[0].operationId,e.searchObj.operationName=i.$refs.content[0].operationName,e.searchObj.operationGroup=i.$refs.content[0].operationGroup,e.searchObj.operationType=i.$refs.content[0].operationType,e.searchObj.privilegeId=i.$refs.content[0].privilegeId,e.searchObj.operationDesc=i.$refs.content[0].operationDesc),t({topologyList:r()(await e.initOperationList()),isValidate:!0,errorMessage:"",cmd:a}),document.querySelector("#workspace .list-grid #operationCount")&&(document.querySelector("#workspace .list-grid #operationCount").innerText=this.$t("head.totalCount",{0:e.operationList.length})),e.initSearchToolTip(),i.hideModal()}}}]})},initActivityControlSearchFunc(t){const e=this,a=this.$openModal({title:this.$t("head.search"),modalWidth:"500px",modalHeight:"300px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t\t       <div class="row frm-row">\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-lg-12">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\'head.id\') }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="letterLength"> ({{ activityId.length }}/{{ maxLengthActivityId }}) </span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="detail-content-regExp">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model="activityId"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@keyup.enter="search"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:maxlength="maxLengthActivityId"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@input="input(\'activityId\')"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="regExp-text view-disabled"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\'head.name\') }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="letterLength"> ({{ activityName.length }}/{{ maxLengthActivityName }}) </span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="detail-content-regExp">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model="activityName"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@keyup.enter="search"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:maxlength="maxLengthActivityName"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@input="input(\'activityName\')"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="regExp-text view-disabled"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t\t\t  </div>',data(){return{activityId:"",activityName:"",maxLengthActivityId:null,maxLengthActivityName:null}},created(){this.activityId=e.activityControlSearchObj.activityId,this.activityName=e.activityControlSearchObj.activityName,this.maxLengthActivityId=(0,d.oo)("searchId").maxLength,this.maxLengthActivityName=(0,d.oo)("name").maxLength},methods:{input(t){let e="";"activityId"===t?e="searchId":"activityName"===t&&(e="name"),this[t]=this[t].replace(new RegExp((0,d.oo)(e).regExp,"g"),"")},search(){a.$refs.button[0].search("search")}}}],buttonList:[{template:`<div>\n\t\t\t\t\t\t\t\t\t\t<button type="button" class="btn" style="position: absolute; left: 25px;" @click="search('clear')"> \n\t\t\t\t\t\t\t\t\t\t\t${this.$t("head.initialize")} \n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t<button type="button" class="btn btn-primary" @click="search('search')"> ${this.$t("head.search")} </button>\n\t\t\t\t\t\t\t\t\t</div>`,methods:{async search(i){"clear"===i?(e.activityControlSearchObj.activityId="",e.activityControlSearchObj.activityName=""):(e.activityControlSearchObj.activityId=a.$refs.content[0].activityId,e.activityControlSearchObj.activityName=a.$refs.content[0].activityName);const s=await new d.p0("/api/entity/activity/search").read({object:{activityId:e.activityControlSearchObj.activityId,activityName:e.activityControlSearchObj.activityName},limit:null,next:null,reverseOrder:!1});t({itemList:e.initControlActivityItemList(s.data.object).itemList.filter((({id:t})=>"Start_Activity"!==t)),isValidate:!0,errorMessage:"",cmd:i}),a.hideModal()}}}]})},initActivityItemSearchFunc(t){const e=this,i=this.$openModal({title:this.$t("head.search"),modalWidth:"500px",modalHeight:"500px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t\t       <div class="row frm-row">\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-lg-12">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\'head.id\') }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="letterLength"> ({{ activityId.length }}/{{ maxLengthActivityId }}) </span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="detail-content-regExp">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model="activityId"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@keyup.enter="search"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:maxlength="maxLengthActivityId"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@input="input(\'activityId\')"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="regExp-text view-disabled"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\'head.name\') }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="letterLength"> ({{ activityName.length }}/{{ maxLengthActivityName }}) </span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="detail-content-regExp">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model="activityName"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@keyup.enter="search"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:maxlength="maxLengthActivityName"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@input="input(\'activityName\')"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="regExp-text view-disabled"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\'head.group\') }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="letterLength"> ({{ activityGroup.length }}/{{ maxLengthActivityGroup }}) </span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="input-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model="activityGroup"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@keyup.enter="search"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:maxlength="maxLengthActivityGroup"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@input="input(\'activityGroup\')"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="form-control view-disabled"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button :title="$t(\'head.search\')" @click="searchGroup" class="btn btn-icon search-linkBtn"><i class="icon-srch"></i></button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\'igate.javaProject\') }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="letterLength"> ({{ activityProject.length }}/{{ maxLengthActivityProject }}) </span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="input-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@keyup.enter="search"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model="activityProject"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@input="input(\'activityProject\')"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:maxlength="maxLengthActivityProject"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="form-control view-disabled"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button :title="$t(\'head.search\')" @click="searchProject" class="btn btn-icon search-linkBtn"><i class="icon-srch"></i></button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\'common.desc\') }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="letterLength"> ({{ activityDesc.length }}/{{ maxLengthActivityDesc }}) </span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="detail-content-regExp">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model="activityDesc"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@keyup.enter="search"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:maxlength="maxLengthActivityDesc"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@input="input(\'activityDesc\')"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="regExp-text view-disabled"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t\t\t  </div>',data(){return{activityId:"",activityName:"",activityGroup:"",activityProject:"",activityDesc:"",maxLengthActivityId:null,maxLengthActivityName:null,maxLengthActivityGroup:null,maxLengthActivityProject:null,maxLengthActivityDesc:null}},created(){this.activityId=e.activityItemSearchObj.activityId,this.activityName=e.activityItemSearchObj.activityName,this.activityGroup=e.activityItemSearchObj.activityGroup,this.activityProject=e.activityItemSearchObj.activityProject,this.activityDesc=e.activityItemSearchObj.activityDesc,this.maxLengthActivityId=(0,d.oo)("searchId").maxLength,this.maxLengthActivityName=(0,d.oo)("name").maxLength,this.maxLengthActivityGroup=(0,d.oo)("name").maxLength,this.maxLengthActivityProject=(0,d.oo)("searchId").maxLength,this.maxLengthActivityDesc=(0,d.oo)("desc").maxLength},methods:{input(t){let e="";"activityId"===t||"activityProject"===t?e="searchId":"activityName"===t||"activityGroup"===t?e="name":"activityDesc"===t&&(e="desc"),this[t]=this[t].replace(new RegExp((0,d.oo)(e).regExp,"g"),"")},search(){i.$refs.button[0].search("search")},searchGroup(){const t=this,e=a(96434).Z.methods.openGroupModal;e.bind(this)({type:"groupModal",vModel:"activityGroup",label:this.$t("head.group"),placeholder:this.$t("head.searchData"),modalInfo:{title:this.$t("head.group"),search:{list:[{type:"text",vModel:"activityGroup",label:this.$t("head.group"),placeholder:this.$t("head.searchData")}]},grid:{url:"/api/entity/activity/group/search",options:{treeColumnOptions:{name:"activityGroup"},data:[],scrollY:!0,minBodyHeight:"260",bodyHeight:"300",columns:[{hidden:!0,name:"key"},{header:this.$t("head.group"),name:"activityGroup"}]}},rowClickedCallback:t=>t.key}},[{setData:e=>t.activityGroup=e}])},searchProject(){const t=this,e=this.$openModal({title:this.$t("igate.javaProject"),contentList:[{template:'<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Search :list="searchList" @search="search" ref="search"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Main\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:buttonList="buttonList"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:gridInfo="gridInfo"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:gridSearchObj="gridSearchObj"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:gridType="\'modalBasic\'"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:viewer="true"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@rowClicked="rowClicked"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@initialize="initialize"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:[{type:"text",vModel:"projectId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0}],gridInfo:{url:"/api/entity/javaProject/search",totalCntUrl:"/api/entity/javaProject/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"projectId"},{header:this.$t("head.name"),name:"projectName"},{header:this.$t("head.description"),name:"projectDesc"}]}},gridSearchObj:{}}},methods:{search(t){this.gridSearchObj=t},async rowClicked(a){t.activityProject=a.projectId,e.hideModal()},initialize(){this.$refs.search.initialize()}}}]})}}}],buttonList:[{template:`<div>\n\t\t\t\t\t\t\t\t\t\t<button type="button" class="btn" style="position: absolute; left: 25px;" @click="search('clear')"> \n\t\t\t\t\t\t\t\t\t\t\t${this.$t("head.initialize")} \n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t<button type="button" class="btn btn-primary" @click="search('search')"> ${this.$t("head.search")} </button>\n\t\t\t\t\t\t\t\t\t</div>`,methods:{async search(a){"clear"===a?(e.activityItemSearchObj.activityId="",e.activityItemSearchObj.activityName="",e.activityItemSearchObj.activityGroup="",e.activityItemSearchObj.activityProject="",e.activityItemSearchObj.activityDesc=""):(e.activityItemSearchObj.activityId=i.$refs.content[0].activityId,e.activityItemSearchObj.activityName=i.$refs.content[0].activityName,e.activityItemSearchObj.activityGroup=i.$refs.content[0].activityGroup,e.activityItemSearchObj.activityProject=i.$refs.content[0].activityProject,e.activityItemSearchObj.activityDesc=i.$refs.content[0].activityDesc);const s=await new d.p0("/api/entity/activity/search").read({object:{activityId:e.activityItemSearchObj.activityId,activityName:e.activityItemSearchObj.activityName,activityGroup:e.activityItemSearchObj.activityGroup,activityProject:e.activityItemSearchObj.activityProject,activityDesc:e.activityItemSearchObj.activityDesc},limit:null,next:null,reverseOrder:!1});t({itemList:e.initActivityItemList(s.data.object.filter((({activityId:t})=>"MappingServiceHeader"!==t&&"MappingServiceResponse"!==t))).itemList,isValidate:!0,errorMessage:"",cmd:a}),i.hideModal()}}}]})},initQuerySearchFunc(t){const e=this,i=this.$openModal({title:this.$t("head.search"),modalWidth:"500px",modalHeight:"580px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t\t       <div class="row frm-row">\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-lg-12">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\'head.id\') }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="letterLength"> ({{ queryId.length }}/{{ maxLengthQueryId }}) </span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="detail-content-regExp">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model="queryId"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@keyup.enter="search"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:maxlength="maxLengthQueryId"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@input="input(\'queryId\')"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="regExp-text view-disabled"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\'head.name\') }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="letterLength"> ({{ queryName.length }}/{{ maxLengthQueryName }}) </span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="detail-content-regExp">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model="queryName"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@keyup.enter="search"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:maxlength="maxLengthQueryName"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@input="input(\'queryName\')"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="regExp-text view-disabled"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\'head.group\') }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="letterLength"> ({{ queryGroup.length }}/{{ maxLengthQueryGroup }}) </span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="input-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model="queryGroup"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@keyup.enter="search"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:maxlength="maxLengthQueryGroup"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@input="input(\'queryGroup\')"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="form-control view-disabled"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button :title="$t(\'head.search\')" @click="searchGroup" class="btn btn-icon search-linkBtn"><i class="icon-srch"></i></button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\'common.type\') }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="detail-content-common">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select v-model="queryType" class="form-control view-disabled">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=" " v-text="$t(\'head.all\')"></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-for="(queryType, idx) in queryTypeList"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:key="idx"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:value="queryType.pk.propertyKey"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-text="queryType.propertyValue"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\'common.privilege\') }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="letterLength"> ({{ privilegeId.length }}/{{ maxLengthQueryPrivilegeId }}) </span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="detail-content-regExp">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span style="line-height: 0.9rem">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@keyup.enter="search"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model="privilegeId"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@input="input(\'privilegeId\')"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlist="privilegeList"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:maxlength="maxLengthQueryPrivilegeId"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="regExp-dataList view-disabled"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<datalist id="privilegeList">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option v-for="(privilege, idx) in privilegeList" :value="privilege.privilegeId" v-text="privilege.privilegeId" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</datalist>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\'common.desc\') }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="letterLength"> ({{ queryDesc.length }}/{{ maxLengthQueryDesc }}) </span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="detail-content-regExp">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model="queryDesc"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@keyup.enter="search"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:maxlength="maxLengthQueryDesc"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@input="input(\'queryDesc\')"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="regExp-text view-disabled"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t\t\t  </div>',data(){return{queryId:"",queryName:"",queryGroup:"",queryType:"",queryTypeList:[],privilegeId:"",privilegeList:[],queryDesc:"",maxLengthQueryId:null,maxLengthQueryName:null,maxLengthQueryGroup:null,maxLengthQueryPrivilegeId:null,maxLengthQueryDesc:null}},async created(){this.queryId=e.querySearchObj.queryId,this.queryName=e.querySearchObj.queryName,this.queryGroup=e.querySearchObj.queryGroup,this.queryType=e.querySearchObj.queryType,this.privilegeId=e.querySearchObj.privilegeId,this.queryDesc=e.querySearchObj.queryDesc,this.maxLengthQueryId=(0,d.oo)("searchId").maxLength,this.maxLengthQueryName=(0,d.oo)("name").maxLength,this.maxLengthQueryGroup=(0,d.oo)("name").maxLength,this.maxLengthQueryPrivilegeId=(0,d.oo)("searchId").maxLength,this.maxLengthQueryDesc=(0,d.oo)("desc").maxLength;let t=await new d.p0("/api/page/properties").read({pk:{propertyId:"List.Query.QueryType"},orderByKey:!0});this.queryTypeList=t.data.object,t=await new d.p0("/api/entity/privilege/search").read({object:{privilegeType:"b"},limit:null,next:null,reverseOrder:!1}),this.privilegeList=t.data.object},methods:{input(t){let e="";e="queryId"===t||"privilegeId"===t?"searchId":"name",this[t]=this[t].replace(new RegExp((0,d.oo)(e).regExp,"g"),"")},search(){i.$refs.button[0].search("search")},searchGroup(){const t=this,e=a(96434).Z.methods.openGroupModal;e.bind(this)({type:"groupModal",vModel:"queryGroup",label:this.$t("head.group"),placeholder:this.$t("head.searchData"),modalInfo:{title:this.$t("head.group"),search:{list:[{type:"text",vModel:"queryGroup",label:this.$t("head.group"),placeholder:this.$t("head.searchData")}]},grid:{url:"/api/entity/query/group/search",options:{treeColumnOptions:{name:"queryGroup"},data:[],scrollY:!0,minBodyHeight:"260",bodyHeight:"300",columns:[{hidden:!0,name:"key"},{header:this.$t("head.group"),name:"queryGroup"}]}},rowClickedCallback:t=>t.key}},[{setData:e=>t.queryGroup=e}])}}}],buttonList:[{template:`<div>\n\t\t\t\t\t\t\t\t\t\t<button type="button" class="btn" style="position: absolute; left: 25px;" @click="search('clear')"> \n\t\t\t\t\t\t\t\t\t\t\t${this.$t("head.initialize")} \n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t<button type="button" class="btn btn-primary" @click="search('search')"> ${this.$t("head.search")} </button>\n\t\t\t\t\t\t\t\t\t</div>`,methods:{async search(a){"clear"===a?(e.querySearchObj.queryId="",e.querySearchObj.queryName="",e.querySearchObj.queryGroup="",e.querySearchObj.queryType="",e.querySearchObj.privilegeId="",e.querySearchObj.queryDesc=""):(e.querySearchObj.queryId=i.$refs.content[0].queryId,e.querySearchObj.queryName=i.$refs.content[0].queryName,e.querySearchObj.queryGroup=i.$refs.content[0].queryGroup,e.querySearchObj.queryType=i.$refs.content[0].queryType,e.querySearchObj.privilegeId=i.$refs.content[0].privilegeId,e.querySearchObj.queryDesc=i.$refs.content[0].queryDesc);const s=await new d.p0("/api/entity/query/search").read({object:{queryId:e.querySearchObj.queryId,queryName:e.querySearchObj.queryName,queryGroup:e.querySearchObj.queryGroup,queryType:e.querySearchObj.queryType,privilegeId:e.querySearchObj.privilegeId,queryDesc:e.querySearchObj.queryDesc},limit:null,next:null,reverseOrder:!1});t({itemList:e.setItemList("query",s.data.object,(t=>({id:`${t.queryId}_Query`,name:`${(0,d.Xv)(t.queryId)} ${t.queryName?`- ${(0,d.Xv)(t.queryName)}`:""}`,type:"node",labelKey:"basic.desc",iconUrl:(0,d.u5)("/img/menu/query.png"),detail:(e,a,i)=>{this.initNodeEventBind({evt:i,configFunc:()=>{this.openMappingModal({type:"query",item:t,info:e,callBackFunc:a})},basicInfo:{info:e,itemId:t.queryId,type:"query",callBackFunc:a}})},isViewIndex:!0}))).list,isValidate:!0,errorMessage:"",cmd:a}),i.hideModal()}}}]})},initUOPSearchFunc(t){const e=this,a=this.$openModal({title:this.$t("head.search"),modalWidth:"500px",modalHeight:"300px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t\t       <div class="row frm-row">\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-lg-12">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\'head.id\') }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="letterLength"> ({{ operationId.length }}/{{ maxLengthOperationId }}) </span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="detail-content-regExp">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model="operationId"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@keyup.enter="search"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:maxlength="maxLengthOperationId"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@input="input(\'operationId\')"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="regExp-text view-disabled"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\'head.name\') }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="letterLength"> ({{ operationName.length }}/{{ maxLengthOperationName }}) </span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="detail-content-regExp">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model="operationName"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@keyup.enter="search"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:maxlength="maxLengthOperationName"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@input="input(\'operationName\')"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="regExp-text view-disabled"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t\t\t  </div>',data(){return{operationId:"",operationName:"",maxLengthOperationId:null,maxLengthOperationName:null}},created(){this.operationId=e.uopSearchObj.operationId,this.operationName=e.uopSearchObj.operationName,this.maxLengthOperationId=(0,d.oo)("searchId").maxLength,this.maxLengthOperationName=(0,d.oo)("name").maxLength},methods:{input(t){let e="";"operationId"===t?e="searchId":"operationName"===t&&(e="name"),this[t]=this[t].replace(new RegExp((0,d.oo)(e).regExp,"g"),"")},search(){a.$refs.button[0].search("search")}}}],buttonList:[{template:`<div>\n\t\t\t\t\t\t\t\t\t\t<button type="button" class="btn" style="position: absolute; left: 25px;" @click="search('clear')"> \n\t\t\t\t\t\t\t\t\t\t\t${this.$t("head.initialize")} \n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t<button type="button" class="btn btn-primary" @click="search('search')"> ${this.$t("head.search")} </button>\n\t\t\t\t\t\t\t\t\t</div>`,methods:{async search(i){"clear"===i?(e.uopSearchObj.operationId="",e.uopSearchObj.operationName=""):(e.uopSearchObj.operationId=a.$refs.content[0].operationId,e.uopSearchObj.operationName=a.$refs.content[0].operationName);const s=await new d.p0("/api/entity/operation/search").read({object:{operationType:"U",operationId:e.uopSearchObj.operationId,operationName:e.uopSearchObj.operationName},limit:null,next:null,reverseOrder:!1});t({itemList:e.setItemList("uop",s.data.object,(t=>({id:`${t.operationId}_UOP`,name:`${(0,d.Xv)(t.operationId)} ${t.operationName?`- ${(0,d.Xv)(t.operationName)}`:""}`,type:"node",labelKey:"basic.desc",iconUrl:(0,d.u5)("/img/operation/operation.png"),detail:(t,e,a)=>{const i=t.itemId.split("_"),s=i.pop(),n=i.join("_");this.initNodeEventBind({evt:a,configFunc:({Parameter:a,Variable:i})=>{this.openParameterModal({type:s,itemId:n,title:n,isOnlyModify:!0,info:{...t,Parameter:a,Variable:i},callBackFunc:e})},basicInfo:{info:t,itemId:n,type:s,callBackFunc:e}})},isViewIndex:!0}))).list,isValidate:!0,errorMessage:"",cmd:i}),a.hideModal()}}}]})},async initWorkFlowEditFunc(t,e,a,i){this.$startSpinner();let s=!1;if("g"===t){if(("add"===e||"modify"===e)&&1<a.afterInfo.name.split(".").length)return this.$alert({type:"warn",message:this.$t("igate.operation.valid.group")}),void this.$stopSpinner();if("add"===e)i({data:a.afterInfo.data,isValidate:!0});else if("modify"===e){const t=[...a.beforeInfo.parentGroupPath.map((({data:{basic:{viewName:t}}})=>t)),a.beforeInfo.name].join("."),e=[...a.afterInfo.parentGroupPath.map((({data:{basic:{viewName:t}}})=>t)),a.afterInfo.name].join("."),n=[];this.operationList.forEach((a=>{const i=a.operationGroup;if(i!==t&&!i.startsWith(`${t}.`))return;const s=i===t?i.replace(t,e):i.replace(`${t}.`,`${e}.`);n.push(new Promise((t=>{(async()=>{const e=await this.operationReq.read({...a});e.data.object.operationGroup=s,await this.operationReq.update({...e.data.object}),t()})()})))})),await Promise.all(n),i({data:a.afterInfo.data,isValidate:!0}),s=!0}else if("remove"===e){const t=[...a.beforeInfo.parentGroupPath.map((({data:{basic:{viewName:t}}})=>t)),a.beforeInfo.name].join("."),e=[];this.operationList.forEach((a=>{const i=a.operationGroup;(i===t||i.startsWith(`${t}.`))&&e.push(new Promise((t=>{(async()=>{await this.operationReq.delete({...a}),t()})()})))})),await Promise.all(e),i({data:null,isValidate:!0}),s=!0}}else{const{res:t,nodeList:n,edgeList:o}=await this.topologyEditFunc(e,a),r="ok"===t.data.result,l=t.data.error?t.data.error[0].message:t.data.message?t.data.message:this.$t("head.fail.notice");if(r){let t=null;"add"===e||"clone"===e?(t=a.afterInfo.data,t.topologyInfo={nodeList:n,edgeList:o}):"modify"===e&&(t=a.afterInfo.data),i({data:t,isValidate:r}),s=!0}else i({isValidate:r,errorMessage:l})}if(s){const t=await new d.p0("/api/entity/operation/search").read({object:this.searchObj,limit:null,next:null,reverseOrder:!1});this.operationList=t.data.object,document.querySelector("#workspace .list-grid #operationCount")&&(document.querySelector("#workspace .list-grid #operationCount").innerText=this.$t("head.totalCount",{0:this.operationList.length}))}this.$stopSpinner()},initTopologyAddItemNameFormatter(t){let e="";const a=t.id.split("_"),i=a.pop(),s=a.join("_");if("Activity"===i||"Response"===i){const{activityId:t,activityName:a}=this.activityList.find((({activityId:t})=>t===s));e="Start"===s?s:a||t}else if("Query"===i){const{queryId:t,queryName:a}=this.queryList.find((({queryId:t})=>t===s));e=a||t}else if("UOP"===i){const{operationId:t,operationName:a}=this.userOperationList.find((({operationId:t})=>t===s));e=a||t}return e},initSearchToolTip(){let t="";for(const a in this.searchObj){let e="";if("operationId"===a?e=this.$t("head.id"):"operationName"===a?e=this.$t("head.name"):"operationGroup"===a?e=this.$t("head.group"):"operationType"===a?e=this.$t("common.type"):"privilegeId"===a?e=this.$t("common.privilege"):"operationDesc"===a&&(e=this.$t("common.desc")),"undefined"!==typeof this.searchObj[a]&&0<this.searchObj[a].trim().length){let i=null;i="operationType"===a?this.operationTypeList.find((({pk:{propertyKey:t}})=>t===this.searchObj[a])).propertyValue:(0,d.Xv)(this.searchObj[a]),t+=`${e}: ${i} \n`}}const e=document.querySelector("#workspace .list-grid .icon-search");e&&(t&&(e.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iIzAwQTlGRiIgY2xhc3M9ImJpIGJpLXNlYXJjaCIgdmlld0JveD0iMCAwIDE2IDE2Ij4NCiAgPHBhdGggZD0iTTExLjc0MiAxMC4zNDRhNi41IDYuNSAwIDEgMC0xLjM5NyAxLjM5OGgtLjAwMXEuMDQ0LjA2LjA5OC4xMTVsMy44NSAzLjg1YTEgMSAwIDAgMCAxLjQxNS0xLjQxNGwtMy44NS0zLjg1YTEgMSAwIDAgMC0uMTE1LS4xek0xMiA2LjVhNS41IDUuNSAwIDEgMS0xMSAwIDUuNSA1LjUgMCAwIDEgMTEgMCIvPg0KPC9zdmc+"),e.setAttribute("title",t))},async loadTopologyDataFunc({data:t},e){document.querySelectorAll("body > .modal").forEach((t=>{const e=t.querySelector("#migrationModal");e&&0!==e.length||!t.querySelector(".icon-close")||t.querySelector(".icon-close").click()})),this.selectedOperationId=t.basic.operationId;const a=[],i=[],{data:{object:s}}=await this.operationReq.read({operationId:t.basic.operationId});this.operationInfo=r()(s);const{Operation:n}=(0,c.AU)(s.operationRuleStr);this.createTopology(n,a,i,null);const o=[],l=[];if(n.Variables&&n.Variables.Variable){const t=Array.isArray(n.Variables.Variable)?n.Variables.Variable:[n.Variables.Variable];t.forEach((t=>{const e={};for(const a in t)e[a.replace("@","")]=t[a];delete e.isParameter,"true"===t["@isParameter"]?o.push(e):(e.data=(0,c.gu)(e),l.push(e))}))}s.referenceMappings&&(this.referenceMappings=r()(s.referenceMappings)),sessionStorage.setItem("selectedOperationId",t.basic.operationId),e({topologyInfo:{nodeList:a,edgeList:i},Parameter:o,Variable:l})},async setTopologyLock(t,e){const a=await new d.p0("/api/entity/operation/lock")["lock"===t.lockStatus?"delete":"update"]({operationId:t.data.basic.operationId},!0,(()=>{}));e("ok"===a.data.result,"ok"===a.data.result?null:a.data.error[0].message)},onContextmenu(){document.body.querySelector(".context-menu")&&document.body.querySelector("#nodeContextMenu")&&document.body.removeChild(document.body.querySelector("#nodeContextMenu"))},openMigrationModal(){const t=this;this.$openModal({title:this.$t("head.migration"),fullscreen:!0,contentList:[{template:`<div id="migrationModal" style="height: 100%;">\n\t\t\t\t\t\t\t\t       <ul class="nav nav-tabs flex-shrink-0">\n\t\t\t\t\t\t\t\t\t       <li class="nav-item"><a class="nav-link active" href="#download" data-toggle="tab">{{ $t("head.download") }}</a></li>\n\t\t\t\t\t\t\t\t\t       <li class="nav-item"><a class="nav-link" href="#migration" data-toggle="tab">{{ $t("head.migration") }}</a></li>\n\t\t\t\t\t\t\t\t\t   </ul>\n\t\t\t\t\t\t\t\t\t   <div class="modal-body tab-content py-4" style="padding-top: 1.0rem !important;">\t\n\t\t\t\t\t\t\t\t\t\t\t<div id="download" class="tab-pane active">\n\t\t\t\t\t\t\t\t\t\t\t\t<Search :list="searchList" @search="search" ref="search"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<Main\n\t\t\t\t\t\t\t\t\t\t\t\t\t:buttonList="buttonList"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:gridInfo="gridInfo"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:gridSearchObj="gridSearchObj"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:gridType="'modalBasic'"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:viewer="true"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:editor="true"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:gridResizeFunc="gridResizeFunc"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@initialize="initialize"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@fileMake="fileMake"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div id="migration" class="tab-pane">\n\t\t\t\t\t\t\t\t\t\t\t   <div class="row frm-row" style="height: 100%; overflow-y: auto;">\n\t\t\t\t\t\t\t\t\t\t\t\t   <div class="col-lg-12">\n\t\t\t\t\t\t\t\t\t\t\t\t   \t   <div class="ml-auto form-inline m-full">\n\t\t\t\t\t\t\t\t\t\t\t\t\t       <button type="button" class="btn-icon" @click="fileSelect" title="${this.$t("head.insert")}">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       <i class="icon-plus-circle"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t   </button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t   <button type="button" class="btn-icon" @click="fileRemove" title="${this.$t("head.delete")}">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       <i class="icon-minus-circle"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t   </button>\t\t\t\t\t\t\t\t\t\t\t\t\t\t   \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t   <button type="button" class="btn-icon" @click="fileUpload" title="${this.$t("head.upload")}">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       <i class="icon-result"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t   </button>\t\t\t\t\t\t\t\t\t\t\t\t\t\t   \n\t\t\t\t\t\t\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select multiple="multiple" v-model="selectedFileList" size="15" class="form-control" style="background: none;">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option v-for="(fileInfo, idx) in fileList" :key="idx" v-text="(idx + 1) + '. ' + fileInfo.operationId" :value="fileInfo.operationId"></option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group" style="margin-top: 10px">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">${this.$t("head.executionResult")}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<table class="table" style="line-height: 2;">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<colgroup>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<col width="5%" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<col width="30%" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<col width="10%" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<col width="55%" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</colgroup>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<thead style="text-align: center;">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th scope="col" style="border-right: 1px solid #99a0bb;">No.</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th scope="col" style="border-right: 1px solid #99a0bb;">${this.$t("head.id")}</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th scope="col" style="border-right: 1px solid #99a0bb;">${this.$t("head.status")}</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th scope="col">${this.$t("common.error.message")}</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-for="(resultInfo, idx) in resultMsgList" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:class="'fail' === resultInfo.type ? 'bg-danger' : ''" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:style="{ color: 'fail' === resultInfo.type ? 'white' : 'black', 'margin-bottom': '0px' }">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td style="text-align: center;">{{idx + 1}}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{{resultInfo.operationId}}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td style="text-align: center;">{{resultInfo.status}}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{{resultInfo.msg}}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t\t\t   </div>`,components:{Search:a(96434).Z,Main:a(54215).Z,TuiGrid:a(37856).Grid},data(){return{searchList:[],buttonList:[],gridInfo:{},gridSearchObj:{},gridResizeFunc:null,fileList:[],selectedFileList:[],resultMsgList:[]}},created(){this.gridResizeFunc=t=>{this.gridResize(t)},this.searchList=[{type:"text",vModel:"operationId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"operationName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"select",vModel:"operationType",label:this.$t("common.type"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Operation.OperationType"},orderByKey:!0},optionListName:"operationTypeList",optionFor:"option in operationTypeList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue",optionIf:"option.pk.propertyKey !== 'S'"}},{type:"text",vModel:"operationGroup",label:this.$t("head.group"),placeholder:this.$t("head.searchData")},{type:"dataList",vModel:"privilegeId",label:this.$t("common.privilege"),placeholder:this.$t("head.searchData"),regExpType:"searchId",optionInfo:{url:"/api/entity/privilege/search",params:{object:{privilegeType:"b"},limit:null,next:null,reverseOrder:!1},optionListName:"privilegeTypeList",optionFor:"option in privilegeTypeList",optionValue:"option.privilegeId",optionText:"option.privilegeId"}},{type:"text",vModel:"operationDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],this.buttonList=[{id:"initialize",isUse:!0},{id:"fileMake",isUse:!0}],this.gridInfo={url:"/api/entity/operation/search",totalCntUrl:"/api/entity/operation/count",paging:{isUse:!0,side:"server"},options:{rowHeaders:[{type:"checkbox",header:" "}],columns:[{header:this.$t("head.id"),name:"operationId",width:"20%"},{header:this.$t("head.name"),name:"operationName",width:"20%"},{header:this.$t("common.type"),name:"operationType",width:"10%",align:"center",formatter:({value:t})=>"A"===t?"Adapter":"I"===t?"Interface":"J"===t?"Job":"User"},{header:this.$t("head.group"),name:"operationGroup",width:"20%"},{name:"privilegeId",header:this.$t("common.privilege"),width:"10%"},{header:this.$t("head.description"),name:"operationDesc",width:"20%"}]}}},methods:{search(t){this.gridSearchObj=t},initialize(){this.$refs.search.initialize()},fileMake(e){const a=e.gridObj.invoke("getCheckedRows");if(0===a.length)return void this.$alert({type:"warn",backdropMode:"full",message:this.$t("common.no.target.selected")});a.forEach((async({operationId:e})=>{const{data:{object:a}}=await t.operationReq.read({operationId:e}),s=new DOMParser,n=s.parseFromString(a.operationRuleStr,"text/xml"),o=n.querySelector("Operation");o.setAttribute("id",a.operationId),o.setAttribute("type",a.operationType),o.setAttribute("name",a.operationName),o.setAttribute("operationGroup",a.operationGroup),o.setAttribute("privilegeId",a.privilegeId),o.setAttribute("privateYn",a.privateYn),o.setAttribute("operationLogLevel",a.operationLogLevel),o.setAttribute("xaTransactionAttribute",a.xaTransactionAttribute),i(e,(new XMLSerializer).serializeToString(n))}));const i=(t,e)=>{const a=new Blob([e],{type:"application/xml"}),i=URL.createObjectURL(a),s=document.createElement("a");s.id=t,s.href=i,s.download=t,document.body.appendChild(s),s.click(),setTimeout((()=>{document.body.removeChild(s),URL.revokeObjectURL(i)}),0)}},fileSelect(){const t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("multiple","multiple"),t.setAttribute("accept","text/xml"),t.style.display="none",t.addEventListener("change",(t=>{for(const e of t.target.files){const t=e.name;if("xml"!=t.substring(t.length-3))continue;const a=new FileReader;a.readAsText(e,"utf-8"),a.onload=()=>{const t=new DOMParser,e=t.parseFromString(a.result,"text/xml"),i=e.querySelector("Operation");this.fileList=this.fileList.filter((({operationId:t})=>t!==i.getAttribute("id")));const s={operationId:i.getAttribute("id"),operationType:i.getAttribute("type"),operationName:i.getAttribute("name"),operationGroup:i.getAttribute("operationGroup"),privilegeId:i.getAttribute("privilegeId"),privateYn:i.getAttribute("privateYn"),operationLogLevel:i.getAttribute("operationLogLevel"),xaTransactionAttribute:i.getAttribute("xaTransactionAttribute"),operationRuleStr:null};i.removeAttribute("id"),i.removeAttribute("type"),i.removeAttribute("name"),i.removeAttribute("operationGroup"),i.removeAttribute("privilegeId"),i.removeAttribute("privateYn"),i.removeAttribute("operationLogLevel"),i.removeAttribute("xaTransactionAttribute"),s.operationRuleStr=(new XMLSerializer).serializeToString(e),this.fileList.push(s)}}})),t.click()},fileRemove(){0!==this.selectedFileList.length?this.fileList=this.fileList.filter((({operationId:t})=>!this.selectedFileList.find((e=>e===t)))):this.$alert({type:"warn",backdropMode:"full",message:this.$t("common.no.target.selected")})},async fileUpload(){if(0===this.fileList.length)return void this.$alert({type:"warn",message:this.$t("head.no.data.warn")});this.$startSpinner();let e=[],a=[];this.fileList.forEach((async i=>{let s=await t.operationReq.read({operationId:i.operationId},!1,(()=>{}));if(s=await t.operationReq[s.data.object?"update":"create"]({...i,operationRuleDirty:!0},!1,(()=>{})),"ok"===s.data.result){const t={type:"success",status:this.$t("head.success"),msg:"-",operationId:i.operationId};e.push(t),this.resultMsgList.push(t)}else{const t={type:"fail",status:this.$t("head.fail"),msg:s.data.error[0].message,operationId:i.operationId};a.push(t),this.resultMsgList.push(t)}if(e.length+a.length===this.fileList.length){if(0<e.length){const{data:{basic:{operationId:a}}}=t.workFlow.getSelectedWorkFlowInfo(),i=e.find((t=>t.operationId===a));if(i){const{Operation:e}=(0,c.AU)(i.operationRuleStr),a=[],s=[];t.createTopology(e,a,s,null),t.workFlow.setSelectedTopologyInfo({nodeList:a,edgeList:s})}t.workFlow.resetWorkFlowInfo(r()(await t.initOperationList()))}this.$stopSpinner()}}))},gridResize(t){t&&this.$nextTick((()=>{const e=this.$el.closest(".modal-body");if(!e)return;const a=getComputedStyle(e),i=(0,d.tJ)(a.getPropertyValue("padding-left")),s=(0,d.tJ)(a.getPropertyValue("padding-right")),n=(0,d.tJ)(a.getPropertyValue("padding-top")),o=(0,d.tJ)(a.getPropertyValue("padding-bottom")),r=e.clientWidth-2*i-2*s;t.invoke("setWidth",r);const l=e.querySelector(".ct-header").offsetHeight,c=e.querySelector(".sub-bar").offsetHeight,p=e.querySelector(".tui-grid-pagination"),h=getComputedStyle(p),u=(0,d.tJ)(h.getPropertyValue("margin-top")),m=(0,d.tJ)(h.getPropertyValue("margin-bottom")),g=e.querySelector(".nav-tabs").offsetHeight,f=p.offsetHeight,y=e.clientHeight-2*n-2*o-l-c-f-u-m-g-10;t.invoke("setHeight",y)}))}}}]})}}},g=m,f=a(43736),y=(0,f.Z)(g,i,s,!1,null,null,null),v=y.exports},58486:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return m}});a(57658);var i,s,n=a(66281),o=a.n(n),r=a(37662),l=a(91338),d=a(83186),c={name:"OperationService",props:{info:Object,serviceInfo:Object,serviceViewer:Boolean,serviceEditor:Boolean,editFunc:Function,mod:String},extends:d["default"],data(){return{serviceId:null,searchObj:{operationId:"",operationName:"",operationType:" ",privilegeId:"",operationDesc:""},isViewNewTabBtn:!1,isViewTotalCount:!1,isViewMigration:!1,operationInfo:{},serviceList:[],serviceSearchObj:{serviceId:"",serviceName:""}}},created(){this.viewer=this.serviceViewer,this.editor=this.serviceEditor,this.serviceId=this.serviceInfo.serviceId,this.operationInfo=o()(this.info);for(const t in this.searchObj)this.searchObj[t]=this.info[t]},methods:{initOperationList(){return this.selectedOperationId=null,this.setItemList("workflow",[this.operationInfo],(t=>{const e=this.userInfo.totalUserPrivileges.filter((({privilegeType:t})=>"b"===t)),a=e.find((({privilegeId:e})=>e===t.privilegeId));let i="disabled";return this.editor&&(i="undefined"===typeof this.serviceInfo.lockUserId?a?"unlock":"disabled":a&&(this.userInfo.userId===t.lockUserId||a.admin)?"lock":"disabled"),{id:(0,r.Fs)(),type:"t",lockStatus:i,data:{basic:{...t,viewName:`${t.operationId} ${t.operationName?`- ${t.operationName}`:""}`}}}}))._children},loadedWorkFlow(){document.querySelector("#workspace .list-grid").addEventListener("contextmenu",(t=>{setTimeout((()=>{const e=document.querySelector("#workFlowContextMenu");if(!e)return;let i=!0;if(t.target.querySelector("img")){const e=t.target.querySelector("img").src;e.endsWith("operation.png")&&(i=!1)}const s=e.querySelectorAll("li");if(s.forEach(((t,e)=>{e!==s.length-1&&t.parentNode.removeChild(t)})),i)return;const n=document.createElement("li");n.style="cursor: pointer; padding: 5px 10px; border-radius: 10px; background-color: rgb(255, 255, 255);";const d=document.createElement("span");d.innerText=`${this.editor?this.$t("igate.edit"):this.$t("head.detail")}`,n.appendChild(d),e.prepend(n),n.addEventListener("click",(()=>{const t=this,e=this.editor?"modify":"detail",i=this.$openModal({title:this.$t("igate.operation"),fullscreen:!0,contentList:[{template:'<OperationModal \n\t\t\t\t\t\t\t\t\t\t\t\t\tref="OperationModal" \n\t\t\t\t\t\t\t\t\t\t\t\t\t:mode="mode" \n\t\t\t\t\t\t\t\t\t\t\t\t\t:detailData="detailData" \n\t\t\t\t\t\t\t\t\t\t\t\t\t:isServiceOperation="true" \n\t\t\t\t\t\t\t\t\t\t\t\t\t:getOperationXml="getOperationXml"/>',components:{OperationModal:a(84953)["default"]},data(){return{mode:e,detailData:{basic:{},Parameter:[],Variable:[]}}},async created(){const{Operation:e}=(0,l.AU)(t.operationInfo.operationRuleStr),a=t.getVariables(e);t.operationInfo.operationRuleStr=await this.getOperationXml(a);{const{Operation:e}=(0,l.AU)(t.operationInfo.operationRuleStr),{Parameter:a,Variable:i}=t.getVariables(e);t.operationInfo.operationRuleStr=await this.getOperationXml({Parameter:a,Variable:i}),this.detailData={basic:t.operationInfo,Parameter:a,Variable:i}}},methods:{getOperationXml(e){return t.getOperationXml(e,`<Operation serviceId="${t.serviceId}"/>`)}}}],buttonList:"modify"===e?[{template:'<div>\n                                                                <button type="button" class="btn btn-primary" @click="setTarget">\n                                                                    <i class="icon-edit"></i>{{ $t(\'head.update\') }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>',data(){return{mode:e}},methods:{async setTarget(){const e=i.$refs.content[0].$children[0].getData(),{basic:a,Parameter:s}=e;let{Variable:n}=e;const{nodeList:r,edgeList:l}=t.workFlow.getSelectedTopologyInfo();n=t.setAutoCustomVariable(r,n);const d=new DOMParser,c=d.parseFromString(`<Operation serviceId="${t.serviceId}" />`,"text/xml");await t.convertJsonToXmlOperationRule(c,{nodeList:r,edgeList:l},{Variables:{Parameter:s,Variable:n}}),a.operationRuleStr='<?xml version="1.0" encoding="UTF-8"?>',a.operationRuleStr+=(new XMLSerializer).serializeToString(c),t.operationInfo={...t.operationInfo,...a,viewName:`${a.operationId} ${a.operationName?`- ${a.operationName}`:""}`};const p=t.workFlow.getSelectedWorkFlowInfo();p.data.basic=o()(t.operationInfo),t.workFlow.setSelectedWorkFlowInfo(p),i.hideModal()}}}]:"detail"===e?[{template:'<div>\n                                                                <button type="button" class="btn" @click="dump">{{ $t(\'head.dump\') }}</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>',methods:{async dump(){this.$startSpinner();const e=await new r.p0("/api/entity/operation/dump").read({operationId:t.selectedOperationId});this.$openModal({title:this.$t("head.dump"),fullscreen:!0,contentList:[{template:'<DetailResult :httpReqResult="httpReqResult" />',components:{DetailResult:a(25983).Z},data(){return{httpReqResult:{state:"ok"===e.data.result,content:"ok"===e.data.result?e.data.response:e.data.error}}}}]}),this.$stopSpinner()}}}]:null})}))}),0)}))},loadTopologyDataFunc({data:t},e){this.selectedOperationId=t.basic.operationId,this.operationInfo=o()(this.info);const a=[],i=[],{Operation:s}=(0,l.AU)(this.operationInfo.operationRuleStr);this.createTopology(s,a,i,null);const n=[],r=[];if(s.Variables&&s.Variables.Variable){const t=Array.isArray(s.Variables.Variable)?s.Variables.Variable:[s.Variables.Variable];t.forEach((t=>{const e={};for(const a in t)e[a.replace("@","")]=t[a];delete e.isParameter,"true"===t["@isParameter"]?n.push(e):(e.data=(0,l.gu)(e),r.push(e))}))}this.operationInfo.referenceMappings&&(this.referenceMappings=o()(this.operationInfo.referenceMappings)),e({topologyInfo:{nodeList:a,edgeList:i},Parameter:n,Variable:r})},initWorkFlowSearchFunc(){const t=this;this.$openModal({title:this.$t("head.search"),modalWidth:"500px",modalHeight:"520px",contentList:[{template:' <div>\n\t\t\t\t\t\t\t\t\t\t<div class="row frm-row">\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-lg-12">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{{ $t(\'head.id\') }}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="detail-content-common">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="text" v-model="operationId" class="form-control view-disabled" readonly="readonly"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{{ $t(\'head.name\') }}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="detail-content-common">\n                                                        <input type="text" v-model="operationName" class="form-control view-disabled" readonly="readonly"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span> {{ $t(\'common.type\') }} </span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="detail-content-common">\n                                                        <input type="text" v-model="operationType" class="form-control view-disabled" readonly="readonly"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{{ $t(\'common.privilege\') }}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="detail-content-common">\n                                                        <input type="text" v-model="privilegeId" class="form-control view-disabled" readonly="readonly"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{{ $t(\'common.desc\') }}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="detail-content-common">\n                                                        <input type="text" v-model="operationDesc" class="form-control view-disabled" readonly="readonly"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t',data(){return{operationId:"",operationName:"",operationType:" ",privilegeId:"",operationDesc:""}},async created(){this.operationId=t.searchObj.operationId,this.operationName=t.searchObj.operationName,this.operationType=t.operationTypeList.find((({pk:{propertyKey:t}})=>"S"===t)).propertyValue,this.privilegeId=t.searchObj.privilegeId,this.operationDesc=t.searchObj.operationDesc}}]})},async initItemTabList(){const t=await d["default"].methods.initItemTabList.bind(this)();return t[1]=this.initActivityItemList(this.activityList),t.push(await this.initServiceList()),t},async initServiceList(){const t=await new r.p0("/api/entity/service/search").read({object:{},limit:null,next:null,reverseOrder:!1});this.serviceList=t.data.object.filter((({serviceId:t})=>t!==this.serviceId));const e=this.setItemList("service",this.serviceList,(t=>({id:`${t.serviceId}_Service`,name:`${(0,r.Xv)(t.serviceId)} ${t.serviceName?`- ${(0,r.Xv)(t.serviceName)}`:""}`,type:"node",labelKey:"basic.desc",iconUrl:(0,r.u5)("/img/menu/service.png"),detail:(e,a,i)=>{this.initNodeEventBind({evt:i,configFunc:()=>{this.openMappingModal({type:"service",item:t,info:e,callBackFunc:a})},basicInfo:{info:e,itemId:t.serviceId,type:"service",callBackFunc:a},removeFunc:()=>{a(e.data,"remove")}})},isViewIndex:!0})));return{id:this.$t("igate.service"),name:this.$t("igate.service"),searchFunc:t=>{this.initServiceSearchFunc(t)},itemList:e.list}},initServiceSearchFunc(t){const e=this,a=this.$openModal({title:this.$t("head.search"),modalWidth:"500px",modalHeight:"300px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t\t       <div class="row frm-row">\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-lg-12">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\'head.id\') }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="letterLength"> ({{ serviceId.length }}/{{ maxLengthServiceId }}) </span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="detail-content-regExp">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model="serviceId"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@keyup.enter="search"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:maxlength="maxLengthServiceId"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@input="input(\'serviceId\')"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="regExp-text view-disabled"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="control-label">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\'head.name\') }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="letterLength"> ({{ serviceName.length }}/{{ maxLengthServiceName }}) </span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="detail-content-regExp">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model="serviceName"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@keyup.enter="search"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:maxlength="maxLengthServiceName"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@input="input(\'serviceName\')"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="regExp-text view-disabled"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t\t\t  </div>',data(){return{serviceId:"",serviceName:"",maxLengthServiceId:null,maxLengthServiceName:null}},created(){this.serviceId=e.serviceSearchObj.serviceId,this.serviceName=e.serviceSearchObj.serviceName,this.maxLengthServiceId=(0,r.oo)("searchId").maxLength,this.maxLengthServiceName=(0,r.oo)("name").maxLength},methods:{input(t){let e="";"serviceId"===t?e="searchId":"serviceName"===t&&(e="name"),this[t]=this[t].replace(new RegExp((0,r.oo)(e).regExp,"g"),"")},search(){a.$refs.button[0].search("search")}}}],buttonList:[{template:`<div>\n\t\t\t\t\t\t\t\t\t\t<button type="button" class="btn" style="position: absolute; left: 25px;" @click="search('clear')"> \n\t\t\t\t\t\t\t\t\t\t\t${this.$t("head.initialize")} \n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t<button type="button" class="btn btn-primary" @click="search('search')"> ${this.$t("head.search")} </button>\n\t\t\t\t\t\t\t\t\t</div>`,methods:{async search(i){"clear"===i?(e.serviceSearchObj.serviceId="",e.serviceSearchObj.serviceName=""):(e.serviceSearchObj.serviceId=a.$refs.content[0].serviceId,e.serviceSearchObj.serviceName=a.$refs.content[0].serviceName);const s=await new r.p0("/api/entity/service/search").read({object:{serviceId:e.serviceSearchObj.serviceId,serviceName:e.serviceSearchObj.serviceName},limit:null,next:null,reverseOrder:!1});t({itemList:e.setItemList("service",s.data.object,(t=>({id:`${t.serviceId}_Service`,name:`${(0,r.Xv)(t.serviceId)} ${t.serviceName?`- ${(0,r.Xv)(t.serviceName)}`:""}`,type:"node",labelKey:"basic.desc",iconUrl:(0,r.u5)("/img/menu/service.png"),detail:(e,a,i)=>{this.initNodeEventBind({evt:i,configFunc:()=>{this.openMappingModal({type:"service",item:t,info:e,callBackFunc:a})},basicInfo:{info:e,itemId:t.serviceId,type:"service",callBackFunc:a},removeFunc:()=>{a(e.data,"remove")}})},isViewIndex:!0}))).list,isValidate:!0,errorMessage:"",cmd:i}),a.hideModal()}}}]})},openMappingModal({type:t,item:e,info:i,callBackFunc:s}){if("query"===t){if(!e.inputRecordId)return void this.$alert({type:"warn",message:this.$t("igate.operation.target.model.warning",{0:this.$t("igate.query"),1:this.$t("igate.query.input.dataModel")})})}else if("service"===t){if(!e.requestRecordId)return void this.$alert({type:"warn",message:this.$t("igate.operation.target.model.warning",{0:this.$t("igate.service"),1:this.$t("igate.service.request.model")})})}else if("response"===t&&(!this.serviceInfo.requestRecordId||!this.serviceInfo.responseRecordId))return void this.$alert({type:"warn",message:this.$t("igate.operation.mapping.model.warning",{0:`${this.$t("igate.operation")}`,1:`${this.$t("igate.service")} ${this.$t("igate.service.request.model")}, ${this.$t("igate.service")}  ${this.$t("igate.service.response.model")}`})});const n=this,o=this.editor&&this.getLockEditor()?"modify":"detail",r=this.workFlow.getSelectedTopologyInfo(),d=r.nodeList.filter((({itemId:t})=>"Query"===t.split("_").pop()||"Service"===t.split("_").pop())),{Operation:c}=(0,l.AU)(this.operationInfo.operationRuleStr),p=this.getVariables(c),h=this.$openModal({title:this.$t("igate.mapping"),fullscreen:!0,contentList:[{template:'<DetailMappingModal \n\t\t\t\t\t\t\t\t\t\t:prefix="type" \n\t\t\t\t\t\t\t\t\t\t:item="item" \n\t\t\t\t\t\t\t\t\t\t:nodeInfo="info" \n\t\t\t\t\t\t\t\t\t\t:nodeList="nodeList"\n\t\t\t\t\t\t\t\t\t\t:serviceInfo="serviceInfo" \n\t\t\t\t\t\t\t\t\t\t:operationInfo="operationInfo"\n\t\t\t\t\t\t\t\t\t\t:Variables="Variables"\n\t\t\t\t\t\t\t\t\t\t:referenceMappings="referenceMappings" \n\t\t\t\t\t\t\t\t\t\t:mode="mode" \n\t\t\t\t\t\t\t\t\t\ttype="modal" \n\t\t\t\t\t\t\t\t\t\tstyle="height: 100%;" />',components:{DetailMappingModal:a(9844)["default"]},data(){return{type:t,mode:o,item:e,info:i,nodeList:d,referenceMappings:n.referenceMappings,serviceInfo:n.serviceInfo,operationInfo:n.operationInfo,Variables:p}}}],buttonList:this.editor&&this.getLockEditor()?[this.getNodeModalButtonComponent((()=>{const t=h.$refs.content[0].$children[0].getMapping(),a=h.$refs.content[0].$children[0].getData();t&&t.mappingObject&&(t.mappingObject.mappingType="I");const o=n.referenceMappings.findIndex((({pk:e})=>e.mappingId==t.pk.mappingId));-1===o?n.referenceMappings.push(t):n.referenceMappings[o]=t,s({basic:{desc:i.data.basic&&i.data.basic.desc?i.data.basic.desc:e.itemId},etc:{uniqueKey:i.data.etc&&i.data.etc.uniqueKey?i.data.etc.uniqueKey:null},dynamic:!1,Parameter:a},"modify"),h.hideModal()}))]:null})},initTopologyAddItemNameFormatter(t){if(t.id.endsWith("_Service")){const e=t.id.split("_");e.pop();const a=e.join("_"),{serviceId:i,serviceName:s}=this.serviceList.find((({serviceId:t})=>t===a));return s||i}return d["default"].methods.initTopologyAddItemNameFormatter.bind(this)(t)},async setTopologyLock(t,e){if("add"===this.mod)e(!0,null);else{const a=await new r.p0("/api/entity/operation/lock")["lock"===t.lockStatus?"delete":"update"]({operationId:t.data.basic.operationId},!0,(()=>{}));e("ok"===a.data.result,"ok"===a.data.result?null:a.data.error[0].message)}},async initWorkFlowEditFunc(){this.editFunc(await this.getData())},async getOperationDetailData(t){return"add"===this.mod?{}:await d["default"].methods.getOperationDetailData.bind(this)(t)},async getData(){const{Operation:t}=(0,l.AU)(this.operationInfo.operationRuleStr),e=[];let a=[];if(t.Variables&&t.Variables.Variable){const i=Array.isArray(t.Variables.Variable)?t.Variables.Variable:[t.Variables.Variable];i.forEach((t=>{const i={};for(const e in t)i[e.replace("@","")]=t[e];delete i.isParameter,"true"===t["@isParameter"]?e.push(i):(i.data=(0,l.gu)(i),a.push(i))}))}const{nodeList:i,edgeList:s}=this.workFlow.getSelectedTopologyInfo(),n=new DOMParser,r=n.parseFromString("<Operation/>","text/xml");return r.documentElement.setAttribute("serviceId",this.serviceId),a=this.setAutoCustomVariable(i,a),await this.convertJsonToXmlOperationRule(r,{nodeList:i,edgeList:s},{Variables:{Parameter:e,Variable:a}}),this.operationInfo.operationRuleStr='<?xml version="1.0" encoding="UTF-8"?>',this.operationInfo.operationRuleStr+=(new XMLSerializer).serializeToString(r),{...o()(this.operationInfo),referenceMappings:this.referenceMappings,operationRuleDirty:!0}}}},p=c,h=a(43736),u=(0,h.Z)(p,i,s,!1,null,null,null),m=u.exports},74172:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var i,s,n=a(30650),o=a(37662),r={name:"Property",extends:n.Z,created(){const t=(0,o.fc)(this.pageInfo.privilegeType);this.viewer=t.viewer,this.editor=t.editor},mounted(){localStorage.getItem("searchObj")?this.initNewTabSearchObj():this.$nextTick((()=>{this.search(this.$refs.search.getSearchObj())}))},data(){return{cudUrl:"/api/entity/property/object",viewer:null,editor:null,searchList:[{type:"dataList",vModel:"pk.propertyId",label:this.$t("head.id"),regExpType:"searchId",placeholder:this.$t("head.searchId"),optionInfo:{url:"/api/entity/property/group/search",params:{object:{},limit:null,next:null,reverseOrder:!1},optionListName:"propertyIdList",optionFor:"option in propertyIdList",optionValue:"option",optionText:"option"}},{type:"text",vModel:"pk.propertyKey",label:this.$t("apim.apimgr.propertyKey"),placeholder:this.$t("head.searchData")},{type:"text",vModel:"propertyValue",label:this.$t("common.property.value"),placeholder:this.$t("head.searchData")},{type:"select",refs:"cacheYn",vModel:"cacheYn",label:this.$t("common.property.cache"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Yn"},orderByKey:!0},optionListName:"cacheYnList",optionFor:"option in cacheYnList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"select",vModel:"requireYn",label:this.$t("common.property.require"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Yn"},orderByKey:!0},optionListName:"requireYnList",optionFor:"option in requireYnList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"text",vModel:"propertyDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"add",isUse:!0},{id:"initialize",isUse:!0},{id:"newTab",isUse:!0}],gridInfo:{url:"/api/entity/property/search",totalCntUrl:"/api/entity/property/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"pk.propertyId",width:"25%"},{header:this.$t("apim.apimgr.propertyKey"),name:"pk.propertyKey",width:"20%"},{header:this.$t("common.property.value"),name:"propertyValue",width:"20%",formatter:t=>{let e="";if("Y"===t.row.cipherYn&&"Y"===t.row.cacheYn)for(let a=0;a<t.value.length;a++)e+="*";else e=t.value;return e}},{header:this.$t("common.property.cache"),name:"cacheYn",width:"5%",align:"center",formatter:({row:t})=>"Y"===t.cacheYn?"Yes":"No"},{header:this.$t("common.property.require"),name:"requireYn",width:"5%",align:"center",formatter:({row:t})=>"Y"===t.requireYn?"Yes":"No"},{header:this.$t("head.description"),name:"propertyDesc",width:"25%"},{name:"cipherYn",hidden:!0}]}},gridSearchObj:{},gridType:"mainBasic",detailPk:["pk.propertyId","pk.propertyKey"],controlParams:t=>t,detailButtonList:[{id:"insert",isUse:!0},{id:"update",isUse:!0},{id:"delete",isUse:!0},{id:"dump",isUse:!0,dumpUrl:"/api/entity/property/dump"}],detailTabList:[{type:"bundle",url:"/property/BasicInfo",label:this.$t("head.basic.info"),content:[[[{type:"text",vModel:"pk.propertyId",label:this.$t("head.id"),isPK:!0,regExpType:"id"},{type:"text",vModel:"pk.propertyKey",label:this.$t("apim.apimgr.propertyKey"),isPK:!0},{type:"select",vModel:"cipherYn",label:this.$t("common.property.cipher"),isRequired:!0,val:"N",optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Yn"},orderByKey:!0},optionListName:"cipherYnList",optionFor:"option in cipherYnList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}}],[{type:"select",vModel:"requireYn",label:this.$t("common.property.require"),isRequired:!0,val:"N",optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Yn"},orderByKey:!0},optionListName:"requireYnList",optionFor:"option in requireYnList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"select",refs:"cacheYn",vModel:"cacheYn",label:this.$t("common.property.cache"),isRequired:!0,val:"N",optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Yn"},orderByKey:!0},optionListName:"cacheYnList",optionFor:"option in cacheYnList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"password",vModel:"propertyValue",label:this.$t("common.property.value"),isRequired:!0}]],[[{type:"textarea",vModel:"propertyDesc",label:this.$t("head.description"),regExpType:"desc"}]]]}],detailInfo:{},isDetailView:!1,detailMode:null}}},l=r,d=a(43736),c=(0,d.Z)(l,i,s,!1,null,null,null),p=c.exports},90998:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i,s,n=a(63822),o=a(30650),r=a(51635),l=a(37662),d={name:"Interface",extends:o.Z,components:{Detail:r["default"]},computed:{...(0,n.rn)(["userInfo"])},created(){const t=(0,l.fc)(this.pageInfo.privilegeType);this.viewer=t.viewer,this.editor=t.editor},async mounted(){localStorage.getItem("searchObj")?this.initNewTabSearchObj():this.$nextTick((()=>{this.search(this.$refs.search.getSearchObj())})),localStorage.getItem("detailObj")&&this.$nextTick((()=>{const t=JSON.parse(localStorage.getItem("detailObj"));t.isExpandDetailView=!0,localStorage.removeItem("detailObj"),this.initDetail("detail",t)}))},data(){return{interfaceTypeList:[],scheduleTypeList:[],cudUrl:"/api/entity/query/object",viewer:null,editor:null,searchList:[{type:"text",vModel:"queryId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"queryName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"select",vModel:"queryType",label:this.$t("common.type"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Query.QueryType"},orderByKey:!0},optionListName:"queryTypeList",optionFor:"option in queryTypeList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"groupModal",vModel:"queryGroup",label:this.$t("head.group"),placeholder:this.$t("head.searchData"),modalInfo:{title:this.$t("head.group"),search:{list:[{type:"text",vModel:"queryGroup",label:this.$t("head.group"),placeholder:this.$t("head.searchData")}]},grid:{url:"/api/entity/query/group/search",options:{treeColumnOptions:{name:"queryGroup"},data:[],scrollY:!0,minBodyHeight:"260",bodyHeight:"300",columns:[{hidden:!0,name:"key"},{header:this.$t("head.group"),name:"queryGroup"}]}},rowClickedCallback:function(t){return t.key}}},{type:"dataList",vModel:"privilegeId",label:this.$t("common.privilege"),placeholder:this.$t("head.searchData"),regExpType:"searchId",optionInfo:{url:"/api/entity/privilege/search",params:{object:{privilegeType:"b"},limit:null,next:null,reverseOrder:!1},optionListName:"privilegeTypeList",optionFor:"option in privilegeTypeList",optionValue:"option.privilegeId",optionText:"option.privilegeId"}},{type:"text",vModel:"queryDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0},{id:"newTab",isUse:!0},{id:"add",isUse:!0}],gridInfo:{url:"/api/entity/query/search",totalCntUrl:"/api/entity/query/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:" ",name:"lockUserId",width:"5%",align:"center",formatter:({value:t})=>t?`<div class="${t===this.userInfo.userId?"unlock":"lock"} center-block" />`:null},{name:"queryId",header:this.$t("head.id"),width:"20%"},{name:"queryName",header:this.$t("head.name"),width:"20%"},{name:"queryType",header:this.$t("common.type"),width:"10%",align:"center",formatter:function(t){return"F"===t.value?"Single Select":"S"===t.value?"Multi Select":"U"===t.value?"Single Update/Delete":"B"===t.value?"Multi Update/Delete":""}},{header:this.$t("head.group"),name:"queryGroup",width:"10%"},{name:"privilegeId",header:this.$t("common.privilege"),width:"10%"},{header:this.$t("head.description"),name:"queryDesc",width:"25%"}]}},gridSearchObj:{},gridType:"mainBasic",detailPk:["queryId"],controlParams:t=>t,detailButtonList:[{id:"dump",isUse:!0,dumpUrl:"/api/entity/query/dump"},{id:"insert",isUse:!0},{id:"update",isUse:!0},{id:"delete",isUse:!0},{id:"reference",isUse:!0,className:"com.inzent.igate.repository.meta.Query"}],detailTabList:[{type:"basic",label:this.$t("head.basic.info"),url:"/query/BasicInfo",content:[[[{type:"textEvt",vModel:"queryId",label:this.$t("head.id"),isPK:!0,btnInfo:{iconClass:"icon-file-check",title:this.$t("head.id.check"),clickEvt:async t=>{const e=t.$parent,{queryId:a}=e.getData();if(!a)return void this.$alert({type:"warn",message:this.$t("igate.enter.id")});const i=await new l.p0(this.cudUrl).read({queryId:a},!1,(()=>{}));"ok"!==i.data.result?(e.$emit("setBasicInfo","idCheck",a),e.detailInfo.content.forEach((t=>{t.forEach((t=>{t.forEach((t=>{t.readonly="queryId"===t.vModel}))}))})),"clone"===e.mode&&e.$emit("changeQueryId",a)):this.$alert({type:"warn",message:this.$t("head.overlap.id.warn")})}}},{type:"text",vModel:"queryName",label:this.$t("head.name"),regExpType:"name",readonly:!0}],[{type:"select",vModel:"privateYn",isRequired:!0,val:"N",readonly:!0,label:this.$t("head.private"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Yn"},orderByKey:!0},optionListName:"privateYnList",optionFor:"option in privateYnList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"select",vModel:"privilegeId",label:this.$t("common.privilege"),isRequired:!0,readonly:!0,optionInfo:{url:"/api/entity/privilege/search",params:{object:{privilegeType:"b"},limit:null,next:null,reverseOrder:!1},optionListName:"privilegeIdList",optionFor:"option in privilegeIdList",optionValue:"option.privilegeId",optionText:"option.privilegeId"}},{type:"groupModal",vModel:"queryGroup",label:this.$t("head.group"),isRequired:!0,readonly:!0,btnReadonly:!0,modalInfo:{title:this.$t("head.group"),modalWidth:"500px",modalHeight:"590px",search:{list:[{type:"text",vModel:"queryGroup",label:this.$t("head.group"),placeholder:this.$t("head.searchData")}]},grid:{url:"/api/entity/query/group/search",options:{treeColumnOptions:{name:"queryGroup"},data:[],scrollY:!0,minBodyHeight:"260",bodyHeight:"300",columns:[{hidden:!0,name:"key"},{header:this.$t("head.group"),name:"queryGroup"}]}},rowClickedCallback:function(t){return t.key}}}]],[[{type:"textarea",vModel:"queryDesc",label:this.$t("head.description"),regExpType:"desc"}]]]},{type:"bundle",label:this.$t("head.runTime.info"),url:"/query/RuntimeInfo"},{type:"basic",label:this.$t("head.resource.inuse.info"),content:[[[{type:"text",vModel:"lockUserId",label:this.$t("head.lock.userId"),readonly:!0},{type:"text",vModel:"updateVersion",label:this.$t("head.updateVersion"),readonly:!0,val:"0"}],[{type:"text",vModel:"updateUserId",label:this.$t("head.update.userId"),readonly:!0},{type:"text",vModel:"updateTimestamp",label:this.$t("head.update.timestamp"),readonly:!0,formatter:function(t){return t?t.substring(0,19):t}}]]]}],detailInfo:{},isDetailView:!1,detailMode:null}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},16448:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return m}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ct-content"},[t.isDetailView?t._e():e("NoData"),t.isDetailView?e("Detail",{ref:"detail",attrs:{buttonList:t.detailButtonList,detailTabList:t.detailTabList,info:t.detailInfo,cudUrl:t.cudUrl,viewer:t.viewer,editor:t.editor,recordData:t.recordData},on:{changeDetailView:t.changeDetailView}}):t._e()],1)},s=[],n=a(48578),o=a(56697),r=a(37662),l=a(77285),d=a.n(l),c={name:"Main",props:{detailButtonList:Array,detailInfo:Object,detailTabList:Array,searchObj:Object,cudUrl:String,viewer:Boolean,editor:Boolean},data(){return{isDetailView:!1,recordData:{}}},components:{NoData:n.Z,Detail:o["default"]},watch:{async searchObj(){await this.getDataList(this.searchObj)}},async mounted(){await this.getDataList(this.searchObj)},methods:{async getDataList(t){if(d()(t))return;const e={};for(let i in t)"gwserv"!==i&&"gwhost"!==i&&(e[i]=t[i]);t.gwserv&&(e.gwserv=t.gwserv,e.gwhost=t.gwhost);const a=await new r.p0("/api/wizard/sapInterface").read(e,!0);"ok"!==a.data.result?this.isDetailView=!1:(this.isDetailView=!0,this.recordData=a.data.object)},changeDetailView(){this.isDetailView=!this.isDetailView}}},p=c,h=a(43736),u=(0,h.Z)(p,i,s,!1,null,null,null),m=u.exports},71977:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"basic"},[e("Search",{ref:"search",attrs:{list:t.searchList},on:{search:t.search}}),e("Main",{ref:"main",attrs:{detailButtonList:t.detailButtonList,detailTabList:t.detailTabList,detailInfo:t.detailInfo,searchObj:t.searchObj,cudUrl:t.cudUrl,viewer:t.viewer,editor:t.editor,isDetailView:t.isDetailView}})],1)},s=[],n=a(30650),o=a(16448),r=a(37662),l={name:"SapInterface",extends:n.Z,components:{Main:o["default"]},created(){const t=(0,r.fc)(this.pageInfo.privilegeType);this.viewer=t.viewer,this.editor=t.editor},mounted(){this.initNewTabSearchObj()},methods:{search(t){const e=this.searchList.filter((t=>t.isRequired)).map((t=>t.vModel));e.some((e=>!t[e]))?window.$alert({type:"warn",message:this.$t("igate.sap.searchWarn")}):this.searchObj=t}},data(){return{cudUrl:"/api/wizard/sapInterface",viewer:null,editor:null,searchObj:{},searchList:[{type:"text",vModel:"ashost",label:this.$t("igate.sap.ashost"),placeholder:this.$t("head.searchData"),isRequired:!0},{type:"text",vModel:"sysnr",label:this.$t("igate.sap.sysnr"),placeholder:this.$t("head.searchData"),isRequired:!0},{type:"text",vModel:"client",label:this.$t("igate.sap.client"),placeholder:this.$t("head.searchData"),isRequired:!0},{type:"text",vModel:"user",label:this.$t("igate.sap.user"),placeholder:this.$t("head.searchData"),isRequired:!0},{type:"text",vModel:"passwd",label:this.$t("igate.sap.passwd"),placeholder:this.$t("head.searchData"),isRequired:!0},{type:"text",vModel:"gwhost",label:this.$t("igate.sap.gwhost"),placeholder:this.$t("head.searchData")},{type:"text",vModel:"gwserv",label:this.$t("igate.sap.gwserv"),placeholder:this.$t("head.searchData")},{type:"text",vModel:"lang",label:this.$t("igate.sap.lang"),placeholder:this.$t("head.searchData"),val:""},{type:"text",vModel:"functionName",label:this.$t("igate.sap.functionName"),placeholder:this.$t("head.searchData"),isRequired:!0}],detailPk:["interfaceId"],detailInfo:{},isDetailView:!1,detailMode:null,detailButtonList:[{id:"insert",isUse:!0}],detailTabList:[{type:"bundle",label:this.$t("head.basic.info"),url:"/sapInterface/BasicInfo"},{type:"grid",label:this.$t("igate.interface.record.request"),url:"/sapInterface/DetailGrid",options:{rowHeight:30,minRowHeight:30,treeColumnOptions:{name:"fieldId"},columns:[{name:"fieldId",header:`${this.$t("head.field")} ${this.$t("head.id")}`},{name:"fieldType",header:`${this.$t("head.field")} ${this.$t("common.type")}`,formatter:t=>{const e={B:this.$t("igate.fieldMeta.fieldType.byte"),S:this.$t("igate.fieldMeta.fieldType.short"),I:this.$t("igate.fieldMeta.fieldType.int"),L:this.$t("igate.fieldMeta.fieldType.long"),F:this.$t("igate.fieldMeta.fieldType.float"),D:this.$t("igate.fieldMeta.fieldType.double"),N:this.$t("igate.fieldMeta.fieldType.numeric"),p:this.$t("igate.fieldMeta.fieldType.timeStamp"),b:this.$t("igate.fieldMeta.fieldType.boolean"),v:this.$t("igate.fieldMeta.fieldType.individual"),A:this.$t("igate.fieldMeta.fieldType.raw"),P:this.$t("igate.fieldMeta.fieldType.packedDecimal"),R:this.$t("igate.fieldMeta.fieldType.record"),T:this.$t("igate.fieldMeta.fieldType.string")};return e[t.row.fieldType]}},{name:"fieldName",header:`${this.$t("head.field")} ${this.$t("head.name")}`}]}},{type:"grid",label:this.$t("igate.interface.record.response"),url:"/sapInterface/DetailGrid",options:{rowHeight:30,minRowHeight:30,treeColumnOptions:{name:"fieldId"},columns:[{name:"fieldId",header:`${this.$t("head.field")} ${this.$t("head.id")}`},{name:"fieldType",header:`${this.$t("head.field")} ${this.$t("common.type")}`,formatter:t=>{const e={B:this.$t("igate.fieldMeta.fieldType.byte"),S:this.$t("igate.fieldMeta.fieldType.short"),I:this.$t("igate.fieldMeta.fieldType.int"),L:this.$t("igate.fieldMeta.fieldType.long"),F:this.$t("igate.fieldMeta.fieldType.float"),D:this.$t("igate.fieldMeta.fieldType.double"),N:this.$t("igate.fieldMeta.fieldType.numeric"),p:this.$t("igate.fieldMeta.fieldType.timeStamp"),b:this.$t("igate.fieldMeta.fieldType.boolean"),v:this.$t("igate.fieldMeta.fieldType.individual"),A:this.$t("igate.fieldMeta.fieldType.raw"),P:this.$t("igate.fieldMeta.fieldType.packedDecimal"),R:this.$t("igate.fieldMeta.fieldType.record"),T:this.$t("igate.fieldMeta.fieldType.string")};return e[t.row.fieldType]}},{name:"fieldName",header:`${this.$t("head.field")} ${this.$t("head.name")}`}]}}]}}},d=l,c=a(43736),p=(0,c.Z)(d,i,s,!1,null,null,null),h=p.exports},29794:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return m}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ct-content"},[t.isDetailView?t._e():e("NoData"),t.isDetailView?e("Detail",{ref:"detail",attrs:{buttonList:t.detailButtonList,detailTabList:t.detailTabList,info:t.detailInfo,cudUrl:t.cudUrl,viewer:t.viewer,editor:t.editor,recordData:t.recordData},on:{changeDetailView:t.changeDetailView}}):t._e()],1)},s=[],n=a(48578),o=a(8606),r=a(37662),l=a(77285),d=a.n(l),c={name:"Main",props:{detailButtonList:Array,detailInfo:Object,detailTabList:Array,searchObj:Object,isExpand:Boolean,cudUrl:String,viewer:Boolean,editor:Boolean},data(){return{isDetailView:!1,recordData:{}}},components:{NoData:n.Z,Detail:o["default"]},watch:{async searchObj(){await this.getDataList(this.searchObj)}},async mounted(){await this.getDataList(this.searchObj)},methods:{async getDataList(t){if(d()(t))return;const e={};for(let i in t)"gwserv"!==i&&"gwhost"!==i&&(e[i]=t[i]);t.gwserv&&(e.gwserv=t.gwserv,e.gwhost=t.gwhost);const a=await new r.p0("/api/wizard/sapService").read(e,!0);"ok"!==a.data.result?this.isDetailView=!1:(this.isDetailView=!0,this.recordData=a.data.object)},changeDetailView(){this.isDetailView=!this.isDetailView}}},p=c,h=a(43736),u=(0,h.Z)(p,i,s,!1,null,null,null),m=u.exports},95914:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"basic"},[e("Search",{ref:"search",attrs:{list:t.searchList},on:{search:t.search}}),e("Main",{ref:"main",attrs:{detailButtonList:t.detailButtonList,detailTabList:t.detailTabList,detailInfo:t.detailInfo,searchObj:t.searchObj,cudUrl:t.cudUrl,viewer:t.viewer,editor:t.editor}})],1)},s=[],n=a(30650),o=a(29794),r=a(37662),l={name:"SapService",extends:n.Z,components:{Main:o["default"]},created(){const t=(0,r.fc)(this.pageInfo.privilegeType);this.viewer=t.viewer,this.editor=t.editor},mounted(){this.initNewTabSearchObj()},methods:{search(t){const e=this.searchList.filter((t=>t.isRequired)).map((t=>t.vModel));e.some((e=>!t[e]))?window.$alert({type:"warn",message:this.$t("igate.sap.searchWarn")}):this.searchObj=t}},data(){return{cudUrl:"/api/wizard/sapService",viewer:null,editor:null,searchObj:{},searchList:[{type:"text",vModel:"ashost",label:this.$t("igate.sap.ashost"),placeholder:this.$t("head.searchData"),isRequired:!0},{type:"text",vModel:"sysnr",label:this.$t("igate.sap.sysnr"),placeholder:this.$t("head.searchData"),isRequired:!0},{type:"text",vModel:"client",label:this.$t("igate.sap.client"),placeholder:this.$t("head.searchData"),isRequired:!0},{type:"text",vModel:"user",label:this.$t("igate.sap.user"),placeholder:this.$t("head.searchData"),isRequired:!0},{type:"text",vModel:"passwd",label:this.$t("igate.sap.passwd"),placeholder:this.$t("head.searchData"),isRequired:!0},{type:"text",vModel:"gwhost",label:this.$t("igate.sap.gwhost"),placeholder:this.$t("head.searchData")},{type:"text",vModel:"gwserv",label:this.$t("igate.sap.gwserv"),placeholder:this.$t("head.searchData")},{type:"text",vModel:"lang",label:this.$t("igate.sap.lang"),placeholder:this.$t("head.searchData"),val:""},{type:"text",vModel:"functionName",label:this.$t("igate.sap.functionName"),placeholder:this.$t("head.searchData"),isRequired:!0}],detailPk:["serviceId"],detailInfo:{},isDetailView:!1,detailMode:null,detailButtonList:[{id:"insert",isUse:!0}],detailTabList:[{type:"bundle",label:this.$t("head.basic.info"),url:"/sapService/BasicInfo"},{type:"grid",label:this.$t("igate.service.record.request"),url:"/sapService/DetailGrid",options:{rowHeight:30,minRowHeight:30,treeColumnOptions:{name:"fieldId"},columns:[{name:"fieldId",header:`${this.$t("head.field")} ${this.$t("head.id")}`,width:"30%"},{name:"fieldType",header:`${this.$t("head.field")} ${this.$t("common.type")}`,width:"30%",formatter:t=>{const e={B:this.$t("igate.fieldMeta.fieldType.byte"),S:this.$t("igate.fieldMeta.fieldType.short"),I:this.$t("igate.fieldMeta.fieldType.int"),L:this.$t("igate.fieldMeta.fieldType.long"),F:this.$t("igate.fieldMeta.fieldType.float"),D:this.$t("igate.fieldMeta.fieldType.double"),N:this.$t("igate.fieldMeta.fieldType.numeric"),p:this.$t("igate.fieldMeta.fieldType.timeStamp"),b:this.$t("igate.fieldMeta.fieldType.boolean"),v:this.$t("igate.fieldMeta.fieldType.individual"),A:this.$t("igate.fieldMeta.fieldType.raw"),P:this.$t("igate.fieldMeta.fieldType.packedDecimal"),R:this.$t("igate.fieldMeta.fieldType.record"),T:this.$t("igate.fieldMeta.fieldType.string")};return e[t.row.fieldType]}},{name:"fieldName",header:`${this.$t("head.field")} ${this.$t("head.name")}`,width:"35%"}]}},{type:"grid",label:this.$t("igate.service.record.response"),url:"/sapService/DetailGrid",options:{rowHeight:30,minRowHeight:30,treeColumnOptions:{name:"fieldId"},columns:[{name:"fieldId",header:`${this.$t("head.field")} ${this.$t("head.id")}`,width:"30%"},{name:"fieldType",header:`${this.$t("head.field")} ${this.$t("common.type")}`,width:"30%",formatter:t=>{const e={B:this.$t("igate.fieldMeta.fieldType.byte"),S:this.$t("igate.fieldMeta.fieldType.short"),I:this.$t("igate.fieldMeta.fieldType.int"),L:this.$t("igate.fieldMeta.fieldType.long"),F:this.$t("igate.fieldMeta.fieldType.float"),D:this.$t("igate.fieldMeta.fieldType.double"),N:this.$t("igate.fieldMeta.fieldType.numeric"),p:this.$t("igate.fieldMeta.fieldType.timeStamp"),b:this.$t("igate.fieldMeta.fieldType.boolean"),v:this.$t("igate.fieldMeta.fieldType.individual"),A:this.$t("igate.fieldMeta.fieldType.raw"),P:this.$t("igate.fieldMeta.fieldType.packedDecimal"),R:this.$t("igate.fieldMeta.fieldType.record"),T:this.$t("igate.fieldMeta.fieldType.string")};return e[t.row.fieldType]}},{name:"fieldName",header:`${this.$t("head.field")} ${this.$t("head.name")}`,width:"35%"}]}}]}}},d=l,c=a(43736),p=(0,c.Z)(d,i,s,!1,null,null,null),h=p.exports},84378:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var i,s,n=a(30650),o=a(37662),r={name:"ServicePolicy",extends:n.Z,created(){const t=(0,o.fc)(this.pageInfo.privilegeType);this.viewer=t.viewer,this.editor=t.editor},async mounted(){let t=await new o.p0("/api/page/properties").read({pk:{propertyId:"List.Service.ServiceType"},orderByKey:!0});"ok"===t.data.result&&(this.serviceTypeList=t.data.object,localStorage.getItem("searchObj")?this.initNewTabSearchObj():this.$nextTick((()=>{this.search(this.$refs.search.getSearchObj())})))},data(){return{serviceTypeList:[],cudUrl:"/api/entity/servicePolicy/object",viewer:null,editor:null,searchList:[{type:"modal",vModel:"pk.adapterId",label:this.$t("igate.adapter")+" "+this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId",modalInfo:{title:this.$t("igate.adapter"),search:{list:[{type:"text",vModel:"adapterId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"adapterName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"text",vModel:"adapterDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/adapter/search",totalCntUrl:"/api/entity/adapter/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"adapterId",header:this.$t("head.id"),align:"left",width:"20%"},{name:"adapterName",header:this.$t("head.name"),align:"left",width:"20%"},{name:"adapterDesc",header:this.$t("head.description"),align:"left",width:"20%"},{name:"requestStructure",header:this.$t("igate.adapter.structure.request"),align:"left",width:"20%"},{name:"responseStructure",header:this.$t("igate.adapter.structure.response"),align:"left",width:"20%"}]}},rowClickedCallback:function(t){return t.adapterId}}},{type:"select",vModel:"pk.serviceType",label:this.$t("common.type"),isPK:!0,optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Service.ServiceType"},orderByKey:!0},optionListName:"serviceTypes",optionFor:"option in serviceTypes",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"modal",vModel:"activityId",label:this.$t("igate.activity")+" "+this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId",modalInfo:{title:this.$t("igate.activity"),search:{list:[{type:"text",vModel:"activityId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"select",vModel:"activityType",label:this.$t("common.type"),val:"S",optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Activity.ActivityType"},orderByKey:!0},isViewAll:!1,optionListName:"activityTypes",optionFor:"option in activityTypes",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue",optionIf:"'S' === option.pk.propertyKey"}},{type:"text",vModel:"activityDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/activity/search",totalCntUrl:"/api/entity/activity/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"activityId",header:this.$t("head.id"),align:"left",width:"30%"},{name:"activityName",header:this.$t("head.name"),align:"left",width:"30%"},{name:"activityDesc",header:this.$t("head.description"),align:"left",width:"40%"}]}},rowClickedCallback:function(t){return t.activityId}}},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"add",isUse:!0},{id:"initialize",isUse:!0},{id:"newTab",isUse:!0}],gridInfo:{url:"/api/entity/servicePolicy/search",totalCntUrl:"/api/entity/servicePolicy/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"pk.adapterId",header:this.$t("igate.adapter")+" "+this.$t("head.id"),align:"left",width:"35%"},{name:"pk.serviceType",header:this.$t("common.type"),align:"center",width:"30%",formatter:({row:t})=>this.serviceTypeList.filter((e=>t["pk.serviceType"]===e.pk.propertyKey))[0].propertyValue},{name:"activityId",header:this.$t("igate.activity")+" "+this.$t("head.id"),align:"left",width:"35%"}]}},gridSearchObj:{},gridType:"mainBasic",detailPk:["pk.adapterId","pk.serviceType"],controlParams:t=>t,detailButtonList:[{id:"insert",isUse:!0},{id:"update",isUse:!0},{id:"delete",isUse:!0},{id:"dump",isUse:!0,dumpUrl:"/api/entity/servicePolicy/dump"},{id:"reference",isUse:!0,className:"com.inzent.igate.repository.meta.ServicePolicy"}],detailTabList:[{type:"basic",label:this.$t("head.basic.info"),content:[[[{type:"modal",vModel:"pk.adapterId",label:this.$t("igate.adapter")+" "+this.$t("head.id"),isPK:!0,clickEvt:t=>{(0,o.RB)("202030",(()=>{localStorage.removeItem("searchObj"),localStorage.setItem("searchObj",JSON.stringify({adapterId:t.getData()["pk.adapterId"]}))}))},modalInfo:{title:this.$t("igate.adapter"),search:{list:[{type:"text",vModel:"adapterId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"text",vModel:"adapterName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"text",vModel:"adapterDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/adapter/search",totalCntUrl:"/api/entity/adapter/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"adapterId",header:this.$t("head.id"),align:"left",width:"20%"},{name:"adapterName",header:this.$t("head.name"),align:"left",width:"20%"},{name:"adapterDesc",header:this.$t("head.description"),align:"left",width:"20%"},{name:"requestStructure",header:this.$t("igate.adapter.structure.request"),align:"left",width:"20%"},{name:"responseStructure",header:this.$t("igate.adapter.structure.response"),align:"left",width:"20%"}]}},rowClickedCallback:function(t){return t.adapterId}}},{type:"select",vModel:"pk.serviceType",label:this.$t("common.type"),isPK:!0,optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Service.ServiceType"},orderByKey:!0},optionListName:"serviceTypes",optionFor:"option in serviceTypes",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"modal",vModel:"activityId",label:this.$t("igate.activity")+" "+this.$t("head.id"),isRequired:!0,placeholder:this.$t("head.searchId"),clickEvt:t=>{(0,o.RB)("102060",(()=>{localStorage.removeItem("searchObj"),localStorage.setItem("searchObj",JSON.stringify({activityId:t.getData().activityId}))}))},modalInfo:{title:this.$t("igate.activity"),search:{list:[{type:"text",vModel:"activityId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"select",vModel:"activityType",label:this.$t("common.type"),val:"S",optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Activity.ActivityType"},orderByKey:!0},isViewAll:!1,optionListName:"activityTypes",optionFor:"option in activityTypes",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue",optionIf:"'S' === option.pk.propertyKey"}},{type:"text",vModel:"activityDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/activity/search",totalCntUrl:"/api/entity/activity/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"activityId",header:this.$t("head.id"),align:"left",width:"30%"},{name:"activityName",header:this.$t("head.name"),align:"left",width:"30%"},{name:"activityDesc",header:this.$t("head.description"),align:"left",width:"40%"}]}},rowClickedCallback:function(t){return t.activityId}}}],[]]]}],detailInfo:{},isDetailView:!1,detailMode:null}}},l=r,d=a(43736),c=(0,d.Z)(l,i,s,!1,null,null,null),p=c.exports},80569:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return m}});var i,s,n=a(63822),o=a(30650),r=a(37662),l=a(36797),d=a.n(l),c={name:"ServiceRestriction",extends:o.Z,created(){const t=(0,r.fc)(this.pageInfo.privilegeType);this.viewer=t.viewer,this.editor=t.editor},async mounted(){this.dateFormat=this.constantsInfo.serviceRestrictionDateFormat;const t="HHmmss"===this.dateFormat?"time":"singleDaterange";this.searchList=[{type:t,vModel:"startTime",label:this.$t("head.from")},{type:"select",vModel:"enableYn",label:this.$t("igate.transactionRestriction.enableYn"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Yn"},orderByKey:!0},optionListName:"enableList",optionFor:"option in enableList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"select",vModel:"whitelistYn",label:this.$t("igate.transactionRestriction.whiteListYn"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Yn"},orderByKey:!0},optionListName:"whitelistList",optionFor:"option in whitelistList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"text",vModel:"ruleId",label:`${this.$t("igate.transactionRestriction")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],this.detailTabList=[{type:"basic",label:this.$t("head.basic.info"),content:[[[{type:"text",vModel:"ruleId",label:`${this.$t("igate.transactionRestriction")} ${this.$t("head.id")}`,isPK:!0,regExpType:"id"},{type:"text",vModel:"rulePriority",label:this.$t("igate.transactionRestriction.rulePriority"),regExpType:"num"},{type:"select",vModel:"whitelistYn",label:this.$t("igate.transactionRestriction.whiteListYn"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Yn"},orderByKey:!0},optionListName:"whitelistList",optionFor:"option in whitelistList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}}],[{type:t,vModel:"startTime",label:this.$t("head.from")},{type:t,vModel:"endTime",label:this.$t("head.to")},{type:"text",vModel:"restrictionMessage",label:this.$t("igate.transactionRestriction.message")},{type:"select",vModel:"enableYn",label:this.$t("igate.transactionRestriction.enableYn"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Yn"},orderByKey:!0},optionListName:"enableList",optionFor:"option in enableList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}}]]]},{type:"property",dataKey:"serviceRestrictionConds",label:`${this.$t("igate.transactionRestriction")} ${this.$t("igate.transactionRestriction.value")}`,addRowInfo:{type:"common"},content:[{type:"select",vModel:"pk.restrictionType",label:this.$t("common.type"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.ServiceRestriction.Type"},orderByKey:!0},optionListName:"restrictionTypeList",optionFor:"option in restrictionTypeList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"select",vModel:"restrictionOperator",label:this.$t("igate.transactionRestriction.operator"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.TransactionRestriction.Operator"},orderByKey:!0},optionListName:"restrictionOperatorList",optionFor:"option in restrictionOperatorList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"text",vModel:"restrictionValue",label:`${this.$t("igate.transactionRestriction.value")}`}]}],localStorage.getItem("searchObj")?this.initNewTabSearchObj():this.$nextTick((()=>{this.search(this.$refs.search.getSearchObj())}))},computed:{...(0,n.rn)(["constantsInfo"])},methods:{changeTime(t,e){if(t){if(!e){let e=t.replace(/:/gi,"");return e=e.replace(/-/gi,""),e=e.replace(/(\s*)/g,""),e}if(t=t.replace(/[^.0-9]/g,""),14===this.dateFormat.length&&6===t.length?t=d()().format("YYYYMMDD")+t:6===this.dateFormat.length&&14===t.length&&(t=t.substring(8)),14==t.length){let e=t.substring(0,8),a=t.substring(8);return e=e.replace(/(.{4})/g,"$1-"),e=e.replace(/(.{7})/g,"$1-"),e=e.slice(0,-1),a=a.replace(/(.{2})/g,"$1:"),a=a.slice(0,-1),e+" "+a}if(6==t.length){let e=t.replace(/(.{2})/g,"$1:");return e=e.slice(0,-1),e}}}},data(){return{dateFormat:null,cudUrl:"/api/entity/serviceRestriction/object",viewer:null,editor:null,searchList:[],buttonList:[{id:"initialize",isUse:!0},{id:"newTab",isUse:!0},{id:"add",isUse:!0},{id:"reorder",reorderUrl:"/api/entity/serviceRestriction/reorder",isUse:!0}],gridInfo:{url:"/api/entity/serviceRestriction/search",totalCntUrl:"/api/entity/serviceRestriction/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"rulePriority",header:this.$t("igate.transactionRestriction.rulePriority"),align:"center",width:"10%"},{name:"startTime",header:this.$t("head.from"),align:"center",width:"20%",formatter:t=>this.changeTime(t.row.startTime,!0)},{name:"endTime",header:this.$t("head.to"),align:"center",width:"20%",formatter:t=>this.changeTime(t.row.endTime,!0)},{name:"enableYn",header:this.$t("igate.transactionRestriction.enableYn"),align:"center",width:"10%",formatter:t=>"Y"==t.row.enableYn?"Yes":"No"},{name:"whitelistYn",header:this.$t("igate.transactionRestriction.whiteListYn"),align:"center",width:"10%",formatter:t=>"Y"==t.row.whitelistYn?"Yes":"No"},{name:"ruleId",header:`${this.$t("igate.transactionRestriction")} ${this.$t("head.id")}`,align:"left",width:"30%"}]}},gridSearchObj:{},gridType:"mainBasic",detailPk:["ruleId"],controlParams:t=>({ruleId:t.ruleId}),detailInfo:{},isDetailView:!1,detailMode:null,detailButtonList:[{id:"insert",isUse:!0},{id:"update",isUse:!0},{id:"delete",isUse:!0},{id:"dump",isUse:!0,dumpUrl:"/api/entity/serviceRestriction/dump"}],detailTabList:[]}}},p=c,h=a(43736),u=(0,h.Z)(p,i,s,!1,null,null,null),m=u.exports},86235:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i,s,n=a(63822),o=a(30650),r=a(37891),l=a(37662),d={name:"Service",extends:o.Z,components:{Detail:r["default"]},computed:{...(0,n.rn)(["userInfo"])},async created(){const t=(0,l.fc)(this.pageInfo.privilegeType);this.viewer=t.viewer,this.editor=t.editor;const e=await new l.p0("/api/page/properties").read({pk:{propertyId:"List.Service.ServiceType"},orderByKey:!0});"ok"===e.data.result&&(this.serviceTypeList=e.data.object)},mounted(){localStorage.getItem("searchObj")?this.initNewTabSearchObj():this.$nextTick((()=>{this.search(this.$refs.search.getSearchObj())})),localStorage.getItem("detailObj")&&this.$nextTick((()=>{const t=JSON.parse(localStorage.getItem("detailObj"));t.isExpandDetailView=!0,localStorage.removeItem("detailObj"),this.initDetail("detail",t)}))},data(){return{serviceTypeList:[],cudUrl:"/api/entity/service/object",viewer:null,editor:null,searchList:[{type:"text",vModel:"serviceId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"serviceName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"select",vModel:"serviceType",label:this.$t("common.type"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Service.ServiceType"},orderByKey:!0},optionListName:"serviceTypeList",optionFor:"option in serviceTypeList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"modal",vModel:"adapterId",label:`${this.$t("igate.adapter")} ${this.$t("head.id")}`,placeholder:this.$t("head.searchId"),regExpType:"searchId",modalInfo:{title:this.$t("igate.adapter"),search:{list:[{type:"text",vModel:"adapterId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"adapterName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"text",vModel:"adapterDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}]},button:{list:[{id:"initialize",isUse:!0}]},grid:{url:"/api/entity/adapter/search",totalCntUrl:"/api/entity/adapter/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"adapterId"},{header:this.$t("head.name"),name:"adapterName"},{header:this.$t("head.description"),name:"adapterDesc"},{header:this.$t("igate.adapter.structure.request"),name:"requestStructure"},{header:this.$t("igate.adapter.structure.response"),name:"responseStructure"}]}},rowClickedCallback:t=>t.adapterId}},{type:"groupModal",vModel:"serviceGroup",label:this.$t("head.group"),placeholder:this.$t("head.searchData"),modalInfo:{title:this.$t("head.group"),search:{list:[{type:"text",vModel:"serviceGroup",label:this.$t("head.group"),placeholder:this.$t("head.searchData")}]},grid:{url:"/api/entity/service/group/search",options:{treeColumnOptions:{name:"serviceGroup"},data:[],scrollY:!0,minBodyHeight:"260",bodyHeight:"300",columns:[{hidden:!0,name:"key"},{header:this.$t("head.group"),name:"serviceGroup"}]}},rowClickedCallback:function(t){return t.key}}},{type:"dataList",vModel:"privilegeId",label:this.$t("common.privilege"),placeholder:this.$t("head.searchData"),regExpType:"searchId",optionInfo:{url:"/api/entity/privilege/search",params:{object:{privilegeType:"b"},limit:null,next:null,reverseOrder:!1},optionListName:"privilegeTypeList",optionFor:"option in privilegeTypeList",optionValue:"option.privilegeId",optionText:"option.privilegeId"}},{type:"text",vModel:"serviceDesc",label:this.$t("head.description"),placeholder:this.$t("head.searchComment"),regExpType:"desc"},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0},{id:"newTab",isUse:!0},{id:"excelExport",isUse:!0,exportUrl:"/api/entity/service/download",fileName:"Service ExcelExport"},{id:"add",isUse:!0}],gridInfo:{url:"/api/entity/service/search",totalCntUrl:"/api/entity/service/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"lockUserId",header:" ",width:"5%",formatter:({value:t})=>t?`<div class="${t===this.userInfo.userId?"unlock":"lock"} center-block" />`:null},{name:"serviceId",header:this.$t("head.id"),width:"15%"},{name:"serviceName",header:this.$t("head.name"),width:"15%"},{name:"serviceType",header:this.$t("common.type"),align:"center",width:"10%",formatter:({value:t})=>this.serviceTypeList.find((e=>e.pk.propertyKey===t)).propertyValue},{name:"adapterId",header:`${this.$t("igate.adapter")} ${this.$t("head.id")}`,width:"15%"},{name:"serviceGroup",header:this.$t("head.group"),width:"10%"},{name:"privilegeId",header:this.$t("common.privilege"),width:"10%"},{header:this.$t("head.description"),name:"serviceDesc",width:"20%"}]}},gridSearchObj:{},gridType:"mainBasic",detailPk:["serviceId"],controlUrl:"/api/entity/service/control",controlParams:t=>({serviceId:t.serviceId}),detailInfo:{},isDetailView:!1,detailMode:null,detailButtonList:[{id:"dump",isUse:!0,dumpUrl:"/api/entity/service/dump"},{id:"insert",isUse:!0},{id:"update",isUse:!0},{id:"delete",isUse:!0},{id:"reference",isUse:!0,className:"com.inzent.igate.repository.meta.Service"},{id:"metaHistory",isUse:!0,className:"com.inzent.igate.repository.meta.Service",entityIdKey:"serviceId"}],detailTabList:[{type:"bundle",label:this.$t("head.basic.info"),url:"/service/BasicInfo"},{type:"bundle",url:"/service/ExtendInfo",label:this.$t("head.extension.info"),dataKey:"serviceProperties",content:[{type:"dataList",vModel:"pk.propertyKey",regExpType:"value",label:this.$t("common.property.key"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"Property.Service"},orderByKey:!0},optionListName:"servicePropertyList",optionFor:"option in servicePropertyList",optionValue:"option.pk.propertyKey",optionText:"option.pk.propertyKey"}},{type:"text",vModel:"propertyValue",label:`${this.$t("common.property.value")}`,changeEvt:t=>{if("add"!==t.$parent.mode)return;const e=t.$parent.propertyList.findIndex((e=>t.val===e.propertyValue)),a=t.$parent.$refs[`component_${e}_0`][0].val;return"table.name"===a?(this.$alert({type:"warn",message:this.$t("igate.service.table.property.warn")}),void t.$parent.$refs[`component_${e}_1`][0].setData(t.val)):void 0}},{type:"text",vModel:"propertyDesc",label:`${this.$t("head.description")}`,readonly:!0}]},{type:"basic",label:this.$t("head.resource.inuse.info"),content:[[[{type:"text",vModel:"lockUserId",label:this.$t("head.lock.userId"),readonly:!0},{type:"text",vModel:"updateVersion",label:this.$t("head.updateVersion"),readonly:!0,val:"0"}],[{type:"text",vModel:"updateUserId",label:this.$t("head.update.userId"),readonly:!0},{type:"text",vModel:"updateTimestamp",label:this.$t("head.update.timestamp"),readonly:!0,formatter:t=>(0,l.GD)(t)}]]]}]}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},74918:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return m}});var i,s,n=a(30650),o=a(72637),r=a(36797),l=a.n(r),d=a(37662),c={name:"User",extends:n.Z,components:{Detail:o["default"]},created(){const t=(0,d.fc)(this.pageInfo.privilegeType);this.viewer=t.viewer,this.editor=t.editor},data(){return{cudUrl:"/api/entity/user/object",viewer:null,editor:null,searchList:[{type:"text",vModel:"userId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"userName",label:this.$t("head.name"),placeholder:this.$t("head.searchName")},{type:"text",vModel:"department",label:this.$t("common.user.department"),placeholder:this.$t("head.searchData")},{type:"text",vModel:"telephone",label:this.$t("common.user.telephone"),placeholder:this.$t("head.searchData")},{type:"text",vModel:"mobilephone",label:this.$t("common.user.mobilephone"),placeholder:this.$t("head.searchData")},{type:"text",vModel:"email",label:this.$t("common.user.email"),placeholder:this.$t("head.searchData")},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),placeholder:this.$t("head.searchCoditionList"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"add",isUse:!0},{id:"initialize",isUse:!0},{id:"newTab",isUse:!0}],gridInfo:{url:"/api/entity/user/search",totalCntUrl:"/api/entity/user/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"userId",width:"15%"},{header:this.$t("head.name"),name:"userName",width:"20%"},{header:this.$t("common.user.department"),name:"department",width:"15%"},{header:this.$t("common.user.telephone"),name:"telephone",width:"15%"},{header:this.$t("common.user.mobilephone"),name:"mobilephone",width:"15%"},{header:this.$t("common.user.email"),name:"email",width:"20%"}]}},gridSearchObj:{},gridType:"mainBasic",detailPk:["userId"],detailButtonList:[{id:"insert",isUse:!0},{id:"update",isUse:!0},{id:"delete",isUse:!0}],detailTabList:[{type:"basic",label:this.$t("head.basic.info"),content:[[[{type:"text",vModel:"userId",label:this.$t("head.id"),isPK:!0,regExpType:"id"},{type:"text",vModel:"userName",label:this.$t("head.name"),isRequired:!0},{type:"text",vModel:"department",label:this.$t("common.user.department")},{type:"text",vModel:"telephone",label:this.$t("common.user.telephone")}],[{type:"text",vModel:"mobilephone",label:this.$t("common.user.mobilephone")},{type:"text",vModel:"email",label:this.$t("common.user.email")},{type:"text",vModel:"updateTimestamp",label:this.$t("head.update.timestamp"),readonly:!0,formatter:t=>(0,d.GD)(t)},{type:"text",vModel:"updateUserId",label:this.$t("head.update.userId"),readonly:!0}]]]},{type:"basic",label:this.$t("common.user.authentication.info"),content:[[[{type:"select",vModel:"userDisableYn",label:this.$t("common.user.disable"),val:"N",optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Yn"},orderByKey:!0},optionListName:"openWindowList",optionFor:"option in openWindowList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}},{type:"text",vModel:"loginIp",label:this.$t("common.user.loginIp"),readonly:!0},{type:"text",vModel:"allowedIp",label:this.$t("common.user.allowed.ip")},{type:"password",vModel:"newPassword",label:this.$t("common.user.newPassword"),isRequired:!0,warning:!0,warningLabel:this.$t("common.user.validationPassCheck"),regExpType:"password"}],[{type:"singleDaterange",vModel:"passwordExpiration",label:this.$t("common.user.passwordExpiration"),val:l()((new Date).setMonth((new Date).getMonth()+3)).format("YYYY-MM-DD HH:mm:ss"),options:{"show-dropdowns":!0}},{type:"singleDaterange",vModel:"userExpiration",label:this.$t("common.user.userExpiration"),val:l()((new Date).setMonth((new Date).getMonth()+3)).format("YYYY-MM-DD HH:mm:ss"),options:{"show-dropdowns":!0}},{type:"text",vModel:"loginAttempts",val:"0",label:this.$t("common.user.loginAttempts"),regExpType:"num"},{type:"text",vModel:"loginTimestamp",label:this.$t("common.user.loginTimestamp"),readonly:!0,formatter:t=>(0,d.GD)(t)}]]]},{type:"bundle",url:"/user/UserDetailPrivileges",label:`${this.$t("common.user")} ${this.$t("common.privilege")} ${this.$t("head.info")}`}],detailInfo:{},isDetailView:!1,detailMode:null}},async mounted(){localStorage.getItem("searchObj")?this.initNewTabSearchObj():this.$nextTick((()=>{this.search(this.$refs.search.getSearchObj())}))},methods:{search(t){this.gridSearchObj=t}}},p=c,h=a(43736),u=(0,h.Z)(p,i,s,!1,null,null,null),m=u.exports},50500:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ct-content"},[t.isDetailView?t._e():e("NoData"),t.isDetailView?e("Detail",{ref:"detail",attrs:{buttonList:t.detailButtonList,detailTabList:t.detailTabList,info:t.detailInfo,cudUrl:t.cudUrl,viewer:t.viewer,editor:t.editor,additionalData:t.addDetailData},on:{changeDetailView:t.changeDetailView}}):t._e()],1)},s=[],n=a(48578),o=a(62200),r={name:"Main",props:{detailButtonList:Array,detailInfo:Object,detailTabList:Array,addDetailData:Object,cudUrl:String,viewer:Boolean,editor:Boolean},data(){return{isDetailView:!1}},components:{NoData:n.Z,Detail:o["default"]},watch:{addDetailData(){this.isDetailView=!0}},methods:{changeDetailView(){this.isDetailView=!1,this.$emit("initSearchArea")}}},l=r,d=a(43736),c=(0,d.Z)(l,i,s,!1,null,null,null),p=c.exports},71770:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ct-header"},[e("button",{staticClass:"btn-filter collapsed d-md-none",attrs:{type:"button","data-toggle":"collapse","data-target":".collapse-filter"},on:{click:function(e){return e.preventDefault(),t.collapseFilter.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("head.searchFilter"))+" "),e("i",{staticClass:"icon-down"})]),e("div",{staticClass:"collapse collapse-filter",attrs:{id:"collapse-filter"}},[e("div",{staticClass:"filter no-gutters",staticStyle:{"padding-right":"0px"}},[e("div",{staticClass:"col"},[e("label",{staticClass:"form-control-label reset"},[e("b",{staticClass:"control-label"},[t._v(" "+t._s(t.$t("igate.webService"))+" "),e("i",{staticClass:"icon-srch",on:{click:t.openModal}})]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],class:{"form-control":!0},attrs:{placeholder:t.$t("igate.webservice.searchWsdl")},domProps:{value:t.address},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getStruct.apply(null,arguments)},input:function(e){e.target.composing||(t.address=e.target.value)}}}),e("i",{staticClass:"icon-close",on:{click:function(e){t.address=null}}})])]),e("div",{staticClass:"col"},[e("label",{class:{"form-control-label":!0,"label-select":!0,disabled:t.dropdownMenuInfo.service.readonly}},[e("b",{staticClass:"control-label"},[t._v(t._s(t.$t("igate.webservice.wsdlService")))]),e("span",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.dropdownMenuInfo.service.selectedName,expression:"dropdownMenuInfo.service.selectedName"}],class:{"form-control":!0},attrs:{placeholder:t.$t("head.searchData"),readonly:""},domProps:{value:t.dropdownMenuInfo.service.selectedName},on:{click:function(e){return t.toggleDropdownItem("service")},input:function(e){e.target.composing||t.$set(t.dropdownMenuInfo.service,"selectedName",e.target.value)}}}),e("ul",{class:t.dropdownMenuClass.service},[e("li",t._l(t.serviceList,(function(a){return e("a",{key:a.name,class:{"dropdown-item":!0,active:String(t.object.service)===String(a.name)},attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.selectedItem("service",a.name,a.name)}}},[t._v(" "+t._s(a.name)+" ")])})),0)])])])]),e("div",{staticClass:"col"},[e("label",{class:{"form-control-label":!0,"label-select":!0,disabled:t.dropdownMenuInfo.endpoint.readonly}},[e("b",{staticClass:"control-label"},[t._v("WSDL EndPoint")]),e("span",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.dropdownMenuInfo.endpoint.selectedName,expression:"dropdownMenuInfo.endpoint.selectedName"}],class:{"form-control":!0},attrs:{placeholder:t.$t("head.searchData"),readonly:""},domProps:{value:t.dropdownMenuInfo.endpoint.selectedName},on:{click:function(e){return t.toggleDropdownItem("endpoint")},input:function(e){e.target.composing||t.$set(t.dropdownMenuInfo.endpoint,"selectedName",e.target.value)}}}),e("ul",{class:t.dropdownMenuClass.endpoint,staticStyle:{width:"auto"}},[e("li",t._l(t.endpointList,(function(a){return e("a",{key:a.name,class:{"dropdown-item":!0,active:String(t.object.endpoint)===String(a.name)},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.selectedItem("endpoint",a.name,`${a.name}(${a.endpointUrl})`)}}},[t._v(" "+t._s(`${a.name}(${a.endpointUrl})`)+" ")])})),0)])])])]),e("div",{staticClass:"col"},[e("label",{class:{"form-control-label":!0,"label-select":!0,disabled:t.dropdownMenuInfo.operation.readonly}},[e("b",{staticClass:"control-label"},[t._v("WSDL Operation")]),e("span",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.dropdownMenuInfo.operation.selectedName,expression:"dropdownMenuInfo.operation.selectedName"}],class:{"form-control":!0},attrs:{placeholder:t.$t("head.searchData"),readonly:""},domProps:{value:t.dropdownMenuInfo.operation.selectedName},on:{click:function(e){return t.toggleDropdownItem("operation")},input:function(e){e.target.composing||t.$set(t.dropdownMenuInfo.operation,"selectedName",e.target.value)}}}),e("ul",{class:t.dropdownMenuClass.operation},[e("li",t._l(t.operationList,(function(a){return e("a",{key:a.operationName,class:{"dropdown-item":!0,active:String(t.object.operation)===String(a.operationName)},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.selectedItem("operation",a.operationName,`${a.operationName}(${a.operationNameSpace})`)}}},[t._v(" "+t._s(`${a.operationName}(${a.operationNameSpace})`)+" ")])})),0)])])])])])])])},s=[],n=a(96434),o=a(37662),r={name:"Search",extends:n.Z,data(){return{object:{service:null,endpoint:null,operation:null},address:null,serviceList:[],endpointList:[],operationList:[],dropdownMenuClass:{service:{"dropdown-menu":!0,show:!1},endpoint:{"dropdown-menu":!0,show:!1},operation:{"dropdown-menu":!0,show:!1}},dropdownMenuInfo:{service:{selectedName:null,readonly:!0},endpoint:{selectedName:null,readonly:!0},operation:{selectedName:null,readonly:!0}}}},methods:{getData(){return this.object},setSearchListVal(){for(const t in this.object)this.object[t]=null,this.dropdownMenuInfo[t].readonly=!0,this.dropdownMenuClass[t].show=!1,this.dropdownMenuInfo[t].selectedName=null},async getStruct(){const t=await new o.p0("/api/wizard/webservice").read({address:this.address},!0);"ok"===t.data.result&&(this.serviceList=t.data.object.serviceList,this.dropdownMenuInfo.service.readonly=!1)},toggleDropdownItem(t){for(const e in this.dropdownMenuClass)this.dropdownMenuClass[e].show=e===t&&!this.dropdownMenuClass[e].show},selectedItem(t,e,a){this.dropdownMenuClass[t].show=!1,this.dropdownMenuInfo[t].selectedName=a,this.object[t]=e;const i="service"===t?"endpoint":"endpoint"===t?"operation":null;if(i&&(this.dropdownMenuInfo[i].readonly=!1),"service"===t){const t=this.serviceList.filter((t=>t.name===this.object.service))[0];this.endpointList=t.endpointList,this.operationList=t.operationList}else if("operation"===t){const t=this.operationList.filter((t=>t.operationName===this.object.operation))[0];this.$emit("setAddDetailData",{searchData:this.object,structData:t,address:this.address})}},openModal(){const t=this,e=this.$openModal({title:this.$t("igate.webService"),modalWidth:"800px",contentList:[{template:'\n\t\t\t\t\t\t\t<inputText\n\t\t\t\t\t\t\t\tref="wdslUrl"\n\t\t\t\t\t\t\t\tvModel="address"\n\t\t\t\t\t\t\t\tregExpType="url"\n\t\t\t\t\t\t\t\t:classObject="{ \'form-control\': true }"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t',components:{inputText:a(53308).Z}}],buttonList:(()=>[{template:'<button type="button" @click="confirm" class="btn btn-primary">{{ $t(\'head.ok\') }}</button>',methods:{async confirm(){const a=e.$refs.content[0].$refs.wdslUrl.getData();t.address=a.address,t.getStruct(),e.hideModal()}}}])()})}}},l=r,d=a(43736),c=(0,d.Z)(l,i,s,!1,null,null,null),p=c.exports},29:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"basic"},[e("Search",{ref:"search",attrs:{list:t.searchList},on:{setAddDetailData:t.setAddDetailData}}),e("Main",{ref:"main",attrs:{detailButtonList:t.detailButtonList,detailTabList:t.detailTabList,detailInfo:t.detailInfo,addDetailData:t.addDetailData,cudUrl:t.cudUrl,viewer:t.viewer,editor:t.editor},on:{initSearchArea:t.initSearchArea}})],1)},s=[],n=a(30650),o=a(71770),r=a(50500),l=a(37662),d={name:"WebSerivce",extends:n.Z,components:{Search:o["default"],Main:r["default"]},created(){const t=(0,l.fc)("Service");this.viewer=t.viewer,this.editor=t.editor},mounted(){this.initNewTabSearchObj()},methods:{initSearchArea(){this.$refs.search.setSearchListVal()},setAddDetailData(t){this.addDetailData=t}},data(){return{cudUrl:"/api/wizard/webservice",addDetailData:{},viewer:null,editor:null,detailInfo:{},isDetailView:!1,detailMode:null,detailButtonList:[{id:"insert",isUse:!0}],detailTabList:[{type:"bundle",label:this.$t("head.basic.info"),url:"/webService/BasicInfo"},{type:"grid",label:this.$t("igate.service.record.request"),url:"/webService/DetailGrid",options:{rowHeight:30,minRowHeight:30,treeColumnOptions:{name:"nodeId"},columns:[{name:"nodeId",header:`${this.$t("head.node")} ${this.$t("head.id")}`},{name:"nodeType",header:`${this.$t("head.node")} ${this.$t("common.type")}`,formatter:t=>{const e={B:this.$t("igate.fieldMeta.fieldType.byte"),S:this.$t("igate.fieldMeta.fieldType.short"),I:this.$t("igate.fieldMeta.fieldType.int"),L:this.$t("igate.fieldMeta.fieldType.long"),F:this.$t("igate.fieldMeta.fieldType.float"),D:this.$t("igate.fieldMeta.fieldType.double"),N:this.$t("igate.fieldMeta.fieldType.numeric"),p:this.$t("igate.fieldMeta.fieldType.timeStamp"),b:this.$t("igate.fieldMeta.fieldType.boolean"),v:this.$t("igate.fieldMeta.fieldType.individual"),A:this.$t("igate.fieldMeta.fieldType.raw"),P:this.$t("igate.fieldMeta.fieldType.packedDecimal"),R:this.$t("igate.fieldMeta.fieldType.record"),T:this.$t("igate.fieldMeta.fieldType.string")};return e[t.row.nodeType]}},{name:"nodeName",header:`${this.$t("head.node")} ${this.$t("head.name")}`}]}},{type:"grid",label:this.$t("igate.service.record.response"),url:"/webService/DetailGrid",options:{rowHeight:30,minRowHeight:30,treeColumnOptions:{name:"nodeId"},columns:[{name:"nodeId",header:`${this.$t("head.node")} ${this.$t("head.id")}`},{name:"nodeType",header:`${this.$t("head.node")} ${this.$t("common.type")}`,formatter:t=>{const e={B:this.$t("igate.fieldMeta.fieldType.byte"),S:this.$t("igate.fieldMeta.fieldType.short"),I:this.$t("igate.fieldMeta.fieldType.int"),L:this.$t("igate.fieldMeta.fieldType.long"),F:this.$t("igate.fieldMeta.fieldType.float"),D:this.$t("igate.fieldMeta.fieldType.double"),N:this.$t("igate.fieldMeta.fieldType.numeric"),p:this.$t("igate.fieldMeta.fieldType.timeStamp"),b:this.$t("igate.fieldMeta.fieldType.boolean"),v:this.$t("igate.fieldMeta.fieldType.individual"),A:this.$t("igate.fieldMeta.fieldType.raw"),P:this.$t("igate.fieldMeta.fieldType.packedDecimal"),R:this.$t("igate.fieldMeta.fieldType.record"),T:this.$t("igate.fieldMeta.fieldType.string")};return e[t.row.nodeType]}},{name:"nodeName",header:`${this.$t("head.node")} ${this.$t("head.name")}`}]}}]}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},71306:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return g}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row frm-row topology"},[e("div",{ref:"pFieldMetaGrid"},[e("Search",{ref:"search",attrs:{list:t.searchList},on:{search:t.search}}),e("Main",{ref:"main",attrs:{buttonList:t.buttonList,gridInfo:t.gridInfo,gridSearchObj:t.gridSearchObj,gridResizeFunc:t.gridResizeFunc,gridType:"modalBasic",viewer:!0,editor:!1},on:{initialize:t.initialize}})],1),e("div",{staticStyle:{"text-align":"center",width:"50px"}},[e("div",{staticStyle:{position:"relative",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},[e("div",[e("a",{staticClass:"btn btn-m",staticStyle:{width:"34px","min-width":"34px"},attrs:{href:"javascript:void(0);"},on:{click:t.addFieldMeta}},[e("i",{staticClass:"icon-right"})])]),e("div",{staticStyle:{"margin-top":"5px"}},[e("a",{staticClass:"btn btn-m",staticStyle:{width:"34px","min-width":"34px"},attrs:{href:"javascript:void(0);"},on:{click:t.removeFieldMeta}},[e("i",{staticClass:"icon-left"})])])])]),e("div",{ref:"pFilterFieldMetaGrid"},[e("div",{staticClass:"table-responsive"},[e("TuiGrid",t._b({ref:"filterFieldMetaGrid"},"TuiGrid",t.filterFieldMetaGridOptions,!1))],1)])])},s=[],n=a(37856),o=a(66281),r=a.n(o),l=a(96434),d=a(54215),c=a(37662),p={name:"addFieldMeta",props:{metaDomain:String},components:{TuiGrid:n.Grid,Search:l.Z,Main:d.Z},data(){return{searchList:[{type:"text",vModel:"pk.fieldId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"searchId"},{type:"text",vModel:"fieldName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"select",vModel:"pk.metaDomain",label:this.$t("igate.fieldMeta.metaDomain"),val:this.metaDomain,optionInfo:{isViewAll:!1,optionFor:`option in ['${this.metaDomain}']`,optionValue:"option",optionText:"option"}},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0}],gridInfo:{url:"/api/entity/fieldMeta/search",totalCntUrl:"/api/entity/fieldMeta/count",paging:{isUse:!0,side:"server"},options:{rowHeaders:[{type:"checkbox",header:" "}],columns:[{header:this.$t("head.id"),name:"pk.fieldId",width:"30%"},{header:this.$t("head.name"),name:"fieldName",width:"30%"},{header:this.$t("common.type"),name:"fieldType",align:"center",width:"20%",formatter:t=>{const e={B:this.$t("igate.fieldMeta.fieldType.byte"),S:this.$t("igate.fieldMeta.fieldType.short"),I:this.$t("igate.fieldMeta.fieldType.int"),L:this.$t("igate.fieldMeta.fieldType.long"),F:this.$t("igate.fieldMeta.fieldType.float"),D:this.$t("igate.fieldMeta.fieldType.double"),N:this.$t("igate.fieldMeta.fieldType.numeric"),p:this.$t("igate.fieldMeta.fieldType.timeStamp"),b:this.$t("igate.fieldMeta.fieldType.boolean"),v:this.$t("igate.fieldMeta.fieldType.individual"),A:this.$t("igate.fieldMeta.fieldType.raw"),P:this.$t("igate.fieldMeta.fieldType.packedDecimal"),R:this.$t("igate.fieldMeta.fieldType.record"),T:this.$t("igate.fieldMeta.fieldType.string")};return e[t.row.fieldType]}},{header:this.$t("head.length"),name:"fieldLength",width:"10%",align:"right"},{header:"Scale",name:"fieldScale",width:"10%",align:"right"}]}},gridSearchObj:{},gridResizeFunc:this.resize,filterFieldMetaGridOptions:(0,c.d_)({rowHeaders:[{type:"checkbox",header:" "}],columns:[{header:this.$t("head.id"),name:"pk.fieldId",width:"30%"},{header:this.$t("head.name"),name:"fieldName",width:"30%"},{header:this.$t("common.type"),name:"fieldType",align:"center",width:"20%",formatter:t=>{const e={B:this.$t("igate.fieldMeta.fieldType.byte"),S:this.$t("igate.fieldMeta.fieldType.short"),I:this.$t("igate.fieldMeta.fieldType.int"),L:this.$t("igate.fieldMeta.fieldType.long"),F:this.$t("igate.fieldMeta.fieldType.float"),D:this.$t("igate.fieldMeta.fieldType.double"),N:this.$t("igate.fieldMeta.fieldType.numeric"),p:this.$t("igate.fieldMeta.fieldType.timeStamp"),b:this.$t("igate.fieldMeta.fieldType.boolean"),v:this.$t("igate.fieldMeta.fieldType.individual"),A:this.$t("igate.fieldMeta.fieldType.raw"),P:this.$t("igate.fieldMeta.fieldType.packedDecimal"),R:this.$t("igate.fieldMeta.fieldType.record"),T:this.$t("igate.fieldMeta.fieldType.string")};return e[t.row.fieldType]}},{header:this.$t("head.length"),name:"fieldLength",width:"10%",align:"right"},{header:"Scale",name:"fieldScale",width:"10%",align:"right"}]})}},created(){c.dc.$on("MainResize",this.resize),c.Gk.$on("MainResize",this.resize)},mounted(){this.$nextTick((()=>{this.search(this.$refs.search.getSearchObj())}))},methods:{addFieldMeta(){const t=this.$refs.main.$refs.grid.getCheckedRowInfo();if(0===t.length)return;const e=this.$refs.filterFieldMetaGrid.invoke("getData");t.forEach((t=>{if(0<e.length){const a=e.find((e=>t["pk.metaDomain"]===e["pk.metaDomain"]&&t["pk.fieldId"]===e["pk.fieldId"]));if(a)return}this.$refs.filterFieldMetaGrid.invoke("appendRow",r()(t))})),this.$refs.main.$refs.grid.getGrid().invoke("uncheckAll",!0),this.resize()},removeFieldMeta(){const t=this.$refs.filterFieldMetaGrid.invoke("getCheckedRows");0!==t.length?(t.forEach((t=>{this.$refs.filterFieldMetaGrid.invoke("removeRow",t.rowKey)})),this.resize()):this.$alert({message:this.$t("common.no.target.selected")})},initialize(){this.$refs.search.initialize()},search(t){this.gridSearchObj=t},resize(t){this.$nextTick((()=>{if(!document.contains(this.$el))return;const e=this.$el.closest(".modal-body"),a=getComputedStyle(e),i=(0,c.tJ)(a.getPropertyValue("padding-left")),s=(0,c.tJ)(a.getPropertyValue("padding-right")),n=(0,c.tJ)(a.getPropertyValue("padding-top")),o=(0,c.tJ)(a.getPropertyValue("padding-bottom")),r=this.$el.closest(".modal-body").clientWidth-i-s-50-5;t&&t.invoke("setWidth",r/2),this.$refs.filterFieldMetaGrid&&this.$refs.filterFieldMetaGrid.invoke("setWidth",r/2),this.$refs.pFieldMetaGrid.style.width=r/2+"px",this.$refs.pFilterFieldMetaGrid.style.width=r/2+"px";const l=e.querySelector(".ct-header").offsetHeight,d=e.querySelector(".sub-bar").offsetHeight,p=e.querySelector(".tui-grid-pagination").offsetHeight;t&&t.invoke("setHeight",this.$el.closest(".modal-body").clientHeight-n-o-l-d-p-50),this.$refs.filterFieldMetaGrid&&this.$refs.filterFieldMetaGrid.invoke("setHeight",this.$el.closest(".modal-body").clientHeight-n-o-p-50)}))},getData(){return this.$refs.filterFieldMetaGrid.invoke("getData")}}},h=p,u=a(43736),m=(0,u.Z)(h,i,s,!1,null,"17a602e2",null),g=m.exports},5351:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"cronExpressionModal"}},[e("ul",{staticClass:"nav nav-tabs flex-shrink-0"},t._l(t.items,(function(a,i){return e("li",{key:a.id,staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:i===t.selectedIdx},attrs:{href:"javascript:void(0);",id:a.id},on:{click:function(e){return t.changeTab(i)}}},[t._v(" "+t._s(a.name)+" ")])])})),0),e("div",{staticClass:"panel-body tab-content",staticStyle:{height:"220px"}},[e("div",{class:{[t.mode]:!0,"tab-pane":!0,active:0===t.selectedIdx}},[e("div",{staticClass:"form-group",staticStyle:{display:"inline-grid","margin-left":"11px"}},[e("label",{staticClass:"custom-control custom-radio custom-control-inline",style:t.hideIe?"margin-bottom: 16px":"margin-bottom: 13px"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.secondCheck,expression:"secondCheck"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"second",value:"1"},domProps:{checked:t._q(t.secondCheck,"1")},on:{change:function(e){t.secondCheck="1"}}}),e("span",{staticClass:"custom-control-label"},[t._v(" "+t._s(this.$t("igate.job.every"))+" "+t._s(this.$t("igate.job.second"))+" "+t._s(this.$t("igate.job.fromEveryTime"))+" ")])]),t.hideIe?e("div",[e("label",{staticClass:"custom-control custom-radio custom-control-inline custom-cron",staticStyle:{"margin-bottom":"16px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.secondCheck,expression:"secondCheck"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"second",value:"2"},domProps:{checked:t._q(t.secondCheck,"2")},on:{change:function(e){t.secondCheck="2"}}}),e("span",{staticClass:"custom-control-label cron-span"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.secondResult1,expression:"secondResult1"}],staticClass:"form-control view-disabled cron-select",attrs:{disabled:2!=t.secondCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.secondResult1=e.target.multiple?a:a[0]}}},t._l(60,(function(a){return e("option",{key:a,domProps:{textContent:t._s(a-1)}})})),0),t._v(" "+t._s(this.$t("igate.job.second"))+" "+t._s(this.$t("igate.job.fromEvery"))+" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.secondResult2,expression:"secondResult2"}],staticClass:"form-control view-disabled cron-select",attrs:{disabled:2!=t.secondCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.secondResult2=e.target.multiple?a:a[0]}}},t._l(60,(function(a){return e("option",{key:a,domProps:{textContent:t._s(a)}})})),0),t._v(" "+t._s(this.$t("igate.job.second"))+" "+t._s(this.$t("igate.job.fromEveryTime"))+" ")])])]):e("div",[e("label",{staticClass:"custom-control custom-radio custom-control-inline custom-cron-ie"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.secondCheck,expression:"secondCheck"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"second",value:"2"},domProps:{checked:t._q(t.secondCheck,"2")},on:{change:function(e){t.secondCheck="2"}}}),e("span",{staticClass:"custom-control-label cron-span"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.secondResult1,expression:"secondResult1"}],staticClass:"form-control view-disabled cron-select-ie",staticStyle:{"margin-left":"-16px"},attrs:{disabled:2!=t.secondCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.secondResult1=e.target.multiple?a:a[0]}}},t._l(60,(function(a){return e("option",{key:a,domProps:{textContent:t._s(a-1)}})})),0),t._v(" "+t._s(this.$t("igate.job.second"))+" "+t._s(this.$t("igate.job.fromEvery"))+" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.secondResult2,expression:"secondResult2"}],staticClass:"form-control view-disabled cron-select-ie",attrs:{disabled:2!=t.secondCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.secondResult2=e.target.multiple?a:a[0]}}},t._l(60,(function(a){return e("option",{key:a,domProps:{textContent:t._s(a)}})})),0),t._v(" "+t._s(this.$t("igate.job.second"))+" "+t._s(this.$t("igate.job.fromEveryTime"))+" ")]),t.hideIe?e("div",[e("label",{staticClass:"custom-control custom-radio custom-control-inline custom-cron",staticStyle:{"margin-bottom":"16px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.secondCheck,expression:"secondCheck"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"second",value:"3"},domProps:{checked:t._q(t.secondCheck,"3")},on:{change:function(e){t.secondCheck="3"}}}),e("span",{staticClass:"custom-control-label cron-span"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.secondResult3,expression:"secondResult3"}],staticClass:"form-control view-disabled cron-select",attrs:{disabled:3!=t.secondCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.secondResult3=e.target.multiple?a:a[0]}}},t._l(60,(function(a){return e("option",{key:a,domProps:{textContent:t._s(a-1)}})})),0),t._v(" "+t._s(this.$t("igate.job.second"))+" "+t._s(this.$t("igate.job.betweenAnd"))+" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.secondResult4,expression:"secondResult4"}],staticClass:"form-control view-disabled cron-select",attrs:{disabled:3!=t.secondCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.secondResult4=e.target.multiple?a:a[0]}}},t._l(60,(function(a){return e("option",{key:a,domProps:{textContent:t._s(a-1)}})})),0),t._v(" "+t._s(this.$t("igate.job.second"))+" "+t._s(this.$t("igate.job.betweenAndTime"))+" ")])])]):e("div",{staticStyle:{"margin-bottom":"8px"}},[e("label",{staticClass:"custom-control custom-radio custom-control-inline custom-cron-ie"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.secondCheck,expression:"secondCheck"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"second",value:"3"},domProps:{checked:t._q(t.secondCheck,"3")},on:{change:function(e){t.secondCheck="3"}}}),e("span",{staticClass:"custom-control-label cron-span"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.secondResult3,expression:"secondResult3"}],staticClass:"form-control view-disabled cron-select-ie",staticStyle:{"margin-left":"-16px"},attrs:{disabled:3!=t.secondCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.secondResult3=e.target.multiple?a:a[0]}}},t._l(60,(function(a){return e("option",{key:a,domProps:{textContent:t._s(a-1)}})})),0),t._v(" "+t._s(this.$t("igate.job.second"))+" "+t._s(this.$t("igate.job.betweenAnd"))+" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.secondResult4,expression:"secondResult4"}],staticClass:"form-control view-disabled cron-select-ie",attrs:{disabled:3!=t.secondCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.secondResult4=e.target.multiple?a:a[0]}}},t._l(60,(function(a){return e("option",{key:a,domProps:{textContent:t._s(a-1)}})})),0),t._v(" "+t._s(this.$t("igate.job.second"))+" "+t._s(this.$t("igate.job.betweenAndTime"))+" ")]),e("div",[e("label",{staticClass:"custom-control custom-radio custom-control-inline custom-cron",staticStyle:{display:"block"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.secondCheck,expression:"secondCheck"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"second",value:"4"},domProps:{checked:t._q(t.secondCheck,"4")},on:{change:function(e){t.secondCheck="4"}}}),e("span",{staticClass:"custom-control-label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.secondResult5,expression:"secondResult5"}],staticClass:"form-control view-disabled cron-input",attrs:{type:"text",placeholder:t.$t("igate.job.input"),disabled:4!=t.secondCheck},domProps:{value:t.secondResult5},on:{input:function(e){e.target.composing||(t.secondResult5=e.target.value)}}})])])])])]),e("div",{class:{[t.mode]:!0,"tab-pane":!0,active:1===t.selectedIdx}},[e("div",{staticClass:"form-group",staticStyle:{display:"inline-grid","margin-left":"11px"}},[e("label",{staticClass:"custom-control custom-radio custom-control-inline",style:t.hideIe?"margin-bottom: 16px":"margin-bottom: 13px"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.minuteCheck,expression:"minuteCheck"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"minute",value:"1"},domProps:{checked:t._q(t.minuteCheck,"1")},on:{change:function(e){t.minuteCheck="1"}}}),e("span",{staticClass:"custom-control-label"},[t._v(" "+t._s(this.$t("igate.job.every"))+" "+t._s(this.$t("igate.job.minute"))+" "+t._s(this.$t("igate.job.fromEveryTime"))+" ")])]),t.hideIe?e("div",[e("label",{staticClass:"custom-control custom-radio custom-control-inline custom-cron",staticStyle:{"margin-bottom":"16px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.minuteCheck,expression:"minuteCheck"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"minute",value:"2"},domProps:{checked:t._q(t.minuteCheck,"2")},on:{change:function(e){t.minuteCheck="2"}}}),e("span",{staticClass:"custom-control-label cron-span"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.minuteResult1,expression:"minuteResult1"}],staticClass:"form-control view-disabled cron-select",attrs:{disabled:2!=t.minuteCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.minuteResult1=e.target.multiple?a:a[0]}}},t._l(60,(function(a){return e("option",{key:a,domProps:{textContent:t._s(a-1)}})})),0),t._v(" "+t._s(this.$t("igate.job.minute"))+" "+t._s(this.$t("igate.job.fromEvery"))+" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.minuteResult2,expression:"minuteResult2"}],staticClass:"form-control view-disabled cron-select",attrs:{disabled:2!=t.minuteCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.minuteResult2=e.target.multiple?a:a[0]}}},t._l(60,(function(a){return e("option",{key:a,domProps:{textContent:t._s(a)}})})),0),t._v(" "+t._s(this.$t("igate.job.minute"))+" "+t._s(this.$t("igate.job.fromEveryTime"))+" ")])])]):e("div",[e("label",{staticClass:"custom-control custom-radio custom-control-inline custom-cron-ie"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.minuteCheck,expression:"minuteCheck"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"minute",value:"2"},domProps:{checked:t._q(t.minuteCheck,"2")},on:{change:function(e){t.minuteCheck="2"}}}),e("span",{staticClass:"custom-control-label cron-span"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.minuteResult1,expression:"minuteResult1"}],staticClass:"form-control view-disabled cron-select-ie",staticStyle:{"margin-left":"-16px"},attrs:{disabled:2!=t.minuteCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.minuteResult1=e.target.multiple?a:a[0]}}},t._l(60,(function(a){return e("option",{key:a,domProps:{textContent:t._s(a-1)}})})),0),t._v(" "+t._s(this.$t("igate.job.minute"))+" "+t._s(this.$t("igate.job.fromEvery"))+" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.minuteResult2,expression:"minuteResult2"}],staticClass:"form-control view-disabled cron-select-ie",attrs:{disabled:2!=t.minuteCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.minuteResult2=e.target.multiple?a:a[0]}}},t._l(60,(function(a){return e("option",{key:a,domProps:{textContent:t._s(a)}})})),0),t._v(" "+t._s(this.$t("igate.job.minute"))+" "+t._s(this.$t("igate.job.fromEveryTime"))+" ")]),t.hideIe?e("div",[e("label",{staticClass:"custom-control custom-radio custom-control-inline custom-cron",staticStyle:{"margin-bottom":"16px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.minuteCheck,expression:"minuteCheck"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"minute",value:"3"},domProps:{checked:t._q(t.minuteCheck,"3")},on:{change:function(e){t.minuteCheck="3"}}}),e("span",{staticClass:"custom-control-label cron-span"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.minuteResult3,expression:"minuteResult3"}],staticClass:"form-control view-disabled cron-select",attrs:{disabled:3!=t.minuteCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.minuteResult3=e.target.multiple?a:a[0]}}},t._l(60,(function(a){return e("option",{key:a,domProps:{textContent:t._s(a-1)}})})),0),t._v(" "+t._s(this.$t("igate.job.minute"))+" "+t._s(this.$t("igate.job.betweenAnd"))+" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.minuteResult4,expression:"minuteResult4"}],staticClass:"form-control view-disabled cron-select",attrs:{disabled:3!=t.minuteCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.minuteResult4=e.target.multiple?a:a[0]}}},t._l(60,(function(a){return e("option",{key:a,domProps:{textContent:t._s(a-1)}})})),0),t._v(" "+t._s(this.$t("igate.job.minute"))+" "+t._s(this.$t("igate.job.betweenAndTime"))+" ")])])]):e("div",{staticStyle:{"margin-bottom":"8px"}},[e("label",{staticClass:"custom-control custom-radio custom-control-inline custom-cron-ie"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.minuteCheck,expression:"minuteCheck"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"minute",value:"3"},domProps:{checked:t._q(t.minuteCheck,"3")},on:{change:function(e){t.minuteCheck="3"}}}),e("span",{staticClass:"custom-control-label cron-span"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.minuteResult3,expression:"minuteResult3"}],staticClass:"form-control view-disabled cron-select-ie",staticStyle:{"margin-left":"-16px"},attrs:{disabled:3!=t.minuteCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.minuteResult3=e.target.multiple?a:a[0]}}},t._l(60,(function(a){return e("option",{key:a,domProps:{textContent:t._s(a-1)}})})),0),t._v(" "+t._s(this.$t("igate.job.minute"))+" "+t._s(this.$t("igate.job.betweenAnd"))+" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.minuteResult4,expression:"minuteResult4"}],staticClass:"form-control view-disabled cron-select-ie",attrs:{disabled:3!=t.minuteCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.minuteResult4=e.target.multiple?a:a[0]}}},t._l(60,(function(a){return e("option",{key:a,domProps:{textContent:t._s(a-1)}})})),0),t._v(" "+t._s(this.$t("igate.job.minute"))+" "+t._s(this.$t("igate.job.betweenAndTime"))+" ")]),e("label",{staticClass:"custom-control custom-radio custom-control-inline custom-cron",staticStyle:{display:"block"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.minuteCheck,expression:"minuteCheck"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"minute",value:"4"},domProps:{checked:t._q(t.minuteCheck,"4")},on:{change:function(e){t.minuteCheck="4"}}}),e("span",{staticClass:"custom-control-label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.minuteResult5,expression:"minuteResult5"}],staticClass:"form-control view-disabled cron-input",attrs:{type:"text",placeholder:t.$t("igate.job.input"),disabled:4!=t.minuteCheck},domProps:{value:t.minuteResult5},on:{input:function(e){e.target.composing||(t.minuteResult5=e.target.value)}}})])])])]),e("div",{class:{[t.mode]:!0,"tab-pane":!0,active:2===t.selectedIdx}},[e("div",{staticClass:"form-group",staticStyle:{display:"inline-grid","margin-left":"11px"}},[e("label",{staticClass:"custom-control custom-radio custom-control-inline",style:t.hideIe?"margin-bottom: 16px":"margin-bottom: 13px"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.hourCheck,expression:"hourCheck"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"hour",value:"1"},domProps:{checked:t._q(t.hourCheck,"1")},on:{change:function(e){t.hourCheck="1"}}}),e("span",{staticClass:"custom-control-label"},[t._v(" "+t._s(this.$t("igate.job.every"))+" "+t._s(this.$t("igate.job.hour"))+" "+t._s(this.$t("igate.job.fromEveryTime"))+" ")])]),t.hideIe?e("div",[e("label",{staticClass:"custom-control custom-radio custom-control-inline custom-cron",staticStyle:{"margin-bottom":"16px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.hourCheck,expression:"hourCheck"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"hour",value:"2"},domProps:{checked:t._q(t.hourCheck,"2")},on:{change:function(e){t.hourCheck="2"}}}),e("span",{staticClass:"custom-control-label cron-span"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.hourResult1,expression:"hourResult1"}],staticClass:"form-control view-disabled cron-select",attrs:{disabled:2!=t.hourCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.hourResult1=e.target.multiple?a:a[0]}}},t._l(24,(function(a){return e("option",{key:a,domProps:{textContent:t._s(a-1)}})})),0),t._v(" "+t._s(this.$t("igate.job.hour"))+" "+t._s(this.$t("igate.job.fromEvery"))+" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.hourResult2,expression:"hourResult2"}],staticClass:"form-control view-disabled cron-select",attrs:{disabled:2!=t.hourCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.hourResult2=e.target.multiple?a:a[0]}}},t._l(24,(function(a){return e("option",{key:a,domProps:{textContent:t._s(a)}})})),0),t._v(" "+t._s(this.$t("igate.job.hour"))+" "+t._s(this.$t("igate.job.fromEveryTime"))+" ")])])]):e("div",[e("label",{staticClass:"custom-control custom-radio custom-control-inline custom-cron-ie"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.hourCheck,expression:"hourCheck"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"hour",value:"2"},domProps:{checked:t._q(t.hourCheck,"2")},on:{change:function(e){t.hourCheck="2"}}}),e("span",{staticClass:"custom-control-label cron-span"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.hourResult1,expression:"hourResult1"}],staticClass:"form-control view-disabled cron-select-ie",staticStyle:{"margin-left":"-16px"},attrs:{disabled:2!=t.hourCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.hourResult1=e.target.multiple?a:a[0]}}},t._l(60,(function(a){return e("option",{key:a,domProps:{textContent:t._s(a-1)}})})),0),t._v(" "+t._s(this.$t("igate.job.hour"))+" "+t._s(this.$t("igate.job.fromEvery"))+" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.hourResult2,expression:"hourResult2"}],staticClass:"form-control view-disabled cron-select-ie",attrs:{disabled:2!=t.hourCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.hourResult2=e.target.multiple?a:a[0]}}},t._l(60,(function(a){return e("option",{key:a,domProps:{textContent:t._s(a)}})})),0),t._v(" "+t._s(this.$t("igate.job.hour"))+" "+t._s(this.$t("igate.job.fromEveryTime"))+" ")]),t.hideIe?e("div",[e("label",{staticClass:"custom-control custom-radio custom-control-inline custom-cron",staticStyle:{"margin-bottom":"16px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.hourCheck,expression:"hourCheck"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"hour",value:"3"},domProps:{checked:t._q(t.hourCheck,"3")},on:{change:function(e){t.hourCheck="3"}}}),e("span",{staticClass:"custom-control-label cron-span"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.hourResult3,expression:"hourResult3"}],staticClass:"form-control view-disabled cron-select",attrs:{disabled:3!=t.hourCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.hourResult3=e.target.multiple?a:a[0]}}},t._l(24,(function(a){return e("option",{key:a,domProps:{textContent:t._s(a-1)}})})),0),t._v(" "+t._s(this.$t("igate.job.hour"))+" "+t._s(this.$t("igate.job.betweenAnd"))+" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.hourResult4,expression:"hourResult4"}],staticClass:"form-control view-disabled cron-select",attrs:{disabled:3!=t.hourCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.hourResult4=e.target.multiple?a:a[0]}}},t._l(24,(function(a){return e("option",{key:a,domProps:{textContent:t._s(a)}})})),0),t._v(" "+t._s(this.$t("igate.job.hour"))+" "+t._s(this.$t("igate.job.betweenAndTime"))+" ")])])]):e("div",{staticStyle:{"margin-bottom":"8px"}},[e("label",{staticClass:"custom-control custom-radio custom-control-inline custom-cron-ie"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.hourCheck,expression:"hourCheck"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"hour",value:"3"},domProps:{checked:t._q(t.hourCheck,"3")},on:{change:function(e){t.hourCheck="3"}}}),e("span",{staticClass:"custom-control-label cron-span"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.hourResult3,expression:"hourResult3"}],staticClass:"form-control view-disabled cron-select-ie",staticStyle:{"margin-left":"-16px"},attrs:{disabled:3!=t.hourCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.hourResult3=e.target.multiple?a:a[0]}}},t._l(24,(function(a){return e("option",{key:a,domProps:{textContent:t._s(a-1)}})})),0),t._v(" "+t._s(this.$t("igate.job.hour"))+" "+t._s(this.$t("igate.job.betweenAnd"))+" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.hourResult4,expression:"hourResult4"}],staticClass:"form-control view-disabled cron-select-ie",attrs:{disabled:3!=t.hourCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.hourResult4=e.target.multiple?a:a[0]}}},t._l(24,(function(a){return e("option",{key:a,domProps:{textContent:t._s(a)}})})),0),t._v(" "+t._s(this.$t("igate.job.hour"))+" "+t._s(this.$t("igate.job.betweenAndTime"))+" ")]),e("label",{staticClass:"custom-control custom-radio custom-control-inline custom-cron",staticStyle:{display:"block"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.hourCheck,expression:"hourCheck"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"hour",value:"4"},domProps:{checked:t._q(t.hourCheck,"4")},on:{change:function(e){t.hourCheck="4"}}}),e("span",{staticClass:"custom-control-label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.hourResult5,expression:"hourResult5"}],staticClass:"form-control view-disabled cron-input",attrs:{type:"text",placeholder:t.$t("igate.job.input"),disabled:4!=t.hourCheck},domProps:{value:t.hourResult5},on:{input:function(e){e.target.composing||(t.hourResult5=e.target.value)}}})])])])]),e("div",{class:{[t.mode]:!0,"tab-pane":!0,active:3===t.selectedIdx}},[e("div",{staticClass:"form-group",staticStyle:{display:"inline-grid","margin-left":"11px"}},[e("label",{staticClass:"custom-control custom-radio custom-control-inline",staticStyle:{"margin-bottom":"24px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.dayCheck,expression:"dayCheck"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"day",value:"1"},domProps:{checked:t._q(t.dayCheck,"1")},on:{change:function(e){t.dayCheck="1"}}}),e("span",{staticClass:"custom-control-label"},[t._v(" "+t._s(this.$t("igate.job.every"))+" "+t._s(this.$t("igate.job.dayOfMonth"))+" "+t._s(this.$t("igate.job.fromEveryTime"))+" ")])]),e("label",{staticClass:"custom-control custom-radio custom-control-inline",staticStyle:{display:"block","margin-bottom":"24px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.dayCheck,expression:"dayCheck"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"day",value:"2"},domProps:{checked:t._q(t.dayCheck,"2")},on:{change:function(e){t.dayCheck="2"}}}),e("span",{staticClass:"custom-control-label",style:t.hideIe?"top: 1px":"top: 4px"},[t._v(" "+t._s(this.$t("igate.job.noValue"))+" ")])]),e("label",{staticClass:"custom-control custom-radio custom-control-inline custom-cron",staticStyle:{display:"block"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.dayCheck,expression:"dayCheck"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"day",value:"3"},domProps:{checked:t._q(t.dayCheck,"3")},on:{change:function(e){t.dayCheck="3"}}}),e("span",{staticClass:"custom-control-label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.dayResult1,expression:"dayResult1"}],staticClass:"form-control view-disabled cron-input",attrs:{type:"text",placeholder:t.$t("igate.job.input"),disabled:3!=t.dayCheck},domProps:{value:t.dayResult1},on:{input:function(e){e.target.composing||(t.dayResult1=e.target.value)}}})])])])]),e("div",{class:{[t.mode]:!0,"tab-pane":!0,active:4===t.selectedIdx}},[e("div",{staticClass:"form-group",staticStyle:{display:"inline-grid","margin-left":"11px"}},[e("label",{staticClass:"custom-control custom-radio custom-control-inline",style:t.hideIe?"margin-bottom: 16px":"margin-bottom: 13px"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.monthCheck,expression:"monthCheck"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"month",value:"1"},domProps:{checked:t._q(t.monthCheck,"1")},on:{change:function(e){t.monthCheck="1"}}}),e("span",{staticClass:"custom-control-label"},[t._v(" "+t._s(this.$t("igate.job.every"))+" "+t._s(this.$t("igate.job.month"))+" "+t._s(this.$t("igate.job.fromEveryTime"))+" ")])]),t.hideIe?e("div",[e("label",{staticClass:"custom-control custom-radio custom-control-inline custom-cron",staticStyle:{"margin-bottom":"16px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.monthCheck,expression:"monthCheck"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"month",value:"2"},domProps:{checked:t._q(t.monthCheck,"2")},on:{change:function(e){t.monthCheck="2"}}}),e("span",{staticClass:"custom-control-label cron-span"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.monthResult1,expression:"monthResult1"}],staticClass:"form-control view-disabled cron-select",attrs:{disabled:2!=t.monthCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.monthResult1=e.target.multiple?a:a[0]}}},t._l(12,(function(a){return e("option",{key:a,domProps:{textContent:t._s(a)}})})),0),t._v(" "+t._s(this.$t("igate.job.month"))+" "+t._s(this.$t("igate.job.fromEvery"))+" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.monthResult2,expression:"monthResult2"}],staticClass:"form-control view-disabled cron-select",attrs:{disabled:2!=t.monthCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.monthResult2=e.target.multiple?a:a[0]}}},t._l(12,(function(a){return e("option",{key:a,domProps:{textContent:t._s(a)}})})),0),t._v(" "+t._s(this.$t("igate.job.month"))+" "+t._s(this.$t("igate.job.fromEveryTime"))+" ")])])]):e("div",[e("label",{staticClass:"custom-control custom-radio custom-control-inline custom-cron-ie"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.monthCheck,expression:"monthCheck"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"month",value:"2"},domProps:{checked:t._q(t.monthCheck,"2")},on:{change:function(e){t.monthCheck="2"}}}),e("span",{staticClass:"custom-control-label cron-span"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.monthResult1,expression:"monthResult1"}],staticClass:"form-control view-disabled cron-select-ie",staticStyle:{"margin-left":"-16px"},attrs:{disabled:2!=t.monthCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.monthResult1=e.target.multiple?a:a[0]}}},t._l(12,(function(a){return e("option",{key:a,domProps:{textContent:t._s(a-1)}})})),0),t._v(" "+t._s(this.$t("igate.job.month"))+" "+t._s(this.$t("igate.job.fromEvery"))+" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.monthResult2,expression:"monthResult2"}],staticClass:"form-control view-disabled cron-select-ie",attrs:{disabled:2!=t.monthCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.monthResult2=e.target.multiple?a:a[0]}}},t._l(12,(function(a){return e("option",{key:a,domProps:{textContent:t._s(a)}})})),0),t._v(" "+t._s(this.$t("igate.job.month"))+" "+t._s(this.$t("igate.job.fromEveryTime"))+" ")]),t.hideIe?e("div",[e("label",{staticClass:"custom-control custom-radio custom-control-inline custom-cron",staticStyle:{"margin-bottom":"16px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.monthCheck,expression:"monthCheck"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"month",value:"3"},domProps:{checked:t._q(t.monthCheck,"3")},on:{change:function(e){t.monthCheck="3"}}}),e("span",{staticClass:"custom-control-label cron-span"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.monthResult3,expression:"monthResult3"}],staticClass:"form-control view-disabled cron-select",attrs:{disabled:3!=t.monthCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.monthResult3=e.target.multiple?a:a[0]}}},t._l(12,(function(a){return e("option",{key:a,domProps:{textContent:t._s(a)}})})),0),t._v(" "+t._s(this.$t("igate.job.month"))+" "+t._s(this.$t("igate.job.betweenAnd"))+" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.monthResult4,expression:"monthResult4"}],staticClass:"form-control view-disabled cron-select",attrs:{disabled:3!=t.monthCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.monthResult4=e.target.multiple?a:a[0]}}},t._l(12,(function(a){return e("option",{key:a,domProps:{textContent:t._s(a)}})})),0),t._v(" "+t._s(this.$t("igate.job.month"))+" "+t._s(this.$t("igate.job.betweenAndTime"))+" ")])])]):e("div",{staticStyle:{"margin-bottom":"8px"}},[e("label",{staticClass:"custom-control custom-radio custom-control-inline custom-cron-ie"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.monthCheck,expression:"monthCheck"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"month",value:"3"},domProps:{checked:t._q(t.monthCheck,"3")},on:{change:function(e){t.monthCheck="3"}}}),e("span",{staticClass:"custom-control-label cron-span"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.monthResult3,expression:"monthResult3"}],staticClass:"form-control view-disabled cron-select-ie",staticStyle:{"margin-left":"-16px"},attrs:{disabled:3!=t.monthCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.monthResult3=e.target.multiple?a:a[0]}}},t._l(12,(function(a){return e("option",{key:a,domProps:{textContent:t._s(a)}})})),0),t._v(" "+t._s(this.$t("igate.job.month"))+" "+t._s(this.$t("igate.job.betweenAnd"))+" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.monthResult4,expression:"monthResult4"}],staticClass:"form-control view-disabled cron-select-ie",attrs:{disabled:3!=t.monthCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.monthResult4=e.target.multiple?a:a[0]}}},t._l(12,(function(a){return e("option",{key:a,domProps:{textContent:t._s(a)}})})),0),t._v(" "+t._s(this.$t("igate.job.month"))+" "+t._s(this.$t("igate.job.betweenAndTime"))+" ")]),e("label",{staticClass:"custom-control custom-radio custom-control-inline custom-cron",staticStyle:{display:"block"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.monthCheck,expression:"monthCheck"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"month",value:"4"},domProps:{checked:t._q(t.monthCheck,"4")},on:{change:function(e){t.monthCheck="4"}}}),e("span",{staticClass:"custom-control-label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.monthResult5,expression:"monthResult5"}],staticClass:"form-control view-disabled cron-input",attrs:{type:"text",placeholder:t.$t("igate.job.input"),disabled:4!=t.monthCheck},domProps:{value:t.monthResult5},on:{input:function(e){e.target.composing||(t.monthResult5=e.target.value)}}})])])])]),e("div",{class:{[t.mode]:!0,"tab-pane":!0,active:5===t.selectedIdx}},[e("div",{staticClass:"form-group",staticStyle:{display:"inline-grid","margin-left":"11px"}},[e("label",{staticClass:"custom-control custom-radio custom-control-inline",style:t.hideIe?"margin-bottom: 16px":"margin-bottom: 21px"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.weekCheck,expression:"weekCheck"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"week",value:"1"},domProps:{checked:t._q(t.weekCheck,"1")},on:{change:function(e){t.weekCheck="1"}}}),e("span",{staticClass:"custom-control-label"},[t._v(" "+t._s(this.$t("igate.job.noValue"))+" ")])]),t.hideIe?e("div",[e("label",{staticClass:"custom-control custom-radio custom-control-inline custom-cron",staticStyle:{"margin-bottom":"16px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.weekCheck,expression:"weekCheck"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"week",value:"2"},domProps:{checked:t._q(t.weekCheck,"2")},on:{change:function(e){t.weekCheck="2"}}}),e("span",{staticClass:"custom-control-label"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.weekResult1,expression:"weekResult1"}],staticClass:"form-control view-disabled",attrs:{disabled:2!=t.weekCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.weekResult1=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"Sun"}},[t._v(t._s(this.$t("igate.job.sunday")))]),e("option",{attrs:{value:"Mon"}},[t._v(t._s(this.$t("igate.job.monday")))]),e("option",{attrs:{value:"Tue"}},[t._v(t._s(this.$t("igate.job.tuesday")))]),e("option",{attrs:{value:"Wed"}},[t._v(t._s(this.$t("igate.job.wednesday")))]),e("option",{attrs:{value:"Thu"}},[t._v(t._s(this.$t("igate.job.thursday")))]),e("option",{attrs:{value:"Fri"}},[t._v(t._s(this.$t("igate.job.friday")))]),e("option",{attrs:{value:"Sat"}},[t._v(t._s(this.$t("igate.job.saturday")))])])])])]):e("div",[e("label",{staticClass:"custom-control custom-radio custom-control-inline custom-cron-ie",staticStyle:{"margin-bottom":"8px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.weekCheck,expression:"weekCheck"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"week",value:"2"},domProps:{checked:t._q(t.weekCheck,"2")},on:{change:function(e){t.weekCheck="2"}}}),e("span",{staticClass:"custom-control-label"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.weekResult1,expression:"weekResult1"}],staticClass:"form-control view-disabled cron-select-ie",staticStyle:{"margin-left":"-16px"},attrs:{disabled:2!=t.weekCheck},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.weekResult1=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"Sun"}},[t._v(t._s(this.$t("igate.job.sunday")))]),e("option",{attrs:{value:"Mon"}},[t._v(t._s(this.$t("igate.job.monday")))]),e("option",{attrs:{value:"Tue"}},[t._v(t._s(this.$t("igate.job.tuesday")))]),e("option",{attrs:{value:"Wed"}},[t._v(t._s(this.$t("igate.job.wednesday")))]),e("option",{attrs:{value:"Thu"}},[t._v(t._s(this.$t("igate.job.thursday")))]),e("option",{attrs:{value:"Fri"}},[t._v(t._s(this.$t("igate.job.friday")))]),e("option",{attrs:{value:"Sat"}},[t._v(t._s(this.$t("igate.job.saturday")))])])]),e("label",{staticClass:"custom-control custom-radio custom-control-inline custom-cron",staticStyle:{display:"block"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.weekCheck,expression:"weekCheck"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"week",value:"3"},domProps:{checked:t._q(t.weekCheck,"3")},on:{change:function(e){t.weekCheck="3"}}}),e("span",{staticClass:"custom-control-label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.weekResult2,expression:"weekResult2"}],staticClass:"form-control view-disabled cron-input",attrs:{type:"text",placeholder:t.$t("igate.job.input"),disabled:3!=t.weekCheck},domProps:{value:t.weekResult2},on:{input:function(e){e.target.composing||(t.weekResult2=e.target.value)}}})])])])])]),e("div",{staticClass:"table-responsive",staticStyle:{overflow:"hidden",height:"60px"}},[e("TuiGrid",t._b({ref:"tuiGrid"},"TuiGrid",t.options,!1))],1)])},s=[],n=a(37856),o=a(37662),r={name:"CronExpressionModal",props:{cron:Array},components:{TuiGrid:n.Grid},data(){return{selectedIdx:0,mode:"detail",hideIe:!0,astro:"*",slash:"/",hyphen:"-",question:"?",comma:",",hash:"#",reg1:/[ㄱ-ㅎ|ㅏ-ㅣ|가-힣|a-z|A-Z|.~!?@;:\#$\\\%<>^&\()\=+_\’`]/,reg2:/[ㄱ-ㅎ|ㅏ-ㅣ|가-힣|a-z|A-Z|.~!@;:\#$\\\%<>^&\()\=+_\’`]/,reg3:/[ㄱ-ㅎ|ㅏ-ㅣ|가-힣|.~!?@;:\#$\\\%<>^&\()\=+_\’`]/,reg4:/[ㄱ-ㅎ|ㅏ-ㅣ|가-힣|.~!@;:\$\\\%<>^&\()\=+_\’`]/,regexr:/^\s*($|#|\w+\s*=|(\?|\*|(?:[0-5]?\d)(?:(?:-|\/|\,)(?:[0-5]?\d))?(?:,(?:[0-5]?\d)(?:(?:-|\/|\,)(?:[0-5]?\d))?)*)\s(\?|\*|(?:[0-5]?\d)(?:(?:-|\/|\,)(?:[0-5]?\d))?(?:,(?:[0-5]?\d)(?:(?:-|\/|\,)(?:[0-5]?\d))?)*)\s(\?|\*|(?:[01]?\d|2[0-3])(?:(?:-|\/|\,)(?:[01]?\d|2[0-3]))?(?:,(?:[01]?\d|2[0-3])(?:(?:-|\/|\,)(?:[01]?\d|2[0-3]))?)*)\s(\?|\*|(?:0?[1-9]|[12]\d|3[01])(?:(?:-|\/|\,)(?:0?[1-9]|[12]\d|3[01]))?(?:,(?:0?[1-9]|[12]\d|3[01])(?:(?:-|\/|\,)(?:0?[1-9]|[12]\d|3[01]))?)*)\s(\?|\*|(?:[1-9]|1[012])(?:(?:-|\/|\,)(?:[1-9]|1[012]))?(?:L|W)?(?:,(?:[1-9]|1[012])(?:(?:-|\/|\,)(?:[1-9]|1[012]))?(?:L|W)?)*|\?|\*|(?:JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC)(?:(?:-)(?:JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC))?(?:,(?:JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC)(?:(?:-)(?:JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC))?)*)\s(\?|\*|(?:[0-6])(?:(?:-|\/|\,|#)(?:[0-6]))?(?:,(?:[0-6])(?:(?:-|\/|\,|#)(?:[0-6]))?)*|\?|\*|(?:MON|TUE|WED|THU|FRI|SAT|SUN)(?:(?:-)(?:MON|TUE|WED|THU|FRI|SAT|SUN))?(?:,(?:MON|TUE|WED|THU|FRI|SAT|SUN)(?:(?:-)(?:MON|TUE|WED|THU|FRI|SAT|SUN))?)*))$/i,secondSelect:null,minuteSelect:null,hourSelect:null,monthSelect:null,secondCheck:null,minuteCheck:null,hourCheck:null,dayCheck:null,monthCheck:null,weekCheck:null,newDataObj:{second:this.astro,minute:this.astro,hour:this.astro,dayOfMonth:this.astro,month:this.astro,dayOfWeek:this.question},result:null,cronResult:null,secondResult1:"",secondResult2:"",secondResult3:"",secondResult4:"",secondResult5:"",minuteResult1:"",minuteResult2:"",minuteResult3:"",minuteResult4:"",minuteResult5:"",hourResult1:"",hourResult2:"",hourResult3:"",hourResult4:"",hourResult5:"",dayResult1:"",monthResult1:"",monthResult2:"",monthResult3:"",monthResult4:"",monthResult5:"",weekResult1:"",weekResult2:"",items:[{id:"JobSecondTab",name:this.$t("igate.job.second")},{id:"JobMinuteTab",name:this.$t("igate.job.minute")},{id:"JobHourTab",name:this.$t("igate.job.hour")},{id:"JobDayTab",name:this.$t("igate.job.dayOfMonth")},{id:"JobMonthTab",name:this.$t("igate.job.month")},{id:"JobWeekTab",name:this.$t("igate.job.dayOfWeek")}],options:{scrollX:!1,scrollY:!1,columns:[{name:"second",header:this.$t("igate.job.second"),align:"center"},{name:"minute",header:this.$t("igate.job.minute"),align:"center"},{name:"hour",header:this.$t("igate.job.hour"),align:"center"},{name:"dayOfMonth",header:this.$t("igate.job.dayOfMonth"),align:"center"},{name:"month",header:this.$t("igate.job.month"),align:"center"},{name:"dayOfWeek",header:this.$t("igate.job.dayOfWeek"),align:"center"}]}}},async created(){this.options=(0,o.d_)(this.options),-1!=this.cron[0].indexOf(this.comma)?(this.secondCheck=4,this.secondResult5=this.cron[0]):-1!=this.cron[0].indexOf(this.astro)?this.secondCheck=1:-1!=this.cron[0].indexOf(this.slash)?(this.secondCheck=2,this.secondSelect=this.cron[0].split(this.slash),this.secondResult1=this.secondSelect[0],this.secondResult2=this.secondSelect[1]):-1!=this.cron[0].indexOf(this.hyphen)?(this.secondCheck=3,this.secondSelect=this.cron[0].split(this.hyphen),this.secondResult3=this.secondSelect[0],this.secondResult4=this.secondSelect[1]):(this.secondCheck=4,this.secondResult5=this.cron[0]),-1!=this.cron[1].indexOf(this.comma)?(this.minuteCheck=4,this.minuteResult5=this.cron[1]):-1!=this.cron[1].indexOf(this.astro)?this.minuteCheck=1:-1!=this.cron[1].indexOf(this.slash)?(this.minuteCheck=2,this.minuteSelect=this.cron[1].split(this.slash),this.minuteResult1=this.minuteSelect[0],this.minuteResult2=this.minuteSelect[1]):-1!=this.cron[1].indexOf(this.hyphen)?(this.minuteCheck=3,this.minuteSelect=this.cron[1].split(this.hyphen),this.minuteResult3=this.minuteSelect[0],this.minuteResult4=this.minuteSelect[1]):(this.minuteCheck=4,this.minuteResult5=this.cron[1]),-1!=this.cron[2].indexOf(this.comma)?(this.hourCheck=4,this.hourResult5=this.cron[1]):-1!=this.cron[2].indexOf(this.astro)?this.hourCheck=1:-1!=this.cron[2].indexOf(this.slash)?(this.hourCheck=2,this.hourSelect=this.cron[2].split(this.slash),this.hourResult1=this.hourSelect[0],this.hourResult2=this.hourSelect[1]):-1!=this.cron[2].indexOf(this.hyphen)?(this.hourCheck=3,this.hourSelect=this.cron[2].split(this.hyphen),this.hourResult3=this.hourSelect[0],this.hourResult4=this.hourSelect[1]):(this.hourCheck=4,this.hourResult5=this.cron[2]),-1!=this.cron[3].indexOf(this.comma)?(this.dayCheck=3,this.dayResult1=this.cron[3]):-1!=this.cron[3].indexOf(this.astro)?this.dayCheck=1:-1!=this.cron[3].indexOf(this.question)?this.dayCheck=2:(this.dayCheck=3,this.dayResult1=this.cron[3]),-1!=this.cron[4].indexOf(this.comma)?(this.monthCheck=4,this.monthResult5=this.cron[1]):-1!=this.cron[4].indexOf(this.astro)?this.monthCheck=1:-1!=this.cron[4].indexOf(this.slash)?(this.monthCheck=2,this.monthSelect=this.cron[4].split(this.slash),this.monthResult1=this.monthSelect[0],this.monthResult2=this.monthSelect[1]):-1!=this.cron[4].indexOf(this.hyphen)?(this.monthCheck=3,this.monthSelect=this.cron[4].split(this.hyphen),this.monthResult3=this.monthSelect[0],this.monthResult4=this.monthSelect[1]):(this.monthCheck=4,this.monthResult5=this.cron[4]),-1!=this.cron[5].indexOf(this.question)?this.weekCheck=1:-1!=this.cron[5].indexOf(this.astro)||-1!=this.cron[5].indexOf(this.slash)||-1!=this.cron[5].indexOf(this.hyphen)||-1!=this.cron[5].indexOf(this.comma)||-1!=this.cron[5].indexOf(this.hash)?(this.weekCheck=3,this.weekResult2=this.cron[5]):(this.weekCheck=2,"0"===this.cron[5]||"SUN"===this.cron[5]||"sun"===this.cron[5]||"Sun"===this.cron[5]?this.weekResult1="Sun":"1"===this.cron[5]||"MON"===this.cron[5]||"mon"===this.cron[5]||"Mon"===this.cron[5]?this.weekResult1="Mon":"2"===this.cron[5]||"TUE"===this.cron[5]||"tue"===this.cron[5]||"Tue"===this.cron[5]?this.weekResult1="Tue":"3"===this.cron[5]||"WED"===this.cron[5]||"wed"===this.cron[5]||"Wed"===this.cron[5]?this.weekResult1="Wed":"4"===this.cron[5]||"THU"===this.cron[5]||"thu"===this.cron[5]||"Thu"===this.cron[5]?this.weekResult1="Thu":"5"===this.cron[5]||"FRI"===this.cron[5]||"fri"===this.cron[5]||"Fri"===this.cron[5]?this.weekResult1="Fri":"6"!==this.cron[5]&&"SAT"!==this.cron[5]&&"sat"!==this.cron[5]&&"Sat"!==this.cron[5]||(this.weekResult1="Sat"))},mounted(){if(!this.$refs.tuiGrid)return;let t={second:this.cron[0],minute:this.cron[1],hour:this.cron[2],dayOfMonth:this.cron[3],month:this.cron[4],dayOfWeek:this.cron[5]};this.gridData(t);const e=navigator.userAgent.toLowerCase();this.hideIe=!("Netscape"==navigator.appName&&-1!=e.indexOf("trident")||-1!=e.indexOf("msie"))},watch:{secondCheck(){1==this.secondCheck?this.result=this.astro:2==this.secondCheck?this.result=`${this.secondResult1}${this.slash}${this.secondResult2}`:3==this.secondCheck?this.result=`${this.secondResult3}${this.hyphen}${this.secondResult4}`:4==this.secondCheck&&(this.result=`${this.secondResult5}`),this.gridData({second:this.result})},secondResult1(){this.gridData({second:`${this.secondResult1}${this.slash}${this.secondResult2}`})},secondResult2(){this.gridData({second:`${this.secondResult1}${this.slash}${this.secondResult2}`})},secondResult3(){this.gridData({second:`${this.secondResult3}${this.hyphen}${this.secondResult4}`})},secondResult4(){this.gridData({second:`${this.secondResult3}${this.hyphen}${this.secondResult4}`})},secondResult5(){this.gridData({second:this.secondResult5})},minuteCheck(){1==this.minuteCheck?this.result=this.astro:2==this.minuteCheck?this.result=`${this.minuteResult1}${this.slash}${this.minuteResult2}`:3==this.minuteCheck?this.result=`${this.minuteResult3}${this.hyphen}${this.minuteResult4}`:4==this.minuteCheck&&(this.result=`${this.minuteResult5}`),this.gridData({minute:this.result})},minuteResult1(){this.gridData({minute:`${this.minuteResult1}${this.slash}${this.minuteResult2}`})},minuteResult2(){this.gridData({minute:`${this.minuteResult1}${this.slash}${this.minuteResult2}`})},minuteResult3(){this.gridData({minute:`${this.minuteResult3}${this.hyphen}${this.minuteResult4}`})},minuteResult4(){this.gridData({minute:`${this.minuteResult3}${this.hyphen}${this.minuteResult4}`})},minuteResult5(){this.gridData({minute:this.minuteResult5})},hourCheck(){1==this.hourCheck?this.result=this.astro:2==this.hourCheck?this.result=`${this.hourResult1}${this.slash}${this.hourResult2}`:3==this.hourCheck?this.result=`${this.hourResult3}${this.hyphen}${this.hourResult4}`:4==this.hourCheck&&(this.result=`${this.hourResult5}`),this.gridData({hour:this.result})},hourResult1(){this.gridData({hour:`${this.hourResult1}${this.slash}${this.hourResult2}`})},hourResult2(){this.gridData({hour:`${this.hourResult1}${this.slash}${this.hourResult2}`})},hourResult3(){this.gridData({hour:`${this.hourResult3}${this.hyphen}${this.hourResult4}`})},hourResult4(){this.gridData({hour:`${this.hourResult3}${this.hyphen}${this.hourResult4}`})},hourResult5(){this.gridData({hour:this.hourResult5})},dayCheck(){1==this.dayCheck?(this.result=this.astro,-1!=this.weekCheck&&(this.weekCheck=1,this.gridData({dayOfWeek:this.question}))):2==this.dayCheck?(this.result=this.question,1==this.weekCheck&&(this.weekCheck=3,this.weekResult2=this.astro,this.gridData({dayOfWeek:this.astro}))):3==this.dayCheck&&(this.result=this.dayResult1,1!=this.weekCheck&&(this.weekCheck=1,this.gridData({dayOfWeek:this.question}))),this.gridData({dayOfMonth:this.result})},dayResult1(){this.gridData({dayOfMonth:this.dayResult1})},monthCheck(){1==this.monthCheck?this.result=this.astro:2==this.monthCheck?this.result=`${this.monthResult1}${this.slash}${this.monthResult2}`:3==this.monthCheck?this.result=`${this.monthResult3}${this.hyphen}${this.monthResult4}`:4==this.monthCheck&&(this.result=`${this.monthResult5}`),this.gridData({month:this.result})},monthResult1(){this.gridData({month:`${this.monthResult1}${this.slash}${this.monthResult2}`})},monthResult2(){this.gridData({month:`${this.monthResult1}${this.slash}${this.monthResult2}`})},monthResult3(){this.gridData({month:`${this.monthResult3}${this.hyphen}${this.monthResult4}`})},monthResult4(){this.gridData({month:`${this.monthResult3}${this.hyphen}${this.monthResult4}`})},monthResult5(){this.gridData({month:this.monthResult5})},weekCheck(){1==this.weekCheck?(this.result=this.question,2==this.dayCheck&&(this.dayCheck=1,this.gridData({dayOfMonth:this.astro}))):2==this.weekCheck?(this.result=this.weekResult1,2!=this.dayCheck&&(this.dayCheck=2,this.gridData({dayOfMonth:this.question}))):3==this.weekCheck&&(this.result=this.weekResult2,2!=this.dayCheck&&(this.dayCheck=2,this.gridData({dayOfMonth:this.question}))),this.gridData({dayOfWeek:this.result})},weekResult1(){this.gridData({dayOfWeek:this.weekResult1})},weekResult2(){this.gridData({dayOfWeek:this.weekResult2})}},methods:{changeTab(t){const{second:e,minute:a,hour:i,dayOfMonth:s,month:n,dayOfWeek:o}=this.$refs.tuiGrid.invoke("getRowAt",0);let r=null;this.reg1.test(e)||this.reg1.test(a)||this.reg1.test(i)?r=`${this.$t("igate.job.validationBasic")} ${this.$t("igate.job.validationEn")} ${this.$t("igate.job.validationKo")}`:this.reg2.test(s)?r=`${this.$t("igate.job.validationQuestion")} ${this.$t("igate.job.validationEn")} ${this.$t("igate.job.validationKo")}`:this.reg3.test(n)?r=this.$t("igate.job.validationBasic"):this.reg4.test(o)?r=this.$t("igate.job.validationHash"):this.regexr.test(this.cronResult)||(r=this.$t("igate.job.error")),r?this.$alert({type:"warn",message:r}):this.selectedIdx=t},gridData(t){for(const r in t)this.newDataObj[r]=t[r];this.$refs.tuiGrid.invoke("resetData",[this.newDataObj]);const{second:e,minute:a,hour:i,dayOfMonth:s,month:n,dayOfWeek:o}=this.$refs.tuiGrid.invoke("getRowAt",0);this.cronResult=`${e} ${a} ${i} ${s} ${n} ${o}`}}},l=r,d=a(43736),c=(0,d.Z)(l,i,s,!1,null,null,null),p=c.exports},3494:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(t.$t("head.constant"))+" "),e("span",{staticClass:"letterLength",domProps:{textContent:t._s(`(${t.currLength}/${t.maxLength})`)}})])]),e("div",{staticClass:"detail-content-regExp",staticStyle:{"padding-left":"8px"}},[e("span",{staticStyle:{cursor:"auto"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.constant,expression:"constant"}],staticClass:"regExp-text view-disabled",attrs:{type:"text",maxlength:t.maxLength},domProps:{value:t.constant},on:{input:[function(e){e.target.composing||(t.constant=e.target.value)},t.input]}})])])])])])])},s=[],n=a(37662),o={name:"constant",props:{rawValueInfo:Object},data(){return{currLength:0,maxLength:0,regExp:null,constant:null}},created(){const{maxLength:t,regExp:e}=(0,n.oo)("value");this.maxLength=t,this.regExp=e},methods:{input(t){this.constant=t.target.value.replace(new RegExp(this.regExp,"g"),""),this.currLength=this.constant.length},setData(){if(null===this.rawValueInfo)return;const{type:t,name:e}=this.rawValueInfo;"ConstantExpression"===t&&(this.constant=e,this.currLength=this.constant.length)},getData(){return this.constant}},watch:{rawValueInfo:{immediate:!0,deep:!0,handler(){this.setData()}}}},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,null,null),c=d.exports},13729:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.function")))])]),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedActivityInfo,expression:"selectedActivityInfo"}],staticClass:"form-control view-disabled",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedActivityInfo=e.target.multiple?a:a[0]},t.selectedActivityChange]}},t._l(t.activityInfoList,(function(a,i){return e("option",{key:i,domProps:{value:a,textContent:t._s(`${a.activityId} - ${a.activityName}`)}})})),0)])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.list")))])]),e("TuiGrid",t._b({ref:"tuiGrid"},"TuiGrid",t.options,!1))],1),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.detail")))])]),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("span",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedDetail,expression:"selectedDetail"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:"readonly"},domProps:{value:t.selectedDetail},on:{input:function(e){e.target.composing||(t.selectedDetail=e.target.value)}}})])])])])])},s=[],n=(a(57658),a(37856)),o=a(37662),r={name:"function",props:{pageType:String,className:String,sourceRecordIdArr:Array,targetRecordIdArr:Array,rawValueInfo:Object,Variables:Object},components:{TuiGrid:n.Grid},data(){return{activityInfoList:[],activityInfo:null,selectedActivityInfo:null,selectedDetail:null,options:{columns:[{header:"Argument Type",name:"parameterType"},{header:"Argument Value",name:"argumentValue",formatter:({row:t})=>`<div>\n\t\t\t\t\t\t\t\t\t\t<button type="button" class="btn-icon" style="width: 16px;height: 16px">\n\t\t\t\t\t\t\t \t\t\t\t<i class="icon-plus-circle"></i>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t<span style="display: inline-block; height: 16px; vertical-align: top;">\n\t\t\t\t\t\t\t\t\t\t\t${(0,o.Xv)(t.argumentValue)}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>`}],data:[],onGridMounted:t=>{t.instance.on("click",(t=>{if(!t.nativeEvent.target.classList.contains("icon-plus-circle"))return;const e=this.pageType,{parameterType:i,argumentValue:s}=this.$refs.tuiGrid.invoke("getRow",t.rowKey),n=i,o=s||null,r=this.sourceRecordIdArr,l=this.targetRecordIdArr,d=this.Variables,c=this,p=this.$openModal({title:"Mapping Expression",modalWidth:"1000px",modalHeight:"800px",contentList:[{template:'<reference :pageType="pageType" :mappingExpression="mappingExpression" :className="className" :sourceRecordIdArr="sourceRecordIdArr" :targetRecordIdArr="targetRecordIdArr" :Variables="Variables"/>',components:{reference:a(38401)["default"]},data(){return{pageType:e,mappingExpression:o,className:n,sourceRecordIdArr:r,targetRecordIdArr:l,Variables:d}}}],buttonList:[{template:`<button type="button" class="btn btn-primary" @click="click"> ${this.$t("head.ok")} </button>`,methods:{async click(){const{expression:e,isValidation:a}=await p.$refs.content[0].$children[0].getData();if(!e)return void this.$alert({type:"warn",message:this.$t("head.no.data.warn")});if(!a)return;c.$refs.tuiGrid.invoke("setValue",t.rowKey,"argumentValue",e);const i=c.$refs.tuiGrid.invoke("getData");c.selectedDetail=c.selectedActivityInfo.activityId+"(";const s=[];i.forEach((t=>{s.push(t.argumentValue)})),c.selectedDetail+=`${s.join(",")}`,c.selectedDetail+=")",p.hideModal()}}}]})}))}}}},created(){this.options=(0,o.d_)(this.options)},async mounted(){const t=await new o.p0("/api/mapping/expression/functions").read({targetType:this.className});this.activityInfoList=t.data.object,o.dc.$on("MainResize",this.resize),this.resize(),this.setData()},watch:{selectedActivityInfo(){this.$startSpinner(),this.$refs.tuiGrid.invoke("clear"),"object"===typeof this.selectedActivityInfo&&this.$refs.tuiGrid.invoke("resetData",this.selectedActivityInfo.activityParameters.filter(((t,e)=>0!==e))),this.$nextTick((()=>{this.resize(),setTimeout((()=>{this.$stopSpinner()}),300)}))},rawValueInfo:{immediate:!0,deep:!0,handler(){this.setData()}}},methods:{resize(){this.$refs.tuiGrid&&this.$nextTick((()=>{const t=document.querySelector("#referenceModal").parentNode,e=t.clientWidth-48-76,a=t.clientHeight-32-48-48-56-16-24-72;this.$refs.tuiGrid.invoke("setWidth",e),this.$refs.tuiGrid.invoke("setHeight",a)}))},selectedActivityChange(){this.selectedDetail=null},setData(){if(!this.rawValueInfo)return;if(0===this.activityInfoList.length)return;const{type:t,name:e,args:a}=this.rawValueInfo;if("FunctionExpression"===t){this.selectedDetail=e;for(const t of this.activityInfoList)if(e===t.activityId){this.selectedActivityInfo=t;break}this.$nextTick((()=>{if(!a||0===a.length)return;a.forEach((({expressionString:t},e)=>{this.$refs.tuiGrid.invoke("setValue",e,"argumentValue",t)}));const t=this.$refs.tuiGrid.invoke("getData"),e=[];t.forEach((t=>{e.push(t.argumentValue)})),this.selectedDetail+="(",this.selectedDetail+=e.join(","),this.selectedDetail+=")"}))}},getData(){return null===this.selectedDetail?"":this.selectedDetail}}},l=r,d=a(43736),c=(0,d.Z)(l,i,s,!1,null,null,null),p=c.exports},26459:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",{staticStyle:{display:"inline-block","margin-top":"8px"}},[t._v(t._s(t.$t("igate.message.code")))]),e("span",{staticClass:"letterLength",staticStyle:{display:"inline-block","margin-top":"8px"}},[t._v(" ("+t._s(t.currentLength)+" / "+t._s(t.maxLength)+") ")]),e("button",{staticClass:"btn-icon",attrs:{type:"button"},on:{click:t.openReferenceModal}},[e("i",{staticClass:"icon-plus-circle"})])]),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"form-control view-disabled",style:t.style,attrs:{maxlength:t.maxLength},domProps:{value:t.code},on:{input:[function(e){e.target.composing||(t.code=e.target.value)},t.input]}})])])])])])},s=[],n=a(37662),o={name:"javaStyle",props:{pageType:String,sourceRecordIdArr:Array,targetRecordIdArr:Array,rawValueInfo:Object,Variables:Object},data(){return{maxLength:5e3,currentLength:0,regExp:"",code:"",style:{height:null}}},mounted(){n.dc.$on("MainResize",this.resize),this.resize()},watch:{rawValueInfo:{immediate:!0,deep:!0,handler(){this.setData()}}},methods:{openReferenceModal(){const t=this.pageType,e="java.lang.Object",i=this.code?this.code:null,s=this.sourceRecordIdArr,n=this.targetRecordIdArr,o=this.Variables,r=this,l=this.$openModal({title:"Mapping Expression",modalWidth:"1000px",modalHeight:"800px",contentList:[{template:'<reference :pageType="pageType" :className="className" :sourceRecordIdArr="sourceRecordIdArr" :targetRecordIdArr="targetRecordIdArr" :Variables="Variables"/>',components:{reference:a(38401)["default"]},data(){return{pageType:t,className:e,mappingExpression:i,sourceRecordIdArr:s,targetRecordIdArr:n,Variables:o}}}],buttonList:[{template:`<button type="button" class="btn btn-primary" @click="click"> ${this.$t("head.ok")} </button>`,methods:{async click(){const{expression:t,isValidation:e}=await l.$refs.content[0].$children[0].getData();t?e&&(r.code+=t,r.currentLength=r.code.length,l.hideModal()):this.$alert({type:"warn",message:this.$t("head.no.data.warn")})}}}]})},input(t){this.code=t.target.value.replace(new RegExp(this.regExp,"g"),""),this.currentLength=this.code.length},resize(){this.$nextTick((()=>{const t=document.querySelector("#referenceModal").parentNode,e=t.clientHeight-32-48-48-40;this.style.height=`${e}px`}))},setData(){if(null===this.rawValueInfo)return;const{type:t,name:e}=this.rawValueInfo;"JavaOperationExpression"===t&&this.input({target:{value:e}})},getData(){return this.code}}},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,null,null),c=d.exports},43759:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[t._m(0),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("span",{staticStyle:{cursor:"auto"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.targetFieldPath,expression:"targetFieldPath"}],staticClass:"form-control view-disabled",attrs:{type:"text",maxlength:"70",readonly:"readonly"},domProps:{value:t.targetFieldPath},on:{input:function(e){e.target.composing||(t.targetFieldPath=e.target.value)}}})])])]),e("div",{staticClass:"form-group"},[t._m(1),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.mappingExpression,expression:"mappingExpression"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:"readonly"},domProps:{value:t.mappingExpression},on:{input:function(e){e.target.composing||(t.mappingExpression=e.target.value)}}}),t.readonly?t._e():e("button",{staticClass:"btn btn-icon",staticStyle:{"margin-left":"3px"},attrs:{title:t.$t("head.search"),disabled:!t.fieldKey},on:{click:t.openReferenceModal}},[e("i",{staticClass:"icon-srch"})])])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" Array Reference "),t.readonly?t._e():e("span",{staticClass:"letterLength",domProps:{textContent:t._s(`(${t.arrayReferenceCurrLength}/${t.arrayReferenceMaxLength})`)}})])]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.arrayReference,expression:"arrayReference"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:t.readonly||!t.fieldKey,maxlength:t.arrayReferenceMaxLength},domProps:{value:t.arrayReference},on:{input:[function(e){e.target.composing||(t.arrayReference=e.target.value)},t.input]}}),t.readonly?t._e():e("button",{staticClass:"btn btn-icon",staticStyle:{"margin-left":"3px"},attrs:{title:t.$t("head.search"),disabled:!t.fieldKey},on:{click:t.openArrayReferenceModal}},[e("i",{staticClass:"icon-srch"})])])])])])])},s=[function(){var t=this,e=t._self._c;return e("label",{staticClass:"control-label"},[e("span",[t._v(" Target Field ")])])},function(){var t=this,e=t._self._c;return e("label",{staticClass:"control-label"},[e("span",[t._v(" Mapping Expression ")])])}],n=(a(57658),a(68701)),o={name:"MappingRuleDetail",props:{data:Object,readonly:Boolean},data(){return{arrayReferenceCurrLength:0,arrayReferenceMaxLength:90,targetFieldPath:null,mappingExpression:null,arrayReference:null,fieldType:null,fieldKey:null,sourceRecordIdArr:null,targetRecordIdArr:null,simpleMappingYn:"Y",fieldInfoLabel:null,fieldLength:null,arrayType:null}},watch:{arrayReference(){this.arrayReferenceCurrLength=this.arrayReference?this.arrayReference.length:0}},mounted(){this.arrayReference=this.data.arraySizeParameter,this.mappingExpression=this.data.mappingExpression,this.sourceRecordIdArr=this.data.sourceRecordIdArr,this.targetRecordIdArr=this.data.targetRecordIdArr,this.fieldKey=this.data.clickFieldInfo.rowKey,this.targetFieldPath=this.data.clickFieldInfo.id?this.data.clickFieldInfo.id:"\\",this.fieldType=this.data.clickFieldInfo.fieldType,this.fieldLength=this.data.clickFieldInfo.fieldLength,this.arrayType=this.data.clickFieldInfo.arrayType;let t="";if("R"===this.fieldType)t+="Group";else{const e={B:"Byte",S:"Short",I:"Int",L:"Long",F:"Float",D:"Double",T:"String",N:"Numeric",P:"Decimal",A:"Raw",p:"Timestamp",b:"Boolean",R:"Record",v:"Individual"};t+=`${e[this.fieldType]}(${this.fieldLength})`,"N"!=this.arrayType&&(t+=`[${this.arrayType}]`)}this.targetFieldPath&&this.fieldType&&t&&this.data.clickFieldInfo.fieldName&&(this.fieldInfoLabel=`${this.$t("igate.mapping.field.info")}: \n\t\t\t\t${this.targetFieldPath} ${t} ${this.data.clickFieldInfo.fieldName.replace(/(\s*)/g,"")}`)},methods:{openReferenceModal(){const t=this,e=this.$openModal({title:"Mapping Expression",modalWidth:"1000px",modalHeight:"800px",contentList:[{template:'<reference :pageType="pageType" :mappingExpression="mappingExpression" :className="className" :targetFieldType="targetFieldType" :sourceRecordIdArr="sourceRecordIdArr" :targetRecordIdArr="targetRecordIdArr" :fieldInfoLabel="fieldInfoLabel" />',components:{reference:a(38401)["default"]},data(){return{pageType:"mapping",mappingExpression:t.mappingExpression?t.mappingExpression:null,className:(0,n.W)(t.fieldType),sourceRecordIdArr:t.sourceRecordIdArr,targetRecordIdArr:t.targetRecordIdArr,targetFieldType:t.fieldType,fieldInfoLabel:t.fieldInfoLabel}}}],buttonList:[{template:`<button type="button" class="btn btn-primary" @click="click"> ${this.$t("head.ok")} </button>`,methods:{async click(){const{expression:a,isValidation:i}=await e.$refs.content[0].$children[0].getData();if(!a)return void this.$alert({type:"warn",message:this.$t("head.no.data.warn")});if(!i)return;const{tabList:s,selectedIdx:n}=e.$refs.content[0].$children[0],o=["/constant","/transactionContext","/record"].find((t=>t===s[n].url));if(t.simpleMappingYn="undefined"!==typeof o?"Y":"N",t.mappingExpression=a,t.arrayReference=null,t.arrayReferenceCurrLength=0,"/record"===o){const e=t.mappingExpression.split("\\");if(0<e.filter((t=>1<t.split("[i").length)).length){const a=[];e.forEach((t=>{a.push(1<t.split("[i").length?`${t.split("[i")[0]}[]`:t)})),a.pop(),t.arrayReference=a.join("\\")}}e.hideModal()}}}]})},openArrayReferenceModal(){const t=this,e=this.$openModal({title:"Array Reference",fullscreen:!0,contentList:[{template:'<record id="recordModal" :detailInfo="detailInfo" :sourceRecordIdArr="sourceRecordIdArr" :targetRecordIdArr="targetRecordIdArr" />',components:{record:a(62450)["default"]},data(){return{sourceRecordIdArr:t.sourceRecordIdArr,targetRecordIdArr:t.targetRecordIdArr,detailInfo:{arrayReference:t.arrayReference,gridClick:function(t){if("undefined"===typeof t.rowKey||"rowHeader"===t.targetType)return;const{path:e}=this.$refs.tuiGrid.invoke("getRow",t.rowKey);this.selectedPath=e&&e.endsWith("]")?e:null},resize:function(){this.$refs.tuiGrid&&this.$nextTick((()=>{setTimeout((()=>{const t=document.querySelector("#recordModal").parentNode,e=t.clientWidth-48-30,a=t.clientHeight-32-56-56-24-32;this.$refs.tuiGrid.invoke("setWidth",e),this.$refs.tuiGrid.invoke("setHeight",a)}),0)}))}}}}}],buttonList:[{template:`<button type="button" class="btn btn-primary" @click="click"> ${this.$t("head.ok")} </button>`,methods:{click(){const a=e.$refs.content[0].$children[0].getData();a?(t.arrayReference=a,e.hideModal()):this.$alert({type:"warn",message:this.$t("head.no.data.warn")})}}}]})},input(t){this.arrayReference=t.target.value.replace(new RegExp(this.regExp,"g"),""),this.arrayReferenceCurrLength=this.arrayReference.length},getData(){return{simpleMappingYn:this.simpleMappingYn,mappingExpression:this.mappingExpression,arrayReference:this.arrayReference}}}},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,null,null),c=d.exports},62450:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.model")))])]),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedRecordInfo,expression:"selectedRecordInfo"}],staticClass:"form-control view-disabled",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedRecordInfo=e.target.multiple?a:a[0]},t.selectedRecordChange]}},t._l(t.recordInfoList,(function(a,i){return e("option",{key:i,domProps:{value:a,textContent:t._s(a.id)}})})),0)])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.list")))])]),e("TuiGrid",t._b({ref:"tuiGrid",on:{click:t.gridClick}},"TuiGrid",t.options,!1))],1),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.path")))])]),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("span",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedPath,expression:"selectedPath"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:"readonly"},domProps:{value:t.selectedPath},on:{input:function(e){e.target.composing||(t.selectedPath=e.target.value)}}})])])])])])},s=[],n=(a(57658),a(66281)),o=a.n(n),r=a(37856),l=a(37662),d={name:"record",props:{detailInfo:Object,sourceRecordIdArr:Array,targetRecordIdArr:Array,rawValueInfo:Object,targetFieldType:String,className:String},components:{TuiGrid:r.Grid},data(){return{options:{treeColumnOptions:{name:"fieldId"},columns:[{header:`${this.$t("head.field")} ${this.$t("head.id")}`,name:"fieldId"},{header:`${this.$t("head.field")} ${this.$t("common.type")}`,name:"fieldType",formatter:({row:t})=>{let e=this.fieldTypeName[t.fieldType];return"R"===t.fieldType?e+=t.recordType?`(${t.recordType})`:"":e+=`(${t.fieldLength})`,t.arrayType&&"N"!==t.arrayType&&(e+=`[${t.arrayType}]`),(0,l.Xv)(e)}},{header:`${this.$t("head.field")} ${this.$t("head.name")}`,name:"fieldName"},{name:"path",hidden:!0}],data:[],onGridMounted:t=>{t.instance.on("expand",(()=>{this.$nextTick(this.resize)})),t.instance.on("collapse",(()=>{this.$nextTick(this.resize)}))},onGridUpdated:()=>{this.resize()}},recordInfoList:[],selectedRecordInfo:null,selectedPath:null,selectionRowKey:null,fieldTypeName:{B:"Byte",S:"Short",I:"Int",L:"Long",F:"Float",D:"Double",b:"Boolean",p:"TimeStamp",T:"String",N:"Numeric",P:"PackedDecimal",A:"Raw",R:"Group"}}},created(){l.dc.$on("MainResize",this.resize),this.options=(0,l.d_)(this.options)},async mounted(){this.resize();const t=[];this.sourceRecordIdArr.forEach((e=>{t.push(new l.p0("/api/entity/record/object").read({recordId:e}))}));const e=await Promise.all(t);if(e.forEach(((t,e)=>{const a=t.data.object;this.recordInfoList.push({id:`$${e}${a.recordId} - ${a.recordName}`,field:this.initTreeData(a,`$${e}`)})})),void 0===this.rawValueInfo)return void this.setData();const a=[...new Set(this.targetRecordIdArr)],i=[];if(a.forEach((t=>{i.push(new l.p0("/api/entity/record/object").read({recordId:t}))})),0<i.length){const t=await Promise.all(i);t.forEach((t=>{const e=t.data.object;this.recordInfoList.push({id:`#${e.recordId} - ${e.recordName}`,field:this.initTreeData(e,"#")})}))}this.setData()},watch:{selectedPath(){this.addSelectionClass()},selectedRecordInfo(){this.$startSpinner(),this.$refs.tuiGrid.invoke("clear"),"object"===typeof this.selectedRecordInfo&&(this.$refs.tuiGrid.invoke("resetData",this.selectedRecordInfo.field),this.addSelectionClass()),this.$nextTick((()=>{this.resize(),setTimeout((()=>{this.$stopSpinner()}),300)}))},rawValueInfo:{immediate:!0,deep:!0,handler(){this.setData()}}},methods:{addSelectionClass(){this.selectionRowKey&&this.$refs.tuiGrid.invoke("removeRowClassName",this.selectionRowKey,"refModelField"),this.selectedPath&&this.$refs.tuiGrid.invoke("getData").forEach((t=>{t.path===this.selectedPath&&(this.$refs.tuiGrid.invoke("addRowClassName",t.rowKey,"refModelField"),this.selectionRowKey=t.rowKey)}))},initTreeData(t,e,a=1){if(!t.fields)return;const{recordId:i,recordName:s}=t,n=o()(t.fields),r=[],l={fieldId:i,fieldName:s,fieldType:"R",_attributes:{expanded:!0,className:{selection:["refModelField"]}},_children:[]};return e.includes("\\")||r.push(l),n.forEach((t=>{const i={path:`${e}\\${t.pk.fieldId}${t.arrayType&&"N"!==t.arrayType?void 0===this.rawValueInfo?"[]":`[i${a}]`:""}`,fieldId:t.pk.fieldId,fieldName:t.fieldName,fieldType:t.fieldType,fieldLength:t.fieldLength,arrayType:t.arrayType};t.recordObject&&(i.recordType=t.recordObject.recordType,i._attributes={expanded:!0,className:{selection:["refModelField"]}},i._children=this.initTreeData(t.recordObject,i.path,t.arrayType&&"N"!==t.arrayType?a+1:a)),e.includes("\\")?r.push(i):r[0]._children.push(i)})),r},resize(){this.detailInfo.resize.call(this)},gridClick(t){this.detailInfo.gridClick.call(this,t)},selectedRecordChange(){this.selectedPath=null},setData(){if(0===this.recordInfoList.length)return;if(void 0===this.rawValueInfo&&(this.selectedRecordInfo=this.recordInfoList[0],this.selectedPath=this.detailInfo.arrayReference?this.detailInfo.arrayReference:null),!this.rawValueInfo)return;const{type:t,name:e}=this.rawValueInfo;if("RecordExpression"===t){this.selectedPath=e,this.addSelectionClass();for(const t of this.recordInfoList)if(t.id.startsWith(this.selectedPath.split("\\")[0])){this.selectedRecordInfo=t;break}}},getData(){return this.selectedPath}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},38401:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"referenceModal"}},[e("label",{staticClass:"control-label warningLabel",staticStyle:{color:"#000"}},[e("span",[t._v(t._s(t.fieldInfoLabel?t.fieldInfoLabel:t.className))])]),e("ul",{staticClass:"nav nav-tabs flex-shrink-0"},t._l(t.tabList,(function(a,i){return e("li",{key:a.id,staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:t.selectedIdx===i},attrs:{href:"javascript:void(0);"},domProps:{textContent:t._s(a.label)},on:{click:function(e){return t.changeTab(i)}}})])})),0),e("div",{staticClass:"panel-body tab-content",staticStyle:{"padding-bottom":"0px",height:"calc(100% - 64px) !important"}},t._l(t.tabList,(function(i,s){return e("div",{key:s,class:{[t.modalMode]:!0,"tab-pane":!0,active:t.selectedIdx===s}},[e(a(81487)(`./reference${i.url}.vue`).default,{ref:"component",refInFor:!0,tag:"component",attrs:{detailInfo:i,detailData:t.detailData,mode:t.modalMode,pageType:t.pageType,className:t.className,sourceRecordIdArr:t.sourceRecordIdArr,targetRecordIdArr:t.targetRecordIdArr,rawValueInfo:t.rawValueInfo,targetFieldType:t.targetFieldType,Variables:t.Variables}})],1)})),0)])},s=[],n=(a(57658),a(63516)),o=a(37662),r=a(68701),l={name:"reference",components:{DetailBasic:n.Z},props:{pageType:String,mappingExpression:String,className:String,sourceRecordIdArr:Array,targetRecordIdArr:Array,targetFieldType:String,fieldInfoLabel:String,Variables:Object},data(){return{modalMode:"add",detailData:null,selectedIdx:0,tabList:[],rawValueInfo:null}},created(){const t={type:"bundle",label:this.$t("head.constant"),url:"/constant"};if(this.tabList.push(t),"mapping"!==this.pageType){const t={type:"bundle",label:this.$t("head.variable"),url:"/variable"};this.tabList.push(t)}const e={type:"bundle",label:this.$t("head.transaction.context"),url:"/transactionContext"};this.tabList.push(e);const a={type:"bundle",label:this.$t("head.model"),url:"/record",gridClick:async function(t){if("undefined"===typeof t.rowKey||"rowHeader"===t.targetType)return;const{path:e,fieldType:a}=this.$refs.tuiGrid.invoke("getRow",t.rowKey);if("R"===a)return;const i=await new o.p0("/api/mapping/expression/assignable").read({targetType:this.targetFieldType?(0,r.W)(this.targetFieldType):this.className,sourceType:(0,r.W)(a)});this.selectedPath=i.data.object?e:null},resize:function(){this.$refs.tuiGrid&&this.$nextTick((()=>{const t=document.querySelector("#referenceModal").parentNode,e=t.clientWidth-48-76,a=t.clientHeight-32-48-48-56-16-24-72;this.$refs.tuiGrid.invoke("setWidth",e),this.$refs.tuiGrid.invoke("setHeight",a)}))}};this.tabList.push(a);const i={type:"bundle",label:this.$t("head.function"),url:"/function"};this.tabList.push(i);const s={type:"bundle",label:"Java Style",url:"/javaStyle"};this.tabList.push(s)},async mounted(){if(!this.mappingExpression)return;const{data:{object:{type:t,name:e,args:a}}}=await new o.p0("/api/mapping/expression").read({expression:this.mappingExpression}),i={ConstantExpression:"/constant",VariableExpression:"/variable",ContextExpression:"/transactionContext",RecordExpression:"/record",FunctionExpression:"/function",JavaOperationExpression:"/javaStyle"};for(let s=0;s<this.tabList.length;s++)if(i[t]===this.tabList[s].url){this.changeTab(s);break}this.rawValueInfo={type:t,name:"undefined"===typeof e?this.mappingExpression:e,args:a}},methods:{changeTab(t){this.selectedIdx=t},async getData(){let t=!0;const e=this.$refs.component[this.selectedIdx].getData();return await new o.p0("/api/mapping/expression").read({expression:e},!0,(e=>{t=!1,window.$alert({type:"warn",message:e.data.error.map((({className:t})=>t)).join(",")})})),{expression:e,isValidation:t}}}},d=l,c=a(43736),p=(0,c.Z)(d,i,s,!1,null,null,null),h=p.exports},96367:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.transaction.context")))])]),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedOptionInfo,expression:"selectedOptionInfo"}],staticClass:"form-control view-disabled",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedOptionInfo=e.target.multiple?a:a[0]}}},t._l(t.optionInfoList,(function(a,i){return e("option",{key:i,domProps:{value:a,textContent:t._s(`${a.variableId} ${a.variableType}`)}})})),0)])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("common.desc")))])]),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("textarea",{staticClass:"form-control view-disabled",style:t.descStyle,attrs:{readonly:"readonly",maxlength:"100"},domProps:{textContent:t._s(t.selectedOptionInfo.variableDesc)}})])])])])])},s=[],n=a(37662),o={name:"transactionVariable",props:{className:String,rawValueInfo:Object},data(){return{optionInfoList:[],selectedOptionInfo:{},descStyle:{height:null}}},created(){n.dc.$on("MainResize",this.resize),this.resize()},async mounted(){const t=await new n.p0("/api/mapping/expression/contexts").read({targetType:this.className});this.optionInfoList=t.data.object,this.setData()},watch:{rawValueInfo:{immediate:!0,deep:!0,handler(){this.setData()}}},methods:{resize(){this.$nextTick((()=>{const t=document.querySelector("#referenceModal").parentNode,e=t.clientHeight-32-48-48-56-24-16;this.descStyle.height=`${e}px`}))},setData(){if(null===this.rawValueInfo)return;if(0===this.optionInfoList.length)return;const{type:t,name:e}=this.rawValueInfo;if("ContextExpression"===t)for(const a of this.optionInfoList)if(e===a.variableId){this.selectedOptionInfo=a;break}},getData(){return this.selectedOptionInfo.variableId?`@${this.selectedOptionInfo.variableId}`:null}}},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,null,null),c=d.exports},29700:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.variable")))])]),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedOptionInfo,expression:"selectedOptionInfo"}],staticClass:"form-control view-disabled",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedOptionInfo=e.target.multiple?a:a[0]}}},t._l(t.optionInfoList,(function(a,i){return e("option",{key:i,domProps:{value:a,textContent:t._s(`${a.name} ${a.type} #${a.desc}`)}})})),0)])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("common.desc")))])]),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("textarea",{staticClass:"form-control view-disabled",style:t.descStyle,attrs:{readonly:"readonly",maxlength:"100"},domProps:{textContent:t._s(t.selectedOptionInfo?t.selectedOptionInfo.desc:"")}})])])])])])},s=[],n=a(37662),o=a(66281),r=a.n(o),l={name:"variable",props:{className:String,rawValueInfo:Object,Variables:Object},data(){return{optionInfoList:[],selectedOptionInfo:{},descStyle:{height:null}}},watch:{rawValueInfo:{immediate:!0,deep:!0,handler(){this.setData()}}},created(){n.dc.$on("MainResize",this.resize),this.resize()},async mounted(){const t=[...r()(this.Variables.Parameter),...r()(this.Variables.Variable)],e=await new n.p0("/api/mapping/expression/variables").read({targetType:this.className,variables:[{type:"org.apache.commons.logging.Log",name:"log"},{type:"java.lang.Throwable",name:"throwed"},...t]});this.optionInfoList=e.data.object,this.optionInfoList.forEach((e=>{if("org.apache.commons.logging.Log"===e.type)e.desc="log";else if("java.lang.Throwable"===e.type)e.desc="Throwed Exception or Error";else{const a=t.find((t=>t.type===e.type&&t.name===e.name));e.desc="undefined"===typeof a.desc?"":a.desc}})),this.setData()},methods:{resize(){this.$nextTick((()=>{const t=document.querySelector("#referenceModal").parentNode,e=t.clientHeight-32-48-48-56-24-16;this.descStyle.height=`${e}px`}))},setData(){if(!this.rawValueInfo)return;const{type:t,name:e}=this.rawValueInfo;"VariableExpression"===t&&(this.selectedOptionInfo=this.optionInfoList.find((t=>t.name===e)))},getData(){return this.selectedOptionInfo.name}}},d=l,c=a(43736),p=(0,c.Z)(d,i,s,!1,null,null,null),h=p.exports},27489:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i,s,n=a(95748),o={name:"Modified",extends:n["default"],mounted(){this.$nextTick((()=>{this.resize()}))},methods:{resize(){this.$nextTick((()=>{const t=this.$el.closest(".modal-body"),e=t.clientHeight-32-24-24;this.beforeContentsStyle.height=`${e}px`,this.afterContentsStyle.height=`${e}px`}))}}},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,null,null),c=d.exports},25878:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.id")))]),e("b",{staticClass:"icon-star"})]),e("inputText",{ref:"recordId",attrs:{vModel:"recordId",classObject:{"form-control":!0,"view-disabled":!0,dataKey:!0},readonly:t.readonly||t.getReadonly({isPK:!0,readonly:!1})}})],1)]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.name")))])]),e("inputText",{ref:"recordName",attrs:{vModel:"recordName",classObject:{"form-control":!0,"view-disabled":!0,dataKey:!1},readonly:t.readonly||t.getReadonly({isPK:!1,readonly:!1})}})],1)])]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[t._m(0),e("selectBox",{ref:"privateYn",attrs:{vModel:"privateYn",classObject:{"form-control":!0,"view-disabled":!0},readonly:t.readonly||t.getReadonly({isPK:!1,readonly:!1}),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Yn"},orderByKey:!0},optionListName:"privateYnList",optionFor:"option in privateYnList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"}}})],1)]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("common.privilege")))]),e("b",{staticClass:"icon-star"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.privilegeId,expression:"privilegeId"}],ref:"privilegeId",staticClass:"form-control view-disabled",attrs:{readonly:t.readonly||t.getReadonly({isPK:!1,readonly:!1})},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.privilegeId=e.target.multiple?a:a[0]}}},t._l(t.privilegeTypeList,(function(a){return e("option",{key:a.privilegeId,attrs:{disabled:a.disabled},domProps:{value:a.privilegeId}},[t._v(" "+t._s(a.privilegeId)+" ")])})),0)])])]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("igate.record.metaDomain")))])]),e("inputText",{ref:"metaDomain",attrs:{vModel:"metaDomain",classObject:{"form-control":!0,"view-disabled":!0,dataKey:!1},readonly:t.readonly||t.getReadonly({isPK:!1,readonly:!1})}})],1)]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("common.type")))]),e("b",{staticClass:"icon-star"})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.recordType,expression:"recordType"}],ref:"recordType",staticClass:"form-control view-disabled",attrs:{readonly:t.readonly||t.getReadonly({isPK:!1,readonly:!1})},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.recordType=e.target.multiple?a:a[0]}}},t._l(t.recordTypeArr,(function(a,i){return e("option",{key:i,attrs:{disabled:a.disabled},domProps:{value:a.pk.propertyKey}},[t._v(" "+t._s(t.recordTypeFormatter(a.pk.propertyKey))+" ")])})),0)])])]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.group")))])]),e("inputText",{ref:"recordGroup",attrs:{vModel:"recordGroup",classObject:{"form-control":!0,"view-disabled":!0,dataKey:!0},readonly:t.readonly||t.getReadonly({isPK:!0,readonly:!1})}})],1)])]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.description")))])]),e("textArea",{ref:"recordDesc",attrs:{vModel:"recordDesc",classObject:{"form-control":!0,"view-disabled":!0},readonly:t.readonly||t.getReadonly({isPK:!1,readonly:!1}),height:"130px"}})],1)])])])},s=[function(){var t=this,e=t._self._c;return e("label",{staticClass:"control-label"},[e("span",[t._v("Private")]),e("b",{staticClass:"icon-star"})])}],n=a(22605),o=a(37662),r=a(77285),l=a.n(r),d={name:"BasicInfo",extends:n["default"],data(){return{namingRuleHttp:new o.p0("/api/page/properties"),namingRules:[]}},props:{modalType:String},watch:{namingKeys(){let t;switch(this.modalType){case"SI":t={id:"ServiceRequestRecordID",name:"ServiceRequestRecordName"};break;case"SO":t={id:"ServiceResponseRecordID",name:"ServiceResponseRecordName"};break;case"II":t={id:"InterfaceRequestRecordID",name:"InterfaceRequestRecordName"};break;case"IO":t={id:"InterfaceResponseRecordID",name:"InterfaceResponseRecordName"};break}return{id:this.namingFormatter(t.id),name:this.namingFormatter(t.name)}}},async created(){const t=await this.namingRuleHttp.read({pk:{propertyId:"ImgOption.NamingRules"},orderByKey:!0});"ok"===t.data.result&&(this.namingRules=t.data.object)},methods:{namingFormatter(t){return this.namingRules.filter((e=>t===e.pk.propertyKey)).map((t=>t.propertyValue))[0]},recordNameFormatter(){return!l()(this.detailData)&&(this.detailData.recordName||this.detailData.recordType&&"I"!==this.detailData.recordType)?this.detailData.recordName:this.namingKeys.name.replace("{0}",this.modalData.recordId)}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},95811:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var i,s,n=a(40073),o=a(37662),r={name:"DetailInfo",extends:n["default"],methods:{resize(){if(!this.$refs.tuiGrid)return;const t=document.getElementById("modelRecordModal"),e=t.getElementsByClassName("panel-body")[0],a=getComputedStyle(e),i=(0,o.tJ)(a.getPropertyValue("padding-left")),s=(0,o.tJ)(a.getPropertyValue("padding-right")),n=t.clientWidth-i-s,r=t.getElementsByClassName("nav-tabs")[0].clientHeight,l="undefined"===typeof t.getElementsByClassName("ml-auto")?t.getElementsByClassName("ml-auto")[0].clientHeight:24,d=t.parentNode.clientHeight-r-l-48;this.$refs.tuiGrid.invoke("setWidth",n),this.$refs.tuiGrid.invoke("setHeight",d)}}},l=r,d=a(43736),c=(0,d.Z)(l,i,s,!1,null,null,null),p=c.exports},91306:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"modelRecordModal"}},[e("ul",{staticClass:"nav nav-tabs flex-shrink-0"},[e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:0===t.selectedIdx},attrs:{href:"javascript:void(0);"},domProps:{textContent:t._s(t.$t("head.basic.info"))},on:{click:function(e){return t.changeTab(0)}}})]),e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:1===t.selectedIdx},attrs:{href:"javascript:void(0);"},domProps:{textContent:t._s(t.$t("head.detailInfo"))},on:{click:function(e){return t.changeTab(1)}}})]),e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:2===t.selectedIdx},attrs:{href:"javascript:void(0);"},domProps:{textContent:t._s(t.$t("head.extension.info"))},on:{click:function(e){return t.changeTab(2)}}})])]),e("div",{staticClass:"panel-body tab-content",staticStyle:{"padding-bottom":"0px"}},[e("div",{class:{[t.mode]:!0,"tab-pane":!0,active:0===t.selectedIdx},staticStyle:{position:"static"}},[e("DetailBasic",{ref:"basicInfo",attrs:{detailInfo:t.basicInfo,detailData:t.detailData,modalType:t.modalType,mode:t.mode}})],1),e("div",{class:{[t.mode]:!0,"tab-pane":!0,active:1===t.selectedIdx},style:t.detailInfoStyle},[e(a(49991)(`./modal${t.detailInfo.url}.vue`).default,{ref:"detailInfo",tag:"component",attrs:{detailInfo:t.detailInfo,detailData:t.recordObjData,mode:t.mode}})],1),e("div",{class:{[t.mode]:!0,"tab-pane":!0,active:2===t.selectedIdx}},[e(a(14605)(`./detail${t.extendInfo.url}.vue`).default,{ref:"extendInfo",tag:"component",attrs:{detailInfo:t.extendInfo,detailData:t.recordObjData,mode:t.mode}})],1)])])},s=[],n=a(63516),o=a(66281),r=a.n(o),l=a(37662),d={name:"RecordModal",props:{prefix:String,responseForm:String,mode:String,config:Object},components:{DetailBasic:n.Z},data(){return{modalType:this.config.modalType,modalData:this.config.modalData,selectedIdx:1,namingRules:[],detailData:{},recordObjData:{},basicInfo:{},extendInfo:{type:"bundle",url:"/modelRecord/ExtendInfo",label:this.$t("head.extendInfo"),content:[]},detailInfo:{url:"/modelRecord/DetailInfo",label:this.$t("head.detailInfo")},recordTypeList:[],recordId:null,recordName:null}},computed:{detailInfoStyle(){return{"margin-top":""+("detail"===this.mode||"done"===this.mode?"0px":"-1.5rem")}}},methods:{changeTab(t){this.selectedIdx=t;for(const e in this.$refs)this.$refs[e].resize&&this.$refs[e].resize()},namingFormatter(t){return this.namingRules.find((e=>t===e.pk.propertyKey)).propertyValue},getData(){return{...this.$refs.basicInfo.getData(),...this.$refs.detailInfo.getData(),...this.$refs.extendInfo.getData()}}},async created(){const t=await new l.p0("/api/page/properties").read({pk:{propertyId:"ImgOption.NamingRules"},orderByKey:!0});if("ok"!==t.data.result)return;this.namingRules=t.data.object;const e=this.prefix.charAt(0).toUpperCase()+this.prefix.slice(1);let a=null;a="query"===this.prefix?"I"===this.modalType?"Input":"Output":"I"===this.modalType?"Request":this.responseForm?"FormResponse":"Response",this.recordId=this.namingFormatter(`${e}${a}RecordID`),this.recordName=this.namingFormatter(`${e}${a}RecordName`),this.recordObjData=this.modalData.recordObject?this.modalData.recordObject:{},this.basicInfo={type:"basic",label:this.$t("head.basicInfo"),content:[[[{type:"text",vModel:"recordId",label:this.$t("head.id"),isPK:!0,regExpType:"id",formatter:t=>{const e=this.modalData[`${this.prefix}Id`];return t||this.recordId.replace("{0}",e).replace("{1}",this.responseForm)},readonly:!0},{type:"select",vModel:"privateYn",label:this.$t("head.private"),isRequired:!0,optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Yn"},orderByKey:!0},optionListName:"openWindowList",optionFor:"option in openWindowList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"},formatter:t=>t||this.modalData.privateYn,readonly:!0},{type:"select",vModel:"metaDomain",isRequired:!0,label:this.$t("igate.record.metaDomain"),optionInfo:{url:"/api/entity/fieldMeta/group/search",params:null,optionListName:"metaDomainList",optionFor:"option in metaDomainList",optionValue:"option",optionText:"option"},formatter:t=>t||this.modalData.metaDomain,readonly:"query"!==this.prefix},{type:"text",vModel:"recordGroup",isRequired:!0,label:this.$t("head.group"),formatter:t=>t||this.modalData[`${this.prefix}Group`],readonly:!0}],[{type:"text",vModel:"recordName",label:this.$t("head.name"),regExpType:"name",formatter:t=>{const e=this.modalData[`${this.prefix}Id`],a=this.modalData[`${this.prefix}Name`];return t||this.recordName.replace("{0}",a||e).replace("{1}",this.responseForm)},readonly:!1},{type:"text",vModel:"privilegeId",label:this.$t("common.privilege"),isRequired:!0,formatter:t=>t||this.modalData.privilegeId,readonly:!0},{type:"select",vModel:"recordType",label:this.$t("common.type"),isRequired:!0,optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Record.Type"},orderByKey:!0},optionListName:"recordTypeList",optionFor:"option in recordTypeList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"},formatter:t=>t||"I",readonly:!0}]],[[{type:"textarea",vModel:"recordDesc",label:this.$t("head.description"),readonly:!1,regExpType:"desc"}]]]},this.extendInfo.content=[{type:"dataList",vModel:"pk.propertyKey",regExpType:"value",label:this.$t("common.property.key"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"Property.Record"},orderByKey:!0},optionListName:"recordPropertyList",optionFor:"option in recordPropertyList",optionValue:"option.pk.propertyKey",optionText:"option.pk.propertyKey"}},{type:"text",vModel:"propertyValue",label:`${this.$t("common.property.value")}`},{type:"text",vModel:"propertyDesc",label:`${this.$t("head.description")}`,readonly:!0}],this.$nextTick((()=>{this.detailData="add"===this.mode||"copy"===this.mode?r()(this.modalData):r()(this.modalData.recordObject)}))}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},16484:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return m}});var i=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{height:"100%"},attrs:{id:`${t.info.itemId}_${t.info.id}`}},[e("ul",{staticClass:"nav nav-tabs flex-shrink-0"},[e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:0===t.selectedIdx},attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.changeTab(0)}}},[t._v(t._s(t.$t("common.condition")))])])]),e("div",{staticClass:"panel-body tab-content",staticStyle:{"padding-bottom":"0px",height:"calc(100% - 48px) !important"}},[e("div",{class:{modify:!0,"tab-pane":!0,active:0===t.selectedIdx}},[e("div",{staticClass:"table-responsive"},[t.readonly?t._e():e("div",{staticClass:"ml-auto form-inline m-full"},[e("button",{ref:"checkAllBtn",staticClass:"btn-icon",attrs:{type:"button"},on:{click:function(e){return t.$refs.tuiGrid.invoke("checkAll")}}},[e("i",{staticClass:"icon-check"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button"},on:{click:function(e){return t.$refs.tuiGrid.invoke("uncheckAll")}}},[e("i",{staticClass:"icon-uncheck"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button"},on:{click:t.addField}},[e("i",{staticClass:"icon-plus"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button"},on:{click:t.goFieldsAddNumModal}},[e("i",{staticClass:"icon-plus-circle"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button"},on:{click:t.deleteField}},[e("i",{staticClass:"icon-minus-circle"})])]),e("div",{staticClass:"table-responsive"},[t.isGridView?e("TuiGrid",t._b({ref:"tuiGrid"},"TuiGrid",t.options,!1)):t._e()],1)])])])])},s=[],n=a(66281),o=a.n(n),r=a(37856),l=a(37662),d=a(91338),c={name:"DetailConditionModal",props:{info:Object,nodeList:Array,editor:Boolean},components:{TuiGrid:r.Grid},computed:{readonly(){return!this.editor}},data(){return{selectedIdx:0,detailData:[],isGridView:!1,options:{editingEvent:"click",draggable:!1,rowHeaders:[{type:"checkbox",header:" "}],columns:[{header:this.$t("common.type"),name:"type"},{header:this.$t("head.target"),name:"target"},{header:this.$t("common.desc"),name:"desc"},{header:this.$t("common.condition"),name:"value",formatter:({value:t,row:e})=>"Others"===e.type?"":this.readonly?(0,l.Xv)(t):`\n\t\t\t\t\t\t\t\t\t<div style="width: calc(100% - 30px); display: inline-block; text-overflow:ellipsis;white-space: nowrap;overflow: hidden;">\n\t\t\t\t\t\t\t\t\t\t${(0,l.Xv)(t)}\n\t\t\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t\t\t\t<span class="modal-btn" style="float: right; margin-right: 5px;">\n\t\t\t\t\t\t\t\t\t\t<i class="icon-srch" style="cursor: pointer;" title="${this.$t("head.search")}"></i>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t`},{name:"data",hidden:!0}],onGridMounted:t=>{t.instance.on("dragStart",(t=>{const{type:e}=t.instance.getRow(t.rowKey);"Others"===e&&t.stop()})),t.instance.on("drop",(t=>{const e=t.instance.getData(),{rowKey:a}=e.find((t=>"Others"===t.type));setTimeout((()=>{t.instance.moveRow(a,e.length-1)}),0)})),t.instance.on("click",(t=>{const e=this,{columnName:i,rowKey:s,nativeEvent:n,nativeEvent:{target:r}}=t;if(r.closest(".tui-grid-body-container")&&n.stopPropagation(),"value"===i&&r.classList.contains("icon-srch")){const{Parameter:t,Variable:i}=this.info,n=this.$refs.tuiGrid.invoke("getValue",s,"data"),r=this.editor,l=this.$openModal({title:"Expression",modalWidth:"1000px",modalHeight:"750px",contentList:[{template:'<reference :className="className" :tabData="tabData" :Parameter="Parameter" :Variable="Variable" :editor="editor" />',components:{reference:a(21288)["default"]},data(){return{className:"java.lang.Boolean",tabData:n,Parameter:t,Variable:i,editor:r}}}],buttonList:r?[{template:`<button type="button" class="btn btn-primary" @click="click"> ${this.$t("head.ok")} </button>`,methods:{click(){const{expression:t,isValidation:a}=l.$refs.content[0].$children[0].getData();a&&(e.$refs.tuiGrid.invoke("setValue",s,"value",(0,d.Tk)(t),!1),e.$refs.tuiGrid.invoke("setValue",s,"data",o()(t),!1),l.hideModal())}}}]:null})}}))}}}},created(){l.dc.$on("MainResize",this.resize),l.Gk.$on("MainResize",this.resize),l.bB.$on("MainResize",this.resize),l.QK.$on("MainResize",this.resize)},mounted(){this.readonly?(this.options.draggable=!1,this.options.rowHeaders=[]):(this.options.draggable=!0,this.options.rowHeaders=[{type:"checkbox",header:" "}],this.options.columns[1].editor={type:"select",options:{listItems:o()(this.nodeList).map((t=>{const e=t.data.basic&&t.data.basic.desc?t.data.basic.desc:t.label,a=t.index;return{text:(0,l.Xv)(`${e} #${a}`),value:t.id}}))}},this.options.columns[2].editor="text"),this.options.columns[1].formatter=({value:t})=>{let e="";if(null!==t){const a=this.nodeList.find((e=>e.id===t)),i=a.data.basic&&a.data.basic.desc?a.data.basic.desc:a.label,s=a.index;e=(0,l.Xv)(`${i} #${s}`)}return e},this.options=(0,l.d_)(this.options),this.isGridView=!0,this.$nextTick((()=>{this.resize(),this.detailData=this.info.data&&this.info.data.Conditions?o()(this.info.data.Conditions).map((t=>(t.target=this.nodeList.find((({index:e})=>e===t.target)).id,t))):[]}))},beforeDestroy(){l.dc.$off("MainResize",this.resize),l.Gk.$off("MainResize",this.resize),l.bB.$off("MainResize",this.resize),l.QK.$off("MainResize",this.resize)},watch:{detailData(){if(0<this.detailData.length)this.$refs.tuiGrid.invoke("resetData",this.detailData);else{const t=[{type:"When",target:null,desc:this.$t("igate.operation.condtion.when"),value:"true",data:{JavaExpression:{value:"true"}}},{type:"Others",target:null,desc:this.$t("igate.operation.condtion.others"),condition:null,data:null}];this.$refs.tuiGrid.invoke("appendRows",t)}this.readonly||(this.$refs.tuiGrid.invoke("disableRow",this.$refs.tuiGrid.invoke("getRowCount")-1),this.$refs.tuiGrid.invoke("enableColumn","type"),this.$refs.tuiGrid.invoke("enableColumn","target"),this.$refs.tuiGrid.invoke("enableColumn","desc"),this.$refs.tuiGrid.invoke("enableColumn","value")),this.$nextTick((()=>{this.resize()}))}},methods:{changeTab(t){this.selectedIdx=t},addField(t){this.changeButtonBlur(t),this.$refs.tuiGrid.invoke("appendRow",{type:"When",target:null,desc:this.$t("igate.operation.condtion.when"),value:"true",data:{JavaExpression:{value:"true"}}},{at:this.$refs.tuiGrid.invoke("getData").length-1}),this.resize()},goFieldsAddNumModal(t){this.changeButtonBlur(t);const e=this,a=this.$openModal({title:this.$t("igate.record.add.fields"),modalWidth:"250px",modalHeight:"180px",contentList:[{template:'<div><input type="text" class="form-control" v-model="addCnt" maxlength="2" @input="addCnt = addCnt.replace(/[^0-9]/g, \'\')"></div>',data(){return{addCnt:1}},methods:{getData(){return this.addCnt}}}],buttonList:[{template:'<button type="button" @click="confirm" class="btn btn-primary">{{ $t(\'head.ok\') }}</button>',methods:{confirm(){const t=a.$refs.content[0].getData();for(let a=0;a<t;a++)e.$refs.tuiGrid.invoke("appendRow",{type:"When",target:null,desc:this.$t("igate.operation.condtion.when"),value:"true",data:{JavaExpression:{value:"true"}}},{at:e.$refs.tuiGrid.invoke("getData").length-1});e.resize(),a.hideModal()}}}]})},deleteField(t){if(this.changeButtonBlur(t),0===this.$refs.tuiGrid.invoke("getRowCount"))return;const e=this.$refs.tuiGrid.invoke("getCheckedRowKeys");0!==e.length&&(e.forEach((t=>{const e=this.$refs.tuiGrid.invoke("getRow",t);null!=e&&this.$refs.tuiGrid.invoke("removeRow",t)})),this.$refs.tuiGrid.invoke("blur"),this.resize())},changeButtonBlur(t){"I"===t.target.tagName?t.target.parentNode.blur():t.target.blur()},getData(){return this.$refs.tuiGrid.invoke("blur"),this.$refs.tuiGrid.invoke("cancelEditing"),{Conditions:this.$refs.tuiGrid.invoke("getData")}},modalResize(){this.resize()},resize(){if(!this.$refs.tuiGrid)return;const t=document.querySelector(`#${this.$el.id}`),e=t.parentNode,a=getComputedStyle(e),i=(0,l.tJ)(a.getPropertyValue("padding-left")),s=(0,l.tJ)(a.getPropertyValue("padding-right")),n=(0,l.tJ)(a.getPropertyValue("padding-top")),o=(0,l.tJ)(a.getPropertyValue("padding-bottom")),r=e.querySelector(".panel-body"),d=getComputedStyle(r),c=(0,l.tJ)(d.getPropertyValue("padding-left")),p=(0,l.tJ)(d.getPropertyValue("padding-right")),h=(0,l.tJ)(d.getPropertyValue("padding-top")),u=(0,l.tJ)(d.getPropertyValue("padding-bottom"));this.$refs.tuiGrid.invoke("setWidth",e.clientWidth-i-s-c-p),this.$refs.tuiGrid.invoke("setHeight",e.clientHeight-n-o-h-u-(t.querySelector(".active .ml-auto")?t.querySelector(".active .ml-auto").offsetHeight:0)-32-50)}}},p=c,h=a(43736),u=(0,h.Z)(p,i,s,!1,null,null,null),m=u.exports},68425:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{height:"100%"},attrs:{id:`${t.info.itemId}_${t.info.id}`}},[e("ul",{staticClass:"nav nav-tabs flex-shrink-0"},[e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:0===t.selectedIdx},attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.changeTab(0)}}},[t._v(t._s(t.$t("igate.error.handling")))])])]),e("div",{staticClass:"panel-body tab-content",staticStyle:{"padding-bottom":"0px",height:"calc(100% - 48px) !important"}},[e("div",{class:{modify:!0,"tab-pane":!0,active:0===t.selectedIdx}},[e("div",{staticClass:"table-responsive"},[t.readonly?t._e():e("div",{staticClass:"ml-auto form-inline m-full"},[e("button",{ref:"checkAllBtn",staticClass:"btn-icon",attrs:{type:"button"},on:{click:function(e){return t.$refs.tuiGrid.invoke("checkAll")}}},[e("i",{staticClass:"icon-check"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button"},on:{click:function(e){return t.$refs.tuiGrid.invoke("uncheckAll")}}},[e("i",{staticClass:"icon-uncheck"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button"},on:{click:t.addField}},[e("i",{staticClass:"icon-plus"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button"},on:{click:t.goFieldsAddNumModal}},[e("i",{staticClass:"icon-plus-circle"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button"},on:{click:t.deleteField}},[e("i",{staticClass:"icon-minus-circle"})])]),e("div",{staticClass:"table-responsive"},[t.isGridView?e("TuiGrid",t._b({ref:"tuiGrid"},"TuiGrid",t.options,!1)):t._e()],1)])])])])},s=[],n=a(66281),o=a.n(n),r=a(37856),l=a(37662),d={name:"DetailFaultHandlerModal",props:{info:Object,nodeList:Array,editor:Boolean},components:{TuiGrid:r.Grid},computed:{readonly(){return!this.editor}},data(){return{selectedIdx:0,detailData:[],isGridView:!1,options:{editingEvent:"click",rowHeaders:[{type:"checkbox",header:" "}],columns:[{header:this.$t("common.type"),name:"type"},{header:this.$t("head.target"),name:"target"},{header:this.$t("common.desc"),name:"desc"},{header:this.$t("igate.error.code"),name:"faultName",formatter:({value:t})=>{let e=(0,l.Xv)(t);return this.readonly||(e+=`\n\t\t\t\t\t\t\t\t\t<span class="modal-btn" style="float: right; margin-right: 5px;">\n\t\t\t\t\t\t\t\t\t\t<i class="icon-srch" style="cursor: pointer;" title="${this.$t("head.search")}"></i>\n\t\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t`),e}}],onGridMounted:t=>{t.instance.on("click",(t=>{const{columnName:e,rowKey:a,nativeEvent:i,nativeEvent:{target:s}}=t;s.closest(".tui-grid-body-container")&&i.stopPropagation(),"faultName"===e&&s.classList.contains("icon-srch")&&this.openExceptionCodeModal(a)}))}}}},created(){l.dc.$on("MainResize",this.resize),l.Gk.$on("MainResize",this.resize),l.bB.$on("MainResize",this.resize),l.QK.$on("MainResize",this.resize)},mounted(){this.readonly?this.options.rowHeaders=[]:(this.options.columns[0].editor={type:"select",options:{listItems:[{text:"Catch",value:"Catch"},{text:"CatchAll",value:"CatchAll"}]}},this.options.columns[1].editor={type:"select",options:{listItems:o()(this.nodeList).map((t=>{const e=t.data.basic&&t.data.basic.desc?t.data.basic.desc:t.label,a=t.index;return{text:(0,l.Xv)(`${e} #${a}`),value:t.id}}))}},this.options.columns[2].editor="text",this.options.rowHeaders=[{type:"checkbox",header:" "}]),this.options.columns[1].formatter=({value:t})=>{let e="";if(null!==t){const a=this.nodeList.find((e=>e.id===t)),i=a.data.basic&&a.data.basic.desc?a.data.basic.desc:a.label,s=a.index;e=(0,l.Xv)(`${i} #${s}`)}return e},this.options=(0,l.d_)(this.options),this.isGridView=!0,this.$nextTick((()=>{this.resize(),this.detailData=this.info.data&&this.info.data.Catchs?o()(this.info.data.Catchs).map((t=>(t.target=this.nodeList.find((({index:e})=>e===t.target)).id,t))):[]}))},beforeDestroy(){l.dc.$off("MainResize",this.resize),l.Gk.$off("MainResize",this.resize),l.bB.$off("MainResize",this.resize),l.QK.$off("MainResize",this.resize)},watch:{detailData(){0<this.detailData.length&&this.$refs.tuiGrid.invoke("resetData",this.detailData),this.$nextTick((()=>{this.resize()}))}},methods:{changeTab(t){this.selectedIdx=t},addField(t){this.changeButtonBlur(t),this.$refs.tuiGrid.invoke("appendRow",{type:"Catch",target:null,desc:null,faultName:null}),this.resize()},goFieldsAddNumModal(t){this.changeButtonBlur(t);const e=this,a=this.$openModal({title:this.$t("igate.record.add.fields"),modalWidth:"250px",modalHeight:"180px",contentList:[{template:'<div><input type="text" class="form-control" v-model="addCnt" maxlength="2" @input="addCnt = addCnt.replace(/[^0-9]/g, \'\')"></div>',data(){return{addCnt:1}},methods:{getData(){return this.addCnt}}}],buttonList:[{template:'<button type="button" @click="confirm" class="btn btn-primary">{{ $t(\'head.ok\') }}</button>',methods:{confirm(){const t=a.$refs.content[0].getData();for(let a=0;a<t;a++)e.$refs.tuiGrid.invoke("appendRow",{type:"Catch",target:null,desc:null,faultName:null});e.resize(),a.hideModal()}}}]})},deleteField(t){if(this.changeButtonBlur(t),0===this.$refs.tuiGrid.invoke("getRowCount"))return;const e=this.$refs.tuiGrid.invoke("getCheckedRowKeys");0!==e.length&&(e.forEach((t=>{const e=this.$refs.tuiGrid.invoke("getRow",t);null!=e&&this.$refs.tuiGrid.invoke("removeRow",t)})),this.$refs.tuiGrid.invoke("blur"),this.resize())},changeButtonBlur(t){"I"===t.target.tagName?t.target.parentNode.blur():t.target.blur()},getData(){return this.$refs.tuiGrid.invoke("blur"),this.$refs.tuiGrid.invoke("cancelEditing"),{Catchs:this.$refs.tuiGrid.invoke("getData")}},modalResize(){this.resize()},resize(){if(!this.$refs.tuiGrid)return;const t=document.querySelector(`#${this.$el.id}`),e=t.parentNode,a=getComputedStyle(e),i=(0,l.tJ)(a.getPropertyValue("padding-left")),s=(0,l.tJ)(a.getPropertyValue("padding-right")),n=(0,l.tJ)(a.getPropertyValue("padding-top")),o=(0,l.tJ)(a.getPropertyValue("padding-bottom")),r=e.querySelector(".panel-body"),d=getComputedStyle(r),c=(0,l.tJ)(d.getPropertyValue("padding-left")),p=(0,l.tJ)(d.getPropertyValue("padding-right")),h=(0,l.tJ)(d.getPropertyValue("padding-top")),u=(0,l.tJ)(d.getPropertyValue("padding-bottom"));this.$refs.tuiGrid.invoke("setWidth",e.clientWidth-i-s-c-p),this.$refs.tuiGrid.invoke("setHeight",e.clientHeight-n-o-h-u-(t.querySelector(".active .ml-auto")?t.querySelector(".active .ml-auto").offsetHeight:0)-32-50)},openExceptionCodeModal(t){const e=this,i=this.$openModal({title:this.$t("igate.exceptionCode"),modalWidth:"800px",contentList:[{template:'<div>\n                                       <Search :list="searchList" @search="search" ref="search"/>\n                                       <Main\n                                           :buttonList="buttonList"\n                                           :gridInfo="gridInfo"\n                                           :gridSearchObj="gridSearchObj"\n                                           :gridType="\'modalBasic\'"\n                                           :viewer="true"\n                                           @rowClicked="rowClicked"\n\t\t\t\t\t\t\t\t\t\t   @initialize="initialize"\n                                        />\n                                   </div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:[],buttonList:[],gridInfo:{},gridSearchObj:{}}},created(){this.searchList=[{type:"text",vModel:"exceptionCode",label:this.$t("igate.exceptionCode"),placeholder:this.$t("head.searchCode")},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],this.buttonList=[{id:"initialize",isUse:!0}],this.gridInfo={url:"/api/entity/exceptionCode/search",totalCntUrl:"/api/entity/exceptionCode/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"exceptionCode",header:this.$t("igate.exceptionCode"),align:"left",width:"30%"},{name:"exceptionDesc",header:this.$t("head.description"),align:"left",width:"70%"}]}}},methods:{search(t){this.gridSearchObj=t},rowClicked(a){e.$refs.tuiGrid.invoke("setValue",t,"faultName",a.exceptionCode),this.$nextTick((()=>{e.resize()})),i.hideModal()},initialize(){this.$refs.search.initialize()}}}]})}}},c=d,p=a(43736),h=(0,p.Z)(c,i,s,!1,null,null,null),u=h.exports},61543:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var i,s,n=a(40073),o=a(37662),r={name:"DetailInfo",extends:n["default"],methods:{resize(){const t=document.getElementById("modelRecordModal"),e=t.getElementsByClassName("panel-body")[0],a=getComputedStyle(e),i=(0,o.tJ)(a.getPropertyValue("padding-left")),s=(0,o.tJ)(a.getPropertyValue("padding-right")),n=(0,o.tJ)(a.getPropertyValue("padding-top")),r=(0,o.tJ)(a.getPropertyValue("padding-bottom")),l=e.clientWidth-i-s,d=e.clientHeight-n-r-10;this.$refs.tuiGrid.invoke("setWidth",l),this.$refs.tuiGrid.invoke("setHeight",d)}}},l=r,d=a(43736),c=(0,d.Z)(l,i,s,!1,null,null,null),p=c.exports},9844:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return f}});var i=function(){var t=this,e=t._self._c;return e("div",{on:{click:t.gridFocusOut}},[e("ul",{staticClass:"collapse-list collapse-list-result m-0",attrs:{id:"mappingInfoRoot"}},[e("li",{staticClass:"collapse-item",staticStyle:{display:"none"},attrs:{id:"mappingRuleTitle"}},[e("button",{ref:"mappingRuleTitleBtn",staticClass:"collapse-link",attrs:{type:"button","data-toggle":"collapse","data-target":"#mappingRule"},on:{click:t.mainResize}},[e("span",[t._v(t._s(t.$t("igate.mapping.rule")))])]),e("div",{staticClass:"collapse show",attrs:{id:"mappingRule"}},[e("div",{staticClass:"card card-body"},[e("div",{ref:"mappingRuleGridParent",staticClass:"table-responsive"},[e("TuiGrid",t._b({ref:"mappingRuleGrid"},"TuiGrid",t.mappingRuleOptions,!1))],1)])])]),e("li",{staticClass:"collapse-item"},[e("button",{staticClass:"collapse-link",attrs:{type:"button","data-toggle":"collapse","data-target":"#mappingInfo"},on:{click:t.mainResize}},[e("span",[t._v(t._s(t.$t("head.model.info")))])]),e("div",{staticClass:"collapse show",attrs:{id:"mappingInfo"}},[e("div",{staticClass:"card card-body"},[this.readonly?t._e():e("div",{staticClass:"form-inline m-full"},[e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("head.initialize")},on:{click:t.initMappingInfo}},[e("i",{staticClass:"icon-reset"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:t.$t("igate.mapping.connect.same.name")},on:{click:t.getSameIdInfo}},[e("i",{staticClass:"icon-deal"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:`Source ${t.$t("igate.record")} ${t.$t("head.insert")}`},on:{click:function(e){return t.addRecord("source")}}},[e("i",{staticClass:"icon-plus-circle"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button",title:`Source ${t.$t("igate.record")} ${t.$t("head.delete")}`},on:{click:function(e){return t.removeRecord()}}},[e("i",{staticClass:"icon-minus-circle"})]),e("button",{ref:"targetGridBtn",staticClass:"btn-icon",staticStyle:{"margin-left":"auto"},attrs:{type:"button",title:`${t.$t("head.select")} ${t.$t("head.delete")}`},on:{click:t.removeSingleMapping}},[e("img",{staticClass:"center-block",attrs:{id:"icon-scissors",src:t.getMenuIconUrl("scissors")}})])]),e("div",{ref:"mappingGridArea",style:t.style},[e("div",{ref:"sourceGridParent",staticClass:"table-responsive"},[e("TuiGrid",t._b({ref:"sourceGrid"},"TuiGrid",t.sourceModelOptions,!1))],1),e("div",{ref:"mappingArrowParent",staticClass:"table-responsive",on:{wheel:t.mappingArrowParentWheel}},[e("canvas",{ref:"mappingArrow"})]),e("div",{ref:"targetGridParent",staticClass:"table-responsive"},[e("TuiGrid",t._b({ref:"targetGrid"},"TuiGrid",t.targetModelOptions,!1))],1)])])])])])])},s=[],n=(a(57658),a(7398)),o=a(68701),r=a(37662),l=a(66281),d=a.n(l),c=a(77285),p=a.n(c),h={name:"DetailMappingModal",extends:n["default"],props:{prefix:String,item:Object,nodeInfo:Object,nodeList:Array,referenceMappings:Array,serviceInfo:Object,operationInfo:Object,Variables:Object},data(){return{recordInfoReq:new r.p0("/api/entity/record/object"),mappingRuleSourceList:[],queryOut:null,serviceOut:null,mappingId:null,serviceInputList:[],itemId:null,reqRecord:null,resRecord:null,targetModelOptions:{treeColumnOptions:{name:"pk.fieldId"},rowHeaders:["rowNum"],scrollY:!0,columns:[{name:"id",hidden:!0},{name:"fieldType",hidden:!0},{name:"pk.fieldId",header:"Field",escapeHTML:!0,formatter:({row:t})=>{let e="";if("R"===t.fieldType)t.recordObject&&(e+=`Group(${t.recordObject.recordType})`);else{const a={B:"Byte",S:"Short",I:"Int",L:"Long",F:"Float",D:"Double",T:"String",N:"Numeric",P:"Decimal",A:"Raw",p:"Timestamp",b:"Boolean",R:"Record",v:"Individual"};e+=`${a[t.fieldType]}(${t.fieldLength})`}return t.arrayType&&"N"!=t.arrayType&&(e+=`[${t.arrayType}]`),(0,r.Xv)(`${t["pk.fieldId"]}${t.fieldName?`(${t.fieldName})`:""}  ${e}`)}}],data:[],onGridMounted:t=>{t.instance.on("expand",(()=>{setTimeout((()=>{this.resize()}),0)})),t.instance.on("collapse",(t=>{t.instance.getChildRows(t.rowKey).filter((t=>"R"===t.fieldType)).forEach((e=>{t.instance.collapse(e.rowKey)})),setTimeout((()=>{this.resize()}),0)})),t.instance.on("click",(t=>{if("cell"===t.targetType)if(t.nativeEvent.stopPropagation(),this.readonly)this.delMultiSelect("target"),this.isShiftKey=!1;else{if(this.delMultiSelect("source",!0),"R"===t.instance.getRow(t.rowKey).fieldType)return t.instance.blur(),void t.instance.cancelEditing();this.clickMappingField(t,"target")}})),t.instance.on("dblclick",(t=>{if("cell"!==t.targetType)return;this.delMultiSelect("target"),t.instance.focus(t.rowKey);const e=t.instance.getRow(t.rowKey);if("R"===e.fieldType)return;const{ruleDetail:i,sourceRecordObject:s,targetRecordObject:n}=this.$refs.mappingRuleGrid.invoke("getRow",this.mappingRuleGridSelectedRowKey),o=i?i.find((({targetFieldPath:t})=>t===e.id)):null,l=o?o.mappingExpression:null,d=o?o.arraySizeParameter:null;let c=[];s&&0<s.length&&(c=s.map((({recordId:t})=>t)));let p=[];n&&(p=[n.recordId]);const h=this,u=this.$openModal({title:`${this.$t("igate.mapping.rule")} ${this.$t("head.detail")}`,modalHeight:"350px",contentList:[{template:'<mappingRuleDetail :data="data" :readonly="readonly" :Variables="Variables" />',components:{mappingRuleDetail:a(75528)["default"]},data(){return{data:{clickFieldInfo:e,mappingExpression:l,arraySizeParameter:d,fieldKey:t.rowKey,sourceRecordIdArr:c,targetRecordIdArr:p},Variables:h.Variables,readonly:h.readonly}}}],buttonList:h.readonly?null:[{template:`<button type="button" class="btn btn-primary" @click="click"> ${this.$t("head.ok")} </button>`,methods:{async click(){const{mappingExpression:t,arrayReference:a}=u.$refs.content[0].$children[0].getData();if(!t)return void this.$alert({type:"warn",message:this.$t("head.no.data.warn")});const s=null===i?[]:i.filter((t=>t.targetFieldPath!==e.id)).map((t=>({targetFieldPath:t.targetFieldPath,mappingExpression:t.mappingExpression,simpleMappingYn:t.simpleMappingYn,arraySizeParameter:t.arraySizeParameter})));let n="Y";if(t){const{data:{object:{type:e}}}=await new r.p0("/api/mapping/expression").read({expression:t});"ConstantExpression"!==e&&"RecordExpression"!==e&&(n="N")}s.push({targetFieldPath:e.id,mappingExpression:t,simpleMappingYn:n,arraySizeParameter:a}),h.$refs.mappingRuleGrid.invoke("setValue",h.mappingRuleGridSelectedRowKey,"ruleDetail",s),await h.initMultiFuncArrow(h.mappingRuleGridSelectedRowKey),h.resize(),u.hideModal()}}}]})})),t.instance.gridEl.querySelector(".tui-grid-rside-area .tui-grid-body-area").addEventListener("scroll",(t=>{this.targetScrollTop=t.target.scrollTop,setTimeout((()=>{this.drawArrow()}),0)}))},onGridUpdated:()=>{this.resize(),this.initDragDropEvt()}}}},async created(){"query"===this.prefix?(this.itemId=this.item.queryId,this.reqRecord=this.item.outputRecordId,this.resRecord=this.item.inputRecordId):"service"===this.prefix?(this.itemId=this.item.serviceId,this.reqRecord=this.item.responseRecordId,this.resRecord=this.item.requestRecordId):"response"===this.prefix&&(this.itemId=this.serviceInfo.serviceId,this.reqRecord=this.serviceInfo.requestRecordId,this.resRecord=this.serviceInfo.responseRecordId),await this.setMappingRuleSource(),await this.initData()},methods:{getMapping(){const{operationId:t,operationGroup:e,privilegeId:a,privateYn:i}=this.operationInfo,{mappingDetails:s}=n["default"].methods.getData.bind(this)(),o=s[0].pk.mappingId;return{pk:{operationId:t,mappingId:o},mappingObject:{mappingId:o,mappingName:o,mappingGroup:e,privilegeId:a,privateYn:i,mappingDetails:s}}},getData(){let t=[];if("response"===this.prefix)t=[{type:"com.inzent.igate.message.Record",name:"responseRecord",from:"Variable",desc:"Target Record"}];else{const e=this.prefix.charAt(0).toUpperCase()+this.prefix.slice(1);t=[{type:(0,o.W)("R"),name:this[`${this.prefix}Out`],from:"Variable",desc:`${e} Output`},{type:"java.lang.String",name:this.itemId,from:"Constant",desc:`${e} ID`}]}return t.push({type:"java.lang.String",name:this.resRecord?this.mappingId:"null",from:"Constant",desc:"Mapping ID"}),"service"!==this.prefix&&"response"!==this.prefix||(t.push({type:"com.inzent.igate.repository.meta.Service",name:"service"===this.prefix?"service":"Service Information",from:"Variable",desc:"service"}),"response"===this.prefix&&t.push({type:"java.lang.String",name:"null",from:"Variable",desc:"Target Forms"})),this.serviceInputList.forEach((e=>{t.push({type:(0,o.W)("R"),name:e,from:"Variable",desc:"Service Input",canEdit:!1})})),t},async initData(){const{data:{Parameter:t,etc:{uniqueKey:e}}}=this.nodeInfo;if("response"===this.prefix)this.mappingId=`OM_${this.operationInfo.operationId}_${e}`;else{const t=`${this.itemId}_${e}`;this[`${this.prefix}Out`]=t,this.mappingId=`SM_${this.operationInfo.operationId}_${t}`}if(!p()(t)){const e=t.filter((t=>"Service Input"===t.desc)).map((({name:t})=>t));this.serviceInputList.push(...e)}const a=this.referenceMappings.find((({pk:{mappingId:t}})=>t===this.mappingId));if("undefined"===typeof a){const t="response"===this.prefix?this.serviceInfo.responseRecordObject:(await this.recordInfoReq.read({recordId:this.resRecord})).data.object;this.$refs.mappingRuleGrid.invoke("appendRow",{"pk.mappingId":this.mappingId,"pk.mappingOrder":this.$refs.mappingRuleGrid.invoke("getData").length,targetForm:null,mappingDetailDesc:null,sourceRecordObject:[],targetRecordObject:t,ruleDetail:null});const e=this.$refs.mappingRuleGrid.invoke("getData"),a=e[e.length-1].rowKey;this.ruleClick(a)}else{for(const t of a.mappingObject.mappingDetails){const{pk:{mappingId:e,mappingOrder:a},targetForm:i,mappingDetailDesc:s,mappingRuleObject:{recordId:n,mappingRuleSources:o,mappingRuleDetails:r}}=t,l=[...new Set(o.map((({recordId:t})=>t))),n],c=[];for(const t of l){const e=(async()=>{if("response"!==this.prefix||this.reqRecord!==t&&this.resRecord!==t){const e=await this.recordInfoReq.read({recordId:t}),a=e.data.object;return{recordId:t,info:d()(a)}}{const e=this.reqRecord===t?this.serviceInfo.requestRecordObject:this.serviceInfo.responseRecordObject;return{recordId:t,info:d()(e)}}})();c.push(e)}const p=await Promise.all(c),h={};p.forEach((({recordId:t,info:e})=>{h[t]=e}));const u=o.map((({recordId:t})=>h[t])),m=h[n];this.$refs.mappingRuleGrid.invoke("appendRow",{"pk.mappingId":e,"pk.mappingOrder":a,targetForm:i,mappingDetailDesc:s,sourceRecordObject:u,targetRecordObject:m,ruleDetail:r.map((({mappingExpression:t,targetFieldPath:e,simpleMappingYn:a,arraySizeParameter:i})=>({mappingExpression:t,targetFieldPath:e,simpleMappingYn:a,arraySizeParameter:i})))})}this.$nextTick((async()=>{0!==this.$refs.mappingRuleGrid.invoke("getRowCount")&&(await this.initMultiFuncArrowAll(),this.mappingRuleGridSelectedRowKey=this.$refs.mappingRuleGrid.invoke("getRowAt",0).rowKey,this.ruleClick(this.mappingRuleGridSelectedRowKey),this.checkRule(),this.resize())}))}},async setMappingRuleSource(){const t={};!p()(this.serviceInfo)&&this.serviceInfo.requestRecordId&&this.mappingRuleSourceList.push({index:0,text:`Request Record [requestRecord] - ${this.serviceInfo.requestRecordId}`,value:`[requestRecord]${this.serviceInfo.requestRecordId}`});for await(const e of this.nodeList){const{itemId:a,index:i,data:{basic:{desc:s},etc:{uniqueKey:n}}}=e,o=a.split("_"),l=o.pop().toLowerCase(),c=o.join("_");if(!t[c]){const e=(await new r.p0(`/api/entity/${l}/object`).read({[`${l}Id`]:c})).data.object;t[c]=d()(e)}const p=t[c],h=p[`${l}Name`],u=p["query"===l?"outputRecordId":"responseRecordId"];u&&this.mappingRuleSourceList.push({index:i,text:`${s||h} #${i} (${n}) - ${u}`,value:`[${c}_${n}]${u}`})}},async addRecord(){const t=this,e=this.$openModal({title:this.$t("igate.record"),modalWidth:"600px",modalHeight:"200px",contentList:[{template:'<select class="form-control view-disabled" v-model="selectedOptionInfo">\n\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\tv-for="(optionInfo, idx) in optionInfoList"\n\t\t\t\t\t\t\t\t\t\t\t:key="idx"\n\t\t\t\t\t\t\t\t\t\t\tv-text="optionInfo.text"\n\t\t\t\t\t\t\t\t\t\t\t:value="optionInfo.value"\n\t\t\t\t\t\t\t\t\t\t></option>\n\t\t\t\t\t\t\t\t\t</select>',data(){return{selectedOptionInfo:null,optionInfoList:t.mappingRuleSourceList}}}],buttonList:[{template:`<button type="button" class="btn btn-primary" @click="click"> ${this.$t("head.ok")} </button>`,methods:{async click(){const a=e.$refs.content[0]._data.selectedOptionInfo;if(!a)return void this.$alert({type:"warn",message:this.$t("head.selectError")});const i=a.match(/\[([^\]]+)\]\s*(\S+)/),s=i.slice(1);let n=null;if(t.serviceInputList.push(s[0]),"response"===t.prefix&&t.serviceInfo.requestRecordId===s[1])n=d()(t.serviceInfo.requestRecordObject);else{const{data:{object:e}}=await t.recordInfoReq.read({recordId:s[1]},!0);n=e}const o=t.$refs.mappingRuleGrid.invoke("getRow",t.mappingRuleGridSelectedRowKey),r=o.sourceRecordObject?o.sourceRecordObject:[];r.push(n),t.$refs.mappingRuleGrid.invoke("setValue",t.mappingRuleGridSelectedRowKey,"sourceRecordObject",r,"serviceInputList"),t.ruleClick(t.mappingRuleGridSelectedRowKey),e.hideModal()}}}]})},resize(){this.$nextTick((()=>{const t=document.querySelector(".modal-body");if(!t)return;const e=getComputedStyle(t),a=(0,r.tJ)(e.getPropertyValue("padding-left")),i=(0,r.tJ)(e.getPropertyValue("padding-right")),s=t.clientWidth-(2*a+i),n=Math.floor(.35*s),o=Math.floor(.35*s),l=s-(n+o)-30;this.$refs.sourceGridParent.style.width=`${n}px`,this.$refs.sourceGrid.invoke("setWidth",n),this.$refs.targetGridParent.style.width=`${o}px`,this.$refs.targetGrid.invoke("setWidth",o),this.$refs.mappingArrowParent.style.width=`${l}px`,this.$refs.mappingArrow.setAttribute("width",l),this.readonly||(this.$refs.targetGridBtn.style.marginRight=n-20+"px");const d=t.offsetHeight;let c=d-40;c=c<250?250:c;const p=40,h=32;let u=c-p-40-(this.readonly?0:h);this.style.height=`${u}px`,this.$refs.sourceGrid.invoke("setHeight",u),this.$refs.targetGrid.invoke("setHeight",u),this.$refs.mappingArrow.setAttribute("height",u),this.$refs.sourceGridParent.style.height=`${u}px`,this.$refs.targetGridParent.style.height=`${u}px`,this.drawArrow()}))}}},u=h,m=a(43736),g=(0,m.Z)(u,i,s,!1,null,null,null),f=g.exports},79230:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{height:"100%"}},[e("ul",{staticClass:"nav nav-tabs flex-shrink-0"},[e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:0===t.selectedIdx},attrs:{href:"javascript:void(0);"},domProps:{textContent:t._s(t.$t("common.change.description"))},on:{click:function(e){return t.changeTab(0)}}})])]),e("div",{staticClass:"panel-body tab-content",staticStyle:{"padding-bottom":"0px",height:"calc(100% - 48px) !important"}},[e("div",{class:{modify:!0,"tab-pane":!0,active:0===t.selectedIdx}},[e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(t.$t("common.desc"))+" "),t.readonly?t._e():e("span",{staticClass:"letterLength"},[t._v(" ("+t._s(t.desc.length)+"/"+t._s(t.maxLengthDesc)+") ")])])]),e("div",{class:t.readonly?"detail-content-common":"detail-content-regExp",staticStyle:{padding:"0px"}},[e("div",{staticClass:"input-group"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.desc,expression:"desc"}],class:{["form-control"]:!0,["view-disabled"]:!0,["regExp-text"]:!t.readonly},staticStyle:{"min-height":"150px"},attrs:{readonly:t.readonly,maxlength:t.maxLengthDesc},domProps:{value:t.desc},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enter.apply(null,arguments)},input:[function(e){e.target.composing||(t.desc=e.target.value)},t.input]}})])])])])])])])])])},s=[],n=a(37662),o={name:"DetailNodeBasicInfo",props:{info:Object,itemId:String,editor:Boolean},data(){return{selectedIdx:0,desc:"",maxLengthDesc:0}},created(){this.desc=this.info.data.basic&&this.info.data.basic.desc?this.info.data.basic.desc:this.itemId,this.maxLengthDesc=(0,n.oo)("desc").maxLength},computed:{readonly(){return!this.editor}},methods:{input(){this.desc=this.desc.replace(new RegExp((0,n.oo)("desc").regExp,"g"),"")},changeTab(t){this.selectedIdx=t},getData(){return this.desc},enter(){this.$emit("enter")}}},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,null,null),c=d.exports},71316:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" ID "),"modify"===t.mode||t.readonly?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.operationId.length}/${t.maxLengthOperationId})`)+" ")])]),e("b",{staticClass:"icon-star"})]),e("div",{class:"modify"===t.mode||t.readonly?"detail-content-common":"detail-content-regExp",staticStyle:{"padding-left":"0px","padding-right":"0px"}},[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.operationId,expression:"operationId"}],class:{["form-control"]:!0,["view-disabled"]:!0,["regExp-text"]:"modify"!==t.mode&&!t.readonly},attrs:{type:"text",maxlength:t.maxLengthOperationId,readonly:"modify"===t.mode||t.readonly},domProps:{value:t.operationId},on:{input:[function(e){e.target.composing||(t.operationId=e.target.value)},function(e){return t.input("operationId")}]}})])])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(t.$t("head.name"))+" "),t.readonly?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.operationName.length}/${t.maxLengthOperationName})`)+" ")])])]),e("div",{class:t.readonly?"detail-content-common":"detail-content-regExp",staticStyle:{"padding-left":"0px","padding-right":"0px"}},[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.operationName,expression:"operationName"}],class:{["form-control"]:!0,["view-disabled"]:!0,["regExp-text"]:!t.readonly},attrs:{type:"text",maxlength:t.maxLengthOperationName,readonly:t.readonly},domProps:{value:t.operationName},on:{input:[function(e){e.target.composing||(t.operationName=e.target.value)},function(e){return t.input("operationName")}]}})])])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(t.$t("common.type"))+" ")]),e("b",{staticClass:"icon-star"})]),"add"===t.mode?e("label",{staticClass:"control-label warningLabel"},[e("span",[t._v(" "+t._s(t.$t("common.when.changed.initialized.1"))+" ")])]):t._e(),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.operationType,expression:"operationType"}],staticClass:"form-control view-disabled",attrs:{readonly:"add"!==t.mode},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.operationType=e.target.multiple?a:a[0]},t.operationTypeChange]}},t._l(t.operationTypeList,(function(a,i){return e("option",{key:i,domProps:{value:a.pk.propertyKey,textContent:t._s(a.propertyValue)}})})),0)])]),"clone"!==this.mode?e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(t.$t("common.privilege"))+" ")]),e("b",{staticClass:"icon-star"})]),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.privilegeId,expression:"privilegeId"}],staticClass:"form-control view-disabled",attrs:{readonly:!!t.isServiceOperation||t.readonly},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.privilegeId=e.target.multiple?a:a[0]}}},t._l(t.privilegeList,(function(a,i){return e("option",{key:i,domProps:{value:a.privilegeId,textContent:t._s(a.privilegeId)}})})),0)])]):t._e()]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[t._m(0),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.privateYn,expression:"privateYn"}],staticClass:"form-control view-disabled",attrs:{readonly:!!t.isServiceOperation||t.readonly},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.privateYn=e.target.multiple?a:a[0]}}},t._l(t.ynList,(function(a,i){return e("option",{key:i,domProps:{value:a.pk.propertyKey,textContent:t._s(a.propertyValue)}})})),0)])]),e("div",{staticClass:"form-group"},[t._m(1),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.operationLogLevel,expression:"operationLogLevel"}],staticClass:"form-control view-disabled",attrs:{readonly:t.readonly},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.operationLogLevel=e.target.multiple?a:a[0]}}},t._l(t.logLevelList,(function(a,i){return e("option",{key:i,domProps:{value:a.pk.propertyKey,textContent:t._s(a.propertyValue)}})})),0)])]),e("div",{staticClass:"form-group"},[t._m(2),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.xaTransactionAttribute,expression:"xaTransactionAttribute"}],staticClass:"form-control view-disabled",attrs:{readonly:t.readonly},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.xaTransactionAttribute=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"R"},domProps:{textContent:t._s("Required")}}),e("option",{attrs:{value:"S"},domProps:{textContent:t._s("Supports")}}),e("option",{attrs:{value:"M"},domProps:{textContent:t._s("Mandatory")}}),e("option",{attrs:{value:"N"},domProps:{textContent:t._s("Requires New")}}),e("option",{attrs:{value:"X"},domProps:{textContent:t._s("Not Supported")}})])])]),"add"===this.mode?e("div",{staticClass:"form-group"},[t._m(3),e("label",{staticClass:"control-label warningLabel"},[e("span",[t._v(" "+t._s(t.$t("common.when.changed.initialized.2"))+" ")])]),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.template,expression:"template"}],staticClass:"form-control view-disabled",attrs:{readonly:0===t.templateList.length},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.template=e.target.multiple?a:a[0]},t.templateChange]}},t._l(t.templateList,(function(a,i){return e("option",{key:i,domProps:{value:a.propertyValue,textContent:t._s("A"===t.operationType?`${a.pk.propertyKey.split("_")[0]} [${a.pk.propertyKey.split("_")[1]}] - ${a.propertyDesc}`:`${a.pk.propertyKey.split("_")[0]} - ${a.propertyDesc}`)}})})),0)])]):t._e()])]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(t.$t("head.description"))+" "),t.readonly?t._e():e("span",{staticClass:"letterLength"},[t._v(" "+t._s(`(${t.operationDesc.length}/${t.maxLengthOperationDesc})`)+" ")])])]),e("div",{class:t.readonly?"detail-content-common":"detail-content-regExp",staticStyle:{"padding-left":"0px","padding-right":"0px"}},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.operationDesc,expression:"operationDesc"}],class:{["form-control"]:!0,["view-disabled"]:!0,["regExp-text"]:!t.readonly},staticStyle:{"min-height":"200px"},attrs:{maxlength:t.maxLengthOperationDesc,readonly:t.readonly},domProps:{value:t.operationDesc},on:{input:[function(e){e.target.composing||(t.operationDesc=e.target.value)},function(e){return t.input("operationDesc")}]}})])])])])])},s=[function(){var t=this,e=t._self._c;return e("label",{staticClass:"control-label"},[e("span",[t._v("Private")]),e("b",{staticClass:"icon-star"})])},function(){var t=this,e=t._self._c;return e("label",{staticClass:"control-label"},[e("span",[t._v(" Log Level ")]),e("b",{staticClass:"icon-star"})])},function(){var t=this,e=t._self._c;return e("label",{staticClass:"control-label"},[e("span",[t._v(" XA-Transaction ")]),t._v(" "),e("b",{staticClass:"icon-star"})])},function(){var t=this,e=t._self._c;return e("label",{staticClass:"control-label"},[e("span",[t._v(" Template ")])])}],n=(a(57658),a(37662)),o=a(91338),r={name:"OperationDetailBasic",props:{detailData:Object,mode:String,isServiceOperation:{type:Boolean,default:!1}},data(){return{operationId:"",operationName:"",operationType:null,privilegeId:"",privateYn:"N",operationLogLevel:"N/A",xaTransactionAttribute:"S",operationDesc:"",template:null,maxLengthOperationId:0,maxLengthOperationName:0,maxLengthOperationDesc:0,operationTypeList:[],ynList:[],logLevelList:[],privilegeList:[],operationIdTemplate:null,templateList:[],operationRuleStr:"",namingRuleList:[]}},created(){this.maxLengthOperationId=(0,n.oo)("id").maxLength,this.maxLengthOperationName=(0,n.oo)("name").maxLength,this.maxLengthOperationDesc=(0,n.oo)("desc").maxLength},async mounted(){let t=await new n.p0("/api/page/properties").read({pk:{propertyId:"List.Operation.OperationType"},orderByKey:!0});this.operationTypeList=t.data.object.filter((({pk:{propertyKey:t}})=>this.isServiceOperation?"S"===t:"S"!==t)),t=await new n.p0("/api/page/properties").read({pk:{propertyId:"List.Yn"},orderByKey:!0}),this.ynList=t.data.object,t=await new n.p0("/api/page/properties").read({pk:{propertyId:"List.LogLevel"},orderByKey:!0}),this.logLevelList=t.data.object,t=await new n.p0("/api/entity/privilege/search").read({object:{privilegeType:"b"},limit:null,next:null,reverseOrder:!1}),this.privilegeList=t.data.object,t=await new n.p0("/api/page/properties").read({pk:{propertyId:"ImgOption.NamingRules"},orderByKey:!0}),this.namingRuleList=t.data.object},watch:{detailData:{immediate:!0,deep:!0,async handler(){if(this.detailData.operationId){if("clone"===this.mode){const t=await new n.p0("/api/page/properties").read({pk:{propertyId:"ImgOption.NamingRules"},orderByKey:!0}),e=t.data.object.find((t=>"SaveAsID"===t.pk.propertyKey)).propertyValue;this.operationId=e.replace("{0}",this.detailData.operationId)}else this.operationId=this.detailData.operationId;this.operationName="undefined"!==typeof this.detailData.operationName?this.detailData.operationName:"",this.operationType=this.detailData.operationType,this.privilegeId="undefined"!==typeof this.detailData.privilegeId?this.detailData.privilegeId:"",this.privateYn=this.detailData.privateYn,this.operationLogLevel=this.detailData.operationLogLevel,this.xaTransactionAttribute=this.detailData.xaTransactionAttribute,this.operationDesc="undefined"!==typeof this.detailData.operationDesc?this.detailData.operationDesc:""}}}},computed:{readonly(){return"add"===this.mode?!this.operationType:"modify"!==this.mode&&"clone"!==this.mode&&(this.mode,!0)}},methods:{input(t){let e="";"operationId"===t?e="id":"operationName"===t?e="name":"privilegeId"===t?e="id":"operationDesc"===t&&(e="desc"),this[t]=this[t].replace(new RegExp((0,n.oo)(e).regExp,"g"),"")},prefixFormat(t){return this.namingRuleList.find((e=>e.pk.propertyKey.startsWith(`Operation${"A"===t?"Adapter":"I"===t?"Interface":"J"===t?"Job":"User"}Prefix`))).propertyValue},async operationTypeChange(){let t=await new n.p0("/api/page/properties").read({pk:{propertyId:"ImgOption.NamingRules"},orderByKey:!0});this.operationId=this.prefixFormat(this.operationType),this.$emit("operationTypeChange",this.operationType),this.template=null,this.templateList=[],"A"!==this.operationType&&"I"!==this.operationType||(t=await new n.p0("/api/page/properties").read({pk:{propertyId:"OperationTemplate."+("A"===this.operationType?"Adapter":"Interface")},orderByKey:!0}),this.templateList=t.data.object)},async templateChange(){const t=await new n.p0("/api/entity/operation/object").read({operationId:this.template});this.operationRuleStr=t.data.object.operationRuleStr;const{Operation:e}=(0,o.AU)(t.data.object.operationRuleStr),a=[],i=[];if(e.Variables&&e.Variables.Variable){const t=Array.isArray(e.Variables.Variable)?e.Variables.Variable:[e.Variables.Variable];t.forEach((t=>{const e={};for(const a in t)e[a.replace("@","")]=t[a];delete e.isParameter,"true"===t["@isParameter"]?a.push(e):(e.data=(0,o.gu)(e),i.push(e))}))}this.$emit("templateChange",{Parameter:a,Variable:i})},getData(){return{operationId:this.prefixFormat(this.operationType)===this.operationId?null:this.operationId,operationName:this.operationName,operationType:this.operationType,privilegeId:this.privilegeId,privateYn:this.privateYn,operationLogLevel:this.operationLogLevel,xaTransactionAttribute:this.xaTransactionAttribute,operationDesc:this.operationDesc,operationRuleStr:this.operationRuleStr}}}},l=r,d=a(43736),c=(0,d.Z)(l,i,s,!1,null,null,null),p=c.exports},1241:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return m}});var i=function(){var t=this,e=t._self._c;return e("div",[t.readonly?t._e():e("div",{staticClass:"ml-auto form-inline m-full"},[e("button",{ref:"checkAllBtn",staticClass:"btn-icon",attrs:{type:"button"},on:{click:function(e){return t.$refs.tuiGrid.invoke("checkAll")}}},[e("i",{staticClass:"icon-check"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button"},on:{click:function(e){return t.$refs.tuiGrid.invoke("uncheckAll")}}},[e("i",{staticClass:"icon-uncheck"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button"},on:{click:t.addField}},[e("i",{staticClass:"icon-plus"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button"},on:{click:t.goFieldsAddNumModal}},[e("i",{staticClass:"icon-plus-circle"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button"},on:{click:t.deleteField}},[e("i",{staticClass:"icon-minus-circle"})])]),e("div",{staticClass:"table-responsive"},[t.isGridView?e("TuiGrid",t._b({ref:"tuiGrid"},"TuiGrid",t.options,!1)):t._e()],1)])},s=[],n=a(37856),o=a(66281),r=a.n(o),l=a(91338),d=a(37662),c={name:"Parameter",props:{detailData:Array,mode:String},components:{TuiGrid:n.Grid},data(){return{isGridView:!1,options:{editingEvent:"click",rowHeaders:[{type:"checkbox",header:" "}],draggable:!0,columns:[{header:this.$t("head.name"),name:"name",editor:"text"},{header:this.$t("common.type"),name:"type",formatter:({value:t})=>{const e=`calc(100% - ${this.readonly?"0px":"43px"})`;return`<div class="ellipsis" style="display: inline-block; width: ${e}" title="${t}"> ${(0,d.Xv)(t)} </div>\n\t\t\t\t\t\t\t\t\t${this.readonly?"":`<span class="modal-btn">\n\t\t\t\t\t\t\t\t\t\t\t       <i class="icon-plus-circle" title="${this.$t("head.insert")}" style="cursor: pointer;"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t   <i class="icon-minus-circle" title="${this.$t("head.delete")}" style="cursor: pointer; margin-left: 3px;"></i>\n\t\t\t\t\t\t\t\t    \t\t   </span>`}`}},{header:this.$t("common.desc"),name:"desc",editor:"text"}],onGridMounted:t=>{t.instance.on("click",(t=>{const{columnName:e,rowKey:a,nativeEvent:i,nativeEvent:{target:s}}=t;if(s.closest(".tui-grid-body-container")&&i.stopPropagation(),this.readonly&&t.stop(),"type"===e)if(s.classList.contains("icon-plus-circle")){const t=this,e=this.$refs.tuiGrid.invoke("getValue",a,"type"),i=this.$openModal({title:this.$t("igate.class.reference"),modalWidth:"400px",modalHeight:"230px",contentList:[{template:`<div>\n\t\t\t\t\t\t\t\t\t\t\t               <div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       <label class="control-label">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       <span> ${this.$t("igate.class.name")} <span class="letterLength"> ({{referenceClassName.length}}/200) </span></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       <b class="icon-star"></b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   </label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   <div class="detail-content-regExp" style="padding-left: 8px;">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       <input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   \t\ttype="text"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxlength="200"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlist="referenceClassList"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model="referenceClassName"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="regExp-text view-disabled"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@keyup.enter="enter"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<datalist id="referenceClassList">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-for="option in variableTypeList"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:key="option.pk.propertyKey"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:value="option.propertyValue"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-text="option.propertyValue" >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</datalist>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t   </div>`,data(){return{referenceClassName:e||"",variableTypeList:[]}},async created(){const t=await new d.p0("/api/page/properties").read({pk:{propertyId:"List.Operation.VariableType"},orderByKey:!0});"ok"===t.data.result&&(this.variableTypeList=t.data.object)},methods:{async enter(){await i.$refs.button[0].confirm()},getData(){return this.referenceClassName}}}],buttonList:[{template:'<button type="button" @click="confirm" class="btn btn-primary">{{ $t(\'head.ok\') }}</button>',methods:{async confirm(){const e=i.$refs.content[0].getData();0!==e.trim().length&&(await(0,l.y8)(e)?(t.$refs.tuiGrid.invoke("setValue",a,"type",e),i.hideModal()):this.$alert({type:"warn",message:this.$t("igate.operation.valid.className")}))}}}]})}else s.classList.contains("icon-minus-circle")&&this.$refs.tuiGrid.invoke("setValue",a,"type",null)}))}}}},computed:{readonly(){return"detail"===this.mode||"done"===this.mode}},watch:{detailData(){this.$refs.tuiGrid&&(this.$refs.tuiGrid.invoke("clear"),0<this.detailData.length&&this.$refs.tuiGrid.invoke("resetData",r()(this.detailData)))}},created(){d.dc.$on("MainResize",this.resize),d.Gk.$on("MainResize",this.resize),d.bB.$on("MainResize",this.resize),d.QK.$on("MainResize",this.resize)},mounted(){this.options=(0,d.d_)(this.options),this.options.draggable=!this.readonly,this.options.rowHeaders=this.readonly?[]:[{type:"checkbox",header:" "}],this.isGridView=!0,this.$nextTick((()=>{0<this.detailData.length&&this.$refs.tuiGrid.invoke("resetData",r()(this.detailData)),this.resize()}))},beforeDestroy(){d.dc.$off("MainResize",this.resize),d.Gk.$off("MainResize",this.resize),d.bB.$off("MainResize",this.resize),d.QK.$off("MainResize",this.resize)},methods:{addDefaultData(t){this.$refs.tuiGrid.invoke("resetData",t)},addField(t){this.changeButtonBlur(t),this.$refs.tuiGrid.invoke("appendRow",{name:null,type:null,desc:null}),this.resize()},goFieldsAddNumModal(t){this.changeButtonBlur(t);const e=this,a=this.$openModal({title:this.$t("igate.record.add.fields"),modalWidth:"250px",modalHeight:"180px",contentList:[{template:'<div><input type="text" class="form-control" v-model="addCnt" maxlength="2" @input="addCnt = addCnt.replace(/[^0-9]/g, \'\')"></div>',data(){return{addCnt:1}},methods:{getData(){return this.addCnt}}}],buttonList:[{template:'<button type="button" @click="confirm" class="btn btn-primary">{{ $t(\'head.ok\') }}</button>',methods:{confirm(){const t=a.$refs.content[0].getData();for(let a=0;a<t;a++){const t={};e.$refs.tuiGrid.invoke("appendRow",t)}e.resize(),a.hideModal()}}}]})},deleteField(t){if(this.changeButtonBlur(t),0===this.$refs.tuiGrid.invoke("getRowCount"))return;const e=this.$refs.tuiGrid.invoke("getCheckedRowKeys");0!==e.length&&(e.forEach((t=>{const e=this.$refs.tuiGrid.invoke("getRow",t);null!=e&&this.$refs.tuiGrid.invoke("removeRow",t)})),this.$refs.tuiGrid.invoke("blur"),this.resize())},changeButtonBlur(t){"I"===t.target.tagName?t.target.parentNode.blur():t.target.blur()},resize(){if(!this.$refs.tuiGrid)return;const t=document.querySelector("#operationModal"),e=t.parentNode,a=getComputedStyle(e),i=(0,d.tJ)(a.getPropertyValue("padding-left")),s=(0,d.tJ)(a.getPropertyValue("padding-right")),n=(0,d.tJ)(a.getPropertyValue("padding-top")),o=(0,d.tJ)(a.getPropertyValue("padding-bottom")),r=e.querySelector(".panel-body"),l=getComputedStyle(r),c=(0,d.tJ)(l.getPropertyValue("padding-left")),p=(0,d.tJ)(l.getPropertyValue("padding-right")),h=(0,d.tJ)(l.getPropertyValue("padding-top")),u=(0,d.tJ)(l.getPropertyValue("padding-bottom"));this.$refs.tuiGrid.invoke("setWidth",e.clientWidth-i-s-c-p),this.$refs.tuiGrid.invoke("setHeight",e.clientHeight-n-o-h-u-(t.querySelector(".active .ml-auto")?t.querySelector(".active .ml-auto").offsetHeight:0)-32-50)},getData(){return this.$refs.tuiGrid.invoke("blur"),this.$refs.tuiGrid.invoke("cancelEditing"),this.$refs.tuiGrid.invoke("getData")}}},p=c,h=a(43736),u=(0,h.Z)(p,i,s,!1,null,null,null),m=u.exports},8035:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"sub-bar",staticStyle:{padding:"0px 0px 5px 0px"}},[e("div",{staticClass:"ml-auto form-inline m-full"},[e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);"},on:{click:t.exportExcel}},[e("i",{staticClass:"icon-result"}),t._v(t._s(t.$t("head.excel.output")))])])]),e("div",{staticClass:"table-responsive"},[e("TuiGrid",t._b({ref:"tuiGrid"},"TuiGrid",t.options,!1))],1)])},s=[],n=a(91881),o=a(37662),r={name:"DetailOperationPublishGrid",extends:n.Z,methods:{resize(){if(!this.$refs.tuiGrid)return;const t=document.getElementById("operationModal"),e=t.getElementsByClassName("panel-body")[0],a=getComputedStyle(e),i=(0,o.tJ)(a.getPropertyValue("padding-left")),s=(0,o.tJ)(a.getPropertyValue("padding-right")),n=(0,o.tJ)(a.getPropertyValue("padding-top")),r=(0,o.tJ)(a.getPropertyValue("padding-bottom"));this.$refs.tuiGrid.invoke("setWidth",e.clientWidth-i-s),this.$refs.tuiGrid.invoke("setHeight",e.clientHeight-n-r-2-37)}}},l=r,d=a(43736),c=(0,d.Z)(l,i,s,!1,null,null,null),p=c.exports},98844:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",{domProps:{textContent:t._s(t.$t("head.lock.userId"))}})]),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.lockUserId,expression:"lockUserId"}],class:{["form-control"]:!0,["view-disabled"]:!0},attrs:{type:"text",readonly:"readonly"},domProps:{value:t.lockUserId},on:{input:function(e){e.target.composing||(t.lockUserId=e.target.value)}}})])])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",{domProps:{textContent:t._s(t.$t("head.updateVersion"))}})]),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.updateVersion,expression:"updateVersion"}],class:{["form-control"]:!0,["view-disabled"]:!0},attrs:{type:"text",readonly:"readonly"},domProps:{value:t.updateVersion},on:{input:function(e){e.target.composing||(t.updateVersion=e.target.value)}}})])])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",{domProps:{textContent:t._s(t.$t("head.update.userId"))}})]),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.updateUserId,expression:"updateUserId"}],class:{["form-control"]:!0,["view-disabled"]:!0},attrs:{type:"text",readonly:"readonly"},domProps:{value:t.updateUserId},on:{input:function(e){e.target.composing||(t.updateUserId=e.target.value)}}})])])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",{domProps:{textContent:t._s(t.$t("head.update.timestamp"))}})]),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.updateTimestamp,expression:"updateTimestamp"}],class:{["form-control"]:!0,["view-disabled"]:!0},attrs:{type:"text",readonly:"readonly"},domProps:{value:t.updateTimestamp},on:{input:function(e){e.target.composing||(t.updateTimestamp=e.target.value)}}})])])])])])])},s=[],n=a(37662),o={name:"resourceInfo",props:{detailData:Object},computed:{lockUserId(){return this.detailData.lockUserId},updateVersion(){return this.detailData.updateVersion},updateUserId(){return this.detailData.updateUserId},updateTimestamp(){return(0,n.GD)(this.detailData.updateTimestamp)}}},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,null,null),c=d.exports},86109:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return m}});var i=function(){var t=this,e=t._self._c;return e("div",[t.readonly?t._e():e("div",{staticClass:"ml-auto form-inline m-full"},[e("button",{ref:"checkAllBtn",staticClass:"btn-icon",attrs:{type:"button"},on:{click:function(e){return t.$refs.tuiGrid.invoke("checkAll")}}},[e("i",{staticClass:"icon-check"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button"},on:{click:function(e){return t.$refs.tuiGrid.invoke("uncheckAll")}}},[e("i",{staticClass:"icon-uncheck"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button"},on:{click:t.addField}},[e("i",{staticClass:"icon-plus"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button"},on:{click:t.goFieldsAddNumModal}},[e("i",{staticClass:"icon-plus-circle"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button"},on:{click:t.deleteField}},[e("i",{staticClass:"icon-minus-circle"})])]),e("div",{staticClass:"table-responsive"},[t.isGridView?e("TuiGrid",t._b({ref:"tuiGrid"},"TuiGrid",t.options,!1)):t._e()],1)])},s=[],n=a(37856),o=a(66281),r=a.n(o),l=a(91338),d=a(37662),c={name:"Variable",props:{detailData:Array,mode:String},components:{TuiGrid:n.Grid},data(){return{isGridView:!1,options:{editingEvent:"click",rowHeaders:[{type:"checkbox",header:" "}],draggable:!0,columns:[{header:this.$t("head.name"),name:"name",editor:"text"},{header:this.$t("common.type"),name:"type",formatter:({row:t,value:e})=>{const{_attributes:{disabled:a}}=t,i=`calc(100% - ${this.readonly||a?"0px":"43px"})`;return`<div class="ellipsis" style="display: inline-block; width: ${i}" title="${e}"> ${(0,d.Xv)(e)} </div>\n\t\t\t\t\t\t\t\t\t${this.readonly||a?"":`<span class="modal-btn">\n\t\t\t\t\t\t\t\t\t\t\t       <i class="icon-plus-circle" title="${this.$t("head.insert")}" style="cursor: pointer;"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t   <i class="icon-minus-circle" title="${this.$t("head.delete")}" style="cursor: pointer; margin-left: 3px;"></i>\n\t\t\t\t\t\t\t\t    \t\t   </span>`}`}},{header:this.$t("common.desc"),name:"desc",editor:"text"},{header:this.$t("igate.query.value"),name:"value",formatter:({row:t,value:e})=>{const{Value:a,_attributes:{disabled:i}}=t,s=a?a["#cdata"]:e;return`\n\t\t\t\t\t\t\t\t\t${this.readonly||i?(0,d.Xv)(s):`\n\t\t\t\t\t\t\t\t\t\t\t\t<div style="width: calc(100% - 30px); display: inline-block; text-overflow:ellipsis;white-space: nowrap;overflow: hidden;">\n\t\t\t\t\t\t\t\t\t\t\t\t\t${(0,d.Xv)(s)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t\t\t${this.readonly||i?"":`\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="modal-btn" style="float: right; margin-right: 5px;">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i class="icon-srch" style="cursor: pointer;" title="${this.$t("head.search")}"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t  `}\n\t\t\t\t\t\t\t\t  `}},{name:"data",hidden:!0},{name:"isAutoInsert",hidden:!0}],onGridMounted:t=>{t.instance.on("click",(t=>{const e=this,{columnName:i,rowKey:s,nativeEvent:n,nativeEvent:{target:o}}=t;if(o.closest(".tui-grid-body-container")&&n.stopPropagation(),this.readonly&&t.stop(),"value"===i){if(o.classList.contains("icon-srch")){const t=this.$refs.tuiGrid.invoke("getValue",s,"type"),i=this.$refs.tuiGrid.invoke("getValue",s,"data");if(!t)return void this.$alert({type:"warn",message:this.$t("igate.select.type")});const n=this.$parent.$refs.Parameter.getData(),o=this.$parent.$refs.Variable.getData(),d=!this.readonly,c=this.$openModal({title:"Expression",modalWidth:"1000px",modalHeight:"750px",contentList:[{template:'<reference :className="className" :tabData="tabData" :Parameter="Parameter" :Variable="Variable" :editor="editor" />',components:{reference:a(21288)["default"]},data(){return{className:t,tabData:i,Parameter:n,Variable:o,editor:d}}}],buttonList:d?[{template:`<button type="button" class="btn btn-primary" @click="click"> ${this.$t("head.ok")} </button>`,methods:{click(){const{expression:t,isValidation:a}=c.$refs.content[0].$children[0].getData();a&&(e.$refs.tuiGrid.invoke("setValue",s,"value",(0,l.Tk)(t),!1),e.$refs.tuiGrid.invoke("setValue",s,"data",r()(t),!1),c.hideModal())}}}]:null})}}else if("type"===i)if(o.classList.contains("icon-plus-circle")){const t=this,e=this.$refs.tuiGrid.invoke("getValue",s,"type"),a=this.$openModal({title:this.$t("igate.class.reference"),modalWidth:"400px",modalHeight:"230px",contentList:[{template:`<div>\n\t\t\t\t\t\t\t\t\t\t\t               <div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       <label class="control-label">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       \t<span> ${this.$t("igate.class.name")} <span class="letterLength"> ({{referenceClassName.length}}/200) </span></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       <b class="icon-star"></b>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   </label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   <div class="detail-content-regExp" style="padding-left: 8px;">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlist="referenceClassList"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="regExp-text view-disabled"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxlength="200"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model="referenceClassName"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@keyup.enter="enter"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<datalist id="referenceClassList">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-for="option in variableTypeList"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:key="option.pk.propertyKey"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:value="option.propertyValue"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-text="option.propertyValue" >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</datalist>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   </div>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t   </div>`,data(){return{referenceClassName:e||"",variableTypeList:[]}},async created(){const t=await new d.p0("/api/page/properties").read({pk:{propertyId:"List.Operation.VariableType"},orderByKey:!0});"ok"===t.data.result&&(this.variableTypeList=t.data.object)},methods:{async enter(){await a.$refs.button[0].confirm()},getData(){return this.referenceClassName}}}],buttonList:[{template:'<button type="button" @click="confirm" class="btn btn-primary">{{ $t(\'head.ok\') }}</button>',methods:{async confirm(){const e=a.$refs.content[0].getData();0!==e.trim().length&&(await(0,l.y8)(e)?(t.$refs.tuiGrid.invoke("setValue",s,"type",e),a.hideModal()):this.$alert({type:"warn",message:this.$t("igate.operation.valid.className")}))}}}]})}else o.classList.contains("icon-minus-circle")&&this.$refs.tuiGrid.invoke("setValue",s,"type",null)}))}}}},computed:{readonly(){return"detail"===this.mode||"done"===this.mode}},watch:{detailData(){if(this.$refs.tuiGrid&&(this.$refs.tuiGrid.invoke("clear"),0<this.detailData.length)){this.$refs.tuiGrid.invoke("resetData",r()(this.detailData));const t=this.$refs.tuiGrid.invoke("getData");t.forEach(((t,e)=>{t.isAutoInsert&&this.$refs.tuiGrid.invoke("disableRow",e)}))}}},created(){d.dc.$on("MainResize",this.resize),d.Gk.$on("MainResize",this.resize),d.bB.$on("MainResize",this.resize),d.QK.$on("MainResize",this.resize)},mounted(){this.options=(0,d.d_)(this.options),this.options.draggable=!this.readonly,this.options.rowHeaders=this.readonly?[]:[{type:"checkbox",header:" "}],this.isGridView=!0,this.$nextTick((()=>{if(0<this.detailData.length){this.$refs.tuiGrid.invoke("resetData",r()(this.detailData));const t=this.$refs.tuiGrid.invoke("getData");t.forEach(((t,e)=>{t.isAutoInsert&&this.$refs.tuiGrid.invoke("disableRow",e)}))}this.resize()}))},beforeDestroy(){d.dc.$off("MainResize",this.resize),d.Gk.$off("MainResize",this.resize),d.bB.$off("MainResize",this.resize),d.QK.$off("MainResize",this.resize)},methods:{addDefaultData(t){this.$refs.tuiGrid.invoke("resetData",t.map((t=>(t.isAutoInsert=!1,t))))},addField(t){this.changeButtonBlur(t),this.$refs.tuiGrid.invoke("appendRow",{name:null,type:null,desc:null,data:{},isAutoInsert:!1}),this.resize()},goFieldsAddNumModal(t){this.changeButtonBlur(t);const e=this,a=this.$openModal({title:this.$t("igate.record.add.fields"),modalWidth:"250px",modalHeight:"180px",contentList:[{template:'<div><input type="text" class="form-control" v-model="addCnt" maxlength="2" @input="addCnt = addCnt.replace(/[^0-9]/g, \'\')"></div>',data(){return{addCnt:1}},methods:{getData(){return this.addCnt}}}],buttonList:[{template:'<button type="button" @click="confirm" class="btn btn-primary">{{ $t(\'head.ok\') }}</button>',methods:{confirm(){const t=a.$refs.content[0].getData();for(let a=0;a<t;a++)e.$refs.tuiGrid.invoke("appendRow",{name:null,type:null,desc:null,data:{},isAutoInsert:!1});e.resize(),a.hideModal()}}}]})},deleteField(t){if(this.changeButtonBlur(t),0===this.$refs.tuiGrid.invoke("getRowCount"))return;const e=this.$refs.tuiGrid.invoke("getCheckedRowKeys");0!==e.length&&(e.forEach((t=>{const e=this.$refs.tuiGrid.invoke("getRow",t);null!=e&&this.$refs.tuiGrid.invoke("removeRow",t)})),this.$refs.tuiGrid.invoke("blur"),this.resize())},changeButtonBlur(t){"I"===t.target.tagName?t.target.parentNode.blur():t.target.blur()},resize(){const t=document.querySelector("#operationModal"),e=t.parentNode,a=getComputedStyle(e),i=(0,d.tJ)(a.getPropertyValue("padding-left")),s=(0,d.tJ)(a.getPropertyValue("padding-right")),n=(0,d.tJ)(a.getPropertyValue("padding-top")),o=(0,d.tJ)(a.getPropertyValue("padding-bottom")),r=e.querySelector(".panel-body"),l=getComputedStyle(r),c=(0,d.tJ)(l.getPropertyValue("padding-left")),p=(0,d.tJ)(l.getPropertyValue("padding-right")),h=(0,d.tJ)(l.getPropertyValue("padding-top")),u=(0,d.tJ)(l.getPropertyValue("padding-bottom"));this.$refs.tuiGrid.invoke("setWidth",e.clientWidth-i-s-c-p),this.$refs.tuiGrid.invoke("setHeight",e.clientHeight-n-o-h-u-(t.querySelector(".active .ml-auto")?t.querySelector(".active .ml-auto").offsetHeight:0)-32-50)},getData(){return this.$refs.tuiGrid.invoke("blur"),this.$refs.tuiGrid.invoke("cancelEditing"),this.$refs.tuiGrid.invoke("getData")}}},p=c,h=a(43736),u=(0,h.Z)(p,i,s,!1,null,null,null),m=u.exports},55799:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return d}});var i=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{height:"100%"}},[e("div",{staticClass:"col-lg-12",staticStyle:{"min-height":"270px",height:"100%"}},[e("div",{staticClass:"form-group",staticStyle:{height:"100%"}},[t._m(0),e("div",{staticClass:"input-group",staticStyle:{height:"calc(100% - 25px)"}},[e("textarea",{staticClass:"form-control view-disabled",staticStyle:{height:"100%"},attrs:{readonly:"readonly"},domProps:{textContent:t._s(t.formatOperationRule)}})])])])])},s=[function(){var t=this,e=t._self._c;return e("label",{staticClass:"control-label"},[e("span",[t._v("XML")])])}],n={name:"DetailXML",props:{detailData:Object},data(){return{formatOperationRule:""}},watch:{detailData:{immediate:!0,deep:!0,handler(){this.detailData.operationRuleStr&&this.setXmlData(this.detailData.operationRuleStr)}}},methods:{setXmlData(t){this.formatOperationRule=this.formatXml(t)},formatXml(t){let e="";const a=/(>)(<)(\/*)/g;t=t.replace(a,"$1\r\n$2$3");let i=0;return t.split("\r\n").forEach((t=>{let a=0;t.match(/.+<\/\w[^>]*>$/)?a=0:t.match(/^<\/\w/)?0!=i&&(i-=1):a=t.match(/^<\w[^>]*[^\/]>.*$/)?1:0;let s="";for(let e=0;e<i;e++)s+="  ";e+=s+t+"\r\n",i+=a})),e}}},o=n,r=a(43736),l=(0,r.Z)(o,i,s,!1,null,null,null),d=l.exports},23628:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return f}});var i=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{height:"100%"},attrs:{id:`${t.info.itemId}_${t.info.id}`}},[e("ul",{staticClass:"nav nav-tabs flex-shrink-0"},[e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:0===t.selectedIdx},attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.changeTab(0)}}},[t._v(" "+t._s(t.$t("common.parameter"))+" ")])])]),e("div",{staticClass:"panel-body tab-content",staticStyle:{"padding-bottom":"0px",height:"calc(100% - 48px) !important"}},[e("div",{class:{modify:!0,"tab-pane":!0,active:0===t.selectedIdx}},[e("div",[t.readonly||t.isOnlyModify&&!t.dynamic?t._e():e("div",{staticClass:"ml-auto form-inline m-full"},[e("button",{ref:"checkAllBtn",staticClass:"btn-icon",attrs:{type:"button"},on:{click:function(e){return t.$refs.tuiGrid.invoke("checkAll")}}},[e("i",{staticClass:"icon-check"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button"},on:{click:function(e){return t.$refs.tuiGrid.invoke("uncheckAll")}}},[e("i",{staticClass:"icon-uncheck"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button"},on:{click:t.addField}},[e("i",{staticClass:"icon-plus"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button"},on:{click:t.goFieldsAddNumModal}},[e("i",{staticClass:"icon-plus-circle"})]),e("button",{staticClass:"btn-icon",attrs:{type:"button"},on:{click:t.deleteField}},[e("i",{staticClass:"icon-minus-circle"})])]),e("div",{staticClass:"table-responsive"},[t.isGridView?e("TuiGrid",t._b({ref:"tuiGrid"},"TuiGrid",t.options,!1)):t._e()],1)])])])])},s=[],n=a(37856),o=a(66281),r=a.n(o),l=a(37662),d=a(91338),c=a(77285),p=a.n(c),h={name:"DetailParameterModal",props:{type:String,info:Object,itemId:String,isOnlyModify:Boolean,activityList:Array,editor:Boolean},components:{TuiGrid:n.Grid},data(){return{selectedIdx:0,dynamic:!1,activityParameters:[],activityAddParameter:{},detailData:[],isGridView:!1,options:{editingEvent:"click",rowHeaders:[{type:"checkbox",header:" "}],draggable:!0,columns:[{header:this.$t("common.type"),name:"type"},{header:this.$t("common.desc"),name:"desc"},{header:`${this.$t("igate.activity.parameter")} ${this.$t("common.type")} `,name:"paramType",formatter:t=>(0,d._p)(t.row.data)},{header:this.$t("common.property.value"),name:"value",formatter:({value:t})=>this.readonly?(0,l.Xv)(t):`\n\t\t\t\t\t\t\t\t\t<span class="modal-btn" style="float: right; margin-right: 5px;">\n\t\t\t\t\t\t\t\t\t\t<i class="icon-srch" style="cursor: pointer;" title="${this.$t("head.search")}"></i>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<div style="width: calc(100% - 30px); display: inline-block; text-overflow:ellipsis;white-space: nowrap;overflow: hidden;">\n\t\t\t\t\t\t\t\t\t\t${(0,l.Xv)(t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t`},{name:"data",hidden:!0}],onGridMounted:t=>{t.instance.on("drop",(t=>{const e=t.instance.getData(),a=e.filter((t=>t._attributes.disabled));setTimeout((()=>{a.forEach(((e,a)=>{t.instance.moveRow(e.rowKey,a)}))}),0)})),t.instance.on("click",(t=>{const e=this,{columnName:i,rowKey:s,nativeEvent:n,nativeEvent:{target:o}}=t;if(o.closest(".tui-grid-body-container")&&n.stopPropagation(),this.readonly&&t.stop(),"value"===i&&o.classList.contains("icon-srch")){const t=this.$refs.tuiGrid.invoke("getValue",s,"type"),i=this.$refs.tuiGrid.invoke("getValue",s,"data");if(!t)return;const{Parameter:n,Variable:o}=this.info,l=this.editor,c=this.$openModal({title:"Expression",modalWidth:"1000px",modalHeight:"750px",contentList:[{template:'<reference :className="className" :tabData="tabData" :Parameter="Parameter" :Variable="Variable" :editor="editor" />',components:{reference:a(21288)["default"]},data(){return{className:t,tabData:i,Parameter:n,Variable:o,editor:l}}}],buttonList:l?[{template:`<button type="button" class="btn btn-primary" @click="click"> ${this.$t("head.ok")} </button>`,methods:{click(){const{expression:t,isValidation:a}=c.$refs.content[0].$children[0].getData();a&&(e.$refs.tuiGrid.invoke("setValue",s,"value",(0,d.Tk)(t),!1),e.$refs.tuiGrid.invoke("setValue",s,"data",r()(t),!1),c.hideModal())}}}]:null})}}))}}}},computed:{readonly(){return!this.editor}},watch:{detailData(){if(this.$refs.tuiGrid&&(this.$refs.tuiGrid.invoke("clear"),0!==this.detailData.length)){if(this.$refs.tuiGrid.invoke("resetData",r()(this.detailData)),!this.readonly&&!p()(this.activityParameters)){for(const t in this.activityParameters)this.$refs.tuiGrid.invoke("disableRow",t);this.$refs.tuiGrid.invoke("enableColumn","type"),this.$refs.tuiGrid.invoke("enableColumn","desc"),this.$refs.tuiGrid.invoke("enableColumn","paramType"),this.$refs.tuiGrid.invoke("enableColumn","value")}this.resize()}}},created(){l.dc.$on("MainResize",this.resize),l.Gk.$on("MainResize",this.resize),l.bB.$on("MainResize",this.resize),l.QK.$on("MainResize",this.resize)},async mounted(){if(this.options=(0,l.d_)(this.options),"Activity"===this.type){const t=await new l.p0("/api/entity/activity/object").read({activityId:this.itemId});this.activityParameters=t.data.object.activityParameters,p()(this.activityParameters)||(this.dynamic=this.activityParameters[this.activityParameters.length-1].parameterType.endsWith("..."),this.dynamic&&(this.activityAddParameter=this.activityParameters.pop()))}this.options.draggable=!this.readonly&&!(this.isOnlyModify&&!this.dynamic),(this.readonly||this.isOnlyModify&&!this.dynamic)&&(this.options.rowHeaders=[]),this.isGridView=!0,this.$nextTick((async()=>{if(this.resize(),"Activity"===this.type)this.info.data.Parameter?this.detailData=r()(this.info.data.Parameter):this.detailData=this.activityParameters.map((t=>{const e="java.lang.Number"===t.parameterType?{ConstantExpression:{value:0}}:{VariableExpression:{name:null}};return{type:t.parameterType,desc:t.parameterDesc,paramType:null,value:"java.lang.Number"===t.parameterType?0:"null",data:e}}));else if("UOP"===this.type){const{data:{object:{operationRuleStr:t}}}=await new l.p0("/api/entity/operation/object").read({operationId:this.itemId});if(this.dynamic=!1,this.info.data.Parameter)this.detailData=r()(this.info.data.Parameter);else{const{Operation:e}=(0,d.AU)(t),a=e.Variables&&e.Variables.Variable?Array.isArray(e.Variables.Variable)?e.Variables.Variable:[e.Variables.Variable]:[];this.detailData=a.filter((t=>"true"===t["@isParameter"])).map((t=>({type:t["@type"],desc:t["@desc"],paramType:null,value:"null",data:{VariableExpression:{name:"null"}}})))}}}))},beforeDestroy(){l.dc.$off("MainResize",this.resize),l.Gk.$off("MainResize",this.resize),l.bB.$off("MainResize",this.resize),l.QK.$off("MainResize",this.resize)},methods:{changeTab(t){this.selectedIdx=t},addDefaultData(t){this.$refs.tuiGrid.invoke("resetData",t)},addField(t){this.changeButtonBlur(t);let e=null;"InvokeActivity"===this.itemId?e={type:"java.lang.Object",desc:"Activity Parameter",paramType:null,value:"null",data:{VariableExpression:{name:"null"}}}:"InvokeOperation"===this.itemId?e={type:"java.lang.Object",desc:"Operation Parameter",paramType:null,value:"null",data:{VariableExpression:{name:"null"}}}:this.dynamic&&(e={type:this.activityAddParameter.parameterType.replace("...",""),desc:this.activityAddParameter.parameterDesc,paramType:null,value:"null",data:{VariableExpression:{name:"null"}}}),this.$refs.tuiGrid.invoke("appendRow",e),this.resize()},goFieldsAddNumModal(t){this.changeButtonBlur(t);const e=this,a=this.$openModal({title:this.$t("igate.record.add.fields"),modalWidth:"250px",modalHeight:"180px",contentList:[{template:'<div><input type="text" class="form-control" v-model="addCnt" maxlength="2" @input="addCnt = addCnt.replace(/[^0-9]/g, \'\')"></div>',data(){return{addCnt:1}},methods:{getData(){return this.addCnt}}}],buttonList:[{template:'<button type="button" @click="confirm" class="btn btn-primary">{{ $t(\'head.ok\') }}</button>',methods:{confirm(){const t=a.$refs.content[0].getData();let i=null;"InvokeActivity"===e.itemId?i={type:"java.lang.Object",desc:"Activity Parameter",paramType:null,value:"null",data:{VariableExpression:{name:"null"}}}:"InvokeOperation"===this.itemId?i={type:"java.lang.Object",desc:"Operation Parameter",paramType:null,value:"null",data:{VariableExpression:{name:"null"}}}:e.dynamic&&(i={type:e.activityAddParameter.parameterType.replace("...",""),desc:e.activityAddParameter.parameterDesc,paramType:null,value:"null",data:{VariableExpression:{name:"null"}}});for(let a=0;a<t;a++)e.$refs.tuiGrid.invoke("appendRow",i);e.resize(),a.hideModal()}}}]})},deleteField(t){if(this.changeButtonBlur(t),0===this.$refs.tuiGrid.invoke("getRowCount"))return;const e=this.$refs.tuiGrid.invoke("getCheckedRowKeys");0!==e.length&&(e.forEach((t=>{const e=this.$refs.tuiGrid.invoke("getRow",t);null!=e&&this.$refs.tuiGrid.invoke("removeRow",t)})),this.$refs.tuiGrid.invoke("blur"),this.resize())},changeButtonBlur(t){"I"===t.target.tagName?t.target.parentNode.blur():t.target.blur()},modalResize(){this.resize()},resize(){if(!this.$refs.tuiGrid)return;const t=document.querySelector(`#${this.$el.id}`),e=t.parentNode,a=getComputedStyle(e),i=(0,l.tJ)(a.getPropertyValue("padding-left")),s=(0,l.tJ)(a.getPropertyValue("padding-right")),n=(0,l.tJ)(a.getPropertyValue("padding-top")),o=(0,l.tJ)(a.getPropertyValue("padding-bottom")),r=e.querySelector(".panel-body"),d=getComputedStyle(r),c=(0,l.tJ)(d.getPropertyValue("padding-left")),p=(0,l.tJ)(d.getPropertyValue("padding-right")),h=(0,l.tJ)(d.getPropertyValue("padding-top")),u=(0,l.tJ)(d.getPropertyValue("padding-bottom"));this.$refs.tuiGrid.invoke("setWidth",e.clientWidth-i-s-c-p),this.$refs.tuiGrid.invoke("setHeight",e.clientHeight-n-o-h-u-(t.querySelector(".active .ml-auto")?t.querySelector(".active .ml-auto").offsetHeight:0)-32-50)},getData(){return{dynamic:this.dynamic,Parameter:this.$refs.tuiGrid.invoke("getData")}}}},u=h,m=a(43736),g=(0,m.Z)(u,i,s,!1,null,null,null),f=g.exports},81013:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{height:"100%"},attrs:{id:`${t.info.itemId}_${t.info.id}`}},[e("ul",{staticClass:"nav nav-tabs flex-shrink-0"},[e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:0===t.selectedIdx},attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.changeTab(0)}}},[t._v(" "+t._s(t.$t("common.script"))+" ")])])]),e("div",{staticClass:"panel-body tab-content",staticStyle:{"padding-bottom":"0px",height:"calc(100% - 48px) !important"}},[e("div",{class:{modify:!0,"tab-pane":!0,active:0===t.selectedIdx}},[t.editor?e("div",{staticClass:"ml-auto form-inline m-full"},[e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("common.variable.function.reference")},on:{click:t.openReferenceModal}},[e("span",{staticClass:"hide"},[t._v(t._s(t.$t("common.variable.function.reference")))])]),e("a",{staticClass:"btn btn-m",attrs:{href:"javascript:void(0);",title:t.$t("igate.class.reference")},on:{click:t.openClassModal}},[e("span",{staticClass:"hide"},[t._v(t._s(t.$t("igate.class.reference")))])])]):t._e(),t.editor?e("div",{staticClass:"menu-divider"}):t._e(),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(t.$t("igate.message.code"))+" "),t.readonly?t._e():e("span",{staticClass:"letterLength"},[t._v(" ("+t._s(t.Value.length)+") ")])])]),e("div",{class:t.readonly?"detail-content-common":"detail-content-regExp",staticStyle:{padding:"0px"}},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.Value,expression:"Value"}],ref:"value",class:{["form-control"]:!0,["view-disabled"]:!0,["regExp-text"]:!t.readonly},style:{height:t.height},attrs:{readonly:t.readonly},domProps:{value:t.Value},on:{input:function(e){e.target.composing||(t.Value=e.target.value)}}})])])])])])])])},s=[],n=a(37662),o=a(91338),r={name:"DetailScriptModal",props:{info:Object,editor:Boolean},data(){return{selectedIdx:0,Value:"",height:null}},computed:{readonly(){return!this.editor}},created(){this.Value="undefined"===typeof this.info.data.Value?"return 0;":this.info.data.Value},mounted(){this.modalResize()},methods:{modalResize(){this.height="0px",this.$nextTick((()=>{const t=this.$el.querySelector(".panel-body"),e=getComputedStyle(t),a=(0,n.tJ)(e.getPropertyValue("padding-top")),i=t.clientHeight-a,s=this.$el.querySelector(".panel-body .ml-auto"),o=s?s.offsetHeight:0,r=this.$el.querySelector(".panel-body .menu-divider"),l=r?r.offsetHeight+24:0,d=24;this.height=i-(o+l+d)+"px"}))},changeTab(t){this.selectedIdx=t},openReferenceModal(){const t=this,{Parameter:e,Variable:i}=this.info,s=this.editor,n=this.$openModal({title:"Expression",modalWidth:"1000px",modalHeight:"750px",contentList:[{template:'<reference :className="className" :tabData="tabData" :Parameter="Parameter" :Variable="Variable" :editor="editor" />',components:{reference:a(21288)["default"]},data(){return{className:"java.lang.Object",tabData:{VariableExpression:{name:"null"}},Parameter:e,Variable:i,editor:s}}}],buttonList:s?[{template:`<button type="button" class="btn btn-primary" @click="click"> ${this.$t("head.ok")} </button>`,methods:{async click(){const{expression:e,isValidation:a}=n.$refs.content[0].$children[0].getData();if(!a)return;const i=t.$refs.value.selectionStart;t.Value=t.Value.slice(0,i)+(0,o.Tk)(e,!0)+t.Value.slice(i),n.hideModal()}}}]:null})},openClassModal(){const t=this,e=this.$openModal({title:this.$t("igate.class.reference"),modalWidth:"400px",modalHeight:"230px",contentList:[{template:`<div>\n                                       <div class="form-group">\n                                           <label class="control-label">\n                                               <span> \n\t\t\t\t\t\t\t\t\t\t\t   \t   ${this.$t("igate.class.name")} \n\t\t\t\t\t\t\t\t\t\t\t\t   <span class="letterLength"> ({{referenceClassName.length}}/200) </span>\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n                                                <b class="icon-star"></b>\n                                           </label>\n                                           <div class="detail-content-regExp" style="padding-left: 8px;">\n                                               <input\n\t\t\t\t\t\t\t\t\t\t\t   \t\ttype="text"\n\t\t\t\t\t\t\t\t\t\t\t\t\tlist="referenceClassList"\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxlength="200"\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-model="referenceClassName"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@keyup.enter="enter"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="regExp-text view-disabled dataKey"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<datalist id="referenceClassList">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-for="option in variableTypeList"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:key="option.pk.propertyKey"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:value="option.propertyValue"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-text="option.propertyValue" >\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t</datalist>\n                                           </div>\n                                       </div>\n                                   </div>`,data(){return{referenceClassName:"",variableTypeList:[]}},async created(){const t=await new n.p0("/api/page/properties").read({pk:{propertyId:"List.Operation.VariableType"},orderByKey:!0});"ok"===t.data.result&&(this.variableTypeList=t.data.object)},methods:{async enter(){await e.$refs.button[0].confirm()},getData(){return this.referenceClassName}}}],buttonList:[{template:'<button type="button" @click="confirm" class="btn btn-primary">{{ $t(\'head.ok\') }}</button>',methods:{async confirm(){const a=e.$refs.content[0].getData();if(0===a.trim().length)return;if(!await(0,o.y8)(a))return void this.$alert({type:"warn",message:this.$t("igate.operation.valid.className")});const i=t.$refs.value.selectionStart;t.Value=t.Value.slice(0,i)+a+t.Value.slice(i),e.hideModal()}}}]})},getData(){return{Value:this.Value}}}},l=r,d=a(43736),c=(0,d.Z)(l,i,s,!1,null,null,null),p=c.exports},85771:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return m}});var i=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{height:"100%"},attrs:{id:`${t.info.itemId}_${t.info.id}`}},[e("ul",{staticClass:"nav nav-tabs flex-shrink-0"},[e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:0===t.selectedIdx},attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.changeTab(0)}}},[t._v(" "+t._s(t.$t("common.error"))+" ")])])]),e("div",{staticClass:"panel-body tab-content",staticStyle:{"padding-bottom":"0px",height:"calc(100% - 48px) !important"}},[e("div",{class:{modify:!0,"tab-pane":!0,active:0===t.selectedIdx}},[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("common.error")))])]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.exceptionCode,expression:"exceptionCode"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:"readonly"},domProps:{value:t.exceptionCode},on:{input:function(e){e.target.composing||(t.exceptionCode=e.target.value)}}}),t.readonly?t._e():e("button",{staticClass:"btn btn-icon search-linkBtn",attrs:{title:t.$t("head.open")},on:{click:t.openExceptionCodeModal}},[e("i",{staticClass:"icon-srch"})])])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("common.error.message")))])]),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.exceptionMessageFormat,expression:"exceptionMessageFormat"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:"readonly"},domProps:{value:t.exceptionMessageFormat},on:{input:function(e){e.target.composing||(t.exceptionMessageFormat=e.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("common.error.message.apply")))])]),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.exceptionMessageFormatConvert,expression:"exceptionMessageFormatConvert"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:"readonly"},domProps:{value:t.exceptionMessageFormatConvert},on:{input:function(e){e.target.composing||(t.exceptionMessageFormatConvert=e.target.value)}}})])])])]),e("div",{staticClass:"table-responsive"},[t.isGridView?e("TuiGrid",t._b({ref:"tuiGrid"},"TuiGrid",t.options,!1)):t._e()],1)])])])},s=[],n=(a(57658),a(66281)),o=a.n(n),r=a(37856),l=a(37662),d=a(91338),c={name:"DetailThrowModal",props:{info:Object,editor:Boolean},components:{TuiGrid:r.Grid},computed:{readonly(){return!this.editor}},data(){return{selectedIdx:0,isGridView:!1,exceptionCode:null,exceptionMessageFormat:null,exceptionMessageFormatConvert:null,options:{data:[],columns:[{header:this.$t("head.name"),name:"name"},{header:this.$t("common.type"),name:"type",editor:"text"},{header:`${this.$t("igate.activity.parameter")} ${this.$t("common.type")} `,name:"paramType",formatter:t=>(0,d._p)(t.row.data)},{header:this.$t("common.property.value"),name:"value",formatter:({value:t})=>this.readonly?(0,l.Xv)(t):`\n\t\t\t\t\t\t\t\t\t<div style="width: calc(100% - 30px); display: inline-block; text-overflow:ellipsis;white-space: nowrap;overflow: hidden;">\n\t\t\t\t\t\t\t\t\t\t${(0,l.Xv)(t)}\n\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<span class="modal-btn" style="float: right; margin-right: 5px;">\n\t\t\t\t\t\t\t\t\t\t<i class="icon-srch" style="cursor: pointer;" title="${this.$t("head.search")}"></i>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t`},{name:"data",hidden:!0}],onGridMounted:t=>{t.instance.on("click",(t=>{const e=this,{columnName:i,rowKey:s,nativeEvent:n,nativeEvent:{target:r}}=t;if(r.closest(".tui-grid-body-container")&&n.stopPropagation(),"value"===i&&r.classList.contains("icon-srch")){const t=this.$refs.tuiGrid.invoke("getValue",s,"type"),i=this.$refs.tuiGrid.invoke("getValue",s,"data");if(!t)return;const{Parameter:n,Variable:r}=this.info,l=this.editor,c=this.$openModal({title:"Expression",modalWidth:"1000px",modalHeight:"750px",contentList:[{template:'<reference :className="className" :tabData="tabData" :Parameter="Parameter" :Variable="Variable" :editor="editor" />',components:{reference:a(21288)["default"]},data(){return{className:t,tabData:i,Parameter:n,Variable:r,editor:l}}}],buttonList:l?[{template:`<button type="button" class="btn btn-primary" @click="click"> ${this.$t("head.ok")} </button>`,methods:{click(){const{expression:t,isValidation:a}=c.$refs.content[0].$children[0].getData();a&&(e.$refs.tuiGrid.invoke("setValue",s,"value",(0,d.Tk)(t),!1),e.$refs.tuiGrid.invoke("setValue",s,"data",o()(t),!1),e.exceptionMessageFormatConvert=e.exceptionMessageFormat,e.$refs.tuiGrid.invoke("getData").forEach(((t,a)=>{e.exceptionMessageFormatConvert=e.exceptionMessageFormatConvert.replace(`{${a}}`,t.value)})),c.hideModal())}}}]:null})}}))}}}},created(){l.dc.$on("MainResize",this.resize),l.Gk.$on("MainResize",this.resize),l.bB.$on("MainResize",this.resize),l.QK.$on("MainResize",this.resize)},async mounted(){if(this.info.data.Parameter&&0<this.info.data.Parameter.length){const t=o()(this.info.data.Parameter);this.exceptionCode=t.splice(0,1)[0].value.replaceAll('"',"");let e=await new l.p0("/api/entity/message/object").read({"pk.messageCode":this.exceptionCode,"pk.messageLocale":navigator.language.split("-")[0]},!0,(()=>{}));if("error"===e.data.result&&(e=await new l.p0("/api/entity/message/object").read({"pk.messageCode":this.exceptionCode,"pk.messageLocale":"en"},!0,(()=>{}))),"error"===e.data.result)return void this.$alert({type:"warn",message:this.$t("igate.operation.no.message")});this.exceptionMessageFormat=e.data.object.messageFormat,this.exceptionMessageFormatConvert=e.data.object.messageFormat,t.forEach(((t,e)=>{this.exceptionMessageFormatConvert=this.exceptionMessageFormatConvert.replace(`{${e}}`,t.value),this.options.data.push({name:`arg #${e}`,type:"java.lang.String",value:t.value,data:t.data})}))}this.options=(0,l.d_)(this.options),this.isGridView=!0,this.$nextTick((()=>{this.resize()}))},methods:{changeTab(t){this.selectedIdx=t},openExceptionCodeModal(){const t=this,e=this.$openModal({title:this.$t("igate.exceptionCode"),modalWidth:"800px",contentList:[{template:'<div>\n                                       <Search :list="searchList" @search="search" ref="search"/>\n                                       <Main\n                                           :buttonList="buttonList"\n                                           :gridInfo="gridInfo"\n                                           :gridSearchObj="gridSearchObj"\n                                           :gridType="\'modalBasic\'"\n                                           :viewer="true"\n                                           @rowClicked="rowClicked"\n\t\t\t\t\t\t\t\t\t\t   @initialize="initialize"\n                                        />\n                                   </div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:[],buttonList:[],gridInfo:{},gridSearchObj:{}}},created(){this.searchList=[{type:"text",vModel:"exceptionCode",label:this.$t("igate.exceptionCode"),placeholder:this.$t("head.searchCode")},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],this.buttonList=[{id:"initialize",isUse:!0}],this.gridInfo={url:"/api/entity/exceptionCode/search",totalCntUrl:"/api/entity/exceptionCode/count",paging:{isUse:!0,side:"server"},options:{columns:[{name:"exceptionCode",header:this.$t("igate.exceptionCode"),align:"left",width:"30%"},{name:"exceptionDesc",header:this.$t("head.description"),align:"left",width:"70%"}]}}},methods:{search(t){this.gridSearchObj=t},async rowClicked(a){let i=await new l.p0("/api/entity/message/object").read({"pk.messageCode":a.exceptionCode,"pk.messageLocale":navigator.language.split("-")[0]},!0,(()=>{}));if("error"===i.data.result&&(i=await new l.p0("/api/entity/message/object").read({"pk.messageCode":a.exceptionCode,"pk.messageLocale":"en"},!0,(()=>{}))),"error"===i.data.result)return void this.$alert({type:"warn",message:this.$t("igate.operation.no.message")});const s=i.data.object.messageFormat,n=[];let o=1;while(o<s.length-1)"{"===s.charAt(o-1)&&Number.isInteger(Number(s.charAt(o)))&&"}"===s.charAt(o+1)?(n.push(Number(s.charAt(o))),o+=2):o+=1;t.exceptionCode=i.data.object.pk.messageCode,t.exceptionMessageFormat=i.data.object.messageFormat,t.exceptionMessageFormatConvert=i.data.object.messageFormat,n.forEach((e=>{t.exceptionMessageFormatConvert=t.exceptionMessageFormatConvert.replace(`{${e}}`,`"${e}"`),t.$refs.tuiGrid.invoke("appendRow",{name:`arg #${e}`,type:"java.lang.String",value:`"${e}"`,data:{ConstantExpression:{value:`"${e}"`}}})})),this.$nextTick((()=>{t.resize()})),e.hideModal()},initialize(){this.$refs.search.initialize()}}}]})},modalResize(){this.resize()},resize(){if(!this.$refs.tuiGrid)return;const t=document.querySelector(`#${this.$el.id}`),e=t.parentNode,a=getComputedStyle(e),i=(0,l.tJ)(a.getPropertyValue("padding-left")),s=(0,l.tJ)(a.getPropertyValue("padding-right")),n=(0,l.tJ)(a.getPropertyValue("padding-top")),o=(0,l.tJ)(a.getPropertyValue("padding-bottom")),r=e.querySelector(".panel-body"),d=getComputedStyle(r),c=(0,l.tJ)(d.getPropertyValue("padding-left")),p=(0,l.tJ)(d.getPropertyValue("padding-right")),h=(0,l.tJ)(d.getPropertyValue("padding-top")),u=(0,l.tJ)(d.getPropertyValue("padding-bottom"));this.$refs.tuiGrid.invoke("setWidth",e.clientWidth-i-s-c-p),this.$refs.tuiGrid.invoke("setHeight",e.clientHeight-n-o-h-u-t.querySelector(".frm-row").offsetHeight-t.querySelector(".nav-tabs").offsetHeight-33)},getData(){return{Parameter:[{type:"java.lang.String",desc:this.$t("common.error.name"),value:this.exceptionCode,data:{ConstantExpression:{value:`"${this.exceptionCode}"`}}},...this.$refs.tuiGrid.invoke("getData").map((t=>({type:t.type,desc:this.$t("common.error.parameter"),value:t.value,data:t.data})))]}}}},p=c,h=a(43736),u=(0,h.Z)(p,i,s,!1,null,null,null),m=u.exports},84953:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return v}});var i=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{height:"calc(100% - 68px)"},attrs:{id:"operationModal"}},[e("ul",{staticClass:"nav nav-tabs flex-shrink-0"},[e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:0===t.selectedIdx},attrs:{href:"javascript:void(0);"},domProps:{textContent:t._s(t.$t("head.basic.info"))},on:{click:function(e){return t.changeTab(0)}}})]),e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:1===t.selectedIdx},attrs:{href:"javascript:void(0);"},domProps:{textContent:t._s("Parameter")},on:{click:function(e){return t.changeTab(1)}}})]),e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:2===t.selectedIdx},attrs:{href:"javascript:void(0);"},domProps:{textContent:t._s("Variable")},on:{click:function(e){return t.changeTab(2)}}})]),"add"!==t.mode&&"clone"!==t.mode?e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:3===t.selectedIdx},attrs:{href:"javascript:void(0);"},domProps:{textContent:t._s("XML")},on:{click:function(e){return t.changeTab(3)}}})]):t._e(),"add"!==t.mode&&"clone"!==t.mode?e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:4===t.selectedIdx},attrs:{href:"javascript:void(0);"},domProps:{textContent:t._s(t.$t("head.resource.inuse.info"))},on:{click:function(e){return t.changeTab(4)}}})]):t._e(),"add"!==t.mode&&"clone"!==t.mode?e("li",{staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:5===t.selectedIdx},attrs:{href:"javascript:void(0);"},domProps:{textContent:t._s(t.$t("head.referenceTreeInfo"))},on:{click:function(e){return t.changeTab(5)}}})]):t._e()]),e("div",{staticClass:"panel-body tab-content",staticStyle:{"padding-bottom":"0px"}},[e("div",{class:{[t.mode]:!0,"tab-pane":!0,active:0===t.selectedIdx}},[e("BasicInfo",{ref:"basic",attrs:{detailData:t.detailData.basic,mode:t.mode,isServiceOperation:t.isServiceOperation},on:{operationTypeChange:t.operationTypeChange,templateChange:t.templateChange}})],1),e("div",{class:{[t.mode]:!0,"tab-pane":!0,active:1===t.selectedIdx}},[e("Parameter",{ref:"Parameter",attrs:{detailData:t.detailData.Parameter,mode:t.mode}})],1),e("div",{class:{[t.mode]:!0,"tab-pane":!0,active:2===t.selectedIdx}},[e("Variable",{ref:"Variable",attrs:{detailData:t.detailData.Variable,mode:t.mode}})],1),"add"!==t.mode&&"clone"!==t.mode?e("div",{class:{[t.mode]:!0,"tab-pane":!0,active:3===t.selectedIdx},staticStyle:{height:"100%"}},[e("Xml",{ref:"Xml",attrs:{detailData:t.detailData.basic}})],1):t._e(),"add"!==t.mode&&"clone"!==t.mode?e("div",{class:{[t.mode]:!0,"tab-pane":!0,active:4===t.selectedIdx}},[e("ResourceInfo",{attrs:{detailData:t.detailData.basic}})],1):t._e(),"add"!==t.mode&&"clone"!==t.mode?e("div",{class:{[t.mode]:!0,"tab-pane":!0,active:5===t.selectedIdx}},[e("DetailOperationPublishGrid",{attrs:{detailData:t.detailData.basic,detailInfo:{params:{className:"com.inzent.igate.repository.meta.Operation"}},type:"modal"}})],1):t._e()])])},s=[],n=(a(57658),a(66281)),o=a.n(n),r=a(91338),l=a(71316),d=a(1241),c=a(86109),p=a(55799),h=a(98844),u=a(8035),m={name:"OperationModal",components:{BasicInfo:l["default"],Parameter:d["default"],Variable:c["default"],Xml:p["default"],ResourceInfo:h["default"],DetailOperationPublishGrid:u["default"]},props:{mode:{type:String,default:"detail"},detailData:Object,isServiceOperation:{type:Boolean,default:!1},getOperationXml:{type:Function}},data(){return{selectedIdx:0,parameterData:[],variableData:[]}},methods:{async changeTab(t){if(this.selectedIdx=t,1===t||2===t)setTimeout((()=>{this.$refs[1===t?"Parameter":"Variable"].resize()}),0);else if(3===t&&"detail"!==this.mode&&"done"!==this.mode){const t=await this.getOperationXml({Parameter:this.$refs.Parameter.getData(),Variable:this.$refs.Variable.getData()});this.$refs.Xml.setXmlData(t)}},operationTypeChange(t){this.parameterData=[],"A"===t||"I"===t?this.parameterData.push({type:"com.inzent.igate.adapter.AdapterParameter",name:"adapterParameter",desc:"Adapter Parameter"}):"J"===t&&(this.parameterData.push({type:"java.lang.String",name:"jobID",desc:"Job Operation ID"}),this.parameterData.push({type:"java.lang.Long",name:"scheduledFireTime",desc:"Scheduled Fire Time"})),this.$refs.Parameter.addDefaultData(o()(this.parameterData)),this.variableData=[],this.$refs.Variable.addDefaultData([])},templateChange({Parameter:t,Variable:e}){t.forEach((t=>{this.parameterData.find((({name:e})=>e===t.name))||this.parameterData.push(o()(t))})),this.$refs.Parameter.addDefaultData(o()(this.parameterData)),this.variableData=[],e.forEach((t=>{this.variableData.find((({name:e})=>e===t.name))||this.variableData.push({name:t.name,type:t.type,desc:t.desc,value:t.Value["#cdata"],data:(0,r.gu)(t)})})),this.$refs.Variable.addDefaultData(o()(this.variableData))},getData(){const t={basic:this.$refs.basic.getData(),Parameter:this.$refs.Parameter.getData(),Variable:this.$refs.Variable.getData()};if("add"===this.mode&&(t.basic.operationRuleStr?t.operationRuleStr=t.basic.operationRuleStr:(t.operationRuleStr='<?xml version="1.0" encoding="UTF-8"?>',t.operationRuleStr+="<Operation>",t.operationRuleStr+="<Variables/>",t.operationRuleStr+="<Activities>",t.operationRuleStr+='<Start uniqueKey="0000" index="0" desc="Start" xPos="91" yPos="70"/>',t.operationRuleStr+='<End uniqueKey="0001" index="1" desc="End" xPos="93" yPos="170"/>',t.operationRuleStr+="</Activities>",t.operationRuleStr+="<Transitions>",t.operationRuleStr+='<Transition from="1" to="2" order="0" fromTerminal="bottom" toTerminal="top">',t.operationRuleStr+="<bendPoints/>",t.operationRuleStr+="</Transition>",t.operationRuleStr+="</Transitions>",t.operationRuleStr+="</Operation>")),t.basic.operationType)if(t.basic.operationId){if(t.basic.privilegeId)return o()(t);this.$alert({type:"warn",message:this.$t("igate.select.permission")})}else this.$alert({type:"warn",message:this.$t("igate.enter.id")});else this.$alert({type:"warn",message:this.$t("igate.select.type")})}}},g=m,f=a(43736),y=(0,f.Z)(g,i,s,!1,null,null,null),v=y.exports},76569:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(" "+t._s(t.$t("head.constant"))+" "),t.editor?e("span",{staticClass:"letterLength",domProps:{textContent:t._s(`(${t.currLength}/${t.maxLength})`)}}):t._e()])]),e("div",{class:t.editor?"detail-content-regExp":"detail-content-common",staticStyle:{"padding-left":"0px","padding-right":"0px"}},[e("span",{staticStyle:{cursor:"auto"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.constant,expression:"constant"}],class:{["form-control"]:!0,["view-disabled"]:!0,["regExp-text"]:t.editor},attrs:{type:"text",maxlength:t.maxLength,readonly:!t.editor},domProps:{value:t.constant},on:{input:[function(e){e.target.composing||(t.constant=e.target.value)},t.input]}})])])])])])])},s=[],n=a(37662),o={name:"constant",props:{tabData:Object,editor:Boolean},data(){return{currLength:0,maxLength:0,regExp:null,constant:null}},created(){const{maxLength:t,regExp:e}=(0,n.oo)("value");this.maxLength=t,this.regExp=e},methods:{input(t){this.constant=t.target.value.replace(new RegExp(this.regExp,"g"),""),this.currLength=this.constant.length},setData(){this.tabData.ConstantExpression&&(this.constant=this.tabData.ConstantExpression.value,this.currLength=String(this.constant).length)},getData(){return{ConstantExpression:{value:null===this.constant?"":this.constant}}}},watch:{tabData:{immediate:!0,deep:!0,handler(){this.setData()}}}},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,null,null),c=d.exports},50102:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.variableType,expression:"variableType"}],staticClass:"form-control view-disabled",staticStyle:{display:"inline-block",width:"20%"},attrs:{readonly:!t.editor},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.variableType=e.target.multiple?a:a[0]},t.variableTypeChange]}},[e("option",{attrs:{value:"org.apache.commons.lang3.StringUtils"}},[t._v("StringUtils")]),e("option",{attrs:{value:"org.apache.commons.lang3.math.NumberUtils"}},[t._v("NumberUtils")])]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.methodInfo,expression:"methodInfo"}],staticClass:"form-control view-disabled",staticStyle:{display:"inline-block",width:"calc(80% - 5px)","margin-left":"5px"},attrs:{readonly:!t.editor},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.methodInfo=e.target.multiple?a:a[0]},t.methodChange]}},t._l(t.methodList,(function(a,i){return e("option",{key:i,domProps:{value:a,textContent:t._s(a.name)}})})),0)])])]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("TuiGrid",t._b({ref:"tuiGrid"},"TuiGrid",t.options,!1))],1)]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("span",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:"readonly"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}})])])])])])},s=[],n=(a(57658),a(37856)),o=a(37662),r=a(91338),l={name:"functions",props:{className:String,tabData:Object,Parameter:Array,Variable:Array,editor:Boolean},components:{TuiGrid:n.Grid},data(){return{methodList:[],variableType:null,methodInfo:null,value:"",options:{columns:[{header:"Argument Type",name:"argumentType"},{header:"Argument Value",name:"argumentValue",formatter:({value:t})=>{let e=`\n\t\t\t\t\t\t\t\t<span class="modal-btn" style="float: right; margin-right: 5px;">\n\t\t\t\t\t\t\t\t\t<i class="icon-srch" style="cursor: pointer;" title="${this.$t("head.search")}"></i>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t`;return`${(0,o.Xv)(t)} ${e}`}},{name:"data",hidden:!0}],onGridMounted:t=>{t.instance.on("click",(t=>{if(!this.editor)return;const e=this,{columnName:i,rowKey:s,nativeEvent:n,nativeEvent:{target:o}}=t;if(o.closest(".tui-grid-body-container")&&n.stopPropagation(),"argumentValue"===i&&o.classList.contains("icon-srch")){const{data:t,argumentType:i}=this.$refs.tuiGrid.invoke("getRow",s),n=this.Parameter,o=this.Variable,l=this.editor,d=this.$openModal({title:"Expression",modalWidth:"1000px",modalHeight:"750px",contentList:[{template:'<reference :className="className" :tabData="tabData" :Parameter="Parameter" :Variable="Variable" :editor="editor" />',components:{reference:a(21288)["default"]},data(){return{className:i,tabData:t,Parameter:n,Variable:o,editor:l}}}],buttonList:l?[{template:`<button type="button" class="btn btn-primary" @click="click"> \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t${this.$t("head.ok")} \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   </button>`,methods:{async click(){const{expression:t,isValidation:a}=d.$refs.content[0].$children[0].getData();t?a&&(e.$refs.tuiGrid.invoke("setValue",s,"argumentValue",(0,r.Tk)(t,!0),!1),e.$refs.tuiGrid.invoke("setValue",s,"data",t,!1),e.initValue(),d.hideModal()):this.$alert({type:"warn",message:this.$t("head.no.data.warn")})}}}]:null})}}))}}}},created(){o.dc.$on("MainResize",this.resize),this.options=(0,o.d_)(this.options)},async mounted(){if(this.tabData.FunctionExpression){this.variableType=this.tabData.FunctionExpression.className,await this.variableTypeChange();const t=this.tabData.FunctionExpression.methodName,e=this.tabData.FunctionExpression.argumentTypes;this.methodInfo=this.methodList.find((({name:a})=>a===`${t}(${e.split(",").join(", ")})`)),this.tabData.FunctionExpression.arguments.forEach((t=>{this.$refs.tuiGrid.invoke("appendRow",{argumentType:t.argumentType,argumentValue:(0,r.Tk)(t.data),data:t.data})})),this.initValue()}this.resize()},beforeDestroy(){o.dc.$off("MainResize",this.resize)},methods:{async variableTypeChange(){this.methodList=[],this.$refs.tuiGrid.invoke("resetData",[]),this.value="";const t=await new o.p0("/api/mapping/expression/methods").read({targetType:this.className,variableType:this.variableType});t.data.object.forEach((t=>{this.methodList.push({name:`${t.name}(${t.parameters.join(", ")})`,parameters:t.parameters})}))},methodChange(){this.$refs.tuiGrid.invoke("resetData",[]),this.value="",this.methodInfo.parameters.forEach((t=>{this.$refs.tuiGrid.invoke("appendRow",{argumentType:t,argumentValue:"null",data:{VariableExpression:{name:"null"}}})})),this.initValue(),this.resize()},initValue(){this.value=`${this.variableType.split(".").pop()}.${this.methodInfo.name.split("(").shift()}(${this.$refs.tuiGrid.invoke("getData").map((t=>t.argumentValue)).join(", ")})`},getData(){return{FunctionExpression:{className:this.variableType,classShortName:this.variableType?this.variableType.split(".").pop():null,methodName:this.methodInfo?this.methodInfo.name.split("(").shift():null,argumentTypes:this.$refs.tuiGrid.invoke("getData").map((t=>t.argumentType)).join(","),value:this.value,arguments:this.$refs.tuiGrid.invoke("getData")}}},resize(){this.$refs.tuiGrid&&this.$nextTick((()=>{const t=document.querySelector("#referenceModal").parentNode,e=t.clientWidth-48-48,a=t.clientHeight-32-24-48-48-64-32-32;this.$refs.tuiGrid.invoke("setWidth",e),this.$refs.tuiGrid.invoke("setHeight",a)}))}}},d=l,c=a(43736),p=(0,c.Z)(d,i,s,!1,null,null,null),h=p.exports},68647:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",{staticStyle:{display:"inline-block","margin-top":"8px"}},[t._v(t._s(t.$t("igate.message.code")))]),t.editor?e("span",{staticClass:"letterLength",staticStyle:{display:"inline-block","margin-top":"8px"}},[t._v(" ("+t._s(t.currentLength)+" / "+t._s(t.maxLength)+") ")]):t._e(),t.editor?e("button",{staticClass:"btn-icon",attrs:{type:"button"},on:{click:t.openReferenceModal}},[e("i",{staticClass:"icon-plus-circle"})]):t._e()]),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"form-control view-disabled",style:t.style,attrs:{maxlength:t.maxLength,readonly:!t.editor},domProps:{value:t.code},on:{input:[function(e){e.target.composing||(t.code=e.target.value)},t.input]}})])])])])])},s=[],n=a(37662),o=a(91338),r={name:"javaStyle",props:{tabData:Object,Parameter:Array,Variable:Array,editor:Boolean},data(){return{maxLength:5e3,currentLength:0,regExp:"",code:"",style:{height:null}}},mounted(){n.dc.$on("MainResize",this.resize),this.resize()},methods:{openReferenceModal(){const t=this,e="java.lang.Object",i=this.Parameter,s=this.Variable,n=this.editor,r=this.$openModal({title:"Mapping Expression",modalWidth:"1000px",modalHeight:"800px",contentList:[{template:'<reference :className="className" :tabData="tabData" :Parameter="Parameter" :Variable="Variable" :editor="editor" />',components:{reference:a(21288)["default"]},data(){return{className:e,tabData:{VariableExpression:{name:"null"}},Parameter:i,Variable:s,editor:n}}}],buttonList:n?[{template:`<button type="button" class="btn btn-primary" @click="click"> ${this.$t("head.ok")} </button>`,methods:{click(){const{expression:e,isValidation:a}=r.$refs.content[0].$children[0].getData();e?a&&(t.code+=(0,o.Tk)(e),t.currentLength=t.code.length,r.hideModal()):this.$alert({type:"warn",message:this.$t("head.no.data.warn")})}}}]:null})},input(t){this.code=t.target.value.replace(new RegExp(this.regExp,"g"),""),this.currentLength=this.code.length},resize(){this.$nextTick((()=>{const t=document.querySelector("#referenceModal").parentNode,e=t.clientHeight-32-48-48-40;this.style.height=`${e}px`}))},setData(){this.tabData.JavaExpression&&this.input({target:{value:this.tabData.JavaExpression.value}})},getData(){return{JavaExpression:{value:this.code}}}},watch:{tabData:{immediate:!0,deep:!0,handler(){this.setData()}}}},l=r,d=a(43736),c=(0,d.Z)(l,i,s,!1,null,null,null),p=c.exports},75528:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return p}});a(57658);var i,s,n=a(43759),o=a(68701),r={name:"MappingRuleDetail",extends:n["default"],props:{Variables:Object},methods:{openReferenceModal(){const t=this,e=this.$openModal({title:"Mapping Expression",modalWidth:"1000px",modalHeight:"800px",contentList:[{template:'<reference \n\t\t\t\t\t\t\t\t\t\t:pageType="pageType" \n\t\t\t\t\t\t\t\t\t\t:mappingExpression="mappingExpression" \n\t\t\t\t\t\t\t\t\t\t:className="className" \n\t\t\t\t\t\t\t\t\t\t:targetFieldType="targetFieldType" \n\t\t\t\t\t\t\t\t\t\t:sourceRecordIdArr="sourceRecordIdArr" \n\t\t\t\t\t\t\t\t\t\t:targetRecordIdArr="targetRecordIdArr" \n\t\t\t\t\t\t\t\t\t\t:fieldInfoLabel="fieldInfoLabel" \n\t\t\t\t\t\t\t\t\t\t:Variables="Variables" />',components:{reference:a(38401)["default"]},data(){return{pageType:"operation",mappingExpression:t.mappingExpression?t.mappingExpression:null,className:(0,o.W)(t.fieldType),sourceRecordIdArr:t.sourceRecordIdArr,targetRecordIdArr:t.targetRecordIdArr,targetFieldType:t.fieldType,fieldInfoLabel:t.fieldInfoLabel,Variables:t.Variables}}}],buttonList:[{template:`<button type="button" class="btn btn-primary" @click="click"> ${this.$t("head.ok")} </button>`,methods:{async click(){const{expression:a,isValidation:i}=await e.$refs.content[0].$children[0].getData();if(!a)return void this.$alert({type:"warn",message:this.$t("head.no.data.warn")});if(!i)return;const{tabList:s,selectedIdx:n}=e.$refs.content[0].$children[0],o=["/constant","/transactionContext","/record"].find((t=>t===s[n].url));if(t.simpleMappingYn="undefined"!==typeof o?"Y":"N",t.mappingExpression=a,t.arrayReference=null,t.arrayReferenceCurrLength=0,"/record"===o){const e=t.mappingExpression.split("\\");if(0<e.filter((t=>1<t.split("[i").length)).length){const a=[];e.forEach((t=>{a.push(1<t.split("[i").length?`${t.split("[i")[0]}[]`:t)})),a.pop(),t.arrayReference=a.join("\\")}}e.hideModal()}}}]})}}},l=r,d=a(43736),c=(0,d.Z)(l,i,s,!1,null,null,null),p=c.exports},52490:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return m}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedVariableInfo,expression:"selectedVariableInfo"}],staticClass:"form-control view-disabled",attrs:{readonly:!t.editor},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedVariableInfo=e.target.multiple?a:a[0]},t.variableChange]}},t._l(t.variableInfoList,(function(a,i){return e("option",{key:i,domProps:{value:a,textContent:t._s(`${a.name} ${a.type} #${a.desc}`)}})})),0)])])]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("TuiGrid",t._b({ref:"methodTreeGrid"},"TuiGrid",t.methodTreeGridOptions,!1))],1)]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("TuiGrid",t._b({ref:"parameterGrid"},"TuiGrid",t.parameterGridOptions,!1))],1)]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("span",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:"readonly"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}})])])])])])},s=[],n=(a(57658),a(66281)),o=a.n(n),r=a(37856),l=a(37662),d=a(91338),c={name:"methods",props:{className:String,tabData:Object,Parameter:Array,Variable:Array,editor:Boolean},components:{TuiGrid:r.Grid},data(){return{selectedMethodTreeRowKey:null,variableInfoList:[],selectedVariableInfo:null,value:"",methodList:[],methodTreeGridOptions:{treeColumnOptions:{name:"methodName"},columns:[{header:"Method Name",name:"methodName"},{name:"data",hidden:!0}],onGridMounted:t=>{t.instance.on("expand",(async t=>{const e=this.$refs.methodTreeGrid.invoke("getRow",t.rowKey);if(0===e._children.length){const a=await new l.p0("/api/mapping/expression/methods").read({targetType:this.className,variableType:e.data.return});a.data.object.forEach((a=>{this.$refs.methodTreeGrid.invoke("appendTreeRow",this.initTreeData(a,e.data.return),{parentRowKey:t.rowKey})})),this.$nextTick((()=>{if(this.tabData.MethodExpression&&0<this.methodList.length){const{name:e,parameters:a}=this.methodList.shift(),{rowKey:i}=this.$refs.methodTreeGrid.invoke("getChildRows",t.rowKey).find((({methodName:t})=>t===`${e}(${a.join(", ")})`));0===this.methodList.length?(this.selectedMethodTreeRowKey=i,this.initHiddenData(),this.initValue(),setTimeout((()=>{this.$refs.methodTreeGrid.invoke("focus",this.selectedMethodTreeRowKey,"methodName",!0)}),0)):this.$refs.methodTreeGrid.invoke("expand",i)}this.resize()}))}else this.$nextTick(this.resize)})),t.instance.on("collapse",(()=>{this.$nextTick(this.resize)})),t.instance.on("click",(t=>{if(!this.editor)return;this.selectedMethodTreeRowKey=t.rowKey;const e=this.$refs.methodTreeGrid.invoke("getAncestorRows",t.rowKey);e.push(this.$refs.methodTreeGrid.invoke("getRow",t.rowKey));const a=[];e.forEach((t=>{t.data.parameters.forEach(((e,i)=>{a.push({argumentType:e,argumentValue:"null",argumentIdx:i,parentRowKey:t.rowKey,data:{VariableExpression:{name:"null"}}})}))})),this.$refs.parameterGrid.invoke("resetData",a),this.$nextTick((()=>{this.initValue(),this.resize()}))}))}},parameterGridOptions:{columns:[{header:"Argument Type",name:"argumentType"},{header:"Argument Value",name:"argumentValue",formatter:({value:t})=>{const e=`\n\t\t\t\t\t\t\t\t<span class="modal-btn" style="float: right; margin-right: 5px;">\n\t\t\t\t\t\t\t\t\t<i class="icon-srch" style="cursor: pointer;" title="${this.$t("head.search")}"></i>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t`;return`${(0,l.Xv)(t)} ${e}`}},{name:"argumentIdx",hidden:!0},{name:"parentRowKey",hidden:!0},{name:"data",hidden:!0}],onGridMounted:t=>{t.instance.on("click",(t=>{const e=this,{columnName:i,rowKey:s,nativeEvent:n,nativeEvent:{target:r}}=t;if(r.closest(".tui-grid-body-container")&&n.stopPropagation(),"argumentValue"===i&&r.classList.contains("icon-srch")){const{data:t,argumentType:i,parentRowKey:n,argumentIdx:r}=this.$refs.parameterGrid.invoke("getRow",s),l=this.Parameter,c=this.Variable,p=this.editor,h=this.$openModal({title:"Expression",modalWidth:"1000px",modalHeight:"750px",contentList:[{template:'<reference :className="className" :tabData="tabData" :Parameter="Parameter" :Variable="Variable" :editor="editor" />',components:{reference:a(21288)["default"]},data(){return{className:i,tabData:t,Parameter:l,Variable:c,editor:p}}}],buttonList:p?[{template:`<button type="button" class="btn btn-primary" @click="click"> ${this.$t("head.ok")} </button>`,methods:{async click(){const{expression:t,isValidation:a}=h.$refs.content[0].$children[0].getData();if(!a)return;e.$refs.parameterGrid.invoke("setValue",s,"argumentValue",(0,d.Tk)(t,!0),!1),e.$refs.parameterGrid.invoke("setValue",s,"data",t,!1);const i=e.$refs.methodTreeGrid.invoke("getRow",n);i.data.values[r]=o()(t),e.$refs.methodTreeGrid.invoke("setValue",n,"data",o()(i.data),!1),e.initValue(),h.hideModal()}}}]:null})}}))}}}},created(){l.dc.$on("MainResize",this.resize),this.methodTreeGridOptions=(0,l.d_)(this.methodTreeGridOptions),this.parameterGridOptions=(0,l.d_)(this.parameterGridOptions)},async mounted(){if(this.variableInfoList=[...o()(this.Parameter),...o()(this.Variable)],this.tabData.MethodExpression){this.methodList=o()(this.tabData.MethodExpression.methods),this.selectedVariableInfo=this.variableInfoList.find((t=>t.name===this.tabData.MethodExpression.variableName)),await this.variableChange();const{name:t,parameters:e}=this.methodList.shift();if(!t)return;const{rowKey:a}=this.$refs.methodTreeGrid.invoke("getData").find((({methodName:a})=>a===`${t}(${e.join(", ")})`));0<this.methodList.length?this.$refs.methodTreeGrid.invoke("expand",a):(this.selectedMethodTreeRowKey=a,this.initHiddenData(),this.initValue(),setTimeout((()=>{this.$refs.methodTreeGrid.invoke("focus",this.selectedMethodTreeRowKey,"methodName",!0)}),0))}this.resize()},beforeDestroy(){l.dc.$off("MainResize",this.resize)},methods:{async variableChange(){this.value="",this.$refs.methodTreeGrid.invoke("resetData",[]),this.$refs.parameterGrid.invoke("resetData",[]);const t=await new l.p0("/api/mapping/expression/methods").read({targetType:this.className,variableType:this.selectedVariableInfo.type});t.data.object.forEach((t=>{this.$refs.methodTreeGrid.invoke("appendTreeRow",this.initTreeData(t,this.selectedVariableInfo.type),{parentRowKey:-1})})),this.$nextTick((()=>{this.resize()}))},initTreeData(t,e){const a={methodName:`${t.name}(${t.parameters.join(", ")})`,data:{name:t.name,parameters:t.parameters,values:t.parameters.map((()=>({VariableExpression:{name:"null"}}))),return:t.return,parentReturn:e}};return t.isAssignable||(a._children=[]),a},initHiddenData(){this.tabData.MethodExpression.methods.forEach(((t,e)=>{const a=this.$refs.methodTreeGrid.invoke("getData").find((({methodName:a,rowKey:i})=>a===`${t.name}(${t.parameters.join(", ")})`&&this.$refs.methodTreeGrid.invoke("getDepth",i)===e+1));this.$refs.methodTreeGrid.invoke("setValue",a.rowKey,"data",{name:t.name,parameters:t.parameters,values:o()(t.values),return:t.return,parentReturn:t.parentReturn},!1),t.parameters.forEach(((e,a)=>{this.$refs.parameterGrid.invoke("appendRow",{argumentType:e,argumentValue:(0,d.Tk)(t.values[a],!0),argumentIdx:a,parentRowKey:this.selectedMethodTreeRowKey,data:o()(t.values[a])})}))}))},initValue(){this.value="";const t=this.$refs.methodTreeGrid.invoke("getData");if(0===t.length)return;const e=this.$refs.methodTreeGrid.invoke("getAncestorRows",this.selectedMethodTreeRowKey);e.push(t.find((t=>t.rowKey===this.selectedMethodTreeRowKey)));const a=[];e.forEach((t=>{a.push(`${t.data.name}(${t.data.values.map((t=>(0,d.Tk)(t,!0))).join(", ")})`)})),this.value=`${this.selectedVariableInfo.name}.${a.join(".")}`},getData(){const t=this.$refs.methodTreeGrid.invoke("getAncestorRows",this.selectedMethodTreeRowKey),e=this.$refs.methodTreeGrid.invoke("getRow",this.selectedMethodTreeRowKey);return e&&t.push(e),{MethodExpression:{variableName:this.selectedVariableInfo?this.selectedVariableInfo.name:null,methods:0===t.length?[{name:null,parameters:[],values:[]}]:o()(t.map((t=>t.data)))}}},resize(){this.$nextTick((()=>{const t=document.querySelector("#referenceModal").parentNode,e=t.clientWidth-48-48,a=t.clientHeight-32-24-48-48-56-48-32-20;this.$refs.methodTreeGrid&&(this.$refs.methodTreeGrid.invoke("setWidth",e),this.$refs.methodTreeGrid.invoke("setHeight",a/2)),this.$refs.parameterGrid&&(this.$refs.parameterGrid.invoke("setWidth",e),this.$refs.parameterGrid.invoke("setHeight",a/2))}))}}},p=c,h=a(43736),u=(0,h.Z)(p,i,s,!1,null,null,null),m=u.exports},72736:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return m}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("div",{staticClass:"input-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedRecordTypeInfo,expression:"selectedRecordTypeInfo"}],staticClass:"form-control view-disabled",attrs:{readonly:!t.editor},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedRecordTypeInfo=e.target.multiple?a:a[0]},t.recordTypeChange]}},t._l(t.recordTypeList,(function(a,i){return e("option",{key:i,domProps:{value:a,textContent:t._s(`${a.name} #${a.desc}`)}})})),0),t.editor?e("button",{staticClass:"btn",staticStyle:{"margin-left":"5px","min-width":"0px"},attrs:{type:"button"},on:{click:t.openRecordModal}},[e("i",{staticClass:"icon-srch",staticStyle:{"margin-right":"0px"}})]):t._e()])])])]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("TuiGrid",t._b({ref:"tuiGrid"},"TuiGrid",t.options,!1))],1)]),e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("span",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"form-control view-disabled",attrs:{type:"text",readonly:"readonly"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}})])])])])])},s=[],n=(a(57658),a(66281)),o=a.n(n),r=a(37856),l=a(37662),d=a(91338),c={name:"record",props:{className:String,tabData:Object,Parameter:Array,Variable:Array,editor:Boolean},components:{TuiGrid:r.Grid},data(){return{recordTypeList:[],value:"",recordType:null,selectedRecordTypeInfo:null,selectedFieldInfo:null,options:{treeColumnOptions:{name:"fieldId"},columns:[{header:`${this.$t("head.field")} ${this.$t("head.id")}`,name:"fieldId"},{header:`${this.$t("head.field")} ${this.$t("common.type")}`,name:"fieldType",formatter:({row:t})=>{let e=this.fieldTypeName[t.fieldType];return"R"===t.fieldType?e+=t.recordType?`(${t.recordType})`:"":e+=`(${t.fieldLength})`,t.arrayType&&"N"!==t.arrayType&&(e+=`[${t.arrayType}]`),(0,l.Xv)(e)}},{header:`${this.$t("head.field")} ${this.$t("head.name")}`,name:"fieldName"},{name:"path",hidden:!0}],onGridMounted:t=>{t.instance.on("click",(async t=>{if(!this.editor)return;const e=this.$refs.tuiGrid.invoke("getRow",t.rowKey);if(null===e)return;const a=await new l.p0("/api/mapping/expression/assignable").read({targetType:this.getClassName(e.fieldType),sourceType:this.className});this.value="",a.data.object&&(this.value=(0,d.Tk)({RecordExpression:{returnType:this.getClassName(e.fieldType),variableName:this.selectedRecordTypeInfo.name,fieldPath:e.path,recordId:this.$refs.tuiGrid.invoke("getAncestorRows",t.rowKey)[0].fieldId}}),this.selectedFieldInfo=e)}))}},fieldTypeName:{B:"Byte",S:"Short",I:"Int",L:"Long",F:"Float",D:"Double",b:"Boolean",p:"TimeStamp",T:"String",N:"Numeric",P:"PackedDecimal",A:"Raw",R:"Group"}}},created(){l.dc.$on("MainResize",this.resize),this.options=(0,l.d_)(this.options)},async mounted(){if(this.recordTypeList=[...o()(this.Parameter),...o()(this.Variable)].filter((t=>"com.inzent.igate.message.Record"===t["type"])).map((t=>({name:t.name,desc:t.desc?t.desc:"",value:t.data?(0,d.Tk)(t.data):null}))),this.tabData.RecordExpression){this.selectedRecordTypeInfo=this.recordTypeList.find((({name:t})=>t===this.tabData.RecordExpression.variableName));const t=await new l.p0("/api/entity/record/object").read({recordId:this.tabData.RecordExpression.recordId});this.$refs.tuiGrid.invoke("resetData",this.initTreeData(t.data.object,"")),this.selectedFieldInfo=this.$refs.tuiGrid.invoke("getData").find((t=>t.path===this.tabData.RecordExpression.fieldPath)),this.value=(0,d.Tk)({RecordExpression:{returnType:this.getClassName(this.selectedFieldInfo.fieldType),variableName:this.selectedRecordTypeInfo.name,fieldPath:this.selectedFieldInfo.path,recordId:this.$refs.tuiGrid.invoke("getAncestorRows",this.selectedFieldInfo.rowKey)[0].fieldId}}),setTimeout((()=>{this.$refs.tuiGrid.invoke("focus",this.selectedFieldInfo.rowKey,"fieldId",!0)}),0)}this.resize()},methods:{recordTypeChange(){this.$refs.tuiGrid.invoke("resetData",[])},openRecordModal(){if(null===this.selectedRecordTypeInfo)return;const t=this,e=this.$openModal({title:this.$t("igate.record"),modalWidth:"800px",modalHeight:"800px",contentList:[{template:'<div>\n\t\t\t\t\t\t\t\t       <Search :list="searchList" @search="search" ref="search"/>\n\t\t\t\t\t\t\t   \t\t   <Main\n\t\t\t\t\t\t\t\t\t   \t:buttonList="buttonList"\n\t\t\t\t\t\t\t\t   \t\t:gridInfo="gridInfo"\n\t\t\t\t\t\t\t\t   \t\t:gridSearchObj="gridSearchObj"\n\t\t\t\t\t\t\t\t   \t\t:gridType="\'modalBasic\'"\n\t\t\t\t\t\t\t\t   \t\t:viewer="true"\n\t\t\t\t\t\t\t\t   \t\t@rowClicked="rowClicked"\n\t\t\t\t\t\t\t\t   \t\t@initialize="initialize"\n\t\t\t\t\t\t\t   \t\t/>\n\t\t\t\t\t\t   \t\t  </div>',components:{Search:a(96434).Z,Main:a(54215).Z},data(){return{searchList:[{type:"text",vModel:"recordId",label:this.$t("head.id"),placeholder:this.$t("head.searchId"),regExpType:"id"},{type:"text",vModel:"recordName",label:this.$t("head.name"),placeholder:this.$t("head.searchName"),regExpType:"name"},{type:"select",vModel:"recordType",label:this.$t("common.type"),val:"H",readonly:!0,optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Record.Type"},orderByKey:!1},optionListName:"recordTypes",optionFor:"option in recordTypes",optionValue:"option.pk.propertyKey",optionText:`'c' === option.pk.propertyKey? '${this.$t("head.all")}' : option.propertyValue`,optionIf:"option.pk.propertyKey === 'H'",isViewAll:!1}},{type:"dataList",vModel:"pageSize",label:this.$t("head.listCount"),val:"10",optionInfo:{optionFor:"option in [10, 100, 1000]",optionValue:"option",optionText:"option"}}],buttonList:[{id:"initialize",isUse:!0}],gridInfo:{url:"/api/entity/record/search",totalCntUrl:"/api/entity/record/count",paging:{isUse:!0,side:"server"},options:{columns:[{header:this.$t("head.id"),name:"recordId",width:"40%"},{header:this.$t("head.name"),name:"recordName",width:"40%"},{header:`${this.$t("common.privilege")}`,name:"privilegeId",width:"20%"}]}},gridSearchObj:{}}},methods:{search(t){this.gridSearchObj=t},async rowClicked(a){const i=await new l.p0("/api/entity/record/object").read({recordId:a.recordId});t.$refs.tuiGrid.invoke("resetData",t.initTreeData(i.data.object,"")),t.resize(),e.hideModal()},initialize(){this.$refs.search.initialize()}}}]})},initTreeData(t,e,a=1){if(!t.fields)return;const{recordId:i,recordName:s}=t,n=o()(t.fields),r=[],l={fieldId:i,fieldName:s,fieldType:"R",_attributes:{expanded:!0,className:{selection:["refModelField"]}},_children:[]};return e.includes("\\\\")||r.push(l),n.forEach((t=>{const i={path:`${e}\\\\${t.pk.fieldId}${t.arrayType&&"N"!==t.arrayType?void 0===this.rawValueInfo?"[]":`[i${a}]`:""}`,fieldId:t.pk.fieldId,fieldName:t.fieldName,fieldType:t.fieldType,fieldLength:t.fieldLength,arrayType:t.arrayType};t.recordObject&&(i.recordType=t.recordObject.recordType,i._attributes={expanded:!0,className:{selection:["refModelField"]}},i._children=this.initTreeData(t.recordObject,i.path,t.arrayType&&"N"!==t.arrayType?a+1:a)),e.includes("\\\\")?r.push(i):r[0]._children.push(i)})),r},getClassName(t){let e="";switch(t){case"B":case"S":case"I":case"L":case"F":case"D":case"N":case"P":e="java.lang.Number";break;case"T":e="java.lang.String";break;case"A":e="RawValue";break;case"p":e="java.sql.Timestamp";break;case"b":e="java.lang.Boolean";break;case"R":e="com.inzent.igate.message.Record";break;default:break}return e},getData(){let t={RecordExpression:{variableName:null,fieldPath:null,returnType:null,recordId:null}};return this.selectedFieldInfo&&(t={RecordExpression:{variableName:this.selectedRecordTypeInfo.name,fieldPath:this.selectedFieldInfo.path,returnType:this.getClassName(this.selectedFieldInfo.fieldType),recordId:this.$refs.tuiGrid.invoke("getAncestorRows",this.selectedFieldInfo.rowKey)[0].fieldId}}),t},resize(){this.$nextTick((()=>{const t=document.querySelector("#referenceModal").parentNode,e=t.clientWidth-48-48,a=t.clientHeight-32-24-48-48-56-48-32-20;this.$refs.tuiGrid&&(this.$refs.tuiGrid.invoke("setWidth",e),this.$refs.tuiGrid.invoke("setHeight",a))}))}}},p=c,h=a(43736),u=(0,h.Z)(p,i,s,!1,null,null,null),m=u.exports},21288:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"referenceModal"}},[e("label",{staticClass:"control-label warningLabel",staticStyle:{color:"#000"}},[e("span",{domProps:{textContent:t._s(t.className)}})]),e("ul",{staticClass:"nav nav-tabs flex-shrink-0"},t._l(t.tabList,(function(a,i){return e("li",{key:a.id,staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:t.selectedIdx===i},attrs:{href:"javascript:void(0);"},domProps:{textContent:t._s(a.label)},on:{click:function(e){return t.changeTab(i)}}})])})),0),e("div",{staticClass:"panel-body tab-content",staticStyle:{"padding-bottom":"0px",height:"calc(100% - 64px) !important"}},t._l(t.tabList,(function(i,s){return e("div",{key:s,class:{[t.modalMode]:!0,"tab-pane":!0,active:t.selectedIdx===s}},[e(a(79486)(`./reference${i.url}.vue`).default,{ref:"component",refInFor:!0,tag:"component",attrs:{detailInfo:i,detailData:t.detailData,mode:t.modalMode,className:t.className,tabData:t.tabData,Parameter:t.Parameter,Variable:t.Variable,editor:t.editor}})],1)})),0)])},s=[],n=(a(57658),a(63516)),o={name:"reference",components:{DetailBasic:n.Z},props:{className:String,tabData:Object,Parameter:{type:Array,default:()=>[]},Variable:{type:Array,default:()=>[]},editor:Boolean},data(){return{modalMode:"add",detailData:null,selectedIdx:0,tabList:[]}},created(){const t={type:"bundle",label:this.$t("head.constant"),url:"/constant"};this.tabList.push(t);const e={type:"bundle",label:this.$t("head.variable"),url:"/variable"};this.tabList.push(e);const a={type:"bundle",label:this.$t("head.transaction.context"),url:"/transactionContext"};this.tabList.push(a);const i={type:"bundle",label:this.$t("igate.modelRecord"),url:"/record"};this.tabList.push(i);const s={type:"bundle",label:this.$t("head.expansion"),url:"/methods"};this.tabList.push(s);const n={type:"bundle",label:this.$t("head.function"),url:"/functions"};this.tabList.push(n);const o={type:"bundle",label:"Java Style",url:"/javaStyle"};this.tabList.push(o)},mounted(){let t=null;0===Object.keys(this.tabData).length||this.tabData.ConstantExpression?t="/constant":this.tabData.VariableExpression?t="/variable":this.tabData.ContextExpression?t="/transactionContext":this.tabData.RecordExpression?t="/record":this.tabData.MethodExpression?t="/methods":this.tabData.FunctionExpression?t="/functions":this.tabData.JavaExpression&&(t="/javaStyle"),this.changeTab(this.tabList.findIndex((({url:e})=>t===e)))},methods:{changeTab(t){this.selectedIdx=t},getData(){let t=!0;const e=this.$refs.component[this.selectedIdx].getData(),a=Object.keys(e)[0],i=e[a];if("MethodExpression"!==a)for(const s in i)if("undefined"===typeof i[s]||null===i[s]){t=!1,this.$alert({type:"warn",message:this.$t("head.no.data.warn")});break}return{expression:e,isValidation:t}}}},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,null,null),c=d.exports},55164:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.transaction.context")))])]),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedOptionInfo,expression:"selectedOptionInfo"}],staticClass:"form-control view-disabled",attrs:{readonly:!t.editor},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedOptionInfo=e.target.multiple?a:a[0]}}},t._l(t.optionInfoList,(function(a,i){return e("option",{key:i,domProps:{value:a,textContent:t._s(`${a.variableId} ${a.variableType}`)}})})),0)])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("common.desc")))])]),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("textarea",{staticClass:"form-control view-disabled",style:t.descStyle,attrs:{readonly:"readonly",maxlength:"100"},domProps:{textContent:t._s(t.selectedOptionInfo.variableDesc)}})])])])])])},s=[],n=a(37662),o={name:"transactionVariable",props:{className:String,tabData:Object,Parameter:Array,Variable:Array,editor:Boolean},data(){return{optionInfoList:[],selectedOptionInfo:{},descStyle:{height:null}}},created(){n.dc.$on("MainResize",this.resize),this.resize()},async mounted(){const t=await new n.p0("/api/mapping/expression/contexts").read({targetType:this.className});this.optionInfoList=t.data.object,this.setData()},methods:{resize(){this.$nextTick((()=>{const t=document.querySelector("#referenceModal").parentNode,e=t.clientHeight-32-48-48-56-24-16;this.descStyle.height=`${e}px`}))},setData(){this.tabData.ContextExpression&&(this.selectedOptionInfo=this.optionInfoList.find((({variableId:t,variableType:e})=>t===this.tabData.ContextExpression.name&&e===this.tabData.ContextExpression.returnType)))},getData(){return{ContextExpression:{name:this.selectedOptionInfo.variableId,returnType:this.selectedOptionInfo.variableType}}}}},r=o,l=a(43736),d=(0,l.Z)(r,i,s,!1,null,null,null),c=d.exports},67359:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row frm-row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("head.variable")))])]),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedOptionInfo,expression:"selectedOptionInfo"}],staticClass:"form-control view-disabled",attrs:{readonly:!t.editor},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedOptionInfo=e.target.multiple?a:a[0]}}},t._l(t.optionInfoList,(function(a,i){return e("option",{key:i,domProps:{value:a,textContent:t._s(`${a.name} ${a.type} #${a.desc}`)}})})),0)])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[e("span",[t._v(t._s(t.$t("common.desc")))])]),e("div",{staticClass:"detail-content-common",staticStyle:{"padding-left":"0px"}},[e("textarea",{staticClass:"form-control view-disabled",style:t.descStyle,attrs:{readonly:"readonly",maxlength:"100"},domProps:{textContent:t._s(t.selectedOptionInfo?t.selectedOptionInfo.desc:"")}})])])])])])},s=[],n=a(37662),o=a(66281),r=a.n(o),l={name:"variable",props:{className:String,tabData:Object,Parameter:Array,Variable:Array,editor:Boolean},data(){return{optionInfoList:[],selectedOptionInfo:{},descStyle:{height:null}}},created(){n.dc.$on("MainResize",this.resize),this.resize()},async mounted(){const t=[...r()(this.Parameter.filter((({name:t})=>null!==t))),...r()(this.Variable.filter((({name:t})=>null!==t)))],e=await new n.p0("/api/mapping/expression/variables").read({targetType:this.className,variables:[{type:"org.apache.commons.logging.Log",name:"log"},{type:"java.lang.Throwable",name:"throwed"},...t]});this.optionInfoList=[{type:"null",name:"null",desc:"null"},...e.data.object],this.optionInfoList.forEach((e=>{if("null"===e.type)e.desc="null";else if("org.apache.commons.logging.Log"===e.type)e.desc="log";else if("java.lang.Throwable"===e.type)e.desc="Throwed Exception or Error";else{const a=t.find((t=>t.type===e.type&&t.name===e.name));e.desc="undefined"===typeof a.desc?"":a.desc}})),this.setData()},methods:{resize(){this.$nextTick((()=>{const t=document.querySelector("#referenceModal").parentNode,e=t.clientHeight-32-48-48-56-24-16;this.descStyle.height=`${e}px`}))},setData(){this.tabData.VariableExpression&&(this.selectedOptionInfo=this.optionInfoList.find((({name:t})=>t===this.tabData.VariableExpression.name)))},getData(){return{VariableExpression:{name:this.selectedOptionInfo.name}}}}},d=l,c=a(43736),p=(0,c.Z)(d,i,s,!1,null,null,null),h=p.exports},19780:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return g}});var i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"serviceModal"}},[e("ul",{staticClass:"nav nav-tabs flex-shrink-0"},t._l(t.detailTabList,(function(a,i){return e("li",{key:`menu_${i}`,staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:i===t.selectedIdx},attrs:{href:"javascript:void(0);"},domProps:{textContent:t._s(a.label)},on:{click:function(e){return t.changeTab(i)}}})])})),0),e("div",{staticClass:"panel-body tab-content"},t._l(t.detailTabList,(function(i,s){return e("div",{key:`content_${s}`,class:{"tab-pane":!0,active:s===t.selectedIdx}},["bundle"===i.type?e(a(14605)(`./detail${i.url}.vue`).default,{ref:"component",refInFor:!0,tag:"component",attrs:{detailInfo:i,detailData:t.detailData,useMappingId:t.useMappingId,isModal:!0,mode:t.mode}}):"basic"===i.type?e("DetailBasic",{ref:"component",refInFor:!0,attrs:{detailInfo:i,detailData:t.detailData,mode:t.mode}}):t._e()],1)})),0)])},s=[],n=a(66281),o=a.n(n),r=a(31823),l=a.n(r),d=a(63516),c=a(37662),p={name:"ServiceModal",props:{serviceObject:Object,useMappingId:Object,mode:String},components:{DetailBasic:d.Z},data(){return{detailData:{},selectedIdx:0,detailTabList:[{type:"bundle",label:this.$t("head.basic.info"),url:"/service/BasicInfo"},{type:"bundle",url:"/service/ExtendInfo",label:this.$t("head.extensionInfo"),dataKey:"serviceProperties",content:[{type:"dataList",vModel:"pk.propertyKey",regExpType:"value",label:this.$t("common.property.key"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"Property.Service"},orderByKey:!0},optionListName:"servicePropertyList",optionFor:"option in servicePropertyList",optionValue:"option.pk.propertyKey",optionText:"option.pk.propertyKey"}},{type:"text",vModel:"propertyValue",label:`${this.$t("common.property.value")}`},{type:"text",vModel:"propertyDesc",label:`${this.$t("head.description")}`,readonly:!0}]}]}},mounted(){this.detailData=o()(this.serviceObject)},methods:{changeTab(t){this.selectedIdx=t},getData(){let t={};return this.$refs.component.forEach((e=>{e.getData&&(t=l()(t,e.getData()))})),(0,c.Fh)(t)}}},h=p,u=a(43736),m=(0,u.Z)(h,i,s,!1,null,null,null),g=m.exports},26655:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return y}});var i=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{height:"100%"}},[e("ul",{staticClass:"nav nav-tabs flex-shrink-0"},t._l(t.tabList,(function(a,i){return e("li",{key:a.id,staticClass:"nav-item"},[e("a",{class:{"nav-link":!0,active:t.selectedIdx===i},attrs:{href:"javascript:void(0);"},domProps:{textContent:t._s(a.label)},on:{click:function(e){return t.changeTab(i)}}})])})),0),e("div",{staticClass:"panel-body tab-content",staticStyle:{height:"calc(100% - 48px)"}},t._l(t.tabList,(function(a,i){return e("div",{key:i,class:{[t.modalMode]:!0,"tab-pane":!0,active:t.selectedIdx===i},staticStyle:{height:"100%"}},["basic"===a.type?e("DetailBasic",{ref:"component",refInFor:!0,attrs:{detailInfo:a,detailData:t.userInfoData,mode:t.modalMode}}):"checkboxProperty"===a.type?e("div",{staticClass:"propertyTab"},[e("div",{staticClass:"form-table form-table-responsive",staticStyle:{height:"100%","overflow-x":"hidden"}},[e("div",{staticClass:"form-table-wrap userInfo",staticStyle:{"margin-top":"auto"}},[e("div",{staticClass:"form-table-head",staticStyle:{position:"relative"}},[e("label",{staticClass:"col-lg-1"},[t._v(t._s(t.$t("common.user.privilege.grade")))]),e("label",{staticClass:"col-lg-1"},[t._v(t._s(t.$t("common.privilege.type")))]),e("label",{staticClass:"col-lg-8"},[t._v(t._s(t.$t("common.privilege")))])]),t._l(t.totalUserPrivileges,(function(a,i){return e("div",{key:i,staticClass:"form-table-body"},[e("div",{staticClass:"col-lg-2"},[e("div",{staticStyle:{width:"100%"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:a.privilegeName,expression:"propertyRow.privilegeName"}],staticClass:"form-control view-disabled",attrs:{val:a.privilegeName=a.admin?"Admin":a.member?"Member":"None",readonly:!0},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"privilegeName",e.target.multiple?i:i[0])}}},[e("option",{attrs:{value:"None"}},[t._v(t._s(t.$t("common.user.privilege.none")))]),e("option",{attrs:{value:"Admin"}},[t._v(t._s(t.$t("common.user.privilege.admin")))]),e("option",{attrs:{value:"Member"}},[t._v(t._s(t.$t("common.user.privilege.member")))])])])]),e("div",{staticClass:"col-lg-2"},[e("div",{staticStyle:{width:"100%"}},[e("inputText",{attrs:{vModel:"privilegeType",classObject:{"form-control":!0,"view-disabled":!0},val:a.privilegeType===t.isSystem?"System":a.privilegeType===t.isBusiness?"Business":t.$t("common.role"),readonly:!0}})],1)]),e("div",{staticClass:"col-lg-8"},[e("div",{staticStyle:{width:"100%"}},[e("inputText",{attrs:{vModel:"privilege",classObject:{"form-control":!0,"view-disabled":!0},val:a.privilegeId,readonly:!0}})],1)])])}))],2)])]):t._e()],1)})),0)])},s=[],n=a(31823),o=a.n(n),r=a(37662),l=a(63822),d=a(63516),c=a(53308),p=a(66281),h=a.n(p),u={name:"userInfoModal",components:{DetailBasic:d.Z,inputText:c.Z},computed:{...(0,l.rn)(["userInfo"])},watch:{modalMode(){this.getData((()=>{this.totalUserPrivileges=this.userInfoData.totalUserPrivileges,this.totalUserPrivileges.forEach((t=>{t.privilegeName=t.admin?"Admin":t.member?"Member":"None"}))}))}},mounted(){this.getData((()=>{this.totalUserPrivileges=this.userInfoData.totalUserPrivileges}))},methods:{async getData(t){const e=await this.userInfoReq.read(null,!1,(()=>this.$t("head.error.load.data.warn")));"ok"===e.data.result&&(this.userInfoData=e.data.object,t&&t())},changeTab(t){this.selectedIdx=t},async updateUserInfo(t){let e=h()(this.userInfoData);if(this.$refs.component.forEach((t=>{e=o()(e,t.getData())})),e.loginTimestamp=new Date(e.loginTimestamp).getTime(),e.passwordExpiration=new Date(e.passwordExpiration).getTime(),e.updateTimestamp=new Date(e.updateTimestamp).getTime(),e.userExpiration=new Date(e.userExpiration).getTime(),!e.passwordOld)return void this.$alert({type:"warn",message:this.$t("common.password.noPassword")});e.password=(0,r.vC)(e.passwordOld),e.passwordNew?e.newPassword=(0,r.vC)(e.passwordNew):delete e.passwordNew,delete e.userId;const a=await this.userInfoReq.update(e,!0);"ok"===a.data.result?(this.modalMode="detail",this.userInfoData.passwordOld=" ",this.userInfoData.passwordNew=" ",this.$alert({type:"normal",message:this.$t("head.update.notice")}),this.getData(),t&&t()):this.$alert({type:"warn",message:a.data.error[0].message})},chgModalMode(t){this.modalMode=t}},data(){return{modalMode:"detail",selectedIdx:0,showModal:!1,backdropMode:"full",userInfoReq:new r.p0("/api/entity/user/object"),userInfoData:{},totalUserPrivileges:[],isSystem:"S",isBusiness:"b",tabList:[{type:"basic",label:this.$t("head.basic.info"),content:[[[{type:"text",vModel:"userId",label:this.$t("common.user.id"),isPK:!0},{type:"text",vModel:"userName",label:this.$t("common.user.name"),isRequired:!0,regExpType:"name"},{type:"text",vModel:"department",label:this.$t("common.user.department")},{type:"text",vModel:"telephone",label:this.$t("common.user.telephone"),regExpType:"num"}],[{type:"text",vModel:"mobilephone",label:this.$t("common.user.mobilephone"),regExpType:"num"},{type:"text",vModel:"email",label:this.$t("common.user.email")},{type:"text",vModel:"updateUserId",label:this.$t("head.update.userId"),readonly:!0},{type:"text",vModel:"updateTimestamp",label:this.$t("head.update.timestamp"),readonly:!0,formatter:t=>(0,r.GD)(t)}]]]},{id:"Authentication",type:"basic",label:this.$t("common.user.authentication.info"),content:[[[{type:"select",vModel:"userDisableYn",label:this.$t("common.user.disable"),optionInfo:{url:"/api/page/properties",params:{pk:{propertyId:"List.Yn"},orderByKey:!0},optionListName:"openWindowList",optionFor:"option in openWindowList",optionValue:"option.pk.propertyKey",optionText:"option.propertyValue"},readonly:!0},{type:"text",vModel:"loginIp",label:this.$t("common.user.loginIp"),readonly:!0},{type:"password",vModel:"passwordOld",label:this.$t("common.user.oldPassword"),regExpType:"password"},{type:"password",vModel:"passwordNew",label:this.$t("common.user.newPassword"),regExpType:"password"}],[{type:"text",vModel:"passwordExpiration",label:this.$t("common.user.passwordExpiration"),readonly:!0,formatter:t=>(0,r.GD)(t)},{type:"text",vModel:"userExpiration",label:this.$t("common.user.userExpiration"),readonly:!0,formatter:t=>(0,r.GD)(t)},{type:"text",vModel:"loginAttempts",label:this.$t("common.user.loginAttempts"),readonly:!0},{type:"text",vModel:"loginTimestamp",label:this.$t("common.user.loginTimestamp"),readonly:!0,formatter:t=>(0,r.GD)(t)}]]]},{type:"checkboxProperty",label:`${this.$t("common.user")} ${this.$t("common.privilege")} ${this.$t("head.info")}`}]}}},m=u,g=a(43736),f=(0,g.Z)(m,i,s,!1,null,null,null),y=f.exports},46700:function(t,e,a){var i={"./af":63906,"./af.js":63906,"./ar":40902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":20299,"./ar-kw.js":20299,"./ar-ly":96825,"./ar-ly.js":96825,"./ar-ma":66379,"./ar-ma.js":66379,"./ar-sa":87700,"./ar-sa.js":87700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":40902,"./az":76043,"./az.js":76043,"./be":7936,"./be.js":7936,"./bg":34078,"./bg.js":34078,"./bm":14014,"./bm.js":14014,"./bn":29554,"./bn-bd":17114,"./bn-bd.js":17114,"./bn.js":29554,"./bo":6529,"./bo.js":6529,"./br":65437,"./br.js":65437,"./bs":19647,"./bs.js":19647,"./ca":59951,"./ca.js":59951,"./cs":26113,"./cs.js":26113,"./cv":37965,"./cv.js":37965,"./cy":35858,"./cy.js":35858,"./da":33515,"./da.js":33515,"./de":62831,"./de-at":6263,"./de-at.js":6263,"./de-ch":51127,"./de-ch.js":51127,"./de.js":62831,"./dv":4510,"./dv.js":4510,"./el":68616,"./el.js":68616,"./en-au":24595,"./en-au.js":24595,"./en-ca":73545,"./en-ca.js":73545,"./en-gb":79609,"./en-gb.js":79609,"./en-ie":43727,"./en-ie.js":43727,"./en-il":93302,"./en-il.js":93302,"./en-in":46305,"./en-in.js":46305,"./en-nz":39128,"./en-nz.js":39128,"./en-sg":84569,"./en-sg.js":84569,"./eo":50650,"./eo.js":50650,"./es":26358,"./es-do":64214,"./es-do.js":64214,"./es-mx":38639,"./es-mx.js":38639,"./es-us":30232,"./es-us.js":30232,"./es.js":26358,"./et":47279,"./et.js":47279,"./eu":15515,"./eu.js":15515,"./fa":27981,"./fa.js":27981,"./fi":37090,"./fi.js":37090,"./fil":79208,"./fil.js":79208,"./fo":2799,"./fo.js":2799,"./fr":23463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":52848,"./fr-ch.js":52848,"./fr.js":23463,"./fy":41468,"./fy.js":41468,"./ga":88163,"./ga.js":88163,"./gd":87078,"./gd.js":87078,"./gl":76312,"./gl.js":76312,"./gom-deva":20682,"./gom-deva.js":20682,"./gom-latn":49178,"./gom-latn.js":49178,"./gu":31400,"./gu.js":31400,"./he":52795,"./he.js":52795,"./hi":17009,"./hi.js":17009,"./hr":46506,"./hr.js":46506,"./hu":69565,"./hu.js":69565,"./hy-am":93864,"./hy-am.js":93864,"./id":5626,"./id.js":5626,"./is":36649,"./is.js":36649,"./it":90151,"./it-ch":95348,"./it-ch.js":95348,"./it.js":90151,"./ja":79830,"./ja.js":79830,"./jv":33751,"./jv.js":33751,"./ka":63365,"./ka.js":63365,"./kk":85980,"./kk.js":85980,"./km":99571,"./km.js":99571,"./kn":25880,"./kn.js":25880,"./ko":16809,"./ko.js":16809,"./ku":96773,"./ku.js":96773,"./ky":65505,"./ky.js":65505,"./lb":50553,"./lb.js":50553,"./lo":51237,"./lo.js":51237,"./lt":91563,"./lt.js":91563,"./lv":61057,"./lv.js":61057,"./me":96495,"./me.js":96495,"./mi":83096,"./mi.js":83096,"./mk":43874,"./mk.js":43874,"./ml":46055,"./ml.js":46055,"./mn":87747,"./mn.js":87747,"./mr":17113,"./mr.js":17113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":14532,"./mt.js":14532,"./my":4655,"./my.js":4655,"./nb":56961,"./nb.js":56961,"./ne":2512,"./ne.js":2512,"./nl":48448,"./nl-be":72936,"./nl-be.js":72936,"./nl.js":48448,"./nn":49031,"./nn.js":49031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":30118,"./pa-in.js":30118,"./pl":93448,"./pl.js":93448,"./pt":33518,"./pt-br":62447,"./pt-br.js":62447,"./pt.js":33518,"./ro":70817,"./ro.js":70817,"./ru":10262,"./ru.js":10262,"./sd":58990,"./sd.js":58990,"./se":43842,"./se.js":43842,"./si":37711,"./si.js":37711,"./sk":80756,"./sk.js":80756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":40732,"./sr-cyrl":75713,"./sr-cyrl.js":75713,"./sr.js":40732,"./ss":99455,"./ss.js":99455,"./sv":69770,"./sv.js":69770,"./sw":80959,"./sw.js":80959,"./ta":36459,"./ta.js":36459,"./te":25302,"./te.js":25302,"./tet":67975,"./tet.js":67975,"./tg":71294,"./tg.js":71294,"./th":2385,"./th.js":2385,"./tk":24613,"./tk.js":24613,"./tl-ph":58668,"./tl-ph.js":58668,"./tlh":58190,"./tlh.js":58190,"./tr":74506,"./tr.js":74506,"./tzl":63440,"./tzl.js":63440,"./tzm":69852,"./tzm-latn":42350,"./tzm-latn.js":42350,"./tzm.js":69852,"./ug-cn":70730,"./ug-cn.js":70730,"./uk":40099,"./uk.js":40099,"./ur":72100,"./ur.js":72100,"./uz":96002,"./uz-latn":26322,"./uz-latn.js":26322,"./uz.js":96002,"./vi":14207,"./vi.js":14207,"./x-pseudo":24674,"./x-pseudo.js":24674,"./yo":10570,"./yo.js":10570,"./zh-cn":73644,"./zh-cn.js":73644,"./zh-hk":22591,"./zh-hk.js":22591,"./zh-mo":89503,"./zh-mo.js":89503,"./zh-tw":88080,"./zh-tw.js":88080};function s(t){var e=n(t);return a(e)}function n(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=n,t.exports=s,s.id=46700},7837:function(t,e,a){"use strict";var i=a(3032),s=a(76018);i.ZP.use(s.Z),e["Z"]=new s.Z({locale:"ko",fallbackLocale:"en",messages:(()=>{const t=a(30822),e={};return t.keys().forEach((a=>{const i=a.match(/([A-Za-z0-9-_]+)\./i);if(i&&i.length>1){const s=i[1];e[s]=t(a)}})),e})()})},44343:function(t,e,a){"use strict";var i=a(3032),s=a(68481),n=a(84844),o=a(89385),r=a(7837),l=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.showSpinner,expression:"showSpinner"}],style:{width:t.spinnerWidth},attrs:{id:"spinnerDiv"}},[e("div",{staticClass:"spinnerBg"}),e("div",{staticClass:"spinner"})])},d=[],c=a(37662),p={methods:{getContentWidth(t){if(0===document.getElementsByClassName("wrap").length)return;if("full"===t)return"100%";let e=0;const a=document.getElementsByClassName("wrap")[0],i=getComputedStyle(a),s=(0,c.tJ)(i.getPropertyValue("padding-left")),n=(0,c.tJ)(i.getPropertyValue("padding-right"));if(e+=a.clientWidth-(s+n),992<=window.innerWidth&&document.getElementById("sidebar")&&!document.body.classList.contains("sidebar-toggled")){const t=document.getElementById("sidebar"),a=getComputedStyle(t),i=(0,c.tJ)(a.getPropertyValue("margin-left")),s=(0,c.tJ)(a.getPropertyValue("margin-right"));e-=t.offsetWidth+i+s}return`${e}px`}}},h={name:"Spinner",mixins:[p],data(){return{spinnerWidth:null,showSpinner:!1,backdropMode:""}},watch:{backdropMode(){null!==this.backdropMode&&(this.spinnerWidth=this.getContentWidth(this.backdropMode))}},mounted(){this.spinnerWidth=this.getContentWidth(this.backdropMode),c.dc.$on("MainResize",(()=>{this.spinnerWidth=this.getContentWidth()})),c.Gk.$on("MainResize",(()=>{let t=document.body.classList.contains("sidebar-toggled");this.backdropMode=t?"full":"",this.spinnerWidth=this.getContentWidth(t)}))}},u=h,m=a(43736),g=(0,m.Z)(u,l,d,!1,null,null,null),f=g.exports;i.ZP.use(f);var y={install(t){let e=t.extend(f),a=null;t.prototype.$startSpinner=window.$startSpinner=function(t){let i={backdropMode:t,showSpinner:!0};if(a)for(let e in i)a[e]=i[e];else a=new e({el:document.createElement("div"),data(){return i}}),document.body.appendChild(a.$el)},t.prototype.$stopSpinner=window.$stopSpinner=function(t){t&&t(),a.showSpinner=!1,a.backdropMode=null}}},v=function(){var t=this,e=t._self._c;return e("Modal",{attrs:{settingInfo:t.settingInfo},on:{hideModal:t.hideModal}},[e("template",{slot:"modal-body"},[e("i",{class:`iconb-${t.modalType}`}),e(t.textComp,{tag:"component"})],1),e("template",{slot:"modal-footer"},[e("button",{ref:"closeBtn",staticClass:"btn",attrs:{type:"button"},on:{click:t.hideModal}},[t._v(" "+t._s(t.$t("head.close"))+" ")])])],2)},b=[],I=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal",style:t.style,attrs:{tabindex:"-1",role:"dialog","data-backdrop":"static"},on:{click:t.hideModal,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeModal.apply(null,arguments)}}},[e("div",{class:t.info.classObject,style:{"max-width":t.fullscreenWidth?t.fullscreenWidth:t.info.modalWidth}},[e("div",{staticClass:"modal-content",style:{height:t.fullscreenHeight?t.fullscreenHeight:t.info.modalHeight}},[t.info.isHeader?e("div",{staticClass:"modal-header"},[t._t("modal-header")],2):t._e(),e("div",{staticClass:"modal-body"},[t._t("modal-body")],2),e("div",{staticClass:"modal-footer"},[t._t("modal-footer")],2)])])])},C=[],x=a(66281),w=a.n(x),k={name:"Modal",mixins:[p],props:{settingInfo:Object},data(){return{backdropMode:null,style:{width:null,height:null,display:null,position:null,maxHeight:null},info:null}},computed:{fullscreenWidth(){return this.info.classObject["modal-fullscreen"]?"95%":""},fullscreenHeight(){return this.info.classObject["modal-fullscreen"]?"100%":""}},watch:{settingInfo:{immediate:!0,deep:!0,handler(){this.info=w()(this.settingInfo),this.backdropMode=this.info.backdropMode,this.style.width=this.getContentWidth(this.backdropMode),this.style.display=this.info.showModal?"block":"none"}}},mounted(){this.backdropMode=this.info.backdropMode,this.style.width=this.getContentWidth(this.backdropMode),this.style.display=this.info.showModal?"block":"none",c.dc.$on("MainResize",(()=>{this.info.draggable||this.info.resizable||(this.style.width=this.getContentWidth(this.backdropMode))})),c.Gk.$on("MainResize",(()=>{if(this.info.draggable||this.info.resizable)return;const t=document.body.classList.contains("sidebar-toggled");this.backdropMode=t?"full":"",this.style.width=this.getContentWidth(t)})),this.info.draggable&&(this.style.width=this.info.modalWidth,this.style.height=this.info.modalHeight,this.style.position="absolute",$(this.$el).draggable({handle:".modal-header",cursor:"move"})),this.info.resizable&&(this.info.classObject["modal-dialog-scrollable"]=!1,this.info.modalHeight=Number(this.info.modalHeight.replace("px",""))-2+"px",$(this.$el).resizable({minWidth:Number(this.info.modalWidth.replace("px","")),minHeight:Number(this.info.modalHeight.replace("px","")),resize:(t,e)=>{this.info.modalWidth=`${e.size.width}px`,this.info.modalHeight=e.size.height-2+"px",this.$emit("modalResize")}})),this.$nextTick((()=>{this.$el.focus()}))},methods:{hideModal(){this.info.deleteBackdrop&&this.$emit("hideModal")},closeModal(){this.$el.querySelector(".icon-close")&&(this.$el.querySelector(".icon-close").click(),document.querySelector(".modal:last-child")&&document.querySelector(".modal:last-child").focus())}}},A=k,T=(0,m.Z)(A,I,C,!1,null,null,null),L=T.exports,D={name:"Alert",components:{Modal:L},data(){return{showModal:!1,modalInfo:{},textComp:{template:"<span/>"}}},computed:{settingInfo(){return{isHeader:!1,showModal:this.showModal,backdropMode:this.modalInfo.backdropMode,deleteBackdrop:!0,classObject:{"modal-dialog":!0,"modal-dialog-centered":!0,"modal-dialog-alert":!0}}},modalType(){return"warn"===this.modalInfo.type?"warn":"compt"}},methods:{hideModal(){this.showModal=!1,this.modalInfo.backdropMode=null,this.$destroy()}},created(){c.bn.$emit("ModalDelete"),c.bn.$on("ModalDelete",this.hideModal),c.jF.$on("ModalDelete",this.hideModal)},destroyed(){document.body.removeChild(this.$el),this.modalInfo.callback&&this.modalInfo.callback()},mounted(){c.S9.$on("ModalKeyup",(()=>{this.hideModal()})),this.textComp={template:`\n\t\t\t\t<span>\n\t\t\t\t\t<p class="alert-text">${this.modalInfo.isXssMode?(0,c.Xv)(this.modalInfo.message):this.modalInfo.message}</p>\n\t\t\t\t</span>\n\t\t\t`},this.$nextTick((()=>{this.$refs.closeBtn.focus()}))}},M=D,_=(0,m.Z)(M,v,b,!1,null,null,null),S=_.exports;i.ZP.use(S);var E={install(t){const e=t.extend(S);t.prototype.$alert=window.$alert=function(t={}){let a={showModal:!0,modalInfo:t};const i=new e({el:document.createElement("div"),i18n:r.Z,data(){return a}});document.body.appendChild(i.$el)}}},R=function(){var t=this,e=t._self._c;return e("Modal",{attrs:{settingInfo:t.settingInfo},on:{hideModal:t.hideModal}},[e("template",{slot:"modal-body"},[e("i",{class:`iconb-${t.modalType}`}),e(t.textComp,{tag:"component"})],1),e("template",{slot:"modal-footer"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.confirm}},[t._v(t._s(t.$t("head.ok")))]),e("button",{staticClass:"btn",attrs:{type:"button"},on:{click:t.cancel}},[t._v(t._s(t.$t("head.cancel")))])])],2)},j=[],O={name:"Confirm",components:{Modal:L},data(){return{showModal:!1,modalInfo:{},textComp:{template:"<span/>"}}},computed:{modalType(){return"normal"===this.modalInfo.type?"compt":"warn"},settingInfo(){return{isHeader:!1,showModal:this.showModal,backdropMode:this.modalInfo.backdropMode,deleteBackdrop:!0,classObject:{"modal-dialog":!0,"modal-dialog-centered":!0,"modal-dialog-alert":!0}}}},methods:{hideModal(){this.showModal=!1,this.modalInfo.backdropMode=null,this.$destroy()},confirm(){this.modalInfo.callback&&this.modalInfo.callback()},cancel(){this.modalInfo.cancel&&this.modalInfo.cancel()}},created(){c.jF.$on("ModalDelete",this.hideModal)},destroyed(){document.body.removeChild(this.$el)},mounted(){c.S9.$on("ModalKeyup",(()=>{this.hideModal()})),this.textComp={template:`\n\t\t\t\t<span>\n\t\t\t\t\t<p class="alert-text">${this.modalInfo.isXssMode?(0,c.Xv)(this.modalInfo.message):this.modalInfo.message}</p>\n\t\t\t\t</span>\n\t\t\t`}}},N=O,P=(0,m.Z)(N,R,j,!1,null,null,null),B=P.exports;i.ZP.use(B);var V={install(t){const e=t.extend(B);t.prototype.$confirm=window.$confirm=function(t={}){let a={showModal:!0,modalInfo:t};const i=new e({el:document.createElement("div"),i18n:r.Z,data(){return a}});document.body.appendChild(i.$el)}}},G=function(){var t=this,e=t._self._c;return e("Modal",{attrs:{settingInfo:t.settingInfo},on:{hideModal:t.hideModal,modalResize:t.modalResize}},[e("template",{slot:"modal-header"},[e("h2",{staticClass:"modal-title",style:t.modalInfo.titleClickEvt?{cursor:"pointer","text-decoration":"underline",color:"#007bff"}:null,on:{click:function(e){t.modalInfo.titleClickEvt&&t.modalInfo.titleClickEvt()}}},[t._v(" "+t._s(t.modalInfo.title)+" ")]),e("button",{staticClass:"btn-icon",attrs:{type:"button","aria-label":"Close"},on:{click:t.hideModal}},[e("i",{staticClass:"icon-close"})])]),e("template",{slot:"modal-body"},t._l(t.contentList,(function(t,a){return e(t,{key:a,ref:"content",refInFor:!0,tag:"component"})})),1),e("template",{slot:"modal-footer"},[t._l(t.buttonList,(function(t,a){return e(t,{key:a,ref:"button",refInFor:!0,tag:"component"})})),e("button",{staticClass:"btn",attrs:{type:"button"},on:{click:t.hideModal}},[t._v(t._s(t.$t(t.buttonList?"head.cancel":"head.close")))])],2)],2)},F=[],q={name:"CommonModal",components:{Modal:L},data(){return{showModal:!1,modalInfo:null}},computed:{contentList(){return this.modalInfo.contentList},buttonList(){return this.modalInfo.buttonList},settingInfo(){return{isHeader:!0,showModal:this.showModal,backdropMode:this.modalInfo.backdropMode,modalWidth:this.modalInfo.modalWidth,modalHeight:this.modalInfo.modalHeight,draggable:this.modalInfo.draggable,resizable:this.modalInfo.resizable,classObject:{"modal-dialog":!0,"modal-fullscreen":this.modalInfo.fullscreen,"modal-dialog-centered":!0,"modal-dialog-scrollable":!0}}}},methods:{modalResize(){this.$refs.content.forEach((t=>{t.$children.forEach((t=>{t.modalResize&&t.modalResize()}))}))},hideModal(){this.showModal=!1,this.backdropMode=null,this.$destroy()}},created(){c.jF.$on("ModalDelete",this.hideModal)},destroyed(){document.body.removeChild(this.$el)}},z=q,U=(0,m.Z)(z,G,F,!1,null,null,null),K=U.exports;i.ZP.use(K);var H={install(t){const e=t.extend(K);t.prototype.$openModal=window.$openModal=function(t){t.modalWidth||(t.modalWidth="800px"),t.modalHeight||(t.modalHeight="700px");let a={showModal:!0,modalInfo:t};const i=new e({el:document.createElement("div"),store:o.Z,i18n:r.Z,data(){return a}});return document.body.appendChild(i.$el),i}}};i.ZP.use(y),i.ZP.use(E),i.ZP.use(V),i.ZP.use(H),new i.ZP({router:n.Z,store:o.Z,i18n:r.Z,render:t=>t(s.Z)}).$mount("#app")},84844:function(t,e,a){"use strict";a.d(e,{Z:function(){return ht}});var i=a(3032),s=a(72631),n=a(56295),o=a(35201),r=a(68481),l=function(){var t=this,e=t._self._c;return e("div",{ref:"login",staticClass:"loginLayout"})},d=[],c=(a(57658),a(63822)),p=a(37662),h={name:"Login",computed:{...(0,c.rn)(["isTools","loginQueryParam"]),loginSrc(){return(0,p.u5)("/api/page/login"+(this.isTools?"?_client_mode=c":""))},passwordSrc(){return(0,p.u5)("/api/page/password")}},created(){this.setUserInfo(null)},mounted(){const t=t=>{$(this.$refs.login).empty().load(`${this.passwordSrc}?userId=${t.detail.userId}`,(()=>{document.querySelector("#password").addEventListener("goLoginPage",e)}))},e=()=>{$(this.$refs.login).empty().load(this.loginSrc,(()=>{this.$refs.login.querySelector("[data-ready]").dispatchEvent(new CustomEvent("loginQueryParam",{detail:JSON.parse(this.loginQueryParam)})),this.$refs.login.querySelector("[data-ready]").addEventListener("goPasswordPage",t),this.$refs.login.querySelector("[data-ready]").addEventListener("loginSuccess",a),this.setLoginQueryParam(null)}))},a=()=>{this.$router.push({name:"app"}).catch((()=>{}))};e()},methods:{...(0,c.OI)(["setUserInfo","setLoginQueryParam"])}},u=h,m=a(43736),g=(0,m.Z)(u,l,d,!1,null,null,null),f=g.exports,y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrap",on:{contextmenu:t.conveyEvent,click:t.conveyEvent}},[e("SideBar",{on:{loadContent:t.loadContent}}),e("Dispatch",{attrs:{uuid:t.uuid,menuId:t.menuId}}),t.isViewLicense?e("span",{ref:"license",staticClass:"license",style:t.licenseStyle},[t._v(" "+t._s(t.$t("msg.license.development"))+" ")]):t._e()],1)},v=[],b=function(){var t=this,e=t._self._c;return e("span",[e("header",{attrs:{id:"hd"}},[e("div",{staticClass:"hd-brand"},[e("h1",{staticClass:"logo text-hide"},[e("a",{attrs:{href:"javascript:void(0);"},on:{click:t.clickLogo}},[e("img",{attrs:{src:t.logoFile,alt:"INZENT"}})])]),e("span",{on:{click:t.sideMenuToggler}},[e("button",{staticClass:"menu-toggler d-none d-lg-block",staticStyle:{transition:"none"},attrs:{type:"button",title:t.$t("head.sidebar")}},[e("i",{staticClass:"icon-hamburger-back"})]),e("button",{staticClass:"menu-toggler d-lg-none",attrs:{type:"button",title:t.$t("head.sidebar")}},[e("i",{staticClass:"icon-hamburger-back"})])])]),e("ul",{staticClass:"breadcrumb"},t._l(t.selectedMenuPathNameList,(function(a,i){return e("li",{key:i,class:{"breadcrumb-item":!0,active:i===t.selectedMenuPathNameList.length-1}},[t._v(" "+t._s(a)+" ")])})),0),e("div",{staticClass:"hd-side"},[e("div",{class:t.siteMapContentClass,style:t.siteMapContentStyle},t._l(t.userAllMenuParentList,(function(a,i){return e("div",{key:i,staticClass:"area"},[e("ul",[e("li",[t._v(t._s(a.menuName))]),t._l(t.userAllMenuList.filter((t=>t.menuId.startsWith(a.menuId.substring(0,1)))),(function(a){return e("li",{key:a.menuId,on:{click:function(e){return t.clickSiteMap(a.menuId)}}},[t.getIcon(`/img/menu/${a.menuIcon}`)?e("img",{attrs:{src:t.getIcon(`/img/menu/${a.menuIcon}`)}}):e("i",{staticClass:"icon-lock"}),t.logStatsMenu.filter((t=>t.menuId===a.parentMenuId))[0]?e("a",{attrs:{href:"javascript:void(0);"}},[t._v(" "+t._s(`${t.logStatsMenu.filter((t=>t.menuId==a.parentMenuId))[0].menuName} > ${a.menuName}`)+" ")]):e("a",{attrs:{href:"javascript:void(0);"}},[t._v(" "+t._s(a.menuName)+" ")])])}))],2)])})),0),this.siteMapToggleClass["icon-close"]?e("input",{directives:[{name:"model",rawName:"v-model",value:t.siteMapSearch,expression:"siteMapSearch"}],staticClass:"form-control sitemap-search input-search",attrs:{type:"text",placeholder:t.$t("head.search")},domProps:{value:t.siteMapSearch},on:{input:[function(e){e.target.composing||(t.siteMapSearch=e.target.value)},t.changeSiteMapSearch]}}):t._e(),t.isUseTheme?e("a",{attrs:{href:"javascript:void(0);",title:"sun"===t.theme?t.$t("common.night.mode"):t.$t("common.day.mode")},on:{click:t.toggleTheme}},[e("img",{attrs:{src:t.getIcon(`/custom/img/${"sun"===t.theme?"moon":"sun"}.svg`)}})]):t._e(),e("a",{attrs:{href:"javascript:void(0);",title:t.$t("igate.sitemap")},on:{click:t.toggleSiteMapContent}},[e("i",{class:t.siteMapToggleClass})]),e("a",{attrs:{href:"javascript:void(0);",title:t.$t("head.mypage")},on:{click:t.userInfo}},[e("i",{staticClass:"icon-profile"})]),e("a",{attrs:{href:"javascript:void(0);",title:t.$t("common.auth.logout")},on:{click:t.logout}},[e("i",{staticClass:"icon-logout"})])])]),e("nav",{ref:"sidebar",staticClass:"panel",attrs:{id:"sidebar"}},[e("div",{staticClass:"panel-content",on:{scroll:t.initContextMenu}},[t.isHomeDataLoaded?e("Menu",{attrs:{rootId:"home",rootMenuInfo:t.homeMenuInfo,selectedMenuPathIdList:t.selectedMenuPathIdList},on:{loadContent:t.loadContent}}):e("ul",[e("li",{staticClass:"menu-item"},[e("span",[e("a",{staticClass:"menu-link",attrs:{href:"javascript:void(0);"}},[e("i",{staticClass:"icon-home"}),t._v(" "+t._s(t.$t("head.home"))+" ")])])])]),e("div",{staticClass:"menu-divider"}),t.isBookmarkDataLoaded&&0<t.bookMarkMenuInfo.subMenus[0].subMenus.length?e("Menu",{attrs:{rootId:"bookMark",rootMenuInfo:t.bookMarkMenuInfo,selectedMenuPathIdList:t.selectedMenuPathIdList,bookMarkMenuList:t.bookMarkMenuInfo.subMenus[0].subMenus},on:{loadContent:t.loadContent,setMenuBookmark:t.setMenuBookmark}}):e("div",{staticClass:"menu-collapse-item"},[e("a",{staticClass:"menu-collapse-link disabled",attrs:{"data-toggle":"collapse","aria-expanded":"true"}},[t._v(" "+t._s(t.$t("head.bookmark"))),e("i",{staticClass:"icon-down"})]),e("p",{staticClass:"bookmark-text"},[e("i",{staticClass:"icon-bookmark active"}),t._v(t._s(t.$t("head.bookmark.icon")))])]),e("div",{staticClass:"menu-divider"}),t.isMenuDataLoaded?e("Menu",{attrs:{rootId:"gnb",rootMenuInfo:t.menuInfo,selectedMenuPathIdList:t.selectedMenuPathIdList,bookMarkMenuList:t.bookMarkMenuInfo.subMenus[0].subMenus},on:{loadContent:t.loadContent,setMenuBookmark:t.setMenuBookmark}}):t._e()],1)]),t.isViewBackdrop?e("div",{ref:"backdrop",staticClass:"backdrop",on:{click:t.hideSideMenu}}):t._e(),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isViewContextmenu,expression:"isViewContextmenu"}],ref:"menuContextMenu",style:t.menuContextMenuStyle,attrs:{id:"menuContextMenu"}},[e("ul",[e("li",{on:{click:t.newTab}},[e("i",{staticClass:"icon-info",staticStyle:{padding:"10px"}}),e("span",{staticClass:"hide",staticStyle:{"padding-left":"10px"}},[t._v(t._s(t.$t("common.open.new.tab")))])])])])])},I=[],C=(a(30541),a(66281)),x=a.n(C),w=function(){var t=this,e=t._self._c;return e("ul",{class:t.rootClass,attrs:{id:t.rootId}},t._l(this.rootMenuInfo.subMenus,(function(a,i){return e("li",{key:i,class:{"menu-item":!!a.menuUrl}},[!a.menuUrl?e("span",[e("a",{ref:a.menuId,refInFor:!0,staticClass:"menu-collapse-link collapsed",attrs:{href:`#menu_${a.menuId}`,"data-window":"N","data-toggle":"collapse","aria-expanded":"false"}},[t._v(" "+t._s(a.menuName)+" "),e("i",{staticClass:"icon-down"})]),e("Menu",{attrs:{rootId:`menu_${a.menuId}`,rootMenuInfo:a,rootClass:{"menu-collapse":!0,collapse:!0},selectedMenuPathIdList:t.selectedMenuPathIdList,bookMarkMenuList:t.bookMarkMenuList},on:{loadContent:t.loadContent,setMenuBookmark:t.setMenuBookmark}})],1):e("span",[e("a",{ref:a.menuId,refInFor:!0,class:{"menu-link":!0,active:-1<t.selectedMenuPathIdList.findIndex((t=>t===a.menuId))},attrs:{href:"javascript:void(0);",id:a.menuId},on:{click:function(e){t.loadContent([{orgMenuId:a.menuId,menuId:t.getOrgMenuId(a.menuId),menuName:a.menuName,openWindow:a.openWindow}])}}},[-1<a.menuId.indexOf("home")?e("i",{staticClass:"icon-home"}):t.getMenuIcon(a.menuIcon)?e("img",{attrs:{src:t.getMenuIcon(a.menuIcon)}}):e("i",{staticClass:"icon-lock"}),t._v(" "+t._s(a.menuName)+" ")]),a.isNotRequireFavorites?t._e():e("button",{class:{"menu-bookmark":!0,"icon-bookmark":!0,active:-1<t.bookMarkMenuList.findIndex((e=>t.getOrgMenuId(e.menuId)===t.getOrgMenuId(a.menuId)))},on:{click:function(e){t.setMenuBookmark({menuId:t.getOrgMenuId(a.menuId),isDelete:-1<t.bookMarkMenuList.findIndex((e=>t.getOrgMenuId(e.menuId)===t.getOrgMenuId(a.menuId)))})}}})])])})),0)},k=[],A={name:"Menu",props:{rootId:String,rootMenuInfo:Object,rootClass:Object,bookMarkMenuList:{type:Array,default:()=>[]},selectedMenuPathIdList:{type:Array,default:()=>[]}},mounted(){for(const t of this.selectedMenuPathIdList)this.$refs[t]&&this.$refs[t][0].click()},methods:{loadContent(t){this.rootMenuInfo.menuId&&t.unshift({orgMenuId:this.rootMenuInfo.menuId,menuId:this.getOrgMenuId(this.rootMenuInfo.menuId),menuName:this.rootMenuInfo.menuName}),this.$emit("loadContent",t)},getOrgMenuId(t){return t.split("_")[0]},setMenuBookmark(t){this.$emit("setMenuBookmark",t)},getMenuIcon(t){try{return(0,p.u5)(`/img/menu/${t}`)}catch(e){return null}}}},T=A,L=(0,m.Z)(T,w,k,!1,null,null,null),D=L.exports,M={name:"Sidebar",data(){return{isViewBackdrop:!1,allMenuList:[],homeMenuInfo:{subMenus:[]},bookMarkMenuInfo:{subMenus:[{menuId:"bookMark",menuName:this.$t("head.bookmark"),subMenus:[]}]},menuInfo:{},selectedMenuPathNameList:[],selectedMenuPathIdList:[],bookmarkHttpReq:new p.p0("/api/entity/menuBookmark/search"),isHomeDataLoaded:!1,isBookmarkDataLoaded:!1,isMenuDataLoaded:!1,configMenuBookmarkHttpReq:new p.p0("/api/entity/menuBookmark/object"),openModal:!1,isViewContextmenu:!1,menuContextMenuStyle:{position:"absolute",top:null,left:null,width:"200px","z-index":9999,background:"white",padding:"8px 0px","border-radius":"4px","box-shadow":"20px 20px 20px grey",fontWeight:"bold"},contextmenuId:null,siteMapSearch:"",logStatsMenu:[],siteMapToggleClass:{"icon-list":!0,"icon-close":!1},siteMapContentClass:{"site-map-content":!0,expand:!1},siteMapContentStyle:{height:null,padding:null},siteMapRemoveClass:[],isOutLogo:!1,logoFileName:null,logoFileExtension:null,logoHttpReq:new p.p0("/api/page/logoFileName"),theme:"sun"}},components:{Menu:D},async created(){p.Hz.$on("initContextMenu",(t=>{this.initContextMenu(t)})),this.theme=localStorage.getItem("theme")?localStorage.getItem("theme"):"sun";const t=await this.logoHttpReq.read({type:"menu"});if("ok"===t.data.result&&t.data.object){this.isOutLogo=!0;const e=t.data.object.split(".");this.logoFileExtension=e[e.length-1],this.logoFileName=t.data.object.replace(`.${this.logoFileExtension}`,"")}else this.isOutLogo=!1,this.logoFileExtension="svg",this.logoFileName="logo"},async mounted(){await this.getAllMenuInfo(),await this.getHomeMenuInfo(),await this.getBookMarkMenuInfo(!0),this.getMenuInfo(),this.logStatsMenu=this.allMenuList.filter((t=>"402000"===t.parentMenuId))},computed:{...(0,c.rn)({userId:t=>t.userInfo.userId,totalUserPrivileges:t=>t.userInfo.totalUserPrivileges.map((t=>t.privilegeId)),isUseTheme:t=>t.isUseTheme,homeMenu:t=>t.homeMenu,userMenuInfo:t=>t.menuInfo}),userAllMenuParentList(){if(!this.menuInfo.subMenus)return[];const t=[];return this.userAllMenuList.forEach((e=>{let a=this.allMenuList.filter((t=>t.menuId===e.parentMenuId))[0];while(1){if(!a.parentMenuId)break;a=this.allMenuList.filter((t=>t.menuId===a.parentMenuId))[0]}t.some((t=>t.menuId===a.menuId))||t.push(a)})),t},userAllMenuList(){return this.allMenuList.filter((t=>t.menuUrl&&(!t.menuPrivilegeId||"undefined"!==typeof this.totalUserPrivileges.find((e=>e===t.menuPrivilegeId)))&&t.menuName.includes(this.siteMapSearch)))},logoFile(){if(!this.logoFileName||!this.logoFileExtension)return;const t=`${this.logoFileName}${"moon"===this.theme?"_wh":""}.${this.logoFileExtension}`;return this.isOutLogo?(0,p.u5)(`/custom/img/${t}`):a(25459)(`./${t}`)}},methods:{...(0,c.OI)(["setMenuList"]),sideMenuToggler(t){const e="I"===t.target.tagName?t.target.closest("button"):t.target;e.classList.contains("d-lg-none")?(this.isViewBackdrop=!0,document.body.classList.contains("panel-open-sidebar")&&document.body.classList.remove("panel-open-sidebar"),document.body.classList.contains("fixed")&&(document.body.classList.remove("fixed"),this.$refs.sidebar.style.display="none"),document.body.classList.add("fixed"),this.$refs.sidebar.style.display="block",document.body.classList.add("panel-open-sidebar"),document.body.dispatchEvent(new CustomEvent("resize",{detail:{evt:t}}))):(document.body.classList.toggle("sidebar-toggled"),p.Gk.$emit("MainResize"),document.body.dispatchEvent(new CustomEvent("resize",{detail:{evt:t}})))},hideSideMenu(){document.body.classList.remove("panel-open-sidebar"),this.isViewBackdrop=!1,this.$refs.sidebar.style.display="none",document.body.classList.remove("fixed"),this.$refs.sidebar.removeAttribute("style"),p.Gk.$emit("MainResize"),document.body.dispatchEvent(new CustomEvent("resize",{detail:{}}))},loadContent(t){this.selectedMenuPathNameList=t.map((t=>t.menuName)),this.selectedMenuPathIdList=t.map((t=>t.orgMenuId)),sessionStorage.removeItem("selectedMenuPathIdList"),sessionStorage.setItem("selectedMenuPathIdList",JSON.stringify(this.selectedMenuPathIdList));const e=t[t.length-1];"102070"===e.menuId&&"moon"===this.theme?this.$alert({type:"warn",message:this.$t("igate.operation.theme"),callback:()=>{this.toggleTheme(),this.$refs.backdrop&&"block"===getComputedStyle(this.$refs.backdrop).display&&this.hideSideMenu(),this.$emit("loadContent",{menuId:e.menuId,openWindow:e.openWindow})}}):(this.$refs.backdrop&&"block"===getComputedStyle(this.$refs.backdrop).display&&this.hideSideMenu(),this.$emit("loadContent",{menuId:e.menuId,openWindow:e.openWindow}))},clickLogo(){this.isHomeDataLoaded=!1,this.selectedMenuPathIdList=[this.homeMenuInfo.subMenus[0].menuId],this.$nextTick((()=>{this.isHomeDataLoaded=!0}))},userInfo(){const t=this.$openModal({title:`${this.$t("common.user")} ${this.$t("head.info")}`,modalWidth:"800px",contentList:[{template:'<div style="height: 100%;" >\n\t\t\t\t\t\t\t\t     <UserInfo/>\n\t\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t',components:{UserInfo:a(26655)["default"]}}],buttonList:[{template:'\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<button type="button" class="btn btn-primary" v-if="\'detail\' === modalMode" @click="chgModalMode(\'modify\')">\n\t\t\t\t\t\t\t\t\t<i class="icon-edit"></i>{{ $t(\'head.update\') }}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button type="button" class="btn" v-if="\'detail\' !== modalMode" @click="chgModalMode(\'detail\')">\n\t\t\t\t\t\t\t\t\t{{ $t(\'head.cancel\') }}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button type="button" class="btn btn-primary" v-if="\'detail\' !== modalMode" @click="updateUserInfo">\n\t\t\t\t\t\t\t\t\t{{ $t(\'head.save\') }}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t',data(){return{modalMode:"detail"}},methods:{chgModalMode(e){this.modalMode=e,t.$refs.content[0].$children[0].chgModalMode(e)},updateUserInfo(){t.$refs.content[0].$children[0].updateUserInfo((()=>{this.chgModalMode("detail")}))}}}]})},logout(){(0,p.kS)()},async getAllMenuInfo(){this.allMenuList=(0,p.lB)(this.userMenuInfo.subMenus),this.setMenuList(this.allMenuList)},async getHomeMenuInfo(){this.isHomeDataLoaded=!1;for(const t of this.allMenuList)if(t.menuId===this.homeMenu){const e=x()(t);return e.menuId+="_home",e.isNotRequireFavorites=!0,e.menuName=this.$t("head.home"),this.homeMenuInfo.subMenus=[e],localStorage.getItem("selectedMenuPathIdListNewTab")?(this.selectedMenuPathIdList=JSON.parse(localStorage.getItem("selectedMenuPathIdListNewTab")),localStorage.removeItem("selectedMenuPathIdListNewTab")):this.selectedMenuPathIdList=sessionStorage.getItem("selectedMenuPathIdList")?JSON.parse(sessionStorage.getItem("selectedMenuPathIdList")):[e.menuId],void(this.isHomeDataLoaded=!0)}},async getBookMarkMenuInfo(t=!1){t&&(this.isBookmarkDataLoaded=!1);const e=await this.bookmarkHttpReq.read({object:{pk:{userId:this.userId}},limit:this.allMenuList.length,reverseOrder:!1});if("ok"!==e.data.result)return;const a=[],i=e.data.object.map((t=>t.pk.menuId));for(const s of this.allMenuList){if(!i.includes(s.menuId))continue;if(s.menuPrivilegeId&&!this.totalUserPrivileges.includes(s.menuPrivilegeId)){this.setMenuBookmark({menuId:s.menuId,isDelete:!0});continue}const t=x()(s);t.menuId+="_bookmark",t.menuName=this.$t(t.menuName),a.push(t)}this.bookMarkMenuInfo.subMenus[0].subMenus=a,this.isBookmarkDataLoaded=!0},async getMenuInfo(){this.isMenuDataLoaded=!1,this.menuInfo=x()(this.userMenuInfo),this.isMenuDataLoaded=!0},async setMenuBookmark(t){try{const e=await this.configMenuBookmarkHttpReq[t.isDelete?"delete":"create"]({pk:{menuId:t.menuId,userId:this.userId}});if("ok"!==e.data.result)throw"error";this.getBookMarkMenuInfo()}catch(e){this.$alert({type:"warn",backdropMode:"full",message:this.$t("head.fail.notice")})}},initContextMenu(t){if(!t)return;if(t.target.closest(".work-flow"))return;this.contextmenuId=t.target.id?t.target.id:null;const e=t.isTrusted&&this.contextmenuId&&t.target.className.includes("menu-link")&&!this.contextmenuId.includes("_home");e&&t.preventDefault(),e&&this.contextmenuId&&"click"!==t.type?(this.isViewContextmenu=!0,this.$nextTick((()=>{this.menuContextMenuStyle.top=`${window.innerHeight<=t.clientY+this.$refs.menuContextMenu.offsetHeight?t.clientY-this.$refs.menuContextMenu.offsetHeight:t.clientY}px`,this.menuContextMenuStyle.left=`${window.innerWidth<=t.clientX+this.$refs.menuContextMenu.offsetWidth?window.innerWidth-this.$refs.menuContextMenu.offsetWidth:t.clientX}px`}))):this.isViewContextmenu=!1},newTab(){if(this.contextmenuId===this.selectedMenuPathIdList[this.selectedMenuPathIdList.length-1]&&"401010"!==this.contextmenuId)return this.$alert({type:"warn",message:this.$t("common.avoid.open.new.tab")}),void(this.isViewContextmenu=!1);(0,p.RB)(this.contextmenuId,(()=>{localStorage.removeItem("searchObj")}))},toggleSiteMapContent(){if(this.siteMapContentStyle.height=null===this.siteMapContentStyle.height?"100vh":null,this.siteMapContentStyle.padding=null===this.siteMapContentStyle.padding?"5% 10%":null,this.siteMapContentClass.expand=!this.siteMapContentClass.expand,this.siteMapToggleClass["icon-list"]=!this.siteMapToggleClass["icon-list"],this.siteMapToggleClass["icon-close"]=!this.siteMapToggleClass["icon-close"],this.siteMapContentClass.expand)for(const t of document.body.classList)t.includes("panel-open-")&&!t.includes("fixed")&&(document.body.classList.remove(t),this.siteMapRemoveClass.push(t));else{for(const t of this.siteMapRemoveClass)setTimeout((()=>{document.body.classList.add(t)}),100);this.siteMapRemoveClass=[]}},clickSiteMap(t){const e=[t];while(1){const t=this.allMenuList.filter((t=>e[0]===t.menuId));if(0===t.length)break;const a=t[0];if("undefined"===typeof a.parentMenuId)break;e.unshift(a.parentMenuId)}sessionStorage.removeItem("selectedMenuPathIdList"),sessionStorage.setItem("selectedMenuPathIdList",JSON.stringify(e)),location.reload()},changeSiteMapSearch(t){this.siteMapSearch=t.target.value},getIcon(t){try{return(0,p.u5)(t)}catch(e){return null}},toggleTheme(){"102070"!==(0,p.cG)()||"sun"!==this.theme?(this.theme="sun"===this.theme?"moon":"sun","moon"===this.theme?(document.body.classList.add("moon"),this.$parent.$refs.license.style.color="#fff"):(document.body.classList.remove("moon"),this.$parent.$refs.license.style.color="#000"),localStorage.setItem("theme",this.theme),p.bB.$emit("MainResize")):this.$alert({type:"warn",message:this.$t("igate.operation.theme")})}}},_=M,S=(0,m.Z)(_,b,I,!1,null,null,null),E=S.exports,R=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"ct"}},["basic"===t.pageInfo.type?e("Basic",{attrs:{pageInfo:t.pageInfo}}):"custom"===t.pageInfo.type?e("Custom",{attrs:{pageInfo:t.pageInfo}}):"external"===t.pageInfo.type?e("External",{attrs:{pageInfo:t.pageInfo}}):"bundle"===t.pageInfo.type?e(t.component,{tag:"component",attrs:{pageInfo:t.pageInfo}}):t._e()],1)},j=[],O=a(95410),N=a.n(O),P=a(30650),B=function(){var t=this,e=t._self._c;return e("div",{ref:"mainCustom",staticClass:"customLayout"})},V=[],G={name:"Custom",props:{pageInfo:{type:Object,default:()=>({})}},computed:{src(){return(0,p.u5)(`/api/page/customPage${this.pageInfo.url}`)}},mounted(){this.$startSpinner(),$(this.$refs.mainCustom).load(this.src,(()=>{const{viewer:t,editor:e}=this.pageInfo;this.$refs.mainCustom.querySelector("[data-ready]").dispatchEvent(new CustomEvent("privilege",{detail:{viewer:t,editor:e}})),this.$stopSpinner()}))},beforeDestroy(){this.$refs.mainCustom.querySelector("[data-ready]").dispatchEvent(new CustomEvent("destroy")),this.$refs.mainCustom.querySelector("#panel")&&this.$refs.mainCustom.querySelector("#panel").dispatchEvent(new CustomEvent("detailDestroy"))}},F=G,q=(0,m.Z)(F,B,V,!1,null,null,null),z=q.exports,U=function(){var t=this,e=t._self._c;return e("div",{ref:"mainExternal",staticClass:"customLayout"},[e("iframe",{attrs:{id:"mainExternalFrame",src:t.src}})])},K=[],H={name:"External",props:{pageInfo:{type:Object,default:()=>({})}},computed:{src(){return this.pageInfo.url}}},W=H,Y=(0,m.Z)(W,U,K,!1,null,null,null),Q=Y.exports,Z={name:"Dispatch",components:{Basic:P.Z,Custom:z,External:Q},props:{uuid:String,menuId:String},data(){return{pageInfo:{},component:null,menuReq:new p.p0("/api/entity/menu/object"),pageReq:new p.p0("/api/page/definition")}},watch:{uuid(){this.initPageInfo()}},computed:{...(0,c.rn)(["userInfo","isOnPopState","isTools"])},methods:{...(0,c.OI)(["setIsOnPopState"]),async initPageInfo(){if(!(await(0,p.Rp)()).result)return void this.$alert({type:"warn",backdropMode:"full",message:this.isTools?this.$t("igate.itools.token.expired"):this.$t("head.validateToken"),callback:()=>{this.isTools||(0,p.kS)()}});this.pageInfo={type:null};let t=await this.menuReq.read({menuId:this.menuId});if("ok"!==t.data.result)return;const e=t.data.object,i=e.menuPrivilegeId,s=this.userInfo.totalUserPrivileges.map((t=>t.privilegeId));if(!("undefined"===typeof i||-1<s.findIndex((t=>t===i))))return void this.$alert({type:"warn",message:this.$t("head.unauthorized.screen.warn"),backdropMode:"full",callback:()=>{(0,p.kS)()}});let n=e.menuUrl;if(-1<n.indexOf("?")){let t=null;t=localStorage.getItem("searchObj")?{...JSON.parse(localStorage.getItem("searchObj")),...N().parse(n.split("?")[1])}:N().parse(n.split("?")[1]),localStorage.setItem("searchObj",JSON.stringify(t)),n=n.split("?")[0]}const o=-1<n.indexOf("in:/")?"in:/":-1<n.indexOf("out:/")?"out:/":null;if(o&&(n=`${o}${n.split(o)[1]}`),n.startsWith("in:"))this.pageInfo={type:"bundle",privilegeType:i?i.replace("Viewer","").replace("Editor",""):null},this.component=a(92354)(`./main${n.replace("in:","")}.vue`).default;else if(n.startsWith("out:")){if(t=await this.pageReq.read({menuUrl:n.replace("out:","")}),"ok"!==t.data.result)return;const e=new Function(`${t.data.object} return info;`)(),a="undefined"===typeof i?e.privilegeType:i.replace("Viewer","").replace("Editor","");this.pageInfo={...e,...(0,p.fc)(a)}}else(n.startsWith("http")||n.startsWith("https"))&&(this.pageInfo={type:"external",url:n,privilegeType:(0,p.fc)(i?i.replace("Viewer","").replace("Editor",""):null)});this.isOnPopState||history.pushState({menuId:this.menuId},null,null),this.setIsOnPopState(!1)}}},J=Z,X=(0,m.Z)(J,R,j,!1,null,null,null),tt=X.exports,et={name:"Layout",components:{SideBar:E,Dispatch:tt},data(){return{uuid:null,menuId:null,isViewLicense:!1,licenseStyle:{top:null}}},computed:{...(0,c.rn)(["developmentLicense"])},async mounted(){const t=await new p.p0("/api/page/licenseSerial").read();"ok"===t.data.result&&(this.isViewLicense=this.developmentLicense===t.data.object,p.dc.$on("MainResize",this.resize),this.$nextTick(this.resize))},methods:{loadContent(t){"Y"===t.openWindow&&"Y"!==localStorage.getItem("isOpenNewTab")?(0,p.RB)((0,p.cG)(),(()=>{localStorage.setItem("isOpenNewTab","Y")})):localStorage.removeItem("isOpenNewTab"),this.uuid=(0,p.Fs)(),this.menuId=t.menuId;const e=[];document.body.classList.forEach((t=>{"moon"!==t&&e.push(t)})),document.body.classList.remove(...e),p.jF.$emit("ModalDelete")},conveyEvent(t){p.Hz.$emit("initContextMenu",t)},resize(){this.isViewLicense&&this.$refs.license&&(this.licenseStyle.top=`calc(100% - ${this.$refs.license.offsetHeight}px)`)}}},at=et,it=(0,m.Z)(at,y,v,!1,null,"1888687c",null),st=it.exports,nt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrap"},[e("header",{attrs:{id:"hd"}},[e("div",{staticClass:"hd-brand"},[e("h1",{staticClass:"logo text-hide"},[e("a",{staticStyle:{cursor:"default"},attrs:{href:"javascript:void(0);"}},[e("img",{attrs:{src:t.logoFile,alt:"INZENT"}})])])]),e("ul",{staticClass:"breadcrumb"},t._l(t.selectedMenuPathNameList,(function(a,i){return e("li",{key:i,class:{"breadcrumb-item":!0,active:i===t.selectedMenuPathNameList.length-1}},[t._v(" "+t._s(a)+" ")])})),0),e("div",{staticClass:"hd-side"},[e("a",{attrs:{href:"javascript:void(0);",title:t.$t("head.mypage")},on:{click:t.userInfo}},[e("i",{staticClass:"icon-profile"})])])]),e("Dispatch",{attrs:{uuid:t.uuid,menuId:t.menuId}})],1)},ot=[],rt={name:"LayoutExternal",components:{Dispatch:tt},data(){return{uuid:null,menuId:null,selectedMenuPathIdList:[],selectedMenuPathNameList:[],isOutLogo:!1,logoFileName:null,logoFileExtension:null,logoHttpReq:new p.p0("/api/page/logoFileName")}},computed:{logoFile(){if(!this.logoFileName||!this.logoFileExtension)return;const t=`${this.logoFileName}.${this.logoFileExtension}`;return this.isOutLogo?(0,p.u5)(`/custom/img/${t}`):a(25459)(`./${t}`)}},beforeCreate(){document.body.classList.add("external-menu-url"),document.body.classList.add("sidebar-toggled"),document.body.classList.remove("moon")},async created(){try{let t=await this.logoHttpReq.read();if("ok"===t.data.result&&t.data.object){this.isOutLogo=!0;const e=t.data.object.split(".");this.logoFileExtension=e[e.length-1],this.logoFileName=t.data.object.replace(`.${this.logoFileExtension}`,"")}else this.isOutLogo=!1,this.logoFileExtension="svg",this.logoFileName="logo";const e=new p.p0("/api/entity/menu/search");if(t=await e.read({object:{},limit:null,next:null,reverseOrder:!1}),"ok"!==t.data.result)throw t.data.error[0].message;{const e=t.data.object;this.setMenuList(e);let a=sessionStorage.getItem("externalMenuUrl");const i=-1<a.indexOf("in:/")?"in:/":"out:/";a=`${i}${a.split(i)[1]}`;let s=null;if(localStorage.getItem("selectedMenuPathIdListNewTab")){const t=JSON.parse(localStorage.getItem("selectedMenuPathIdListNewTab")).pop();localStorage.removeItem("selectedMenuPathIdListNewTab"),s=e.filter((e=>e.menuId===t))}else s=e.filter((t=>!!t.menuUrl&&t.menuUrl.split("?")[0].endsWith(a)));if(0<s.length){let t=null;const a=JSON.parse(sessionStorage.getItem("externalMenuParam"));if(a)for(const e of s){let i=!0;for(const t in a)if(-1===e.menuUrl.indexOf(`${t}=${a[t]}`)){i=!1;break}if(i){t=e;break}}null===t&&(t=s[0]);while(1){this.selectedMenuPathIdList.unshift(t.menuId),this.selectedMenuPathNameList.unshift(this.$t(t.menuName));const a=e.filter((e=>e.menuId===t.parentMenuId));if(0===a.length)break;t=a[0]}this.loadContent()}else this.$alert({type:"warn",message:this.$t("head.menu.not.exist.warn"),callback:()=>{(0,p.kS)()}})}}catch(t){this.$alert({type:"warn",message:`${this.$t("head.fail.notice")} ${t}`})}},methods:{...(0,c.OI)(["setMenuList"]),loadContent(){sessionStorage.setItem("selectedMenuPathIdList",JSON.stringify(this.selectedMenuPathIdList)),this.uuid=(0,p.Fs)(),this.menuId=(0,p.cG)(),p.jF.$emit("ModalDelete")},userInfo(){const t=this.$openModal({title:`${this.$t("common.user")} ${this.$t("head.info")}`,modalWidth:"800px",contentList:[{template:"<div>\n\t\t\t\t\t\t\t\t     <UserInfo/>\n\t\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t",components:{UserInfo:a(26655)["default"]}}],buttonList:[{template:'\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<button type="button" class="btn btn-primary" v-if="\'detail\' === modalMode" @click="chgModalMode(\'modify\')">\n\t\t\t\t\t\t\t\t\t<i class="icon-edit"></i>{{ $t(\'head.update\') }}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button type="button" class="btn" v-if="\'detail\' !== modalMode" @click="chgModalMode(\'detail\')">\n\t\t\t\t\t\t\t\t\t{{ $t(\'head.cancel\') }}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button type="button" class="btn btn-primary" v-if="\'detail\' !== modalMode" @click="updateUserInfo">\n\t\t\t\t\t\t\t\t\t{{ $t(\'head.save\') }}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t',data(){return{modalMode:"detail"}},methods:{chgModalMode(e){this.modalMode=e,t.$refs.content[0].$children[0].chgModalMode(e)},updateUserInfo(){t.$refs.content[0].$children[0].updateUserInfo()}}}]})}}},lt=rt,dt=(0,m.Z)(lt,nt,ot,!1,null,null,null),ct=dt.exports;i.ZP.use(s.ZP);const pt=new s.ZP({mode:"history",base:"/iManager/",routes:[{path:"/app/login",name:"login",component:f},{path:"/app/layout",name:"layout",component:st},{path:"/app/layoutExternal",name:"layoutExternal",component:ct},{path:"/",name:"app",component:r.Z}]});var ht=pt;pt.beforeEach(((t,e,a)=>{if("c"===t.query._client_mode){t.path.startsWith("/app/login")&&(0,p.kS)(!1),sessionStorage.setItem("externalMenuUrl",t.path),o.Z.setIsTools(n.Z,!0),window.isTools=!0;const e=0!==Object.keys(t.query).filter((t=>"_client_mode"!==t)).length?t.query:null;null!==e&&(delete e["_client_mode"],sessionStorage.setItem("externalMenuParam",JSON.stringify(e)),localStorage.setItem("searchObj",JSON.stringify(e)))}else sessionStorage.getItem("externalMenuUrl")&&!n.Z.isTools&&(o.Z.setIsTools(n.Z,!0),window.isTools=!0);t.path.startsWith("/app/login")&&t.query&&0<Object.keys(t.query).length&&o.Z.setLoginQueryParam(n.Z,JSON.stringify(t.query)),a()}))},89385:function(t,e,a){"use strict";a.d(e,{Z:function(){return d}});var i=a(3032),s=a(63822),n=a(56295),o=a(35201),r={},l={isUserAdmin:t=>t.userInfo.totalUserPrivileges.some((t=>"Administrator"===t.privilegeId))};i.ZP.use(s.ZP);var d=new s.ZP.Store({state:n.Z,mutations:o.Z,actions:r,getters:l})},35201:function(t,e){"use strict";e["Z"]={setUserInfo(t,e){t.userInfo=e},setIsOnPopState(t,e){t.isOnPopState=e},setHomeMenu(t,e){t.homeMenu=e},setMenuInfo(t,e){t.menuInfo=e},setMenuList(t,e){t.menuList=e},setIsTools(t,e){t.isTools=e},setRegExpList(t,e){t.regExpList=e},setModalCloseKeyCode(t,e){t.modalCloseKeyCode=e},setIsUseTheme(t,e){t.isUseTheme=e},setDetailConstants(t,e){t.detailConstants=e},setConstantsInfo(t,e){t.constantsInfo=e},setLoginQueryParam(t,e){t.loginQueryParam=e}}},56295:function(t,e,a){"use strict";var i=a(7837),s=a(37662);e["Z"]={listCounts:[10,100,1e3],homeMenu:null,menuList:[],menuInfo:[],dateLocaleData:{format:"yyyy-mm-dd HH:mm:ss",applyLabel:i.Z.t("label.confirm"),cancelLabel:i.Z.t("label.cancel"),daysOfWeek:[i.Z.t("label.Sun"),i.Z.t("label.Mon"),i.Z.t("label.Tue"),i.Z.t("label.Wed"),i.Z.t("label.Thu"),i.Z.t("label.Fri"),i.Z.t("label.Sat")],monthNames:[i.Z.t("label.January"),i.Z.t("label.February"),i.Z.t("label.March"),i.Z.t("label.April"),i.Z.t("label.May"),i.Z.t("label.June"),i.Z.t("label.July"),i.Z.t("label.August"),i.Z.t("label.September"),i.Z.t("label.October"),i.Z.t("label.November"),i.Z.t("label.December")]},userInfo:null,isOnPopState:!1,isTools:!1,regExpList:{},regExpTypeList:["text","dataList","textarea","password"],windowId:(0,s.pu)(),minPageSize:"10",modalCloseKeyCode:[],isUseTheme:!0,detailConstants:{},constantsInfo:{},developmentLicense:"8aXksogG5XPxhdMYI5st81MQUdaD9Xs/J7UMCMEd99s=",loginQueryParam:null}},37662:function(t,e,a){"use strict";a.d(e,{B$:function(){return Z},DS:function(){return K},DZ:function(){return et},EZ:function(){return U},Fh:function(){return _},Fs:function(){return R},GD:function(){return tt},Gk:function(){return I},Hw:function(){return J},Hz:function(){return k},Np:function(){return S},QK:function(){return x},RB:function(){return V},Rp:function(){return W},S9:function(){return T},Wb:function(){return G},Xv:function(){return O},_s:function(){return B},bB:function(){return C},bn:function(){return A},cG:function(){return q},d_:function(){return F},dc:function(){return $},fc:function(){return z},jF:function(){return w},kS:function(){return Q},lB:function(){return X},oo:function(){return H},p0:function(){return M},pu:function(){return j},tJ:function(){return E},u5:function(){return D},vC:function(){return P}});var i=a(47327),s=(a(57658),a(82801),a(23767),a(8585),a(68696),a(30541),a(3032)),n=a(56265),o=a.n(n),r=a(7837),l=a(48082),d=a.n(l),c=a(89385),p=a(56295),h=a(66281),u=a.n(h),m=a(31823),g=a.n(m),f=a(36797),y=a.n(f),v=a(19229),b=a.n(v);const $=new s.ZP,I=new s.ZP,C=new s.ZP,x=new s.ZP,w=new s.ZP,k=new s.ZP,A=new s.ZP,T=new s.ZP,L=o().create({withCredentials:!0});function D(t){let e=null;return e="/iManager/".substring(0,"/iManager/".length-1),e+t}class M{constructor(t){(0,i.Z)(this,"orgUrl",void 0),(0,i.Z)(this,"url",void 0),this.orgUrl=t,this.url=D(t)}async submit(t,e,a,i){let s={data:{}};const n=await W();if(n.result||this.orgUrl.startsWith("/api/page/")){a&&window.$startSpinner();try{const{data:a,config:i}=this.initParam(t,e);s=await L.post(this.url,a,i)}catch(o){s={data:{result:"error",error:[{message:o}]}}}finally{if(a&&window.$stopSpinner(),"error"===s.data.result){const n=await W();n.result?n.isRefresh?this.submit(t,e,a,i):i?i(s):window.$alert({type:"warn",message:s.data.error.map((t=>""+((t.className?`${t.className}<hr>`:"")+t.message))).join(",")}):window.$alert({type:"warn",backdropMode:"full",message:p.Z.isTools?r.Z.t("igate.itools.token.expired"):r.Z.t("head.validateToken"),callback:()=>{p.Z.isTools||(w.$emit("ModalDelete"),Q())}})}}}else window.$alert({type:"warn",backdropMode:"full",message:p.Z.isTools?r.Z.t("igate.itools.token.expired"):r.Z.t("head.validateToken"),callback:()=>{p.Z.isTools||(w.$emit("ModalDelete"),Q())}});return s}async read(t,e,a){return await this.submit("read",t,e,a)}async create(t,e,a){return await this.submit("create",t,e,a)}async update(t,e,a){return await this.submit("update",t,e,a)}async delete(t,e,a){return await this.submit("delete",t,e,a)}initParam(t,e){return{config:{headers:{Authorization:localStorage.getItem("accessToken"),"X-iManager-Method":(()=>{const e={create:"POST",read:"GET",update:"PUT",delete:"DELETE"};return e[t]})()}},data:e?_(u()(e)):{}}}}function _(t){const e={};for(let a in t)if(Object.prototype.hasOwnProperty.call(t,a)){const i=a.split(".");let s=e;for(let t=0;t<i.length-1;t++)s[i[t]]||(s[i[t]]={}),s=s[i[t]];const n=i[i.length-1];"object"!==typeof t[a]||null===t[a]||Array.isArray(t[a])?s[n]=t[a]:s[n]=_(t[a])}return e}function S(t,e=[],a="."){return Object.keys(t).reduce(((i,s)=>Object.assign({},i,"[object Object]"===Object.prototype.toString.call(t[s])?S(t[s],e.concat([s])):{[e.concat([s]).join(a)]:t[s]})),{})}function E(t){return Number(t.replace(/[^0-9]/g,""))}function R(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){let e=16*B()|0,a="x"==t?e:3&e|8;return a.toString(16)}))}function j(){return`GUID-${R()}`}function O(t){const e=document.createElement("span");return e.innerText=t,e.innerHTML}function N(t){const e=document.createElement("span");return e.innerHTML=t,e.innerText}function P(t){if(!t)return null;let e=function(){let t="ABCDEF0123456789",e="";for(let a=0;a<32;a++)e+=t.charAt(Math.floor(B()*t.length));return e}();const a=d().AES.encrypt(t,d().enc.Hex.parse(e),{iv:d().enc.Hex.parse(e)});return"{jst}"+btoa(e+a.toString())}function B(){let t=window.crypto||window.msCrypto,e=new Uint32Array(1);return t.getRandomValues(e),e[0]/Math.pow(2,32)}async function V(t,e){const{url:a,isValidate:i}=et(location.href);if(!i)return!1;e&&e();const s=[];if(-1<t.indexOf("home"))s.push(t);else if(-1<t.indexOf("bookmark"))s.push("bookMark"),s.push(t);else{s.push(t);while(1){const t=p.Z.menuList.filter((t=>s[0]===t.menuId));if(0===t.length)break;const e=t[0];if("undefined"===typeof e.parentMenuId)break;s.unshift(e.parentMenuId)}}localStorage.removeItem("selectedMenuPathIdListNewTab"),localStorage.setItem("selectedMenuPathIdListNewTab",JSON.stringify(s)),window.open(a)}function G(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function F(t={},e){t=u()(t);const a=g()({width:null,columns:[],header:{height:32,align:"center"},columnOptions:{resizable:!0},contextMenu:null,scrollX:!0,data:[],usageStatistics:!1},t),i=a.columns.filter((t=>!t.hidden));let s=null;0<i.length&&(i.length===i.filter((t=>t.width&&String(t.width).endsWith("%"))).length?s="percent":i.length===i.filter((t=>t.width&&b()(t.width))).length&&(s="pixel"),null===s&&(s="percent",i.forEach((t=>{t.width=100/i.length+"%"})))),i.forEach((t=>{if(t.formatter){const a=t.formatter;t.formatter=t=>(e&&(t.formatterData=e),a(t))}else t.escapeHTML=!0;"percent"===s&&(t.copyOptions||(t.copyOptions={}),t.copyOptions.widthRatio=t.width.replace("%",""),delete t.width)}));const n=t.onGridMounted;delete a.onGridMounted,delete t.onGridMounted,a.onGridMounted=t=>{if(!t.instance)return;if(!t.instance.el)return;for(const i in a)t.instance.el.removeAttribute(i);t.instance.on("mouseover",(t=>{if("cell"!==t.targetType)return;const e=t.instance.getElement(t.rowKey,t.columnName),a=N(t.instance.getFormattedValue(t.rowKey,t.columnName));e.setAttribute("title",a)}));const e=navigator.userAgent.toLowerCase();if("Netscape"==navigator.appName&&-1!=e.indexOf("trident")&&-1==e.indexOf("msie")||t.instance.on("dblclick",(e=>{if(!e.nativeEvent.target.classList.contains("tui-grid-column-resize-handle"))return;const a=document.createElement("span");a.style.fontSize="13px",a.style.padding="4px 5px",a.style.opacity="0",a.style.position="absolute",document.body.appendChild(a);let i=0;e.instance.el.querySelectorAll(".tui-grid-cell").forEach((t=>{t.classList.contains("tui-grid-cell-header")||t.dataset.columnName===e.nativeEvent.target.dataset.columnName&&(a.innerText=t.innerText,i=Math.max(i,a.offsetWidth))})),document.body.removeChild(a);const s=[];e.instance.getColumns().forEach((t=>{t.hidden||s.push(t.name===e.nativeEvent.target.dataset.columnName?i:t.baseWidth)})),t.instance.resetColumnWidths(s),t.instance.store.column.allColumns.forEach((t=>{t.fixedWidth=!0})),window.onresize()})),"percent"==s){let e=null,a=null;const i=t.instance.el.querySelector(".tui-grid-container"),s=i.querySelector(".tui-grid-lside-area"),n=()=>{if(document.body.contains(t.instance.el)){if(i.style.width&&(e!==i.style.width||a!==s.offsetWidth)){e=i.style.width,a=s.offsetWidth;const n=[];t.instance.getColumns().forEach((e=>{e.hidden||e.copyOptions&&e.copyOptions.widthRatio&&n.push((Number(i.style.width.replace("px",""))-17-t.instance.el.querySelector(".tui-grid-lside-area").offsetWidth)*(e.copyOptions.widthRatio/100))})),t.instance.resetColumnWidths(n),t.instance.store.column.allColumns.forEach((t=>{t.fixedWidth=!0}))}o=requestAnimationFrame(n)}else cancelAnimationFrame(o)};let o=requestAnimationFrame(n)}n&&n(t)};const o=t.onGridUpdated;return delete a.onGridUpdated,delete t.onGridUpdated,a.onGridUpdated=t=>{for(const e in a)t.instance.el.removeAttribute(e);t.instance.refreshLayout(),o&&o(t)},a}function q(){const t=JSON.parse(sessionStorage.getItem("selectedMenuPathIdList")),e=t[t.length-1].split("_")[0];return e}function z(t){const e=p.Z.userInfo.totalUserPrivileges.map((t=>t.privilegeId)),a=c.Z.getters.isUserAdmin,i=q(),s=p.Z.menuList.find((t=>t.menuId===i)).menuPrivilegeId;return{viewer:!(!a&&s)||(e.includes(`${t}Viewer`)||e.includes(t)),editor:!!a||(e.includes(`${t}Editor`)||e.includes(t))}}function U(t,e){const a=`${t}.csv`,i="\ufeff"+e;if(window.navigator&&window.navigator.msSaveOrOpenBlob){const t=new Blob([i],{type:"text/csv;charset=utf8"});window.navigator.msSaveOrOpenBlob(t,a)}else{const t=document.createElement("a"),e=new Blob([i],{type:"text/csv;charset=utf-8;"});t.href=URL.createObjectURL(e),t.download=a,document.body.appendChild(t),t.click(),document.body.removeChild(t)}}function K(t,e){const a=`${t}.json`,i=e;if(window.navigator&&window.navigator.msSaveOrOpenBlob){const t=new Blob([i],{type:"text/json;charset=utf8"});window.navigator.msSaveOrOpenBlob(t,a)}else{const t=document.createElement("a"),e=new Blob([i],{type:"text/json;charset=utf-8;"});t.href=URL.createObjectURL(e),t.download=a,document.body.appendChild(t),t.click(),document.body.removeChild(t)}}function H(t){return p.Z.regExpList[t]}async function W(){const t=localStorage.getItem("accessToken"),e=localStorage.getItem("refreshToken");if(!t)return!1;if(!e)return!1;const a=localStorage.getItem("tokenExpiration");if(a&&999<=a-Date.now())return{result:!0};const i={headers:{Authorization:t,"X-iManager-Method":"PUT","X-iManager-Refresh":e.replace("Bearer ","")}},s=await L.post(D("/api/auth/token"),{clientTimeMillis:Date.now()},i);return"ok"===s.data.result&&(localStorage.removeItem("accessToken"),localStorage.removeItem("tokenExpiration"),s.headers["x-imanager-access"]&&s.data.object)?(localStorage.setItem("accessToken",`Bearer ${s.headers["x-imanager-access"]}`),localStorage.setItem("tokenExpiration",s.data.object),{result:!0,isRefresh:!0}):{result:!1}}function Y(){Z(localStorage,(t=>"ckSaveUserId"===t||"saveUserId"===t||-1<t.indexOf("detailLayoutInfo_"))),Z(sessionStorage),document.body.classList.remove("moon"),a(84844).Z.replace({name:"login"}).catch((()=>{}))}function Q(t=!0){document.body.removeEventListener("keyup",window.modalCloseKeyupEvt),document.body.removeEventListener("keyup",window.checkMotionEventFunc),document.body.removeEventListener("mouseup",window.checkMotionEventFunc),document.body.removeEventListener("mousemove",window.checkMotionEventFunc),window!==window.parent&&(localStorage.getItem("accessToken")||localStorage.getItem("refreshToken"))&&window.parent.postMessage("SingleLogout","*"),Z(localStorage,(t=>"ckSaveUserId"===t||"saveUserId"===t||-1<t.indexOf("detailLayoutInfo_"))),Z(sessionStorage),t&&Y()}function Z(t,e){for(const a in t)e&&e(a)||t.removeItem(a)}function J(){const t=location.href.indexOf(location.host)+location.host.length;return location.href.substring(t,location.href.indexOf("/",t+1))}function X(t){const e=[];function a(t){t&&t.forEach((t=>{e.push(t);const i=Object.keys(t).filter((e=>Array.isArray(t[e])));i.length>0&&i.forEach((e=>{const i=u()(t[e]);delete t[e],a(i)}))}))}return a(u()(t)),e}function tt(t,e="YYYY-MM-DD HH:mm:ss"){return t?y()(new Date(t.split(".")[0].replace("-","/"))).format(e):t}function et(t){return{url:t,isValidate:t.endsWith("/app/layout")||t.endsWith("/app/layoutExternal")}}},13513:function(t,e,a){"use strict";a.d(e,{Ai:function(){return n},FR:function(){return o},OL:function(){return r},TG:function(){return d},TV:function(){return l},WX:function(){return s},hp:function(){return c},kI:function(){return p}});var i=a(37662);function s(t,e){let a={maxValue:null,stepSize:null};return a.maxValue=t<10?10:t,a.stepSize=a.maxValue/(e-1),a}function n(t,e,a){if(t=Number(t),"PERCENT"==e)return(0===t?t:t.toFixed(2))+" %";let i="BYTE"==e?1024:1e3,s=a||["","K","M","G","T","P"],n=0;while(1){if(t<i)break;t/=i,n+=1}return(0===t?t:t.toFixed(2))+(""==s[n]?"":" "+s[n])+(1024==i?"B":"")}function o(t,e){let a=0,i=t.length-1;while(a<=i){const s=Math.floor((a+i)/2);if(1e3*Math.floor(t[s].x/1e3)==e)return{dataInfo:t[s],idx:s};1e3*Math.floor(t[s].x/1e3)<e?a=s+1:i=s-1}return null}function r(t,e){const a=t.getBoundingClientRect();return{x:e.clientX-a.left,y:e.clientY-a.top}}function l(t){let e,a,s;for(s=t.length-1;s>0;s--)e=Math.floor((0,i._s)()*(s+1)),a=t[s],t[s]=t[e],t[e]=a;return t}const d="\n\tself.onmessage = e => {\n\t\tconst data = e.data;\n\n\t\tconst dataArr = data.dataArr;\n\t\tconst startFilterTime = data.startFilterTime;\n\t\tconst endFilterTime = data.endFilterTime;\n\t\tconst startFilterValue = data.startFilterValue;\n\t\tconst endFilterValue = data.endFilterValue;\n\t\tconst yAxisMaxValue = data.yAxisMaxValue;\n\n\t\tlet filterDataArr = dataArr.filter(data => {\n\t\t\tif (yAxisMaxValue < endFilterValue) return startFilterTime <= data.x && endFilterTime >= data.x && startFilterValue <= data.y;\n\t\t\telse return startFilterTime <= data.x && endFilterTime >= data.x && startFilterValue <= data.y && endFilterValue >= data.y;\n\t\t});\n\n\t\tif (0 < Object.keys(data.adapterFilterObj).length || 0 < Object.keys(data.instanceFilterObj).length || 0 < data.transactionFilter.length) {\n\t\t\tfilterDataArr = filterDataArr.filter(filterData => {\n\t\t\t\tconst isAdapterFilter = 0 < Object.keys(data.adapterFilterObj).length ? data.adapterFilterObj[filterData.adapterId] : true;\n\n\t\t\t\tconst isInstanceFilter = 0 < Object.keys(data.instanceFilterObj).length ? data.instanceFilterObj[filterData.instanceId] : true;\n\n\t\t\t\tconst isTransactionFilter = 0 < data.transactionFilter.length ? data.transactionFilter == filterData.transactionId : true;\n\n\t\t\t\treturn isAdapterFilter && isInstanceFilter && isTransactionFilter;\n\t\t\t});\n\t\t}\n\n\t\tif (data.isSort) filterDataArr.sort((a, b) => b.y - a.y);\n\n\t\tconst rtnObj = {\n\t\t\tmod: data.mod,\n\t\t\tdataArr: filterDataArr,\n\t\t};\n\n\t\tif ('export' === rtnObj.mod) rtnObj.csvFileName = data.csvFileName;\n\n\t\tpostMessage(rtnObj);\n\t};\n";class c{constructor(t,e,a){this.init(t,e,a)}init(t,e,a){this.alive=!0,this.radius=a||10,this.wander=.15,this.theta=random(TWO_PI),this.drag=.92,this.color="#fff",this.x=t||0,this.y=e||0,this.vx=0,this.vy=0}move(){this.x+=this.vx,this.y+=this.vy,this.vx*=this.drag,this.vy*=this.drag,this.theta+=random(-.5,.5)*this.wander,this.vx+=.1*sin(this.theta),this.vy+=.1*cos(this.theta),this.radius*=.96,this.alive=this.radius>.5}draw(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,TWO_PI),t.fillStyle=this.color,t.fill(),t.closePath()}}function p(t){const e={};for(let a in t)"object"==typeof t[a]&&null!=t[a]?e[a]=p(t[a]):e[a]=t[a];return e}},68701:function(t,e,a){"use strict";function i(t){let e=null;switch(t){case"B":case"S":case"I":case"L":case"F":case"D":case"N":case"P":e="java.lang.Number";break;case"T":e="java.lang.String";break;case"A":e="com.inzent.igate.itools.mapping.utils.RawValue";break;case"p":e="java.sql.Timestamp";break;case"b":e="java.lang.Boolean";break;case"R":e="com.inzent.igate.message.Record";break}return e}a.d(e,{W:function(){return i}})},91338:function(t,e,a){"use strict";a.d(e,{AU:function(){return o},Tk:function(){return s},_p:function(){return n},gu:function(){return r},y8:function(){return l}});a(57658);var i=a(37662);function s(t,e=!1){let a="";for(const i in t)if("ConstantExpression"===i)a+=t[i].value;else if("VariableExpression"===i)a+=t[i].name;else if("ContextExpression"===i)a+=e?`TransactionContext.getValue("${t[i].name}", (${t[i].returnType})null)`:t[i].name;else if("RecordExpression"===i)a+=`(${t[i].returnType}) `,a+=`${t[i].variableName}.getFieldValue(`,a+=`"${t[i].fieldPath}",`,a+=`"${t[i].recordId}"`,a+=")";else if("MethodExpression"===i){a+=`${t[i].variableName}`;const e=[];t[i].methods.forEach((t=>{t.name&&e.push(`${t.name}(${t.values.map((t=>s(t,!0))).join(", ")})`)})),0<e.length&&(a+=`.${e.join(".")}`)}else"FunctionExpression"===i?(a+=`${t[i].classShortName}.${t[i].methodName}(`,a+=t[i].arguments.map((t=>s(t.data,!0))).join(","),a+=")"):"JavaExpression"===i&&(a+=t[i].value);return a}function n(t){let e=null;return t.ConstantExpression?e="Constant":t.VariableExpression?e="Variable":t.ContextExpression?e="Context":t.RecordExpression?e="Record":t.MethodExpression?e="Method":t.FunctionExpression?e="Function":t.JavaExpression&&(e="JavaOperation"),e}function o(t){const e=(new DOMParser).parseFromString(t.replaceAll("&quot;","quot;"),"text/xml");e.querySelectorAll("FunctionExpression").forEach((t=>{t.children.forEach(((t,e)=>{t.setAttribute("argumentIdx",e)}))}));const a=xml2json(e,""),i=JSON.parse(a.replaceAll("quot;",'\\"')),s=[];for(const n in i.Operation.Activities){if("Service"!==n&&"Query"!==n)continue;const t=i.Operation.Activities[n]?Array.isArray(i.Operation.Activities[n])?i.Operation.Activities[n]:[i.Operation.Activities[n]]:[];t.forEach((t=>{const e=t.Parameter?Array.isArray(t.Parameter)?t.Parameter:[t.Parameter]:[];if(0===e.length)return;const a=e.find((t=>"com.inzent.igate.message.Record"===t["@type"]&&`${n} Output`===t["@desc"]));a&&s.push(a.Value["#cdata"])}))}if(i.Operation.Variables&&i.Operation.Variables.Variable){const t=Array.isArray(i.Operation.Variables.Variable)?i.Operation.Variables.Variable:[i.Operation.Variables.Variable];t.forEach((t=>{"true"!==t["@isParameter"]&&(t["@isAutoInsert"]=!!s.find((e=>e===t["@name"])))}))}return i}function r(t){let e=null;return t.ConstantExpression?e={ConstantExpression:{value:t.ConstantExpression["#cdata"]}}:t.VariableExpression?e={VariableExpression:{name:t.VariableExpression["@name"]}}:t.ContextExpression?e={ContextExpression:{name:t.ContextExpression["@name"],returnType:t.ContextExpression["@returnType"]}}:t.RecordExpression?(e={RecordExpression:{variableName:t.RecordExpression["@variableName"],fieldPath:t.RecordExpression["@fieldPath"],returnType:t.RecordExpression["@returnType"],recordId:t.RecordExpression["@recordId"]}},e.RecordExpression.fieldPath=e.RecordExpression.fieldPath.split("\\").join("\\\\")):t.MethodExpression?e={MethodExpression:{variableName:t.MethodExpression["@variableName"],methods:(()=>{const e=Array.isArray(t.MethodExpression.FunctionExpression)?t.MethodExpression.FunctionExpression:[t.MethodExpression.FunctionExpression];return e.map((t=>t?{name:t["@methodName"],parameters:t["@argumentTypes"]?t["@argumentTypes"].split(","):[],values:(()=>{const e=[];let a=[];for(const i in t)i.startsWith("@")||(Array.isArray(t[i])?t[i]:[t[i]]).forEach((t=>{t.type=i,a.push(t)}));return a=a.sort(((t,e)=>Number(t["@argumentIdx"])-Number(e["@argumentIdx"]))),a.forEach((t=>{const a=t.type;delete t.type,e.push(r({[a]:t}))})),e})(),return:t["@argumentType"],parentReturn:t["@className"]}:{name:null,parameters:[],values:[]}))})()}}:t.FunctionExpression?e={FunctionExpression:{className:t.FunctionExpression["@className"],classShortName:t.FunctionExpression["@classShortName"],methodName:t.FunctionExpression["@methodName"],argumentTypes:t.FunctionExpression["@argumentTypes"],arguments:(()=>{const e=[];let a=[];for(const i in t.FunctionExpression)i.startsWith("@")||(Array.isArray(t.FunctionExpression[i])?t.FunctionExpression[i]:[t.FunctionExpression[i]]).forEach((t=>{t.type=i,a.push(t)}));return a=a.sort(((t,e)=>Number(t["@argumentIdx"])-Number(e["@argumentIdx"]))),a.forEach((t=>{e.push({argumentType:t["@argumentType"],argumentValue:null,data:(()=>{const e=t.type;return delete t.type,r({[e]:t})})()})})),e})()}}:t.JavaExpression&&(e={JavaExpression:{value:t.JavaExpression["#cdata"]}}),e}async function l(t){let e=!1;const a=await new i.p0(`/api/mapping/isValidClassName?className=${t}`).read(null,!1,(()=>{}));return e="ok"===a.data.result,e}},82460:function(t,e,a){var i={"./traffic-dark.png":20164,"./traffic-light.png":50111};function s(t){var e=n(t);return a(e)}function n(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=n,t.exports=s,s.id=82460},18766:function(t,e,a){var i={"./activity.png":59749,"./activityCustom.png":48381,"./break.png":71415,"./case.png":81370,"./condition.png":32447,"./continue.png":63149,"./default.png":83999,"./end.png":74561,"./faultHandler.png":73540,"./for.png":47011,"./fork.png":64952,"./mapping.png":90319,"./operation.png":76842,"./query.png":78632,"./rethrow.png":63670,"./scope.png":16059,"./script.png":86777,"./service.png":79225,"./start.png":80366,"./switch.png":67480,"./throw.png":30365,"./while.png":83791};function s(t){var e=n(t);return a(e)}function n(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=n,t.exports=s,s.id=18766},25459:function(t,e,a){var i={"./404-error.svg":98459,"./500-error.svg":95203,"./alert.svg":53529,"./call.svg":9142,"./complete.svg":39744,"./danger.svg":91222,"./dashboard/traffic-dark.png":20164,"./dashboard/traffic-dark.svg":57534,"./dashboard/traffic-light.png":50111,"./dashboard/traffic-light.svg":21198,"./empty.svg":87932,"./fail.svg":19439,"./login_pass.png":28014,"./login_user.png":39473,"./logo.svg":45522,"./logo_wh.svg":57209,"./magnifier.svg":34573,"./operation/activity.png":59749,"./operation/activityCustom.png":48381,"./operation/break.png":71415,"./operation/case.png":81370,"./operation/condition.png":32447,"./operation/continue.png":63149,"./operation/default.png":83999,"./operation/end.png":74561,"./operation/faultHandler.png":73540,"./operation/for.png":47011,"./operation/fork.png":64952,"./operation/mapping.png":90319,"./operation/operation.png":76842,"./operation/query.png":78632,"./operation/rethrow.png":63670,"./operation/scope.png":16059,"./operation/script.png":86777,"./operation/service.png":79225,"./operation/start.png":80366,"./operation/switch.png":67480,"./operation/throw.png":30365,"./operation/while.png":83791,"./product-name.svg":26e3,"./select.svg":83311,"./success.svg":74495,"./warn.svg":68167};function s(t){var e=n(t);return a(e)}function n(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=n,t.exports=s,s.id=25459},30822:function(t,e,a){var i={"./en.json":44814,"./ko.json":93388};function s(t){var e=n(t);return a(e)}function n(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=n,t.exports=s,s.id=30822},77815:function(t,e,a){var i={"./Dashboard.vue":8295,"./DashboardAdd.vue":85636,"./DashboardColumnChart.vue":45370,"./DashboardConfigStructure.vue":80140,"./DashboardConnectorChart.vue":9548,"./DashboardDataTableChart.vue":98677,"./DashboardExceptionLogChart.vue":61678,"./DashboardExternalLineChart.vue":63931,"./DashboardInstanceChart.vue":81149,"./DashboardLineChart.vue":79289,"./DashboardModify.vue":61041,"./DashboardQueueChart.vue":97976,"./DashboardSpeedBarChart.vue":15012,"./DashboardStructure.vue":2089,"./DashboardThreadChart.vue":16508,"./DashboardView.vue":68419,"./DashboardViewBody.vue":71645,"./DashboardXviewChart.vue":44058};function s(t){var e=n(t);return a(e)}function n(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=n,t.exports=s,s.id=77815},81487:function(t,e,a){var i={"./reference/constant.vue":3494,"./reference/function.vue":13729,"./reference/javaStyle.vue":26459,"./reference/mappingRuleDetail.vue":43759,"./reference/record.vue":62450,"./reference/reference.vue":38401,"./reference/transactionContext.vue":96367,"./reference/variable.vue":29700};function s(t){var e=n(t);return a(e)}function n(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=n,t.exports=s,s.id=81487},79486:function(t,e,a){var i={"./reference/constant.vue":76569,"./reference/functions.vue":50102,"./reference/javaStyle.vue":68647,"./reference/mappingRuleDetail.vue":75528,"./reference/methods.vue":52490,"./reference/record.vue":72736,"./reference/reference.vue":21288,"./reference/transactionContext.vue":55164,"./reference/variable.vue":67359};function s(t){var e=n(t);return a(e)}function n(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=n,t.exports=s,s.id=79486},14605:function(t,e,a){var i={"./detail/activity/Detail.vue":33310,"./detail/adapter/BasicInfo.vue":5643,"./detail/adapter/ConnectorInfo.vue":82139,"./detail/adapter/DeploiesInfo.vue":34317,"./detail/adapter/Detail.vue":25990,"./detail/adapter/OperationInfo.vue":50763,"./detail/adapter/PropertyInfo.vue":44461,"./detail/adapterWizard/AdapterInfo.vue":63587,"./detail/adapterWizard/ConnectorInfo.vue":23034,"./detail/adapterWizard/DeploiesInfo.vue":52945,"./detail/adapterWizard/Detail.vue":75521,"./detail/adapterWizard/PropertyInfo.vue":61272,"./detail/apim/api/ApiResponse.vue":50024,"./detail/apim/api/ApiSecurity.vue":14518,"./detail/apim/api/BasicInfo.vue":97855,"./detail/apim/app/ApplicationCatalogsSecurities.vue":72407,"./detail/apim/app/ApplicationIp.vue":18901,"./detail/apim/app/BasicInfo.vue":88421,"./detail/apim/appRequest/ApplicationRequestCatalog.vue":57931,"./detail/apim/appRequest/ApplicationRequestIp.vue":20859,"./detail/apim/appRequest/ApplicationRequestSecurity.vue":75835,"./detail/apim/appRequest/BasicInfo.vue":44638,"./detail/apim/appRequest/Detail.vue":38440,"./detail/apim/catalog/BasicInfo.vue":79876,"./detail/apim/catalog/CatalogResponse.vue":58455,"./detail/apim/catalog/CatalogSecurity.vue":94537,"./detail/apim/catalog/Detail.vue":77689,"./detail/apim/catalog/Editor.vue":37058,"./detail/batchLog/Detail.vue":63859,"./detail/calendar/CalendarHoliday.vue":78285,"./detail/calendar/Detail.vue":54801,"./detail/connector/BasicInfo.vue":2430,"./detail/connector/DeploiesInfo.vue":95130,"./detail/connector/Detail.vue":2141,"./detail/connector/PropertyInfo.vue":58200,"./detail/fileRepository/DetailBasic.vue":13,"./detail/instance/Property.vue":235,"./detail/interface/BasicInfo.vue":69033,"./detail/interface/Detail.vue":28407,"./detail/interface/ExtendInfo.vue":64209,"./detail/interface/InterfaceService.vue":85432,"./detail/interface/ModelRecordInfo.vue":14744,"./detail/interface/tableModal.vue":35516,"./detail/job/BasicInfo.vue":59577,"./detail/job/InstanceId.vue":25327,"./detail/mapping/Detail.vue":40056,"./detail/mapping/MappingInfo.vue":7398,"./detail/mappingDictionary/DictionaryDetailInfo.vue":52926,"./detail/metaHistory/Modified.vue":95748,"./detail/migration/common/Detail.vue":1691,"./detail/migration/common/DetailImport.vue":60197,"./detail/migration/common/DetailMake.vue":18083,"./detail/migration/interface/Detail.vue":40563,"./detail/migration/interface/DetailImport.vue":69840,"./detail/migration/interface/DetailMake.vue":65003,"./detail/migration/mapping/Detail.vue":98936,"./detail/migration/mapping/DetailImport.vue":9104,"./detail/migration/mapping/DetailMake.vue":16907,"./detail/migration/operation/Detail.vue":2307,"./detail/migration/operation/DetailImport.vue":85353,"./detail/migration/operation/DetailMake.vue":58453,"./detail/migration/query/Detail.vue":11911,"./detail/migration/query/DetailImport.vue":2120,"./detail/migration/query/DetailMake.vue":90144,"./detail/migration/record/Detail.vue":16311,"./detail/migration/record/DetailImport.vue":22278,"./detail/migration/record/DetailMake.vue":79618,"./detail/migration/service/Detail.vue":48997,"./detail/migration/service/DetailImport.vue":18001,"./detail/migration/service/DetailMake.vue":3758,"./detail/modelRecord/BasicInfo.vue":22605,"./detail/modelRecord/Detail.vue":33841,"./detail/modelRecord/DetailInfo.vue":40073,"./detail/modelRecord/ExtendInfo.vue":4891,"./detail/operation/DetailWorkFlow.vue":23309,"./detail/operation/DetailXML.vue":46972,"./detail/property/BasicInfo.vue":33974,"./detail/query/AnalyzeModal.vue":92897,"./detail/query/Detail.vue":51635,"./detail/query/ExecuteModal.vue":44416,"./detail/query/RuntimeInfo.vue":56904,"./detail/sapInterface/BasicInfo.vue":94474,"./detail/sapInterface/Detail.vue":56697,"./detail/sapInterface/DetailGrid.vue":87981,"./detail/sapService/BasicInfo.vue":35148,"./detail/sapService/Detail.vue":8606,"./detail/sapService/DetailGrid.vue":41619,"./detail/service/BasicInfo.vue":43541,"./detail/service/Detail.vue":37891,"./detail/service/ExtendInfo.vue":41424,"./detail/serviceRecognize/BasicInfo.vue":15436,"./detail/user/Detail.vue":72637,"./detail/user/UserDetailPrivileges.vue":36291,"./detail/webService/BasicInfo.vue":25064,"./detail/webService/Detail.vue":62200,"./detail/webService/DetailGrid.vue":47619};function s(t){var e=n(t);return a(e)}function n(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=n,t.exports=s,s.id=14605},92354:function(t,e,a){var i={"./main/activity/Activity.vue":5605,"./main/adapter/Adapter.vue":16446,"./main/adapterWizard/AdapterWizard.vue":92254,"./main/apim/api.vue":44582,"./main/apim/application.vue":19682,"./main/apim/applicationRequest.vue":2457,"./main/apim/catalog.vue":40215,"./main/batchLog/BatchLog.vue":66604,"./main/batchLog/Main.vue":67970,"./main/calendar/Calendar.vue":2472,"./main/connector/Connector.vue":5089,"./main/connector/ConnectorControl.vue":3e4,"./main/dashboard/Dashboard.vue":8295,"./main/dashboard/DashboardAdd.vue":85636,"./main/dashboard/DashboardColumnChart.vue":45370,"./main/dashboard/DashboardConfigStructure.vue":80140,"./main/dashboard/DashboardConnectorChart.vue":9548,"./main/dashboard/DashboardDataTableChart.vue":98677,"./main/dashboard/DashboardExceptionLogChart.vue":61678,"./main/dashboard/DashboardExternalLineChart.vue":63931,"./main/dashboard/DashboardInstanceChart.vue":81149,"./main/dashboard/DashboardLineChart.vue":79289,"./main/dashboard/DashboardModify.vue":61041,"./main/dashboard/DashboardQueueChart.vue":97976,"./main/dashboard/DashboardSpeedBarChart.vue":15012,"./main/dashboard/DashboardStructure.vue":2089,"./main/dashboard/DashboardThreadChart.vue":16508,"./main/dashboard/DashboardView.vue":68419,"./main/dashboard/DashboardViewBody.vue":71645,"./main/dashboard/DashboardXviewChart.vue":44058,"./main/exceptionLog/ExceptionLog.vue":18418,"./main/interface/Interface.vue":75204,"./main/interfacePolicy/InterfacePolicy.vue":58730,"./main/interfaceRestriction/InterfaceRestriction.vue":38612,"./main/mapping/Mapping.vue":28392,"./main/migration/Interface.vue":15310,"./main/migration/Mapping.vue":52724,"./main/migration/Operation.vue":99517,"./main/migration/Query.vue":77884,"./main/migration/Record.vue":21078,"./main/migration/Service.vue":11029,"./main/modelRecord/ModelRecord.vue":44472,"./main/operation/Operation.vue":83186,"./main/operation/OperationService.vue":58486,"./main/property/Property.vue":74172,"./main/query/Query.vue":90998,"./main/sapInterface/Main.vue":16448,"./main/sapInterface/SapInterface.vue":71977,"./main/sapService/Main.vue":29794,"./main/sapService/SapService.vue":95914,"./main/service/Service.vue":86235,"./main/servicePolicy/ServicePolicy.vue":84378,"./main/serviceRestriction/ServiceRestriction.vue":80569,"./main/user/User.vue":74918,"./main/webService/Main.vue":50500,"./main/webService/Search.vue":71770,"./main/webService/WebService.vue":29};function s(t){var e=n(t);return a(e)}function n(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=n,t.exports=s,s.id=92354},49991:function(t,e,a){var i={"./modal/fieldMeta/addFieldMeta.vue":71306,"./modal/job/CronExpressionModal.vue":5351,"./modal/mapping/reference/constant.vue":3494,"./modal/mapping/reference/function.vue":13729,"./modal/mapping/reference/javaStyle.vue":26459,"./modal/mapping/reference/mappingRuleDetail.vue":43759,"./modal/mapping/reference/record.vue":62450,"./modal/mapping/reference/reference.vue":38401,"./modal/mapping/reference/transactionContext.vue":96367,"./modal/mapping/reference/variable.vue":29700,"./modal/metaHistory/Modified.vue":27489,"./modal/modelRecord/BasicInfo.vue":25878,"./modal/modelRecord/DetailInfo.vue":95811,"./modal/modelRecord/RecordModal.vue":91306,"./modal/operation/DetailConditionModal.vue":16484,"./modal/operation/DetailFaultHandlerModal.vue":68425,"./modal/operation/DetailInfo.vue":61543,"./modal/operation/DetailMappingModal.vue":9844,"./modal/operation/DetailNodeBasicInfo.vue":79230,"./modal/operation/DetailOperationBasicInfo.vue":71316,"./modal/operation/DetailOperationParameter.vue":1241,"./modal/operation/DetailOperationPublishGrid.vue":8035,"./modal/operation/DetailOperationResourceInfo.vue":98844,"./modal/operation/DetailOperationVariable.vue":86109,"./modal/operation/DetailOperationXML.vue":55799,"./modal/operation/DetailParameterModal.vue":23628,"./modal/operation/DetailScriptModal.vue":81013,"./modal/operation/DetailThrowModal.vue":85771,"./modal/operation/OperationModal.vue":84953,"./modal/operation/reference/constant.vue":76569,"./modal/operation/reference/functions.vue":50102,"./modal/operation/reference/javaStyle.vue":68647,"./modal/operation/reference/mappingRuleDetail.vue":75528,"./modal/operation/reference/methods.vue":52490,"./modal/operation/reference/record.vue":72736,"./modal/operation/reference/reference.vue":21288,"./modal/operation/reference/transactionContext.vue":55164,"./modal/operation/reference/variable.vue":67359,"./modal/service/ServiceModal.vue":19780,"./modal/user/UserInfo.vue":26655};function s(t){var e=n(t);return a(e)}function n(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=n,t.exports=s,s.id=49991},98459:function(t,e,a){"use strict";t.exports=a.p+"img/404-error.4ebaced9.svg"},95203:function(t,e,a){"use strict";t.exports=a.p+"img/500-error.9c752314.svg"},53529:function(t,e,a){"use strict";t.exports=a.p+"img/alert.03efc761.svg"},9142:function(t,e,a){"use strict";t.exports=a.p+"img/call.4ca2885d.svg"},39744:function(t,e,a){"use strict";t.exports=a.p+"img/complete.1e3cb399.svg"},91222:function(t,e,a){"use strict";t.exports=a.p+"img/danger.c8c510b5.svg"},57534:function(t,e,a){"use strict";t.exports=a.p+"img/traffic-dark.5ae1d011.svg"},21198:function(t,e,a){"use strict";t.exports=a.p+"img/traffic-light.b48c4b8c.svg"},87932:function(t,e,a){"use strict";t.exports=a.p+"img/empty.bda59f78.svg"},19439:function(t,e,a){"use strict";t.exports=a.p+"img/fail.4a297f2f.svg"},45522:function(t,e,a){"use strict";t.exports=a.p+"img/logo.4c3abbb9.svg"},57209:function(t,e,a){"use strict";t.exports=a.p+"img/logo_wh.13422708.svg"},34573:function(t,e,a){"use strict";t.exports=a.p+"img/magnifier.7941e14d.svg"},26e3:function(t,e,a){"use strict";t.exports=a.p+"img/product-name.9693f2e8.svg"},83311:function(t,e,a){"use strict";t.exports=a.p+"img/select.78f02933.svg"},74495:function(t,e,a){"use strict";t.exports=a.p+"img/success.904579e5.svg"},68167:function(t,e,a){"use strict";t.exports=a.p+"img/warn.cd289e22.svg"},20164:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqIAAABmCAYAAAAQ5/N4AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAACoqADAAQAAAABAAAAZgAAAAAQUf+2AAAdB0lEQVR4Ae3dCXQV1f0H8N+defNeFgiQGCArsrqwVDjRkKCoJGFRQVCjSMF67L+2+q+t1f5b2x4Vav/V+v9XPO1pXVp7qlBAI0JFZUtQQRLQ/MEFhLLWbKwJEMjy3puZ+//dh08TSkqW95K3fOecOG/ezNy59zOvh1/nzv1dQVi6RaBwp3TWn6m+zLTlKJJyCF80jUimk6Q0KaivIIqTkmKJBP9JR7dUCheBAAQgAAEIRJWAMPnf2CYhqEkSNQpJJ0lQNf/bW8UM1STEAYcmdiT0SttVNFJ4ooqmhxrL8Q+WYAjkba0aIW05UUh5Df/os6QUIxBgBkMaZUIAAhCAAAQCLSBMIeQeDlDLpRCbhCY2lmSn8zaWQAsgEA2Q6L3l0tjvqcqTQt7OwecN/HRzQMuipWWTrDtO9uHDZB87SvLkSbLr60me5r8zDUSml8jLf7xWx2KBAAQgAAEIQCCwAkLXiBwGkcF/vBa94kn0TiAtIYFE376kJfcnbeBAEokXke/YFpfnp6hHOCh9R0jx2lBnesmLWYL/0cbSVQEEol0QVMHnPm9VPj/pLCRbzuSi+vmLs0+dIvuf/yTri4Nk8VoFoGRxjwAWCEAAAhCAAARCW0B3+AJS/eKLSR80mDRea336tKzzCdLESn5iWjTMSC9GUNqSpmOfEYh2zItf75Qif2tFPq/u/Jfg88gRMnd8SuZnn5J96FAHS8bhEIAABCAAAQiEqoCWkkKO0WPIMWoMaQNadXr6glLuyl9anJ1ZLPhDqLYhFOuFQLSdd2XaXunyHKuay4Hoj/gJ6Ej/aXZNNXl3fEbWpxx8cpc7FghAAAIQgAAEIltAdeHrY8aQMWo0aak89virRezkQHShMzl98erhwv3V1/jQpgAC0TZpzu6YXl5zUaPHup/I/k9+77O/+lbyu53eslLyfrKNZG3dBUrAbghAAAIQgAAEIlVAJCWS8Y1xZOTkkuB3TdXC75PykyntD3FO/Y+rslKPR2rbA9EuBKJtKE79qPoSr9f6ET9fv4v74zmlEr/ieaiGvJs2kvnxx3jfsw03fA0BCEAAAhCISgF+r9RxxRVkXDOR9JTUswRCNHGg9Yph6AvXXJn2j6h0uUCjEYieAzT5w+oMy7Se4K/ncTc8D6/jgey7d5G5kQPQ/XvPORqbEIAABCAAAQhAoLWAY+hwckycSI5LL/Pt4O56lQ5nke7QH113VVpl66OjewuB6Jf3P7+8ro/taXiEpP0gfxVDlkXmRx+S54NNePczuv83gtZDAAIQgAAEOiWg3iVVT0iNrCuJdF2V0UxCe1Zzxj9VnJV4qlOFRthJUR+I+vJ/uqvukyQf5bc/L1L319y+jTxr15B9Au9/RtjvHc2BAAQgAAEIdLuA1i+RnFOmkmPsuC+vLY4LEk8MdaU/F+2pn6I6EJ1U+kUhSfEkB6BD1S/D2ruX3O+8RWokPBYIQAACEIAABCAQSAE1wt51w02kDx/+ZbFiPwn5sw25g4oCeZ1wKisqA9HJWw8PNk3P8xyATlY3SwWeKgBVgSgWCEAAAhCAAAQgEEwBFYiqgPTr1E9incPh/N667IEHg3ndUCw7qgLRQin1E2WVaiT8Ah6IFCebGjkAfZvMD7eG4r1BnSAAAQhAAAIQiGABx1XZHJDeSCI2jlM+iUYOyh7vl5OxsEgIK4Kb3appUROITiqrGSek98+cC3SsElDvgbpXvUmy4UwrEGxAAAIQgAAEIACB7hIQ8b3INX3GV++Pcg7S7VIY/7EhJ3Vbd9WhJ68T8YEoJ6SPa/SavySbHuQBSbpdW0vuFa+jG74nf3W4NgQgAAEIQAACrQR83fWzbiMtKYl4IJNFGj0bZzge44T4ja0OjLCNiA5EC8qqJ9i2+Qp3xQ9R6Zg8720g77sbSHq9EXYb0RwIQAACEIAABMJdQBgGGddPIud1k3zpnjhIO6BpjrvW56RtDve2tVX/iAxE50vp2Lil8nFOH/sz31PQQ4eoedkSsg8fassB30MAAhCAAAQgAIGQENAGplDM7DmkpaT4no7y9DpPThyfsWC+EGZIVDCAlYi4QDRva9UIsuzFPBjpSp6akzwb3/flBCUr4u5dAH8GKAoCEIAABCAAgZAS4ClDVe5R58RrfZPX82Cmj0jX5pZkp+8JqXp2sTIRFYjmlX7xXb5bz6gR8SoZvfvVZWQdPNBFIpwOAQhAAAIQgAAEekZAHzyEXHfMJpUUX42s59STD5XkDnqhZ2oT+KtGRCA6bduhZE+z5y/8APQmRWSWl5P7zRUk3e7Ai6FECEAAAhCAAAQg0I0CwuUi14xZ5MjK8l2VR9a/5Yxx3rN6XMqxbqxGUC4V9oHo5M0VEznZ1lJ+FzSVGhup6fUisnZ+FhQsFAoBCEAAAhCAAAR6SkAfOZpibyskiuO8oyRqePb6O9dNyNzYU/UJxHXDNhDl7neRX1bxCE/R+YQakGQdPEjupYvJPnUqEC4oAwIQgAAEIAABCIScgNanD7nunEv64MFn0zwJ+WhxTuZT3G3PSYLCbwnLQJRzg17U6DEXcTA61TcgaUMxeYrX81yddvjdAdQYAhCAAAQgAAEIdERA08iZX0DOSfn+gUxr4pyOeZxz9HhHigmFY8MuEM3f8sXV0hbLOAhNk2dOk3vJEjL3Y474UPgxoQ4QgAAEIAABCHSfgGMoz1k/Zw6JXr3VQKZqocnZxeMHfdB9Nej6lcIqEM0rq/yJtOV/84gxh3XgADVzV7ysr++6AkqAAAQgAAEIQAACYSggEhIoRnXVDxnCtRem0MQvSnIyng6XpoRFIDptS22Cx274Kz8FnaVgPTw7kmfdGnTFh8uvDPWEAAQgAAEIQCB4AqqrfjLnHOVZmdTCT0dXOLX4u1ePTwr5p3UhH4jyqPhRPCp+OQ9IGiGbGsm9bBmZuz8P3s1EyRCAAAQgAAEIQCAMBRyXXk6u2bNJxPpG1e/hUfW38qj6HaHclJAORAtKK+7k4Ud/4ieh8XZNNTUveoXsutpQ9kTdIAABCEAAAhCAQI8JaIlJFDPvLtJS09ST0QaN6DvrczOX9liFLnDhkAxE7y2Xxj53xW+57g+o+vsS1K9cTtLrvUBzsBsCEIAABCAAAQhEt4AwDHLNvPWrBPis8fthrsyHX8wSIRdIhVwgWrCtItVqlkUkKZdMk2dIWknerVui+xeF1kMAAhCAAAQgAIEOChjZ43lGpplEDge/OEqleowoXD8us6aDxQT18JAKRAtKK6+1yX6Vp+ocIE+epKZFL5NdVRlUABQOAQhAAAIQgAAEIlVAy8ik2Ll3kejbl7vq6YhG2h3rczPeD5X2hkwgmldW8ZC06Te+1Ez79lLzEk7N1NAQKk6oBwQgAAEIQAACEAhLAREfTzFzOMXTsOFcf5XiiX5akpP5TCg0pscD0cKdR3vVnmr6C3fF8+SpnJrpvXfJs3Y1UjOFwq8DdYAABCAAAQhAIDIEVIqnKdPIed31Z9sjqCipT+w9RSP7n+nJBvZoIDq5tOZSi7xvcFf8ZdLdTO5XOTXTzpDOMtCT9wrXhgAEIAABCEAAAl0ScIwcRa47OMWTK0Z11e/SybhlXW7q7i4V2oWTeywQzS+tnGNL+QJ3xfeyjxz2vQ8qjx3rQlNwKgQgAAEIQAACEIDAhQREcjLFzrubtAED+FBxRhPiu8W5GUsudF4w9nd7IHr3QRlTeajyWc4N+l3VIPPj7dS8vIj75D3BaB/KhAAEIAABCEAAAhA4V8DppJhbC8lxxVjfHs45+oIzOeOHq4cL97mHBnO7WwPRKaWVw0yyX+Ou+LG+1ExvvUnestJgtg9lQwACEIAABCAAAQi0IWDk5JLrphm+FE/cVb/dQdrta3Mz9rVxeMC/7rZANG9z1W0krJc4CE2wT9RR82KeJamqKuANQoEQgAAEIAABCEAAAu0X0NLTKYZTPGn9EtV7o/Uk9W+XTEh/vf0ldP7IoAei08tr4po85m/5fdDvqWpaPBipuehVkk1Nna81zoQABCAAAQhAAAIQCJiAiI2lmMI7SOfBTGrh90afj3U6Hl6VldoYsIucp6CgBqJ5myuu5GsuliRH+Lri336LvKUfnKca+AoCEIAABCAAAQhAoKcFjNyryXXjTWe76kns4frMLZmQ+VGw6hWUQLRQSr2urPLn3A3/mEpQbx87ygnq/0Z2TXWw2oFyIQABCEAAAhCAAAQCIKClpnEC/G+SltyfS+ME+IJ+mZiT8esiIawAFN+qiIAHotPKK4Z63HKRJMpRV1LzxLtX/Z0/eFtdGBsQgAAEIAABCEAAAiEqYBjkmn4zqfnq1cIBY5nTJeatzsrcH8gaBywQvbdcGgc8VQ9yN/zjnJopXtbXk3v562Tu/jyQ9UVZEIAABCAAAQhAAALdJOC49HJy3crjzRMSeCCTaBAkFlydk75wvhBmIKoQkEA0b2vFNdKk57gbfqSqlJdzg3pWruABSUF9vzUQ7UcZEIAABCAAAQhAAAL/RkDExpFz5iwyvsw5ys9HdwoH3VeSnbnp35zWrl1dCkSnbTuU7GnyPi0FfYukFPLkSXKvWM5PQXe16+I4CAIQgAAEIAABCEAgPAR8T0dn3UKib1+ORQUHfvSyM9b4yepxKZ2eGrNTgWjhzqO96urd90vbfoTp+knLJrNsM3nWrSHp7taE/OFx51BLCEAAAhCAAAQgEAECwuUi5+Sp5MiZQELXVHd9Hf/nN4kJrj8Wjex/pqNN7FAgml9e14fcZx7gJ6A/4vdAE9XFzD17yMMzJKn54rFAAAIQgAAEIAABCES+gDZgIDl5RibHiBG+xqqAlJ+QLiRXr98XZyWeaq9AuwLRyZsP9zc1zwNCygc4JVMfVbhdU0OetWswGKm90jgOAhCAAAQgAAEIRJiA6q53TplKWmqqr2Wc6umUFOL3Lpfxu/Z02bcZiM7Yfax3Q617iiR7Hpd8g8oHqq5gHaohb/F6Mnd85rsg/gMBCEAAAhCAAAQgEN0CjlGjycgvID3lbECq8o+yyDuCtEXxSa61b16afPp8QmLaXuny1B7tq1vuZFuTl9skRpOkiRx45vDa8J1kSzJ3fU7ezZvI2r/vfOXgOwhAAAIQgAAEIACBKBfQhw4jY8I15LjscjVP6FkNQZxMXpRxMtKNGsnPNFt8bumuY86k/ie1KPdC8yEAAQhAAAIQgAAEAi3QZp976wu1eVirrnkhp/mfjqJrvjUgtiAAAQhAAAIQgEC0CzhGjyEjL//rrnn1FFSK1Rfsmm8PnMoX6m3y/pATRn0fg5XaI4ZjIAABCEAAAhCAQOQLBG2w0vnoWqRvepDTNyWpY5C+6XxS+A4CEIAABCAAAQhErsB50jfVcvqmZ4OSvulcxsmfHI63Gzz32VL+nPchof25QNiGAAQgAAEIQAACESjQowntz/X0TfHZ7P0fSXTX11N8voHcoudCYRsCEIAABCAAAQiEucD5pviMczn+a1VW6vHONq3NwUodKTB/yxdX27Z4joPRUeo878fbybNyBcmmxo4Ug2MhAAEIQAACEIAABEJMQMTGkXPmLDKuGHu2ZkLsEDrdX5KduamrVQ1IIKoqMV9Kx6bSyh9yjqgF/P5ovKyvJ/fy1/F0tKt3COdDAAIQgAAEIACBHhLwPQW9rZBE795qXvkGQWLB1TnpC+cLX8L6LtcqYIGovybTyiuGetxyEXfX56jvvFu3kHvV3/kD5zLFAgEIQAACEIAABCAQ+gKGQa7pN5ORPf5sXQWVagbNK75y0IFAVj7ggaiqXKGUel1Z5c851dNjampQ+9hRal7yN56fvjqQdUdZEIAABCAAAQhAAAIBFtBS0yhmzjdJS+7PJQuTZz9a0C8348kiIawAX4o70oO4FGytyLJMuZgvcQlZFrnfXsXThH4QxCuiaAhAAAIQgAAEIACBzgoYE64m143TiXRdFfEP3SHmrs/OLO9seRc6L6iBqLp4YWllbJ2Q/ytteb/atnbuoOaiV3kgU5PaxAIBCEAAAhCAAAQg0MMCIjaWYgrvIH2kb9w510Y8F+9y/JhHxAd15HnQA1G/a97mqttIWC9xd32CfaKOmhe/QnZVlX831hCAAAQgAAEIQAACPSCgpadTzNy7SOuXyAOSqF5o2j3F4zOWd0dVui0QVY2ZUlo5zCT7NQ5Gx/q66nkQk7estDvaiWtAAAIQgAAEIAABCJwjYOTk+gYlqa54DkK3O52icHVW5v5zDgvaZrcGoqoV0/ZKl/dY5bM8K9P31LbJOUeblxcReTxqEwsEIAABCEAAAhCAQLAFnE6KubWQHF/mBtWEeN5Iznhw9XDhDvalW5bf7YGo/+J5mytmS5Iv8nZv+8gRalr0V5LHjvl3Yw0BCEAAAhCAAAQgEAQBkZxMsfPuJm3AAC5dnNEF3bs+N3NpEC51wSJ7LBBVNZtcWnOpRd43uKv+MuluJvery8jkwUxYIAABCEAAAhCAAAQCL+DgwUiuO2aTcMWorvhdOhm3rMtN3R34K7WvxB4NRFUVC3ce7VV7qukvJKlQbXvee5c8a1cT2bbaxAIBCEAAAhCAAAQg0FUBTSPnlGnkvO76syUJ8VpSn5hvF43sf6arRXfl/B4PRP2VzyureEja9BuVAN/at5cT4C8m2dDg3401BCAAAQhAAAIQgEAnBESvXhRz5zdJHzaczxam0OinJTmZz3SiqICfEjKBqGrZ5M0VEy0h1aj6AfLkSWpSKZ4qKwLeaBQIAQhAAAIQgAAEokFAy8ikWE7NJPr2VV3xR3Qpbl83IXNjqLQ9pAJRhVKwrSLVapavcVf9BF+Kp7+v8M1XHypgqAcEIAABCEAAAhAIBwE1T7zr5llnZ0kStFmPEbevH5dZE0p1D7lAVOHcWy6N/d4Kno2JfqC2zfJycq9cTtLrVZtYIAABCEAAAhCAAATaEBCGQa6Zt5IjK8t3BHfF/26okfnjF7NEyAVSIRmI+l0LSivu5CFLf5JSxts1NdS86GWy62r9u7GGAAQgAAEIQAACEGghoCUmUcy8b5GWmspd8aJBI/pOT6VmalGtNj+GdCCqas3vjY6yiJZzztERsqmR3Ms4xdPuz9tsEHZAAAIQgAAEIACBaBTQL7ucYlRqptg4EiT2OAx5y9qrBu0MZYuQD0QV3rQttQkeu+FlfjI6U2173t1AnnVrkOJJYWCBAAQgAAEIQCC6BVRqpslTyXn9JJ8DPwld4dTi7149Pqk+1GHCIhBViByEioKyqh/z1KC/9qV4OnCAmpdyiqf6kDcO9d8A6gcBCEAAAhCAQJgKiIQETs00l/QhQ7gFKjWT+EVJTsbT4dKcsAlE/aAFZdUTLGkt48g0XZ45Te4lS8jcv9e/G2sIQAACEIAABCAQFQKOocPJNWcOiV69OQYVVbrQZ6/PSdscTo0Pu0BU4U4vr7mo0WMu4qekUzkgJc+GYvIUr0dXfTj98lBXCEAAAhCAAAQ6J6C64vMLyDkpXwWgalDSmjinY96qrNTjnSuw584Ky0BUcamu+vwtlT8jm37JA5l06+BBcnNXvX3qVM9p4soQgAAEIAABCEAgiAJanz7kUl3xgwerAUkWCflocU7mUxyMyiBeNmhFh20g6hcpKK281pb2UtZPocZGal5eROaOz/y7sYYABCAAAQhAAAIRIaCPHE2xtxUSxflGxdeQg2aXZGduCufGhX0gqvB9XfVu88/8ZPRmte1LgP/mSpLuZrWJBQIQgAAEIAABCIStgHDFkGvGzK8T1AuxyhljfHv1uJRjYduoLyseEYGo/ybkl35xryTxDHfbx9sn6sj96lJSXfZYIAABCEAAAhCAQDgK6IOHkItzg2r9EtW7oI38cuJDJbmDXgjHtpyvzhEViKoG5m2tGkGm/Td+OprlG8j0/nucc3QtkWWer/34DgIQgAAEIAABCISegO4g5xTODTrxWv+ApI9I1+aWZKfvCb3Kdr5GEReIKgrfXPWeygX88af8dFSzDtXwjExLyT58qPNSOBMCEIAABCAAAQh0g4CWksIzJM0htVYDkqRGT04cn7FgvhAR91QtIgNR/2+EpwedaAp6iZ+MDiPbIu+7/HT03WKSXq//EKwhAAEIQAACEIBASAgIwyCDZ0dyXsczJOk6B6F0QBeOeety00pDooJBqEREB6LKq7C0MrZO2vP53dGH1IxMdm0tud94nax9SIIfhN8TioQABCAAAQhAoBMC+nBOTj/rNtKSks6mZdLo2TjD8RjnBuX3QiN3ifhA1H/r8kurx0oyX+L892PVd95t/0eet1eRPHPGfwjWEIAABCAAAQhAoFsFRHwvck2fQY6x43zX5fz026QwvrMhJ3Vbt1akhy4WNYGo8p0vpWNjacXDPOzsce6uj1V5R93vvE3e8g9VhvweugW4LAQgAAEIQAAC0ShgZI8n57QbSMRyXlAeEc9B2eP9cjIWFglOVB8lS1QFov57OqW0cpiX7OdJUp76Tg1m8r7zFpl7Imogmr+5WEMAAhCAAAQgEEICvm74G24iLTXNVysOQtfquvO+ddkDoy7nZFQGov7fYkFZxQzLlk/z9iXqO2vvXl93vQpMsUAAAhCAAAQgAIFACqjA0zntRnKMGPFlsWK/IO2RkgnprwfyOuFUVlQHoupGqe76D7ZU3cdpnh7nvyTVRW/y+6PudWtInjwZTvcSdYUABCAAAQhAIAQFVDJ6lRPU/x4oJwY9zmmZnhjqSn/uxSwR1al8oj4Q9f9eZ24/0be+6fQvBMkfcCzqJIvTPW3fRt6N75F95Ij/MKwhAAEIQAACEIBAuwS05P5kXDORjKwrfemY+KRmEtqzmjP+qeKsxFPtKiTCD0Iges4Nnrz18GDT8vxKSLqDZ2fS1W5z9y4OSN8na/++c47GJgQgAAEIQAACEGgt4Bg6nBwTJ5Lj0st8O/gdUJs/LNId+qPrrkqrbH10dG8hEG3j/k8tO3SxKb0P81j6e7jLPk4dZlVXkZenDDU/+5TIVr8pLBCAAAQgAAEIQIAFeEpO4xvf4AD0WtJTUs+SCNHEgdYrhqEvXHNl2j/g9K8CCET/1aTVNzx3fZK05fdJ/ZG8SO20T54gs/wjMj/5hOyj6LZvBYYNCEAAAhCAQBQJiKREDkDHkZGTSyIhwddyzgV6lEj7Q5xT/yMnpD8eRRwdbioC0XaS+WZoInkPD2Z6iJ+SDvGfZh8+TN5PPybrk4/JPo7fmt8FawhAAAIQgECkCqh3P/UxY8gYNfqrFExn2yp2cjf8Qmdy+uLVw4U7UtsfyHYhEO2gJnfTi4KtFRNsS8zhUwv9T0lVMXZNNXk5ILU+/xxPSjvoisMhAAEIQAACoSygpaSQY9QYcoweQ9qAAS2reoI0sVIIubQ4O7OYA1HMkNNS5wKfEYheAOjf7VapnzZuqSogad/JyfFn8rG9/cfLpiayq6rIqvgn2RWVZFV+QbKhwb8bawhAAAIQgAAEQlWA3/fUBg4k/eKLSR80mDRea336tKytL/jkNExFw4z04mhPwdQSpqOfEYh2VKyN41XXfS3ZN/H/D5rB83Rdz09Oz06X0OJ4WVfrG/AkT9XzHPenSZ4+Q3bDGV6fJuI579W899KM6nRiLbTwEQIQgAAEIBBYAaFrRA6DyOA/Xmu94vkRUgJp/G6n6NuXVJe7CkBF4kXkO7bF5fm9zyNSiHcQfLZACcBHBKIBQDxfEVM/qr7ENK1JnJM0m/eP4zXncJCO8x2L7yAAAQhAAAIQCCUBYXIPO8/7Lco5+NwkNLGxJDsd84AH4RYhEA0C6vmKvPugjKk+WjmKLBpuk7yYA9PBPKvCxVLIRP6h9+Gu/T6cTD+Bf/BOHhCF+3I+RHwHAQhAAAIQ6JKAMPmhUBM/3WziFzmbuBfzBAmq5iL5T6vmz/sdmtiR0CttV9FI4enSpXByuwT+HxjBqgsetcyvAAAAAElFTkSuQmCC"},50111:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqIAAABmCAYAAAAQ5/N4AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAACoqADAAQAAAABAAAAZgAAAAAQUf+2AAAc3klEQVR4Ae3dCXTU1b0H8N+dNZmZLCSEJSsKoj6op3ACIcHS1iQIHrVqDbhhOVDcV+xrbXtUqH3V+p5C9bkXj4rWQrTaagUh8fhQEgI5cF4rT6SCJJMFyEK2yWS2/32/O8nUsDXbTDLL954zTuY//+X+P//x+PMuvysIZVQESvZLU0dX/YVeTc4kKc/li2YQyUySlCEFJQsii5QUTyT4JQ2jUilcBAIQgAAEIBBTAsLL/411CkFOSdQtJLWRoHr+b28dM9STEIcNOvF5oi3ji9IZwh1TNGN0sxz/oIRCoLCqbrrU5AIh5Xf4R58rpZiOADMU0jgnBCAAAQhAINgCwiuEPMgBarUU4lOhEzvK8zL5M0qwBRCIBkn0lmppPOSuK5RCLuHg8zJu3ZzY/9Q6/jApTk9ZZgOl83uqUUfj+l6JBj2Z+EmYdML/UvuiQAACEIAABCAQXAGNT+fWZO+Lm0Q7vD464dH8rxZ+b+jxkd3lpaP8rvbtX7gV9RgHpR8KKTZPNWWWv5QrPP2/x9/DE0AgOjw3/1Eq+PzKU1fELZ0lpMmreOO4wOlSjHo632rgl9H/yoozkAHaAR68QwACEIAABMJWwMtBqr3HS186PH0vL7V6fP3re4J04j1uMS2dZswsQ1Dan2ZofyM0GpoXD++Uoqiqtojfrj81+Mzkls65SWbK41dOPIZ5DpEWu0MAAhCAAATCVqDG6aWqdhft5lcdt5j2K/6glLvy3yrLyy4T/Ee/7/DnAAIIRAcACny9+B/S7G6qu4kD0fu5BXRGYPsUDjjzkjn4TDT7u9wD2/EOAQhAAAIQgEB0Cqgu/KoOF1W1uegIB6jfFLGfA9F1prTMN7acJ1zfbMdfZxNAIHo2mb7tV1Q3jO92++4g0u7kcZ8T1OZkg44uHR9PBePMNNGkH+AM+BoCEIAABCAAgWgVOOb2UcUJF33U7KQ2b+/IUh5PepxI96zFpH/u/dz05mi992DcFwLRsygu2lN/vsfju5/b12/m/nhOqUSUw+M8L5sQT/OT4zDe8yxu2AwBCEAAAhCIRQE1rnRnWw99eNxJNTy+1F+EcHKg9brRqF+3dU7Gl7HoMtA9IxA9RWjh7vosn9f3KG9ext3w/gnssxJNdPl4C81IMJ6yNz5CAAIQgAAEIACBkwX2d3rog+Zu2tfRm4qUu+tVU+lGvUH/0La5GfaT947tTwhE+55/UXVrkuZ2PEhSu483xakZ7t9PiafL0uJpshnd77H9rwnuHgIQgAAEIDB0gUaXj/7a5KRPWp2kWky59JDQrdeZrI+X5aa0D/2M0XdEzAei/vyfrrrbJcmHeBLSePWIL+axn0sn2SjNhIye0feTxx1BAAIQgAAERlegya3RpqNd9BmPJe0tolmQeHSqOfP5WE/9FNOB6CUVNSUkxWMcgE5VP4yLEkx0Q7qVpvBYUBQIQAACEIAABCAQTIEjPHb0Dw0O+ltnYPVQcYiE/PnHBTmlwbxOJJ0rJgPRhVVHz/F63S9wALpQPSyVgunGyVb6FgeiKBCAAAQgAAEIQCCUAn/nQPTNRke/1E9im8Fgum1b3qSvQ3ndcDx3TAWiJVLqT1Ta1Uz4tTwRyWLVC7ox3UaXpMSF47NBnSAAAQhAAAIQiGKBj1t76M2GLnL4JPGEpm4Oyh4Zl5+1rlSIkzLmRzEBxUwgekllw2whPb/nXKCz1ANV40CXTbZREq/3jgIBCEAAAhCAAATGQqCd17jf2PjN+FHOQbpPCuOPP85P3zsW9Rnta0Z9IMoJ6S3dHu+vSKP7eEKSfhLPgF+ZYUM3/Gj/0nA9CEAAAhCAAATOKqC66zfUd9FRnmnPE5l8pKP1FqPhYU6I333Wg6Lgi6gORIsr6+drmvd17oo/V6VjunKCha6eaCVjVN91FPwqcQsQgAAEIACBGBTwcMDy7jEH/eV4tz/dE4crh3U6w83b8zN2RitHVIZka6Q07Nhlf4TTx/5ctYLm8GSkO7MSKJvfUSAAAQhAAAIQgEA4C9Ty+vXP2jupht9V6ygvr/PYgnlZa9cI0X9h+3C+hUHXLeoC0cKquunk097gyUhz1M1dzgnpl/JYUNUiigIBCEAAAhCAAAQiQUAlwN/EY0c/4IT4/KeazLSH9LqbyvMyD0ZC/Qdbx6gKzworam7lR/WUmhGvktHfmZVIF9iwLOdgfwzYDwIQgAAEIACB8BI40OXh1tEOUknx1cx6Tj25urwg58XwquXwaxMVgejivY1p7h73Kzwj/nJF8b1xcbQ800Zxuqi4veE/XRwJAQhAAAIQgEDEC/Rokl6t66JPTvT474Vn1n9gijOt2DJ7clOk31zER2oLd9Yu4GRbb/FY0PQEg45WcQA6N8kc6c8F9YcABCAAAQhAAAInCexud9HLHJB2erl1lESDnuj6bfOzd5y0U4R9iNhAlLvfRVFl7YO8ROejakLSBVYj3ZOTQClGfiwoEIAABCAAAQhAIAoFWj0+erqmkw44PL1pnoR8qCw/+3HutldDSSOuRGQgyrlBx3e7vRs5GF2kbuDqiRa6dpKVU26hQAACEIAABCAAgegW0Pj23j7q4FRP3YGJTFstJsMyzjnaHGl3HnGBaNGumoulJv7IQWhGMq+KdDdPSJqRgAlJkfbDQ30hAAEIQAACEBiZwP5ODz3DE5naeHUmbhGtFzp5Xdm8nM9GdtbRPTqiAtHCSvtPpSb/g2eMGS7k2fD35iRSMo8LRYEABCAAAQhAAAKxKNDG40V/V9NBX/Dses4c5BU68cvy/KwnIsUiIgLRxbtaEt2a41VuBb1awV7FKyQtmYyu+Ej5kaGeEIAABCAAAQiETkB11W9udNB7vCKTKtw6+q5JZ12+ZV5qh39DGP8j7ANRnhU/k2fFv8MTkqZb9YLuyk6kWYmmMCZF1SAAAQhAAAIQgMDoC+zrcNN/13aQwyfVRKaDPH37hzyr/vPRr8ngrxjWgWhxRe31HOW/zC2h1im8POfqKUk0gRPVo0AAAhCAAAQgAAEInC5wnBPfP3WknY6o5UGFcHDUtGp7QfZbp+8ZHlvCMhC9pVoav3LVPslEdysmlaB+Ja8VbwzL2obHg0QtIAABCEAAAhCAgBLwcCKnDbxWfSABPm96Zpo5+4GXcoUaSBpWJexCu+K9tem+HlnK+QgKVOC5PMNGhanxYYWGykAAAhCAAAQgAIFwFyhvcdKr9V3+wJT76iv0caJk++zshnCqd1gFosUV9u9qpG3ipTonpnJqptVTEmmqBamZwukHg7pAAAIQgAAEIBA5Al91e2jdkQ5q8ad4omM60i3dXpD1P+FyB2ETiBZW1q6WGv1WpWaayXlB7+VJSWrJThQIQAACEIAABCAAgeELqCVBf8eTmD7nvKO9KZ7oZ+X52U8N/4zBO3LMA9GS/cdtLe3OV7grvkTd1g84NdNSpGYK3hPGmSAAAQhAAAIQiHkBleJpE6d4+nNfiifuqi9NTYpfUTpjQtdY4oxpILqwouECH3n+xF3xF8ZzaqY7eELSnCTzWHrg2hCAAAQgAAEIQCBqBfa0u+g5nsjkVCmeBH2hJ+M12wrSD4zVDY9ZIFpUYb9Bk/JF7oq3ZanUTLxK0mQzZ7xCgQAEIAABCEAAAhAImUCjy0dP8rjRuh4vX0N06YS4tawg6w8hu+C/OPGoB6LLv5Zx9kb7es4Nequq1/xxZlqVmUBxulGvyr9gwVcQgAAEIAABCEAgegV6NEkv13XSzhMu/01yztEXTWlZ9245T/RuGKVbH9Xo79IK+zQvaZu5K36WSs10M6dmKkZqplF61LgMBCAAAQhAAAIQOFlgO6d4er0vxRN31e8zkG7JRwVZX528V+g+jVogWriz7loSvg0chCam8epI93NqpnPjkZopdI8WZ4YABCAAAQhAAAIDCxx29qZ4auJVmTgY7SCpX1k+P/PtgY8c+R4hD0SvqG6wON3eJ3k86G2qunN5MtJtPCnJwpOTUCAAAQhAAAIQgAAExl6gmycvvcCTmHbzZCZVeNzoC/EmwwPv56Z3h7J2IY0GC3fWzuHKvyFJTldd8Tem22jReKySFMoHinNDAAIQgAAEIACB4QpsbXbSmw29qzEJEgf5PDeVz8/eM9zzDXRcSALREin1rZX2X3A3/MMqQX16nJ7u4VnxU+IMA9UH30MAAhCAAAQgAAEIjKHAEZ5N/3RNBzX0+LgWwsvd9b9Kyc/6TakQakNQS9AD0cXVtVPdLrlREuWrmhbxZKRl6VYyY1Z8UB8cTgYBCEAAAhCAAARCJeDiWfUbGxxUxpOZVOGAsdJkFsu25GYfCuY1gxaI3lItjYfddfdxN/wjnJrJmszLc97KY0FnJZqCWV+cCwIQgAAEIAABCEBglAT2dbjpRR472sbLhHKKJwd316+9OD9z3RohVBLSEZegBKKFVbXfkV56nrvhZ6gaFXBu0BU8HtSGteJH/IBwAghAAAIQgAAEIDCWAl0chL7C40Yr+nKOcvvofmGg28vzsj8dab1GFIgu3tuY5nZ6npCCfkRSivFGHf2YW0G/nYBW0JE+GBwPAQhAAAIQgAAEwklAtY5u4CT4zR5euV4IKSS9Zoo3/nTL7MlNw63nsALRkv3Hba0drjukpj3IFx6n438sSrPQkkkWrJA03CeB4yAAAQhAAAIQgECYC6gVmTYf7aatTd3E4ajqrm/lf/w2JdH8XOmMCV1Drf6QAtGi6tYkcnXdzS2g9/M40BR1sYtsJv8KSZk8Mx4FAhCAAAQgAAEIQCD6Bep4Rr1akelvXW7/zaqAlFtI15HZ9kxZbkr7YAUGFYgu3Hl0glfnvltIeTenZEpSJ1epmJZOtmIy0mClsR8EIAABCEAAAhCIMgHVXb+p0UEq5ZMqnOqpXQrxjNlsfHowXfZnDUSvPNCU4GhxXSpJW8bnvUzlA1UXyOEA9IfcBa9WSEKBAAQgAAEIQAACEICAWpHpHe6yr+kLSDkkVZHph4J0G62p5o/+ckFa55mUxOJ/SLO75Xiy3udK03Ty33hy/rdI0gIOPPP53b8YvBoDOjvRTIvT4mmGDevDnwkS2yAAAQhAAAIQgECsC+zv8tCWJift7XD5x5D6PQR5ODCt5GSkO3Qk/67TxP/59OYmU+qENhVjokAAAhCAAAQgAAEIQCBoAryw0aDK4LrmhVwcaB1F1/ygXLETBCAAAQhAAAIQiBmBKu6a/1P/rnnVCirFlgG75gcjpPKFepyeezlh1F2YrDQYMewDAQhAAAIQgAAEol8gZJOVzkTXL33TfZy+KVXtg/RNZ5LCNghAAAIQgAAEIBC9AmdI39TC6ZvWhyR906mMC//3qFVzuG/XpPwFf4eE9qcC4TMEIAABCEAAAhCIQoExTWh/qqd/ic8ez3/ygNSbA0t8rsxMQG7RU6HwGQIQgAAEIAABCES4wJmW+LSYDf/+fm5683Bv7ayTlYZywqJdNRdrmnieg9GZ6riCcWZakW4jmwGT8ofiiH0hAAEIQAACEIBAuAl0eTV6paGLKk64eqsmxOdCT3eU52V/OtK6BiUQVZVYI6Xh0wr7vZwjai2PH7UmcxB6axZaR0f6gHA8BCAAAQhAAAIQGCsB1Qr6or2T2jgY5WU8HYLE2ovzM9etEf6E9SOuVtAC0UBNFlfXTnW75Eburs9X24pS42lZupXMuqBfKnBJvEMAAhCAAAQgAAEIBFHApUna2OCgshZn71kFVeiMtKxsTs7hIF6G2y9DUEqk1LdW2n/BqZ4eVkuDpsfp6Z7sRJoS718lNARXxCkhAAEIQAACEIAABIIhcMTppadrO6ihx8enE14eaLl2XEHWY6VCqA1BLSEJRAM1LK6qzfV55Rv8+XwDX+kmHje6aHx84Gu8QwACEIAABCAAAQiEkcDWZie9weNBvb1LI32pN4ibtudlV4eqiiENRFWlSyrs8a1C/pfU5B3q89wkM93GY0ct+pBfWl0OBQIQgAAEIAABCEBgAIFun6QXeCzobl4hqbeI561mw094Rnz3AIeO6OtRiwYLd9ZdS8K3gbvrE9NMOrp/SiKdG28cUeVxMAQgAAEIQAACEIDAyAQOOz207kgHNbnVhCTqEDrdirJ5We+M7KyDO3rUAlFVnUsr7NO8pG3mYHSW6qr/UYaNinkyEwoEIAABCEAAAhCAwOgLbOfJSK/V93bFcxC6z2QSJVtysw+NVk1GNRBVN7X4H9LsabKv51WZblOf53PO0VWcBD8Os+oVBwoEIAABCEAAAhAIuYBaIenluk7a2ZcbVCfEC8a0rPu2nCcCffMhr4O6wKgHooG7KtxZe50k+RJ/TsiMM9AD3FU/2awPfI13CEAAAhCAAAQgAIEQCDS6fPQkd8XX9Xj57KKLp+3csr0g+60QXGrAU45ZIKpqtrCi4QIfef7EXfUXxrPCHTyJaQ5PZkKBAAQgAAEIQAACEAi+wB6ejPQcT0py8uQk7or/Qk/Ga7YVpB8I/pUGd8YxDURVFUv2H7e1tDtfIUkl6vMPJlho6WQrYXFQpYECAQhAAAIQgAAERi6g8Sk2NTroz8f7JsELsTk1KW5l6YwJXSM/+/DPMOaBaKDqhZW1q6VGv1UJ8GcmGOleToCfgLXqAzx4hwAEIAABCEAAAsMS6ODlOVWC+s87PXy88Aod/aw8P/upYZ0syAeFTSCq7mvhztoFPiHVrPqJqcbeFE/TLEjxFORnjtNBAAIQgAAEIBAjAl9196ZmavH4UzMd00uxZNv87B3hcvthFYgqlOK9tem+HrmZu+rnqxRPyznFk1qvHgUCEIAABCAAAQhAYPACap34V/tSM/H09J36OLFk++zshsGfIfR7hl0gqm75lmppPOSp5dWY6B71+Xvj4mglT2QyhmVtVQ1RIAABCEAAAhCAQHgIeHh5zg08IemTEz3+CnFX/NNTjdk/eSlXqL75sCphHdoVV9Rez4NrX5ZSWqdwiqfV5yTRBF6VCQUCEIAABCAAAQhA4HSB47w60lNft9MRTs0khHBw1LRqrFIznV6707eEdSCqqsvjRmf6iN7hnKPTrZzi6S6exDQr0XT6nWALBCAAAQhAAAIQiGGBvR1uepYnJTlUaiYSBw1Gec1Hc3P2hzNJ2AeiCm/xrpZEt+Z4jVtGr1Kfr+IUT0uQ4klRoEAAAhCAAAQgEOMCKjXTZk7N9F5faiZuCX3XpLMu3zIvtSPcaSIiEFWIHISK4sq6n/DSoL9RKZ4utHGKp5xESkaKp3D/jaF+EIAABCAAAQiESKCNUzP9rqaDvugKpGYSvyzPz3oiRJcL+mkjJhAN3HlxZf18n/T9kSPTzGRO8XR3ViLN4LyjKBCAAAQgAAEIQCCWBPZzXtBn7B3UxqmZeEBonV7or9uen7EzkgwiLhBVuFdUN4zvdns3civpInUDV0+00LWTsBpTJP3wUFcIQAACEIAABIYnoLri3z7qoHePdXO2SxWDiq0Wk2HZ+7npzcM749gdFZGBqOJSXfVFu+w/J41+xROZ9BdYjXRPTgKlGPVjp4krQwACEIAABCAAgRAKtHp89HRNJx1weNSEJB8J+VBZfvbjHIyqmDTiSsQGogHp4gr7dzWpvcX6k9WSoKsybTQ3yRz4Gu8QgAAEIAABCEAgKgR2t7vo5bou6uRxoRyENpCBrivPy/40km8u4gNRhe/vqnd5f88toz9Qn1UC/B/xikzxnO4JBQIQgAAEIAABCESygJPTMb3GKyT9M0G9EO+b4owrt8ye3BTJ96XqHlWRWlFFzS2cOesp7ra3pnHi+zs556jqskeBAAQgAAEIQAACkShwgGfDP8sTkpo4UT13v3fz4MTV5QU5L0bivZypzlEViKobLKyqm05e7U1uHc1VN3dFWjznHLWRWrceBQIQgAAEIAABCESCgJfHHG5q7KIPmpyBCUl7SK+7qTwv82Ak1H+wdYzK8My/Vr3bvpYRfsato7ocXh70zuwEyo43DNYF+0EAAhCAAAQgAIExEahxeuk5XitevasJSVJHjy2Yl7V2jRDeMalQCC8alYFowIuXB13gFbSBp9hPU8NFr0yz0DWc5skY1XcduHu8QwACEIAABCAQSQIebgV995iD/sIrJKkWUQ5XDuuFYdm2goyKSLqPodQ16kOykgp7fKvU1vDY0dVqRaZJZj39OCOBZiIJ/lB+J9gXAhCAAAQgAIEQCvy9000beELSURdnZFJpmXS03mI0PMy5QXlcaPSWqA9EA4+uqKJ+liTvBilpltr2nXFmWpZuo0QsERogwjsEIAABCEAAAqMs0M6rIm3ksaCfnXD5rywE7ZXCuOrj/PS9o1yVMblczASiSneNlIYdFbUP8LSzR7i7Pl7lHb1hspW+lxIXXekDxuSnhItCAAIQgAAEIDAUgY9be+jNhi5ycHomNSOeg7JHxuVnrSsV3CIaIyWmAtHAM720wj7NQ9oLPA2tUG1Tk5luzLDSRTZTYBe8QwACEIAABCAAgZAIqG74NxsddIQnI6nCQehHer3p9m15k74OyQXD+KQxGYgGnkdxZe2VPk0+wZ/PV9suSjDRjelWf2Aa2AfvEIAABCAAAQhAIBgCR3q89Id6B/2ty913OnFIkO7B8vmZbwfj/JF4jpgORNUDU931n+2qu53TPD3Cr1QFsoBXZlrCXfapRl0kPlPUGQIQgAAEIACBMBJQyeg3Hf1mHCi3gTbzhKRHp5ozn38pV3jCqKqjXpWYD0QD4lftO5Hc4ez8pSB5D09oMqkE+BdzQHo5J8TP5K57FAhAAAIQgAAEIDAUgUaeAf9XTkj/SavTn46Jj+0hoVuvM1kfL8tNaR/KuaJ1XwSipzzZhVVHz/H63L8Wkpby6kx69fW3ucv+igkWmmHDcqGncOEjBCAAAQhAAAKnCOzv9NAHzd20r6O3C57HgGq8y0a9Qf/QtrkZ9lN2j+mPCETP8vgXVTZO8UrPA5xPdgV32VvUbufwykxXcFL8eZz6CZ32Z4HDZghAAAIQgEAMCqgE9BVtPfTX406q4bGg/iKEkwOt141G/bqtczK+jEGWAW8ZgegARLx2farU5F2kXiTHq93Hm3Sc8ime8pPMlBHnbzQd4Cz4GgIQgAAEIACBaBQ45vZRBecA/ajZSW1e1fCpZsHTcSLdsxaT/jlOSN8cjfcdrHtCIDpISf8KTSRXcP7R1fw/PecGDlPr1+cnm/1BqVq1CQUCEIAABCAAgegWaOjxUVWHi6raXP9MwdR7x2I/d8OvM6VlvrHlPNGboT66KUZ8dwhEh0jI3fSiuKp2vuYTN/ChJYFWUnWaKX1BaW4iWkqHyIrdIQABCEAAAmEtUMM5P3e3c/DJrzoORPuVE6QT7wkh3yrLyy7jQJTbq1AGK4BAdLBSZ9jPv1LTrrpiktr1nBz/Kt4lIbCbRS9omsXILwOd1/euVnJCgQAEIAABCEAgvAXUeE87j/P80uHpe3mp1XN68Mmd8KXTjJllsZ6CaSRPE4HoSPT6Hau67ltIu5z/P+hKHhzyfW45zej3tf/PiTy29BwOSlOMel7jXlAyB6Zqrfsk/jvJ0LvNpMMjOdUNnyEAAQhAAALBEFAjON2a7H1xsNnp9XGAqdEJfrXwS3W5211eOsrvvaM9v7kqj/s8JoX4EMHnNybB+AtRTzAUz3CORXvqz/d6fZdwTtI8/no2v1/I3fhISHoGK2yCAAQgAAEIhJeA8HIP+0EOOqs5+PxU6MSO8rxM/owSbAEEosEWPcv5ln8t4+qP22eSj87TSE7hwPQcXlVhihQyhX/oSdy1n8TJ9BP5B2/iCVF4LmdxxGYIQAACEIDA8AUE51WSTm7ddHKDqJN7MU+QoHo+H7909fz3IYNOfJ5oy/iidIboTQI6/IvhyEEI/D/H1ZoJyXs+1wAAAABJRU5ErkJggg=="},28014:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAABYElEQVQ4EZVSPUsDQRCdyV0nMbE1WoiFaBMDio1gbyUSYjoLLeU8kv/hR7AVazWolb2FSLCJ2vnRiJAUsbiLxkByN+4sXLIrrpKBZWfevPfYGRbhl9g9Ok+S31kHoEUi6CDArR2LHzrOsv+TLnp67B2UF4Ju9xQRxwjoCQkCApgW9WvMsnLuVraiKmJqUSpdDodBUAaEL0LKFLfzUwU3P2OBnRZmbdE7YY6q0QwC+tgUzZQwyBWd/F1EdN3sPWOiHu+GzY0I51szCInm+NmqOCJLjOBRjDMfYXzbaoEIowBYUzEtR6iLpQlOP+QSd/aPq0SU7sP/ZwhYLbhrGTnCoGK2F6PO8q3tgIFBQ9uBKk4khmB1ZUlCZxdX4HmfaruXG18wOZGCkWRcHs5NYTR4fnmDVqstD+emMI7gN1vQaHhSx7kpjAYsuL55MOl6+J8Gtfp7j2hK5A74U5gIJjzSfANQNXnXd8j3NQAAAABJRU5ErkJggg=="},39473:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAABYklEQVQ4EWNgoBAwYtP///9/xv7Jq2sZ/v1LBMkzMjLOK8gLawHS/9HVM6MLgPh8QloNDP//NwCZAiAM1OV4/NQ1hl071hwA8lEAhgvmzt3I+/HL9yf//zPwIatkZGT4xM/DKZOc7P8ZWZwJmQNif/r2Qw9dM0gcJAaSA7GRAYYBDP8ZJZEVoLCxyGEYwPSf4T6KJiQOMCweIXHBTAwDODg4r4P8i64QGANf+LnZr6OLYxiQnu77DRiL2egK/zMyFKEHIEgNhgF9c1YJMTAyeKAbAEwBdtOmbRHEEEcWmDB5ld/ff/9nAoNcAlkczmZkfMHEyJhbmBe2BiYGTgczZ27m+vLj20SgxhSYBH6acTkrE29GXp7XJ8a+6auk///6vwOoWQe/JjRZRoZb7Mysbiz/f/6fC0wmpGkGmfWfQe3X3z9zgF76b4lmNtFcYOo0B6YbhsnAOP5LtC6oQrAexv+TAITJclHJs1ToAAAAAElFTkSuQmCC"},59749:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAABN0lEQVQ4EaVSsUoDQRB97zwShIAYDUhs8w1+gf1VJ2dq09n7C+n9BxMShFiIINhb+A+pLCQXIaVodpw93GVzCXqSgWXnzbx5O7O7RMlm2V2b+JgKUCtS5LA1SM9LNA8j7/049dqy4Ys1RshBmRPiNYEwWcVnno37QvhTCOyJSOqKFb8K+eDwjsikOTy7dzgWyBW0Z2eBW4QUH0PkwuWXVEnAC2w9QuyUq+4UtPLu6MTyJcIi1o4m2mZTG+uIoP2XkI6cwCCxPBp+FQNZkGejaxW6tP5/bPs7yLu3p4TZNyKd8DV+6WJK8qXIE/MYxjwa6E+oauTT4SDtOXqkl1K92FUF+8Y7iMjeLutHdqn6c8Bfczf/A2LRuEneLHuWjT/1xdcKXSDSE94dsDtB0aF8jJT5Sl6wgr8BfOJXlC7Wij8AAAAASUVORK5CYII="},48381:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAAAwklEQVQ4jWP8//8/AzKI6X9pwMDAcB5JaOOSQvEABhyACYuwAAE+CsBmAEmAMbrvxQY0W0FsfST+RwYGhgtI/AVLCsUXwDgsDAwM/gRs5GdgYLBHE4MbQLEXWMjQIxDT/9IByv7AAvUjPwkGgMJnP4wDTwcx/S8PYPErQUB5GMT0vyyARp0CkXqQoxUcBv0kWnphSaE4LBAp9wIuAxYyMDA4QjFegCsdPFhSKA6KFVDsEHQBKFDQwQckAXR5hBwDAwMA5PQsyMcMkrwAAAAASUVORK5CYII="},71415:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAAAjUlEQVQ4EWNgoBAwgvRHx6W/ZfjPIESSWYwM75YuminMBNZEqmaQJqgeiAEkWY2qmGIDWFDNg/BmTOtl4OHhRpH68uUrQ0ZWMYoYiIPVBeiaQQqxieE0ACRBLMDqAmI1g9TRxgBQgKEDbGIgNVhjAVtooxsI49PGCzDTiaEhLgBmDGIUo6ghRw+KAVAOAG0nF2V77lpiAAAAAElFTkSuQmCC"},81370:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAAA2klEQVQ4EaWRyw3CMAyGTYty5AB32KFCbMAKSKzBIKzBYwU2ANQd4E4PPVZKwX9QIysOUlMsRXJi/58fIfrTRtCv9/XrTTRNYbGwuuwmswyiVLHUOEBK5TB3HD50d8y2WRp3Pd8bdBm1KADi7cpQscidKM8MHa5xiBrBi+csRlk+BfsAIhaaAqBtCMJsvHUjSYgC+CCqy5LS90lECoCFlU/7TRGQ8mEJsdAUABosTELg/1pi9BcAOd4asu3Ab0SbLVNOkZYRk6ZGkME+vgPwgqs+yTJniEbqvf8B0Vs+yTBK8VYAAAAASUVORK5CYII="},32447:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAAApUlEQVQ4EWNkwAF2lrzg/vz+9zqQNK8ga5B7j8RXbEoZsQlCNW/7/5/BDiTPyMhwCGiIFzZDMAxA1wyzAJchKAbg0ozPELgBhDTjMgRsALGasRnCSKpmdEOYQFEFC22YJDE0SA9ILxMxivGpYQIlElAU4VOETQ4arUGUByLMdGIDEz1BwdMByCBChqBrBulBMQCfIdg0YzUAmyG4NOM0AMkQgtkZANm6lTST+CkHAAAAAElFTkSuQmCC"},63149:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAABu0lEQVQ4EZVTPSxDURQ+57Z9pGglFiEhIgaRGJhqkUYiXSUGkzQxWB8VolSeKBZNrSKhVhKDwdCki9kuMVRELEj6p35a7x7nVko18fLc5L13fr7znb/7EGycsJ6LANDYDxRTW7veDaU7f4xWEgcTjCoEIl5SDVTUyNYiQpHDOZZcmuY6rILtEwBcCkEBDuwul0rnhkGNisQmAaY4eyoab00S4RTLA+VMgefCknr994T17AkQ+tt7PZ02K6hPgQc8i7aH9LNPrMzlJ1b07F49xErXQLuq+JF6uAIa4r5meCj2q3GZbxUCKTWBgGkmcXxkCn1WWWt90qT+ii7wVhA4k2q/vOBgLchKllIGefyvTq/nQmzG3fcIdMocC2G9OGQVqHyrc7mAJJrmG7lvGPjy1bezIcQl5JA+jiOh7PBfJGvzBb+UkODd37gA1hXu+x5E9LxPAp2xrRWRYjyWo8GR5utMBsTtVXEAyZzlNmd5XncCHYHobktlE98Eis1Yeu0qv73vEOAkA7lK5GpVEuIHTW410eR2LIe3Wx4VXp1fBF8mJlosdpRK5jgHdvPvYwoBaYfApBHzPFUx1e8nbiObCa02bccAAAAASUVORK5CYII="},83999:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAAARUlEQVQ4EWNgoBAwgvS79n16+5+BQYgUs4Aa3+0u4hNmAmkiVTOyHrABpNiMrnbUAAaG0TAYNGEAyhjoSZQQnxw9WM0EAHkpChyvL2rgAAAAAElFTkSuQmCC"},74561:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAABIUlEQVQ4EaWTrQ7CQAyA22PB8udnkCQ4FAoEhAfYG2CwPAiOYHgDHoCAAIXCkSBn5vmZJYOjLRwZly0MOHPXn6+967UI1jo0mjW4Rn3Q0AFA92HWASAsIedMK9vNPo6gEbTn5U9+MCJwoAGU0cd3cr5RoEmp6g5xNruwTQIwfPSDOcHtOJB6RliVq26Pg0imZ+ZsMEelRMLQEfnNGEW7tGun3YKfox2n7nDBbLi4XoAqFN7YWxjCudV96YQhVj2q/dLLwYZZmaRjlmpgvuo9SDYJXSliNudkLwpATfLz0oGSDrMCcMHslaRj9u9vVNLb1J52xo8yMcxKEbm36Tqrj5BxIF9hSJYA3NPS2whjGRjjaO1sQ/Ixc8BmGaa437fjfAdM1nEPIb9PRgAAAABJRU5ErkJggg=="},73540:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAABV0lEQVQ4EbVSPUsDQRDd2YuKEPSMGjgELfxoUqW1SuEP0H8ggo1YWVlYCBaCgpWNhX9DLOyS2FqlURuxsIjm9iQomrjPndMN57mJpHBg2LfvY27gVoj/KqCUURXvTJW9c8Z9fyeqyo2wLMHNuNsAcgnhle9T8/kGQkywbkyPyI7MjxWVSvtlmogDL80dG+Y7YzKc05smo8uhOehWDRCDS5szsXxxfCeIxDvJgcLo4tttMvNrA3y0DznMJul9NWPmoNsHjJP1Y0BYzpQgsGwNeb8tuG0BWGGPvfPZGQDsSiJ9lBTzOTPAdLLYw17LdYCq7K2aNYtW4HN2qhV3kmMPey0X/0bUJrOq8XRtyMAKf5wPfm58gQr1ZrxB1Ai3XeH1/UBwOyr4zgj5WhmeBukthymmnC/NKJzhLKmqdwqNtW4DevFEdCKh6d48Et3L6NJMBiCqu7S+uE/K3YbiHtLHCgAAAABJRU5ErkJggg=="},47011:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAACR0lEQVQ4EZVTPWhUQRCe2buEWKjnvRMxBBtBIwiCsVGsomAhmGjyjvsJCVhoYSHYSYr4AxbXmMJKiFrcy+m7Z+RQQdFgYTSCIgoWpsg1gk3uRZMoouR2/PaZdxwPT3Bhd2e++WZ2dnaWqMUQEa5lyxN+zjvSghLAHDXKBbf9y5zqJqYuLeIISYciOm6V0o+iXKPHQ1BOvWnzV6pj/hyfEdEJktBCpJlvQOv0c+5ZKAneIOPJ6+klw0BwosVhd1ttufpKhEaR+mOgp5npEDN/RSbf46wyhoeYS5hjeoVffMtWthiMzV39XHka1r0U44GUY08HZIPnvXGlyEsW7ecGM2Mx6x7URA8RqJraafewn/FOatITFKP8Zic9+Yf273Uh4x4Do8KKRxjKDFK1UiV7V7Nb8Ap5L2ewlDM4CU5TVYjg946Ja3E8w26Q7zQ7G7lmnLUU12SzOWYJB06fRc364iiSRpAfoeE/9jrqtlGhVh9IeE/U0aRNiofMDOQoQUsPbjWPbnNHEeByPK72JYoDb6O8v+l+1t2Pgsyw8CVlrV93FS/8ebWunYVMpTPqUMuV+/z83a4QN7IWuoX7V5NbpRC0sj9UPiCrcl+Yf6KzClbJHjcO+AvnUeAritQ5jumncOoVTRcJuXOMjlpF+2XjL9SyXjeJXINfb+q2raD3o6XvhSeHOzr0GXe0j1g3+z8ZrPEXUqXBj9APLw9P7QjIbfo1/aJ5yNvx3lNC/AR1mt1UPPE+sK8tjQyawVAO7luvP0CXFlp16W/SV+7ULrDyKwAAAABJRU5ErkJggg=="},64952:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAAATElEQVQ4EWNkAII3Eave/mdgEAKxiQWMDAzvRFaECTOBNJCqGVkP2ABibcWmDmwAyDnYJPGJkaMHn3nkywFdMhoL5AcflXSOxgIDAwAiPx4W4b2DEgAAAABJRU5ErkJggg=="},90319:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAABDklEQVQ4EWNgoBAwOh19+A5ohiDIHEYGpvy91rKT8JnpfPRx3n+GfxOhat4zARlgzSABRoZ/QlAJnBSaGkGQARQB2hrgcfqputOxh/ddjj92wOVMvC74//vfa2DIfPn///9WXIawoJvscvSJNzCUK0Dif/7/Z2Bk/M8EpLiA3K1Oxx47Mvz/h6IFw4D/jP///mf4/xOmipGB8Q8DA1Dk//+/DEwsf9ANwPDCXivZHfus5F1AmJuNNQKokR1o2GdmJhbPfZZS52AGw2gMA2ASIPrHn7/gNALSvNtS+iiyHIyN4QWYBIjebSF7G0hpIIuhs/G6AF0xNj5VDHgPM/k/AxMoY+EFaGrgevFqwicJAEQQVZHOW5bJAAAAAElFTkSuQmCC"},76842:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAABAElEQVQ4EWNkAIKq/A/vgJQgiE0CeN82UUCICaqBVM0gbWA9MANIsBhVKQuIy8jAmM/IyCCEKoWf9/8/A8jb+EFN4UePqoKP3vhUgV2AS8G/f/9LgK5jB8pvxaWG4jBgxGZyTelHVZZ/jO9//fm3AuQCViYG/z//GEVbJvLdRFeP1Qv/fzNs/s3wH6T2J5Bk+fXv/0EGxv88QL4iUQYwMTAm/2X4tx2omJcBaBDQmd8YGZixBiZWL4BsqS34ZA0yhPE/AzMjI7N3ywTeAyBxkkBVwVej6sKPZvg0gV1Qnf8xj5yE1DqRfxI4EP8z/J8ITFnkgEkUpwOYAe/JsB6sBwBmfEhC6zlPPAAAAABJRU5ErkJggg=="},78632:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAABR0lEQVQ4EZWTsUvDQBTGv4uxhJosFopL3V0U3MTFqZNOri7utVBwVUEdBUHd/QvcnHRx0F108A/oImKDmGsIEvN871LT4NCLb8i9u/f7Pu7eXRQ42qfRTkZ0JnnVcJTq3vSCc2ckaLicba/WsDz/u2S1aghR0LO+wsLcFJZarlVZBgr67ZNwcpsg1FSuW3NjkLnqykmB90h4BUdZdRCNUMbAT2f6CfSdXTYm6qyRmTGIle5kGR2Ny/YsdvQeU8d5Ewlu4AH76x42FqftaiFYI0NxCzKR+F8LR0fgvqVRAhxe86dqsEZQs406+ReJ0vdVtcJ55D/KaAy0O2zxNa7JQtVgzYDZj7wRKW3yv3DQDBTCISHN7DbybjieiyY2+Snvtj1srdTs6hJRGIQx4eX1G0/93LrETEzNEZgYyLYvH74mwn+K0gP8ANccXAWnHxMMAAAAAElFTkSuQmCC"},63670:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAABT0lEQVQ4Ea1SO04DQQy1h0hQhAZKDsIyTSqOQE2HAifgV0IiKiSKrJQ03IBTsBsKLoHgBAlpYMfYnp3ISLuJhBhp99kz73k+fgD/McLEfVRjR2Hs3tfVGxXZNH/ObhLP1cGmIsJWWmhDRHgloKtRsT8QTkeJBDPGXYioU0x4QoAdTeRHwClDYEQInF/kZfYZC4AWkHUppIPZ30RQLXNkSRwbvIZ1sogFEOfAbBCsx6l/OUqxxbzIHpnac+gu+wflvb2CHHN5AiuyMW+zxzud9315J/OtV7AiG5/56aHNtQvk4s4JLWFdHNsYIN494QpVow8c0ptoEq7Q8zv/9oH2tknQ6gMpgeT5wbkReK1XqCadW7bxTDAVSz4QL6gfEL7YQPJV4oOat9BAxNyeLidzdxK2U5EmjD6gY/WBL4exC+geREyMTSI7Z3wwtPN/jn8AEK+HGwM+GToAAAAASUVORK5CYII="},16059:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAAA6klEQVQ4EWNgoBAwgvRPP2bx9v///0KkmMXIyPgu0+qEMAtIE0gzH7sUgySfIaoZjEDz//9nYIDRUNnnn84zfPr5DGwh2ACQOEizupgXWAkjA9hhDP+BEB3A5D69fgaWghsAMhXdJrhmkAtAAOQaIACrBbMYGOAGAJ3E8OkVxFSoHFEUE1Gq8CiCuwBdjadGNwMrMxdY+Pffbwzbb5SiKwHzcboAphmkio2ZG6tmkCBOA0CSsBDHFhsgeRDAacCvv1/B0QgyBOQFXABnGOy4UYZLD4o4ThegqMLDoY4BoIyBxxKsUuTowWoQAIaqPbgQzjcRAAAAAElFTkSuQmCC"},86777:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAAAeElEQVQ4EWNkgILqgo9v////LwTjI9O6BmwHIhO5HJHFYGwmGAOXZpC8qDijw/L53/bD1CLTcAOQBbGxcRlCtAEgQ7EZQpQBv3//hzsK3RAWuAwexuF9v9BlHWACRLkAphgbPWoAA8NoGCCFASMj4ztsCQWbGLJaANuWIGPNgJqhAAAAAElFTkSuQmCC"},79225:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAABXUlEQVQ4EWP89u3bfwYgWPDgH8OvfyAWYcDJzMAQK88EVsgCIkEmgDRLcTAwSHIygiVwEU+//2d4+QMhCzYApIUFSMhzMzLo8uM34B/Qtpc/wI4GmwI2AMRKUoQ4CcS+8P4fgwTQNRKcCDGQODaAogJk+pSbvxhijn4DG4JNA7oY3AXPgX4rPfed4TzQdlIAIygWdj7/w1B/6SfD598Iv6EbIsrBxHDAhYvh9Lv/DBc+/GdIVYLGQsuVnwzLH/xGV4/B/4gjjlHCAEMXEQJMNTrsDH1GHAx8rPijT4ANu13gQHSXYmHQE2RmKD//g+Hsu79ge3uBhnoAxQkBuLGgFLjAkpMhR42NAS5ISDdQHsUKJqAvMoEGWIsyM4hz4PcSzGy4ZfPu/2O4/BESjSDviBORCkGGgF0A0vYHSDwEZkwcsQWzkOE5Uj6AGwByLCiQn30HYdyJCWYKKDvDAAC222WvYVkwRgAAAABJRU5ErkJggg=="},80366:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAABf0lEQVQ4EZVTPUsDQRB9c7mLHzEg2AiC2gUUFNQ/YEDFSkS0EisLxTTmTygIsVEUYmmllZVGwcLeQkGwVRRsRCGGmBhv3Fkvxya5JHrNze6893Zm9i2h6ptKZQeZsOwyJkHcq9NMjxbhnBgHmWT0zqRQeTF/xOH3548UGKsMtsr75p9ALgh7nT0dyeMFKkpOC3jkU2aOm4R6MRFdKpFpEdEnycl/JYuoYHW1Kibp2QVuzbLnRhyMxxxsnuXx9MaBhUg76vQhSwZmkgXdHibEukPYX4xgZtgJFBCOcC097UAI0GITEvFWbMy2oSviz9tHC9fyr8rfrg3G+m2klyIY7QtVJtU1B15XJarxyoYyiZrrQCPY9UMJW5lPvOaqBqq4tjhM9RIoUCgx0lcFnNx8BeoL1xJ7aocZkHyRcf/yjZXDXF2ycH65ijixnd1R5lgzNJqGyo27F+vRhB6ieFvs2ZTlATwrJ2WpBcTT4m1RrW7HFNVlK0z5HUiuxh3/fc4/Hn6ai222OBAAAAAASUVORK5CYII="},67480:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAABjUlEQVQ4EaVTvU4CQRCe2btCw0l4ARMTzp5EO3PheAArHgALS62sjfoAdpYW+gBUPoCYC50FvZiYWGMOhGjB7jiz58HCBQrdZPdmv/nZb769RVga4+5uTRvzTACe60IA7Sm1Hxy89Fzcdzdik6GKJCPCPRC+WT/SDhG0xGf3zlIokPsU4d1W1O/I/jMJYw3Uyn3uV7mbv9j/LrCyBab8mCZVS4rtleQKBYIg6I3Gk3OW0yekI8lE1oPXaRCUFm5AfGtHmoQdmeuC+HoBRkl4aADOCoFINYsRFk5m8a7LUf/Bisgd7jHleqHASoDqWQ7AggaVqB+7OTn9Il6dqYrDbvWUDDaFAQJeeZ7fLm1uvLOQJ4TmWAoiqdtyULqZfH1vaz1tEtAFo0+oqI18VbNqNpiLcF8duUaXjQfYYJ3iLHnusRrIyZXo1Qo6d8lrwoZMFxNbYiVHbKsBU4iHSXjJ1QWbDfP7HyzBkMVCLIE+In4QWVXrNlPRAEGlaEjLCxSMqWlUmAKYAXAfeRuS+wMJIZjPXk/2/gAAAABJRU5ErkJggg=="},30365:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAABI0lEQVQ4EbWTP0oDQRTGvzcEtQgETCpRL5A6ZEkV7MRKC2+gIEHPYJMcwCJmzREEsUprpbuFpxBygqQSdp7vzeywhY6wEaf55s/3/ea9WRb44yDN27lZMmNPFktzaffrME1p3nZK2KkTVq8HMFYuGLQGJVTgAShBtQFEa5cJ+gtg+tafTLPkOFg2aIGOiPk5fR2cKKRRkr61MMuSa7Zoh5sqpZzBPUvF0yzvnzoAG+ndAk5Lp3zWWzHuVsHqQGcMbKEgD5Cwf4OgYrga5D/cDtxnyQWYUwEs2q2DkXsDQ/yh1KA6jw1pSyrDotM6PDvvPn7GfNH99H3YeeFheDvvK+aNsX0wK9VoMnLgWiC2N1JWUzXii247AJO5kx9prRp1/tfBFz/zYnLbiV6AAAAAAElFTkSuQmCC"},83791:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAABr0lEQVQ4EYVTzysHURCfebsIJQ4cRCn/grK7Lm5ufm1KubijuChRLk4uDlzJQVJ2+0qKo9L3uytK/gClHF3c/Np9Y+b5HtbX9zH13pv5zMx7n5n3HoBFiAgHK9GuX4lGLCEGRpmD21K//sx6i4GETgPq/AgIWxHVeBJMXnhJqQ8g4wGgGtynysDEg+sl0Wr+nm0I+FNyIAMQEOk9VrtBZ7OMrQvMOcC5ay5TXWYap6BgSxxIjsnTChox1zEhKYdwWnyg3H2E7NLoGpYk1+Vj2hi4S/2pb4fxAp9KGCTxnuNAXB4MrwRO/YlHXmSAVz4e5txRV4x6gojCZLGer4ipolHUq7ewwzexI3rRV9StDLwk3uY65iSYdVnmZaoVK4PaQJttZZD64UL1ZG5euGCrwbpBtYmGti1ZWP1bQpAejw2ncY+tBAUIH6Cwo16AX4lX8hxO3nKa/OWXHM5FrxxF/FjDYsD10BTyJxrXRKUiXqsjYOx2dLXMvDy/nvN7//5MSpmnDNB0g/D+wJv3I0IJUN2bDbQ2LeEP9tTe2XzwV39Aan/N6UwhbiZBeFjLQOwvsU6jwJe0OMkAAAAASUVORK5CYII="},24654:function(){},55382:function(){},72095:function(){},61219:function(){},44814:function(t){"use strict";t.exports=JSON.parse('{"label":{"myPage":"My Page","logout":"logout","bookmark":"Bookmark","home":"home","searchFilter":"search filter","goBack":"Go Back","executionResult":"execution result","search":"search","confirm":"confirm","cancel":"cancel","close":"close","Sun":"Sun","Mon":"Mon","Tue":"Tue","Wed":"Wed","Thu":"neck","Fri":"gold","Sat":"Sat","January":"January","February":"February","March":"March","April":"April","May":"May","June":"June","July":"July","August":"August","September":"September","October":"October","November":"November","December":"December"},"msg":{"conditions":"Please search after entering search conditions","unauthorized":{"screen":"You have accessed an unauthorized screen. You will be logged out."},"bookmark":{"icon":"Register your favorite menu as an icon"},"license":{"development":"The current license is a development license."}},"head":{"close":"close","request":"Request","response":"Response","validateToken":"The token has expired. It will be logged out."},"igate":{"noData":"No data was retrieved.","itools":{"token":{"expired":"The token has expired. Please log in again after closing all windows."}}}}')},93388:function(t){"use strict";t.exports=JSON.parse('{"label":{"myPage":"마이 페이지","logout":"로그 아웃","bookmark":"즐겨찾기","home":"홈","searchFilter":"검색 필터","goBack":"뒤로가기","executionResult":"실행결과","search":"검색","confirm":"확인","cancel":"취소","close":"닫기","Sun":"일","Mon":"월","Tue":"화","Wed":"수","Thu":"목","Fri":"금","Sat":"토","January":"1월","February":"2월","March":"3월","April":"4월","May":"5월","June":"6월","July":"7월","August":"8월","September":"9월","October":"10월","November":"11월","December":"12월"},"msg":{"conditions":"조회 조건을 입력 후 조회해 주세요","unauthorized":{"screen":"권한이 없는 화면에 접근 하셨습니다. 로그아웃처리 됩니다."},"bookmark":{"icon":"아이콘으로 즐겨찾는 메뉴를 등록해 보세요"},"license":{"development":"현재 라이선스는 개발용 라이선스입니다."}},"head":{"close":"닫기","request":"요청","response":"응답","validateToken":"토큰의 유효기간이 지났습니다. 로그아웃처리 됩니다."},"igate":{"noData":"조회된 데이터가 없습니다.","itools":{"token":{"expired":"토큰의 유효기간이 지났습니다. 모든 창 종료 후 다시 로그인 해주세요."}}}}')}},e={};function a(i){var s=e[i];if(void 0!==s)return s.exports;var n=e[i]={id:i,loaded:!1,exports:{}};return t[i].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=t,function(){a.amdD=function(){throw new Error("define cannot be used indirect")}}(),function(){var t=[];a.O=function(e,i,s,n){if(!i){var o=1/0;for(c=0;c<t.length;c++){i=t[c][0],s=t[c][1],n=t[c][2];for(var r=!0,l=0;l<i.length;l++)(!1&n||o>=n)&&Object.keys(a.O).every((function(t){return a.O[t](i[l])}))?i.splice(l--,1):(r=!1,n<o&&(o=n));if(r){t.splice(c--,1);var d=s();void 0!==d&&(e=d)}}return e}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[i,s,n]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var i in e)a.o(e,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){a.p="/iManager/"}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,i){var s,n,o=i[0],r=i[1],l=i[2],d=0;if(o.some((function(e){return 0!==t[e]}))){for(s in r)a.o(r,s)&&(a.m[s]=r[s]);if(l)var c=l(a)}for(e&&e(i);d<o.length;d++)n=o[d],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(c)},i=self["webpackChunkimanager_front"]=self["webpackChunkimanager_front"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=a.O(void 0,[998],(function(){return a(44343)}));i=a.O(i)})();
//# sourceMappingURL=app.ee009a5d.js.map
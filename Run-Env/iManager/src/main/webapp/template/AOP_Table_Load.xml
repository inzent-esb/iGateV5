<?xml version="1.0" encoding="UTF-8"?>
<Operation name="Load Table" privilegeId="Administrator" privateYn="N" type="A" operationLogLevel="N/A" xaTransactionAttribute="S" operationGroup="embed.table" desc="AOP_DB_Load"> 
  <Variables> 
    <Variable type="com.inzent.igate.message.Record" name="reqData" desc="request Record" isParameter="false"> 
      <Value><![CDATA[]]></Value>  
      <ConstantExpression><![CDATA[]]></ConstantExpression> 
    </Variable>  
    <Variable type="com.inzent.igate.query.TransactionObject" name="transactionObject" desc="" isParameter="false"> 
      <Value><![CDATA[]]></Value>  
      <ConstantExpression><![CDATA[]]></ConstantExpression> 
    </Variable>  
    <Variable type="java.lang.Boolean" name="isInterfaceTypeOnline" desc="" isParameter="false"> 
      <Value><![CDATA[false]]></Value>  
      <ConstantExpression><![CDATA[false]]></ConstantExpression> 
    </Variable>  
    <Variable type="java.lang.Boolean" name="batchLogging" desc="" isParameter="false"> 
      <Value><![CDATA[false]]></Value>  
      <JavaExpression><![CDATA[false]]></JavaExpression> 
    </Variable>  
    <Variable type="com.inzent.igate.adapter.AdapterParameter" name="adapterParameter" desc="AdapterParameter" isParameter="true"/> 
  </Variables>  
  <Activities> 
    <Start uniqueKey="0000" index="0" desc="start" xPos="346" yPos="33"> 
      <Parameter type="com.inzent.igate.adapter.AdapterParameter" desc="AdapterParameter" from="Variable" dynamic="false"> 
        <Value><![CDATA[adapterParameter]]></Value> 
      </Parameter> 
    </Start>  
    <Activity uniqueKey="0002" index="2" desc="ActiveRoundRobineSession" id="ActiveRoundRobineSession" xPos="285" yPos="85"> 
      <Parameter type="com.inzent.igate.adapter.AdapterParameter" desc="AdapterParameter" from="Variable" dynamic="false">
        <Value><![CDATA[adapterParameter]]></Value>
      </Parameter>
    </Activity>  
    <Activity uniqueKey="000h" index="18" desc="Analyze Table" id="AnalyzeTableMeta" xPos="317" yPos="136"> 
      <Parameter type="com.inzent.igate.adapter.AdapterParameter" desc="AdapterParameter" from="Variable" dynamic="false">
        <Value><![CDATA[adapterParameter]]></Value>
      </Parameter>
      <Parameter type="java.lang.Boolean" desc="IsInterface" from="JavaOperation" dynamic="false">
        <Value><![CDATA[false]]></Value>
        <JavaExpression><![CDATA[false]]></JavaExpression>
      </Parameter>
    </Activity>  
    <FaultHandlers uniqueKey="000j" index="faultHandlers" desc="FaultHandler" xPos="854" yPos="194"> 
      <CatchAll target="29" desc=""/> 
    </FaultHandlers>  
    <Activity uniqueKey="000l" index="27" desc="Logging Batch" id="LoggingBatch" xPos="1050" yPos="509"> 
      <Parameter type="java.lang.String" desc="LogCode" from="Constant" dynamic="false">
        <Value><![CDATA["SE"]]></Value>
      </Parameter>
      <Parameter type="com.inzent.igate.adapter.AdapterParameter" desc="AdapterParameter" from="Variable" dynamic="false">
        <Value><![CDATA[adapterParameter]]></Value>
      </Parameter>
      <Parameter type="java.lang.Throwable" desc="Throwable" from="Variable" dynamic="false">
        <Value><![CDATA[throwed]]></Value>
      </Parameter>
    </Activity>  
    <ReThrow uniqueKey="000m" index="28" desc="ReThrow" xPos="853" yPos="628"/>  
    <Activity uniqueKey="000n" index="29" desc="Release Session" id="ReleaseSession" xPos="834" yPos="256"> 
      <Parameter type="com.inzent.igate.adapter.AdapterParameter" desc="AdapterParameter" from="Variable" dynamic="false">
        <Value><![CDATA[adapterParameter]]></Value>
      </Parameter>
      <Parameter type="java.lang.Boolean" desc="Closing Session" from="JavaOperation" dynamic="false">
        <Value><![CDATA[false]]></Value>
        <JavaExpression><![CDATA[false]]></JavaExpression>
      </Parameter>
    </Activity>  
    <Condition uniqueKey="000o" index="30" desc="Condition" xPos="849" yPos="318"> 
      <When target="32" desc="isTableBegin()"> 
        <JavaExpression><![CDATA[ adapterParameter.isTableBegin() && !batchLogging]]></JavaExpression> 
      </When>  
      <Others target="33" desc="isNotTableBegin"> 
        <JavaExpression><![CDATA[true]]></JavaExpression> 
      </Others>  
      <Value><![CDATA[
// isTableBegin()
if (  adapterParameter.isTableBegin() && !batchLogging ) 
   return 0;
// isNotTableBegin
else 
   return 1;]]></Value> 
    </Condition>  
    <Activity uniqueKey="000q" index="32" desc="Logging Batch" id="LoggingBatch" xPos="1050" yPos="380"> 
      <Parameter type="java.lang.String" desc="LogCode" from="Constant" dynamic="false">
        <Value><![CDATA["SB"]]></Value>
      </Parameter>
      <Parameter type="com.inzent.igate.adapter.AdapterParameter" desc="AdapterParameter" from="Variable" dynamic="false">
        <Value><![CDATA[adapterParameter]]></Value>
      </Parameter>
      <Parameter type="java.lang.Throwable" desc="Throwable" from="Variable" dynamic="false">
        <Value><![CDATA[throwed]]></Value>
      </Parameter>
    </Activity>  
    <Condition uniqueKey="000r" index="33" desc="Condition" xPos="849" yPos="442"> 
      <When target="27" desc="isTableEnd"> 
        <JavaExpression><![CDATA[adapterParameter.isTableEnd()]]></JavaExpression> 
      </When>  
      <Others target="42" desc="isNotTableEnd"/>  
      <Value><![CDATA[
// isTableEnd
if ( adapterParameter.isTableEnd() ) 
   return 0;
// isNotTableEnd
else 
   return 1;]]></Value> 
    </Condition>  
    <Activity uniqueKey="000s" index="34" desc="Logging Batch" id="LoggingBatch" xPos="837" yPos="566"> 
      <Parameter type="java.lang.String" desc="LogCode" from="Constant" dynamic="false">
        <Value><![CDATA["SF"]]></Value>
      </Parameter>
      <Parameter type="com.inzent.igate.adapter.AdapterParameter" desc="AdapterParameter" from="Variable" dynamic="false">
        <Value><![CDATA[adapterParameter]]></Value>
      </Parameter>
      <Parameter type="java.lang.Throwable" desc="Throwable" from="Variable" dynamic="false">
        <Value><![CDATA[throwed]]></Value>
      </Parameter>
    </Activity>  
    <Scope width="666" height="431" uniqueKey="000w" index="39" desc="Scope" xPos="45" yPos="193"> 
      <Activities> 
        <Condition uniqueKey="000x" index="1" desc="TableCheck" xPos="237" yPos="45"> 
          <When target="2" desc="isTableBegin"> 
            <JavaExpression><![CDATA[adapterParameter.isTableBegin()]]></JavaExpression> 
          </When>  
          <When target="4" desc="NoData"> 
            <JavaExpression><![CDATA[0 == ((com.inzent.igate.message.ValueArray) adapterParameter.getRequestData()).size()]]></JavaExpression> 
          </When>  
          <Others target="3" desc="isNotTableBegin"> 
            <JavaExpression><![CDATA[true]]></JavaExpression> 
          </Others>  
          <Value><![CDATA[
// isTableBegin
if ( adapterParameter.isTableBegin() ) 
   return 0;
// NoData
else if ( 0 == ((com.inzent.igate.message.ValueArray) adapterParameter.getRequestData()).size() ) 
   return 1;
// isNotTableBegin
else 
   return 2;]]></Value> 
        </Condition>  
        <Activity uniqueKey="000y" index="2" desc="Logging Batch" id="LoggingBatch" xPos="41" yPos="103"> 
          <Parameter type="java.lang.String" desc="LogCode" from="Constant" dynamic="false">
            <Value><![CDATA["SB"]]></Value>
          </Parameter>
          <Parameter type="com.inzent.igate.adapter.AdapterParameter" desc="AdapterParameter" from="Variable" dynamic="false">
            <Value><![CDATA[adapterParameter]]></Value>
          </Parameter>
          <Parameter type="java.lang.Throwable" desc="Throwable" from="Variable" dynamic="false">
            <Value><![CDATA[null]]></Value>
          </Parameter>
        </Activity>  
        <Activity uniqueKey="000z" index="3" desc="Write Request" id="WriteRequest" xPos="231" yPos="164"> 
          <Parameter type="com.inzent.igate.adapter.AdapterParameter" desc="AdapterParameter" from="Variable" dynamic="false">
            <Value><![CDATA[adapterParameter]]></Value>
          </Parameter>
        </Activity>  
        <Condition uniqueKey="0010" index="4" desc="Condition" xPos="394" yPos="225"> 
          <When target="7" desc="isTableEnd"> 
            <JavaExpression><![CDATA[adapterParameter.isTableEnd()]]></JavaExpression> 
          </When>  
          <Others target="6" desc="... 이 아닐 경우"/>  
          <Value><![CDATA[
// isTableEnd
if ( adapterParameter.isTableEnd() ) 
   return 0;
// ... 이 아닐 경우
else 
   return 1;]]></Value> 
        </Condition>  
        <Activity uniqueKey="0011" index="5" desc="Logging Trace" id="LoggingTrace" xPos="230" yPos="225"> 
          <Parameter type="java.lang.String" desc="LogCode" from="Constant" dynamic="false">
            <Value><![CDATA["SNL"]]></Value>
          </Parameter>
          <Parameter type="com.inzent.igate.adapter.AdapterParameter" desc="AdapterParameter" from="Variable" dynamic="false">
            <Value><![CDATA[adapterParameter]]></Value>
          </Parameter>
          <Parameter type="java.lang.Throwable" desc="Throwable" from="Variable" dynamic="false">
            <Value><![CDATA[null]]></Value>
          </Parameter>
        </Activity>  
        <Activity uniqueKey="0012" index="6" desc="Release Session" id="ReleaseSession" xPos="379" yPos="347"> 
          <Parameter type="com.inzent.igate.adapter.AdapterParameter" desc="AdapterParameter" from="Variable" dynamic="false">
            <Value><![CDATA[adapterParameter]]></Value>
          </Parameter>
          <Parameter type="java.lang.Boolean" desc="Closing Session" from="Constant" dynamic="false">
            <Value><![CDATA[false]]></Value>
          </Parameter>
        </Activity>  
        <Activity uniqueKey="0013" index="7" desc="Logging Batch" id="LoggingBatch" xPos="229" yPos="286"> 
          <Parameter type="java.lang.String" desc="LogCode" from="Constant" dynamic="false">
            <Value><![CDATA["SE"]]></Value>
          </Parameter>
          <Parameter type="com.inzent.igate.adapter.AdapterParameter" desc="AdapterParameter" from="Variable" dynamic="false">
            <Value><![CDATA[adapterParameter]]></Value>
          </Parameter>
          <Parameter type="java.lang.Throwable" desc="Throwable" from="Variable" dynamic="false">
            <Value><![CDATA[null]]></Value>
          </Parameter>
        </Activity>  
        <FaultHandlers uniqueKey="0015" index="faultHandlers" desc="FaultHandler" xPos="537" yPos="45"> 
          <Catch faultName="" target="8" desc=""/> 
        </FaultHandlers>  
        <Activity uniqueKey="000u" index="8" desc="Logging Trace" id="LoggingTrace" xPos="524" yPos="103"> 
          <Parameter type="java.lang.String" desc="LogCode" from="Constant" dynamic="false">
            <Value><![CDATA["SEL"]]></Value>
          </Parameter>
          <Parameter type="com.inzent.igate.adapter.AdapterParameter" desc="AdapterParameter" from="Variable" dynamic="false">
            <Value><![CDATA[adapterParameter]]></Value>
          </Parameter>
          <Parameter type="java.lang.Throwable" desc="Throwable" from="Variable" dynamic="false">
            <Value><![CDATA[throwed]]></Value>
          </Parameter>
        </Activity>  
        <ReThrow uniqueKey="0014" index="9" desc="ReThrow" xPos="539" yPos="164"/>  
        <Script uniqueKey="0017" index="10" desc="TableBegin Logging flag" xPos="11" yPos="164"> 
          <Value><![CDATA[batchLogging = true;
return 0 ;]]></Value> 
        </Script> 
      </Activities>  
      <Transitions> 
        <Transition from="1" to="2" order="0" desc="isTableBegin" fromTerminal="bottom" toTerminal="top"> 
          <bendPoints/> 
        </Transition>  
        <Transition from="1" to="4" order="1" desc="NoData" fromTerminal="bottom" toTerminal="top"> 
          <bendPoints/> 
        </Transition>  
        <Transition from="1" to="3" order="2" desc="isNotTableBegin" fromTerminal="bottom" toTerminal="top"> 
          <bendPoints/> 
        </Transition>  
        <Transition from="start" to="1" order="0" fromTerminal="bottom" toTerminal="top"> 
          <bendPoints/> 
        </Transition>  
        <Transition from="3" to="5" order="0" fromTerminal="bottom" toTerminal="top"> 
          <bendPoints/> 
        </Transition>  
        <Transition from="5" to="4" order="0" fromTerminal="right" toTerminal="left"> 
          <bendPoints/> 
        </Transition>  
        <Transition from="4" to="7" order="0" desc="isTableEnd" fromTerminal="bottom" toTerminal="top"> 
          <bendPoints/> 
        </Transition>  
        <Transition from="4" to="6" order="1" desc="... 이 아닐 경우" fromTerminal="bottom" toTerminal="top"> 
          <bendPoints/> 
        </Transition>  
        <Transition from="6" to="end" order="0" fromTerminal="bottom" toTerminal="bottom"> 
          <bendPoints/> 
        </Transition>  
        <Transition from="8" to="9" order="0" fromTerminal="bottom" toTerminal="top"> 
          <bendPoints/> 
        </Transition>  
        <Transition from="faultHandlers" to="8" order="0" desc="" fromTerminal="bottom" toTerminal="top"> 
          <bendPoints/> 
        </Transition>  
        <Transition from="7" to="6" order="0" fromTerminal="bottom" toTerminal="top"> 
          <bendPoints/> 
        </Transition>  
        <Transition from="2" to="10" order="0" fromTerminal="bottom" toTerminal="top"> 
          <bendPoints/> 
        </Transition>  
        <Transition from="10" to="3" order="0" fromTerminal="right" toTerminal="left"> 
          <bendPoints/> 
        </Transition> 
      </Transitions> 
    </Scope>  
    <End uniqueKey="0016" index="41" desc="End" xPos="344" yPos="663"/>  
    <Activity uniqueKey="0018" index="42" desc="Has a result column" id="HasResult" xPos="822" yPos="509"/> 
  </Activities>  
  <Transitions> 
    <Transition from="2" to="18" order="0" fromTerminal="bottom" toTerminal="top"> 
      <bendPoints/> 
    </Transition>  
    <Transition from="faultHandlers" to="29" order="0" desc="" fromTerminal="bottom" toTerminal="top"> 
      <bendPoints/> 
    </Transition>  
    <Transition from="27" to="34" order="0" fromTerminal="bottom" toTerminal="top"> 
      <bendPoints/> 
    </Transition>  
    <Transition from="30" to="32" order="0" desc="isTableBegin()" fromTerminal="bottom" toTerminal="top"> 
      <bendPoints/> 
    </Transition>  
    <Transition from="30" to="33" order="1" desc="isNotTableBegin" fromTerminal="bottom" toTerminal="top"> 
      <bendPoints/> 
    </Transition>  
    <Transition from="0" to="2" order="0" fromTerminal="bottom" toTerminal="top"> 
      <bendPoints/> 
    </Transition>  
    <Transition from="32" to="33" order="0" fromTerminal="bottom" toTerminal="top"> 
      <bendPoints/> 
    </Transition>  
    <Transition from="34" to="28" order="0" fromTerminal="bottom" toTerminal="top"> 
      <bendPoints/> 
    </Transition>  
    <Transition from="39" to="41" order="0" fromTerminal="bottom" toTerminal="top"> 
      <bendPoints/> 
    </Transition>  
    <Transition from="29" to="30" order="0" fromTerminal="bottom" toTerminal="top"> 
      <bendPoints/> 
    </Transition>  
    <Transition from="33" to="27" order="0" desc="isTableEnd" fromTerminal="bottom" toTerminal="top"> 
      <bendPoints/> 
    </Transition>  
    <Transition from="33" to="42" order="1" desc="isNotTableEnd" fromTerminal="bottom" toTerminal="top"> 
      <bendPoints/> 
    </Transition>  
    <Transition from="42" to="34" order="0" fromTerminal="bottom" toTerminal="top" desc="Continue"> 
      <bendPoints/> 
    </Transition>  
    <Transition from="42" to="27" order="1" fromTerminal="right" toTerminal="left" desc="Exception"> 
      <bendPoints/> 
    </Transition>  
    <Transition from="18" to="39" order="0" fromTerminal="bottom" toTerminal="top"> 
      <bendPoints/> 
    </Transition>
  </Transitions>  
  <Imports> 
    <Import name="java.lang.String"/> 
  </Imports> 
</Operation>